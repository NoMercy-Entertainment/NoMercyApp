import{At as v,C as c,Dt as N,Et as t,K as Y,O as U,S as s,T as n,U as K,Y as a,Z as P,_t as C,c as I,g as L,j as z,k as o,kt as q,lt as w,st as S,w as l,x as k}from"./i18n-DXLa9EKW.js";import"./ionic-B9XaRwPa.js";import{x as V,y as W}from"./vue-core-DBpBuPMK.js";import"./query-DJ5OsBey.js";import{Ai as A,Bn as E,Gn as y,Kn as $,Yr as G,bi as M,ha as T,n as H,qi as B,si as O}from"./index-CLM6Y7vI.js";import"./useInfiniteServerClient-DbihGahL.js";import{t as R}from"./useServerClient-QYfn39K-.js";import{n as Z,r as J}from"./swiper-DkXT2e8s.js";import"./CardIndicator-CN-BcQKi.js";import"./swiper-config-BqkNjSI4.js";import"./Carousel-B9m9x-iy.js";import{t as Q}from"./MediaCarousel-DIkWHLQN.js";import{n as _,t as X}from"./Collapsible-CAWzl8DY.js";import{n as f,t as h}from"./CreditGroup-BmiNFazL.js";W();I();var ee={key:0,class:"flex flex-col gap-1 justify-center items-start w-available"},te={class:"text-xs font-bold uppercase text-surface-10"},ae={class:"flex flex-row flex-wrap w-available items-center gap-2 -mx-2"},re=["href"],le=["href"],ie=["href"],se=["href"],ne=["href"],oe=["href"],de=["href"],ue=["href"],ce=z({__name:"SocialLinkItems",props:{data:{type:Object,required:!0}},setup(i){return(x,p)=>(a(),n(L,null,[i.data?.external_ids?(a(),n("div",ee,[s("p",te,v(x.$t("Links")),1),s("div",ae,[s("a",{href:`https://www.themoviedb.org/person/${i.data?.id}`,"aria-label":"TMDB",class:"relative flex items-center justify-center overflow-hidden h-9 p-1.5 px-2",target:"_blank"},[o(f,{class:"!w-12",icon:"tmdb"})],8,re),i.data?.external_ids?.facebook_id?(a(),n("a",{key:0,href:`https://www.facebook.com/${i.data?.external_ids.facebook_id}`,"aria-label":"Facebook",class:"relative flex items-center justify-center overflow-hidden p-1.5",target:"_blank"},[o(f,{class:"w-6",icon:"facebook"})],8,le)):l("",!0),i.data?.external_ids?.twitter_id?(a(),n("a",{key:1,href:`https://twitter.com/${i.data?.external_ids?.twitter_id}`,"aria-label":"Twitter",class:"relative flex items-center justify-center overflow-hidden p-1.5",target:"_blank"},[o(f,{class:"w-6",icon:"twitter"})],8,ie)):l("",!0),i.data?.external_ids?.instagram_id?(a(),n("a",{key:2,href:`https://instagram.com/${i.data?.external_ids?.instagram_id}`,"aria-label":"Instagram",class:"relative flex items-center justify-center overflow-hidden p-1.5",target:"_blank"},[o(f,{class:"w-6",icon:"instagram"})],8,se)):l("",!0),i.data?.external_ids?.youtube_id?(a(),n("a",{key:3,href:`https://youtube.com/channel/${i.data?.external_ids?.youtube_id}`,"aria-label":"YouTube",class:"relative flex items-center justify-center overflow-hidden p-1.5",target:"_blank"},[o(f,{class:"w-6",icon:"youtube"})],8,ne)):l("",!0),i.data?.external_ids?.tiktok_id?(a(),n("a",{key:4,href:`https://tiktok.com/@${i.data?.external_ids?.tiktok_id}`,"aria-label":"TikTok",class:"relative flex items-center justify-center overflow-hidden p-1.5",target:"_blank"},[o(f,{class:"w-6",icon:"tiktok"})],8,oe)):l("",!0),i.data?.external_ids?.imdb_id?(a(),n("a",{key:5,href:`https://www.imdb.com/name/${i.data?.external_ids?.imdb_id}`,"aria-label":"IMDb",class:"relative flex items-center justify-center overflow-hidden p-1.5",target:"_blank"},[o(f,{class:"w-6",icon:"imdb"})],8,de)):l("",!0),i.data?.external_ids?.wikidata_id?(a(),n("a",{key:6,href:`https://www.wikidata.org/wiki/${i.data?.external_ids?.wikidata_id}`,"aria-label":"Wikidata",class:"relative flex items-center justify-center overflow-hidden p-1.5",target:"_blank"},[o(f,{class:"w-6",icon:"wikipedia"})],8,ue)):l("",!0)])])):l("",!0),p[0]||(p[0]=s("div",{class:"self-stretch h-px bg-[#05294d]/[0.08] dark:bg-[#e2f0fd]/[0.08]"},null,-1))],64))}}),fe=ce;I();var me={class:"flex flex-col justify-start items-center self-stretch flex-grow will-change-auto text-surface-12 z-0 bg-surface-3 dark:bg-surface-1",style:{"box-shadow":"0 2px 2px 0 rgba(0, 0, 0, 0.16)"}},he={class:"flex justify-start items-end -mx-4 w-available h-[400px] relative gap-2"},be={class:"frosting w-[280px] h-[420px] z-10 absolute left-1/2 -translate-x-1/2 overflow-clip rounded-2xl"},_e={class:"flex bg-surface-3 dark:bg-surface-1 flex-col justify-start items-start self-stretch gap-3 pb-5 will-change-auto w-inherit px-6 mt-12"},ve=["innerHTML"],pe={key:1,class:"h-7 w-full rounded bg-surface-4 animate-pulse"},we={class:"flex flex-col gap-3 items-start flex-nowrap w-full"},xe={class:"flex justify-between items-start flex-nowrap w-full"},ge={key:0,class:"ml-auto flex gap-1 text-xs font-bold uppercase text-surface-10 whitespace-nowrap"},ke={key:0,class:"-mr-1 text-base -mt-[3px]"},ye={key:0,class:"text-left text-base font-medium self-center whitespace-nowrap"},$e={class:"flex gap-3 items-start justify-between flex-nowrap w-full"},je={class:"w-full px-3"},b="combined",De=z({__name:"Mobile",setup(i){const x=V(),p=C(),{data:e,isError:Ce}=R({queryKey:["base","person",x.params.id]}),j=k(()=>e.value?.known_for?.at(0)?.backdrop?`${A}/original${e?.value?.known_for?.at(0)?.backdrop??E}`:null),g=k(()=>{if(e.value?.deathday){const d=new Date(e.value?.birthday),u=new Date(e.value?.deathday),r=u.getFullYear()-d.getFullYear(),m=u.getMonth()-d.getMonth();return m<0||m===0&&u.getDate()<d.getDate()?r-1:r}if(e.value?.birthday){const d=new Date(e.value?.birthday),u=new Date,r=u.getFullYear()-d.getFullYear(),m=u.getMonth()-d.getMonth();return m<0||m===0&&u.getDate()<d.getDate()?r-1:r}return null}),D=k(()=>{if(typeof e.value?.gender!="number")return e.value?.gender;switch(e.value?.gender){case 0:return"Not specified";case 1:return"Female";case 2:return"Male";case 3:return"Non-binary";default:return null}});S(e,d=>{M(e?.value?.name),y(d?.known_for?.at(0)?.backdrop??null),$(d?.color_palette?.profile)}),Y(()=>{M(e?.value?.name),y(e?.value?.known_for?.at(0)?.backdrop??null),$(e?.value?.color_palette?.profile)}),K(()=>{y(null),$(null)});const F=C(e.value?.images?.profiles?.[0]);return S(e,d=>{F.value=d?.images?.profiles?.[0]}),(d,u)=>(a(),n("div",{ref_key:"scrollContainer",ref:p,class:"flex flex-col flex-1 h-full overflow-y-auto overflow-x-hidden"},[s("div",me,[s("div",he,[s("div",{class:"absolute flex flex-col justify-start items-end flex-grow w-available -mx-20 h-[400px] bg-cover bg-top",style:q(j.value?`background: linear-gradient(0deg, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.5) 100%), url('${j.value}') lightgray 50% / cover no-repeat`:void 0)},null,4),u[0]||(u[0]=s("div",{class:"absolute flex flex-col justify-start items-end flex-grow w-available -mx-20 h-[400px] bg-cover dark:bg-black/50"},null,-1)),o(t(Z),{class:N([{"top-safe-offset-4":t(B),"top-12":!t(B)},"w-available swiper h-[420px] !absolute"]),loop:!0,"slides-per-view":1},{default:w(()=>[(a(!0),n(L,null,P(t(e)?.images?.profiles??[],(r,m)=>(a(),c(t(J),{key:r.id,"data-id":r.src,"data-index":m,class:"h-full"},{default:w(()=>[s("div",be,[r?(a(),c(H,{key:r.src??"poster","auto-shadow":!0,path:r.src,size:760,title:t(e)?.name,aspect:"poster",class:"m-auto children:w-full scale-100 max-h-available 5xl:w-inherit","class-name":"pointer-events-none absolute -inset-1 z-20 flex h-auto scale-100 select-none items-center overflow-hidden w-available h-available max-h-available",loading:"eager",priority:"high",type:"image"},null,8,["path","title"])):l("",!0)])]),_:2},1032,["data-id","data-index"]))),128))]),_:1},8,["class"])]),s("div",_e,[t(e)?.name?(a(),n("p",{key:0,class:"self-stretch w-[351px] text-3xl font-bold text-left z-10 pt-10",innerHTML:t(O)(t(e)?.name??" ","text-lg line-clamp-2")},null,8,ve)):(a(),n("div",pe)),t(e)?.biography?(a(),c(X,{key:2,"max-lines":3,text:t(e)?.biography},null,8,["text"])):l("",!0),s("div",we,[s("div",xe,[t(e)?.known_for_department?(a(),c(_,{key:0,data:t(e)?.known_for_department,title:"Known for"},null,8,["data"])):l("",!0),t(e)?.combined_credits?.cast?(a(),c(_,{key:1,data:t(e)?.combined_credits?.cast.length.toString(),title:"Credits"},null,8,["data"])):l("",!0),g.value?(a(),c(_,{key:2,title:"Birthday"},{head:w(()=>[t(e)?.deathday?(a(),n("span",ge,[t(e).deathday?(a(),n("span",ke,"â€ ")):l("",!0),U(" "+v(new Date(t(e)?.deathday).toLocaleDateString(t(T).language??"en-US",{year:"numeric",month:"short",day:"2-digit"})),1)])):l("",!0)]),default:w(()=>[g.value?(a(),n("p",ye,v(new Date(t(e)?.birthday).toLocaleDateString(t(T).language??"en-US",{year:"numeric",month:"short",day:"2-digit"}))+" ("+v(g.value)+" "+v(d.$t("years old"))+") ",1)):l("",!0)]),_:1})):l("",!0)]),s("div",$e,[D.value?(a(),c(_,{key:0,data:D.value,title:"Gender"},null,8,["data"])):l("",!0),t(e)?.place_of_birth?(a(),c(_,{key:1,data:t(e)?.place_of_birth,title:"Place of birth"},null,8,["data"])):l("",!0)])]),u[1]||(u[1]=s("div",{class:"self-stretch h-px bg-surface-7/[0.1] dark:bg-surface-11/[0.1]"},null,-1)),t(e)?(a(),c(fe,{key:3,data:t(e)},null,8,["data"])):l("",!0),t(e)?.known_for&&t(e)?.known_for?.length>0?(a(),c(Q,{key:4,"color-palette":t(e)?.color_palette,data:t(G)(t(e).known_for,"id"),"limit-card-count-by":1,class:"-mx-6",title:"Known for",type:"poster"},null,8,["color-palette","data"])):l("",!0),u[2]||(u[2]=s("div",{class:"self-stretch h-px bg-surface-7/[0.1] dark:bg-surface-11/[0.1]"},null,-1)),s("div",je,[o(h,{items:t(e)?.[`${b}_credits`]?.cast,title:"Acting"},null,8,["items"]),o(h,{items:t(e)?.[`${b}_credits`]?.crew.filter(r=>r.job.includes("Produc")),title:"Production"},null,8,["items"]),o(h,{items:t(e)?.[`${b}_credits`]?.crew.filter(r=>r.job.includes("Writ")),title:"Writing"},null,8,["items"]),o(h,{items:t(e)?.[`${b}_credits`]?.crew.filter(r=>r.job.includes("Direct")),title:"Directing"},null,8,["items"]),o(h,{items:t(e)?.[`${b}_credits`]?.crew.filter(r=>!r.job.includes("Produc")&&!r.job.includes("Writ")&&!r.job.includes("Direct")&&!r.job.includes("Creator")),title:"Crew"},null,8,["items"]),o(h,{items:t(e)?.[`${b}_credits`]?.crew.filter(r=>r.job.includes("Creator")),title:"Creator"},null,8,["items"])])])])],512))}}),Ve=De;export{Ve as default};
