import{Ht as n,Wn as t,en as s,jt as d}from"./index-04Sh3wNb.js";n();const a=t({accessToken:localStorage.getItem("access_token")||"",refreshToken:localStorage.getItem("refresh_token")||"",idToken:localStorage.getItem("id_token")||""}),l=s(()=>a.value),r=t("test"),o=t({});function u(e){a.value=e}function c(e){e&&e.tokenParsed&&(o.value=e,d("capacitor")&&(localStorage.setItem("access_token",e.token),localStorage.setItem("refresh_token",e.refreshToken),localStorage.setItem("id_token",e.idToken)),a.value={...a.value,name:e.tokenParsed.display_name,email:e.tokenParsed.email,id:e.tokenParsed.sub,accessToken:e.token,locale:e.tokenParsed.locale,moderator:e.hasRealmRole("nova")})}function m(e){e&&e.decodedToken&&(o.value=e.keycloak.value,a.value={...a.value,name:e.decodedToken.value.display_name,email:e.decodedToken.value.email,id:e.decodedToken.value.sub,accessToken:e.token.value,locale:e.decodedToken.value.locale,moderator:e.decodedToken.value.realm_access?.roles.includes("nova")||!1})}function v(e){a.value={...a.value,avatarUrl:e.avatarUrl,receivedMessages:e.receivedMessages,sendMessages:e.sendMessages,notifications:e.notifications}}export{r as a,l as c,m as i,u as n,a as o,c as r,v as s,o as t};
