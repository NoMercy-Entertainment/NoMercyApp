import{I as h,Y as y,B as b,d as p,o as m,s,j as c,K as e,bu as k,c as g,F as B,h as C,bh as I}from"./index-C_qNKMWs.js";import{u as l}from"./useServerClient-abD0VdnA.js";import{_ as w}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-BIMnyHYU.js";import{_ as x}from"./ActivityCard.vue_vue_type_script_setup_true_lang-DWQEjNl2.js";import"./useQuery-DTS8T947.js";import"./useBaseQuery-vm7BPSk-.js";import"./useQueryClient-C4PrSAx1.js";import"./useInfiniteServerClient-BbeQXtgw.js";import"./useMounted-Ds5Nj1YI.js";import"./HubConnection-CMQnVIkW.js";import"./FloatingBackButton.vue_vue_type_script_setup_true_lang-BGoOpoOy.js";import"./OptimizedIcon.vue_vue_type_script_setup_true_lang-CJu-NfRn.js";import"./Button.vue_vue_type_script_setup_true_lang-Bf-PAW_G.js";import"./ScrollContainer.vue_vue_type_script_setup_true_lang-CXhFwpxK.js";import"./RipperOverlay.vue_vue_type_script_setup_true_lang-D2dXGSOx.js";import"./ripperSocket-Bk620TQq.js";import"./index-CsBfYZe_.js";import"./index-DCNqR-Sw.js";const M=h({__name:"Show",setup(E){const{data:n,error:u}=l({path:"dashboard/devices",queryKey:["dashboard","devices"]}),{data:f,error:_}=l({path:"dashboard/activity",refetchInterval:1e3*20,data:{take:999},queryKey:["server","activity"]}),a=y(),v=b(()=>{var i,t;return(t=(i=n.value)==null?void 0:i.find(o=>o.device_id===(a==null?void 0:a.params.id)))==null?void 0:t.custom_name});return(i,t)=>(m(),p(e(I),null,{default:s(()=>[c(e(k),{fullscreen:!0},{default:s(()=>[c(w,{params:{name:v.value},title:"Device avtivity: {{name}}",error:e(u)||e(_),"grid-style":2},{cta:s(()=>t[0]||(t[0]=[])),default:s(()=>{var o;return[(m(!0),g(B,null,C(((o=e(f))==null?void 0:o.filter(r=>{var d;return r.device_id===((d=e(a))==null?void 0:d.params.id)}))??[],r=>(m(),p(x,{key:r==null?void 0:r.id,devices:e(n)??[],activity:r,class:"col-span-2 gap-3 w-full"},null,8,["devices","activity"]))),128))]}),_:1},8,["params","error"])]),_:1})]),_:1}))}});export{M as default};
