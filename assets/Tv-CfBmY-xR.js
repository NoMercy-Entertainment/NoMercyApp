import"./useBaseQuery-BjcRoUle.js";import"./useInfiniteServerClient-C6VvXOvL.js";import"./useQueryClient-6VbozcbB.js";import"./useQuery-8mENMoCn.js";import{Ac as n,Cc as k,Do as b,Eo as h,Fs as i,Hs as w,Is as c,Ms as S,Oi as C,Qa as I,Ss as T,U as B,Ws as U,_c as p,ds as l,fo as x,hc as D,hr as H,i as t,ic as v,io as V,oa as d,rr as A}from"./index-hMnv1PVv.js";import{s as r}from"./imageModal-UEoF3pr0.js";import{t as N}from"./useServerClient-BS75nouq.js";import{a as M,n as E,o as F,r as L,s as j}from"./VideoPlayer-D8WcTJCV.js";import"./buttons-Dz19tni1.js";import{t as z}from"./keyHandlerPlugin-DVMGHGzg.js";T();var O=U({__name:"Tv",setup(Q){const{data:o}=N({}),e=k();function u(a){const s={muted:!1,controls:!1,preload:"auto",debug:!1,autoPlay:!1,playlist:a?.filter(P=>!!P.id)??[],controlsTimeout:3e3,doubleClickDelay:300,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2],accessToken:d.value?.accessToken||localStorage.getItem("access_token")||"",basePath:C.value?.serverBaseUrl,forceTvMode:(l("android")||l("ios"))&&!l("mobile"),disableTouchControls:!1,disableMediaControls:"mediaSession"in navigator||l("capacitor"),renderAhead:10};e.value=L("player1").setup(s);const f=new M;e.value?.registerPlugin("tvUI",f),e.value?.usePlugin("tvUI");const g=new F;e.value?.registerPlugin("autoSkip",g),e.value?.usePlugin("autoSkip");const m=new z;e.value?.registerPlugin("keyHandler",m),e.value?.usePlugin("keyHandler");const y=new j;e.value?.registerPlugin("sync",y),e.value?.usePlugin("sync");const _=new E;e.value?.registerPlugin("octopus",_),e.value?.usePlugin("octopus"),e.value?.once("play",()=>{e.value?.enterFullscreen()}),e.value?.on("playlistComplete",()=>{history.state.back?t.back():t.replace("/")}),e.value?.on("dispose",()=>{history.state.back?t.back():t.replace("/")}),e.value?.on("back",()=>{e.value?.dispose()}),e.value?.on("play",()=>{r(!0)}),e.value?.on("pause",()=>{r(!1)}),I.addListener("backButton",()=>{e.value?.emit("back-button"),e.value?.emit("back-button-hyjack")})}return D(o,a=>{a?.length&&u(a)}),h(()=>{A(),B.stop(),d.value.features?.nomercyConnect?u():o.value?.length&&u(o.value)}),b(()=>{H(),e.value?.dispose(),r(!1)}),(a,s)=>(v(),c(n(x),null,{default:p(()=>[w(n(V),{fullscreen:!0},{default:p(()=>[(v(),c(S,{to:"body"},[s[0]||(s[0]=i("div",{class:"absolute inset-0 flex h-full w-full overflow-clip bg-black z-1199 text-white"},[i("div",{id:"player1",class:"group nomercyplayer"})],-1))]))]),_:1})]),_:1}))}}),ee=O;export{ee as default};
