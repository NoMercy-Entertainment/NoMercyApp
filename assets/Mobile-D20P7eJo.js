import{aG as k,be as b,bn as C,cZ as w,c_ as x,c$ as M,aN as N,aM as P,aP as B,L as I,ba as q,j as h,o as m,a7 as d,x as D,aI as o,bP as K,c as L,h as V,F as E,w as F,k as R,m as j,bN as G}from"./index-DQ8-cro_.js";const W=k({__name:"Mobile",setup(Q){const u=b(),f=C.currentRoute.value.name,y=w({queryKey:["music","home"],path:u.path}),{data:n,refetch:p}=x({queryKey:["music","home"],path:u.path}),{data:l,mutate:_,reset:v}=M({queryKey:["music","home"],homeData:n,path:u.path});return N(()=>{var s,e;if(P(null),B(null),!n.value){p();return}if(u.name!==f)return;const c=((e=(s=n.value)==null?void 0:s.filter)==null?void 0:e.call(s,r=>{var a;return((a=r==null?void 0:r.update)==null?void 0:a.when)=="pageLoad"}))??[];_(c)}),I(q,c=>{c?(p(),v()):(l.value=void 0,n.value=void 0)}),(c,s)=>(m(),h(o(G),null,{default:d(()=>[D(o(K),{fullscreen:!0},{default:d(()=>{var e,r,a,i;return[!o(y)&&((r=(e=o(l))==null?void 0:e.every)!=null&&r.call(e,t=>t.component)||(i=(a=o(n))==null?void 0:a.every)!=null&&i.call(a,t=>t.component))?(m(!0),L(E,{key:0},F(o(l)??o(n),(t,g)=>(m(),h(R(t.component),j({index:g,key:t.id,ref_for:!0},t.props),null,16,["index"]))),128)):V("",!0)]}),_:1})]),_:1}))}});export{W as default};
