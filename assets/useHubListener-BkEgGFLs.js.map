{"version":3,"file":"useHubListener-BkEgGFLs.js","sources":["../../src/hooks/useHubListener.ts"],"sourcesContent":["import { type ComputedRef } from 'vue';\n\nimport useMounted from '@/hooks/useMounted';\nimport { HubConnection } from '@microsoft/signalr';\n\nconst useHubListener = (\n\tconnection: ComputedRef<HubConnection | null | undefined>,\n\teventName: string,\n\tcallback: (...args: any[]) => any\n) => {\n\tconst connectToHub = async () => {\n\t\tsetTimeout(() => {\n\t\t\ttry {\n\t\t\t\tconnection.value?.on(eventName, callback);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(`Error getting ${eventName}:`, err);\n\t\t\t}\n\t\t}, 1000);\n\t};\n\n\tconst stopResourceMonitoring = async () => {\n\t\ttry {\n\t\t\tconnection.value?.off(eventName, callback);\n\t\t} catch (err) {\n\t\t\tconsole.error(`Error stopping log ${eventName}:`, err);\n\t\t}\n\t};\n\n\tuseMounted(connectToHub, stopResourceMonitoring);\n}\n\nexport default useHubListener;\n"],"names":["useHubListener","connection","eventName","callback","useMounted","_a","err"],"mappings":"6CAKA,MAAMA,EAAiB,CACtBC,EACAC,EACAC,IACI,CAmBJC,EAlBqB,SAAY,CAChC,WAAW,IAAM,OACZ,GAAA,EACQC,EAAAJ,EAAA,QAAA,MAAAI,EAAO,GAAGH,EAAWC,SACxBG,EAAK,CACb,QAAQ,MAAM,iBAAiBJ,CAAS,IAAKI,CAAG,CAAA,GAE/C,GAAI,CACR,EAE+B,SAAY,OACtC,GAAA,EACQD,EAAAJ,EAAA,QAAA,MAAAI,EAAO,IAAIH,EAAWC,SACzBG,EAAK,CACb,QAAQ,MAAM,sBAAsBJ,CAAS,IAAKI,CAAG,CAAA,CAEvD,CAE+C,CAChD"}