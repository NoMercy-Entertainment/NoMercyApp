import{$ as j,ab as V,d as i,B as x,w as E,h as n,o,j as f,a as h,b as u,x as w,a0 as y,v as p,z as C,c as _,p as M,m as T,a8 as z}from"./vue-ionic-CBB0-pQG.js";import{r as D}from"./swiper-D00Cnjmx.js";import{e as G,m as O,i as R}from"./index-COmDBddn.js";import{b as $,s as W}from"./swiper-config-Caon8l1d.js";import{_ as b}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-C9WRDkJA.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const H={class:"mb-1 flex w-auto flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-2 self-stretch text-left relative"},J={class:"flex w-available flex-1 flex-col gap-2"},K={class:"relative ml-3 w-full flex flex-shrink-0 flex-grow-1 items-center self-stretch"},Q={key:0,class:"mr-2 ml-3 sm:ml-3 my-2 text-slate-lightA-12/70 dark:text-slate-darkA-12/80 self-stretch flex-grow-0 flex-shrink-0 text-xl font-bold"},U={key:2,class:"flex flex-shrink-0 flex-grow-0 items-start justify-start gap-2 pr-4 ml-auto"},X=["aria-label"],Y=["aria-label","onclick"],Z={class:"gap-3 py-1 pr-0 w-available swiper"},ee=j({__name:"Carousel",props:{title:{type:String,required:!1},type:{type:String,required:!1,default:"poster"},index:{type:Number,required:!1,default:0},limitCardCountBy:{type:Number,required:!1},moreLink:{type:String,required:!1},disableAutoAspect:{type:Boolean,required:!1,default:!1},nextId:{type:String,required:!1,default:"next-carousel"},prevId:{type:String,required:!1,default:"prev-carousel"}},setup(c){const r=c,{t:B}=V(),v=i(!1),m=i(!0),a=i(!1),l=i(!1),d=i();function S(e,t){e.progress=Math.floor((t*100+1)/100),v.value=!e.isBeginning,m.value=e.progress<1,a.value=e.progress===1,l.value=!e.isLocked}function q(e){e.progress=Math.floor((e.progress*100+1)/100),v.value=!e.isBeginning,m.value=e.progress<1,a.value=e.progress===1,l.value=!e.isLocked}function P(e){setTimeout(()=>{var t;(t=e.el)==null||t.classList.remove("opacity-0")},150*r.index)}D();function A(){var e,t,s;(s=(t=(e=d.value)==null?void 0:e.$el)==null?void 0:t.swiper)==null||s.slideTo(0,300),l.value=!0}function L(){var e,t,s;(s=(t=(e=d.value)==null?void 0:e.$el)==null?void 0:t.swiper)==null||s.slideNext(300)}function N(){var e,t,s;(s=(t=(e=d.value)==null?void 0:e.$el)==null?void 0:t.swiper)==null||s.slidePrev(300)}const g=x(()=>G&&!r.disableAutoAspect),k=x(()=>{const e=$(g.value);if(r.limitCardCountBy)for(const[t,s]of O($(g.value)))e[t]={...s,slidesPerView:s.slidesPerView-r.limitCardCountBy,slidesPerGroup:s.slidesPerGroup-r.limitCardCountBy};return{...W(g.value),breakpoints:e,slidesOffsetBefore:window.innerWidth<800?24:20}});E(k,e=>console.log(e));function I(){var e;(e=document.querySelector(`#${r.nextId}`))==null||e.focus()}return(e,t)=>{var s;return o(),n("div",H,[f("div",J,[f("div",K,[c.title?(o(),n("h3",Q,w(y(B)(c.title??"Continue watching")),1)):h(e.$slots,"selector",{key:1},void 0,!0),f("button",{class:"skip-navigation hidden sm:absolute opacity:0 sm:focus-within:opacity-100",onClick:I},w(e.$t("Skip to next carousel")),1),h(e.$slots,"link",{},void 0,!0),y(R)?u("",!0):(o(),n("div",U,[l.value?(o(),n("button",{key:0,"aria-label":e.$t("Previous slide"),tabindex:"-1",class:p(`hidden sm:flex justify-center items-center p-1 rounded-lg bg-auto-alpha-9 active:scale-95 hover:bg-auto-alpha-11 transition-transform duration-200 ${v.value?"":"cursor-not-allowed opacity-50"}`),onclick:N},[C(b,{class:"w-6",icon:"chevronLeft"})],10,X)):u("",!0),l.value?(o(),n("button",{key:1,"aria-label":a.value?e.$t("Start slide"):e.$t("Next slide"),tabindex:"-1",class:p(`hidden sm:flex justify-center items-center p-1 rounded-lg bg-auto-alpha-9 active:scale-95 hover:bg-auto-alpha-11 transition-transform duration-200 ${l.value?"":"cursor-not-allowed opacity-50"}`),onclick:a.value?A:L},[l.value&&!a.value?(o(),_(b,{key:0,class:p(`w-6 ${!m.value&&a.value?"opacity-0":""}`),icon:"chevronRight"},null,8,["class"])):u("",!0),l.value&&a.value?(o(),_(b,{key:1,class:p(`w-6 ${a.value?"":"opacity-0"}`),icon:"chevronLeftDouble"},null,8,["class"])):u("",!0)],10,Y)):u("",!0)]))]),f("div",Z,[C(y(z),T(k.value,{ref_key:"swiper",ref:d,class:`swiper-${(s=c.title)==null?void 0:s.replace(/[\s&#]/gu,"-")} opacity-0`,"data-spatial-container":"row",onProgress:S,onAfterInit:P,onSlideChange:q}),{default:M(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3},16,["class"])])])])}}}),ie=F(ee,[["__scopeId","data-v-b339c45f"]]);export{ie as C};
