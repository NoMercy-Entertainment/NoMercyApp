import{_ as H,a as z,c as re,f as se,g as de,i as h,l as ve,m as ce,n as S,o as pe,r as fe,s as be,t as me,u as he}from"./use-text-value-DowgDah8.js";import{$l as ee,Al as Y,Bl as xe,C as g,Cl as K,Dl as A,El as ge,Fl as I,Hl as $,Ml as ye,Nl as Z,Ql as Se,S as V,Sl as Oe,Ul as we,Wl as Le,_ as ke,bl as E,du as O,eu as Re,g as M,gu as P,hl as te,hu as F,k as Q,kl as B,ll as U,su as w,tu as j,ul as Pe,v as _,xl as W,y as Ve,yl as x,yu as G,zl as J}from"./index-Rmty3EhQ.js";U();function De(e,n,u){let c=w(u?.value),l=x(()=>e.value!==void 0);return[x(()=>l.value?e.value:c.value),function(r){return l.value||(c.value=r),n?.(r)}]}U();var ae=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(ae||{}),Te=B({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:n,attrs:u}){return()=>{var c;let{features:l,...r}=e;return M({ourProps:{"aria-hidden":(l&2)===2?!0:(c=r["aria-hidden"])!=null?c:void 0,hidden:(l&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(l&4)===4&&(l&2)!==2&&{display:"none"}}},theirProps:r,slot:{},attrs:u,slots:n,name:"Hidden"})}}});function le(e={},n=null,u=[]){for(let[c,l]of Object.entries(e))oe(u,ne(n,c),l);return u}function ne(e,n){return e?e+"["+n+"]":n}function oe(e,n,u){if(Array.isArray(u))for(let[c,l]of u.entries())oe(e,ne(n,c.toString()),l);else u instanceof Date?e.push([n,u.toISOString()]):typeof u=="boolean"?e.push([n,u?"1":"0"]):typeof u=="string"?e.push([n,u]):typeof u=="number"?e.push([n,`${u}`]):u==null?e.push([n,""]):le(u,n,e)}U();function Ie(e,n){return e===n}var Be=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Be||{}),Ce=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ce||{}),Ae=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ae||{});function $e(e){requestAnimationFrame(()=>requestAnimationFrame(e))}var ie=Symbol("ListboxContext");function q(e){let n=ye(ie,null);if(n===null){let u=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,q),u}return n}var je=B({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Ie},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:n,attrs:u,emit:c}){let l=w(1),r=w(null),t=w(null),f=w(null),p=w([]),b=w(""),m=w(null),o=w(1);function s(a=i=>i){let i=m.value!==null?p.value[m.value]:null,d=se(a(p.value.slice()),y=>g(y.dataRef.domRef)),v=i?d.indexOf(i):null;return v===-1&&(v=null),{options:d,activeOptionIndex:v}}let L=x(()=>e.multiple?1:0),[k,C]=De(x(()=>e.modelValue),a=>c("update:modelValue",a),x(()=>e.defaultValue)),D=x(()=>k.value===void 0?V(L.value,{1:[],0:void 0}):k.value),R={listboxState:l,value:D,mode:L,compare(a,i){if(typeof e.by=="string"){let d=e.by;return a?.[d]===i?.[d]}return e.by(a,i)},orientation:x(()=>e.horizontal?"horizontal":"vertical"),labelRef:r,buttonRef:t,optionsRef:f,disabled:x(()=>e.disabled),options:p,searchQuery:b,activeOptionIndex:m,activationTrigger:o,closeListbox(){e.disabled||l.value!==1&&(l.value=1,m.value=null)},openListbox(){e.disabled||l.value!==0&&(l.value=0)},goToOption(a,i,d){if(e.disabled||l.value===1)return;let v=s(),y=fe(a===S.Specific?{focus:S.Specific,id:i}:{focus:a},{resolveItems:()=>v.options,resolveActiveIndex:()=>v.activeOptionIndex,resolveId:N=>N.id,resolveDisabled:N=>N.dataRef.disabled});b.value="",m.value=y,o.value=d??1,p.value=v.options},search(a){if(e.disabled||l.value===1)return;let i=b.value!==""?0:1;b.value+=a.toLowerCase();let d=(m.value!==null?p.value.slice(m.value+i).concat(p.value.slice(0,m.value+i)):p.value).find(y=>y.dataRef.textValue.startsWith(b.value)&&!y.dataRef.disabled),v=d?p.value.indexOf(d):-1;v===-1||v===m.value||(m.value=v,o.value=1)},clearSearch(){e.disabled||l.value!==1&&b.value!==""&&(b.value="")},registerOption(a,i){let d=s(v=>[...v,{id:a,dataRef:i}]);p.value=d.options,m.value=d.activeOptionIndex},unregisterOption(a){let i=s(d=>{let v=d.findIndex(y=>y.id===a);return v!==-1&&d.splice(v,1),d});p.value=i.options,m.value=i.activeOptionIndex,o.value=1},theirOnChange(a){e.disabled||C(a)},select(a){e.disabled||C(V(L.value,{0:()=>a,1:()=>{let i=O(R.value.value).slice(),d=O(a),v=i.findIndex(y=>R.compare(d,O(y)));return v===-1?i.push(d):i.splice(v,1),i}}))}};he([t,f],(a,i)=>{var d;R.closeListbox(),de(i,ce.Loose)||(a.preventDefault(),(d=g(t))==null||d.focus())},x(()=>l.value===0)),we(ie,R),be(x(()=>V(l.value,{0:z.Open,1:z.Closed})));let T=x(()=>{var a;return(a=g(t))==null?void 0:a.closest("form")});return J(()=>{ee([T],()=>{if(!T.value||e.defaultValue===void 0)return;function a(){R.theirOnChange(e.defaultValue)}return T.value.addEventListener("reset",a),()=>{var i;(i=T.value)==null||i.removeEventListener("reset",a)}},{immediate:!0})}),()=>{let{name:a,modelValue:i,disabled:d,form:v,...y}=e,N={open:l.value===0,disabled:d,value:D.value};return Y(te,[...a!=null&&D.value!=null?le({[a]:D.value}).map(([X,ue])=>Y(Te,ke({features:ae.Hidden,key:X,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:v,disabled:d,name:X,value:ue}))):[],M({ourProps:{},theirProps:{...u,...Ve(y,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:N,slots:n,attrs:u,name:"Listbox"})])}}}),Me=B({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"},id:{type:String,default:null}},setup(e,{attrs:n,slots:u}){var c;let l=(c=e.id)!=null?c:`headlessui-listbox-label-${H()}`,r=q("ListboxLabel");function t(){var f;(f=g(r.buttonRef))==null||f.focus({preventScroll:!0})}return()=>{let f={open:r.listboxState.value===0,disabled:r.disabled.value},{...p}=e;return M({ourProps:{id:l,ref:r.labelRef,onClick:t},theirProps:p,slot:f,attrs:n,slots:u,name:"ListboxLabel"})}}}),Ne=B({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:n,slots:u,expose:c}){var l;let r=(l=e.id)!=null?l:`headlessui-listbox-button-${H()}`,t=q("ListboxButton");c({el:t.buttonRef,$el:t.buttonRef});function f(o){switch(o.key){case h.Space:case h.Enter:case h.ArrowDown:o.preventDefault(),t.openListbox(),I(()=>{var s;(s=g(t.optionsRef))==null||s.focus({preventScroll:!0}),t.value.value||t.goToOption(S.First)});break;case h.ArrowUp:o.preventDefault(),t.openListbox(),I(()=>{var s;(s=g(t.optionsRef))==null||s.focus({preventScroll:!0}),t.value.value||t.goToOption(S.Last)});break}}function p(o){switch(o.key){case h.Space:o.preventDefault();break}}function b(o){t.disabled.value||(t.listboxState.value===0?(t.closeListbox(),I(()=>{var s;return(s=g(t.buttonRef))==null?void 0:s.focus({preventScroll:!0})})):(o.preventDefault(),t.openListbox(),$e(()=>{var s;return(s=g(t.optionsRef))==null?void 0:s.focus({preventScroll:!0})})))}let m=ve(x(()=>({as:e.as,type:n.type})),t.buttonRef);return()=>{var o,s;let L={open:t.listboxState.value===0,disabled:t.disabled.value,value:t.value.value},{...k}=e;return M({ourProps:{ref:t.buttonRef,id:r,type:m.value,"aria-haspopup":"listbox","aria-controls":(o=g(t.optionsRef))==null?void 0:o.id,"aria-expanded":t.listboxState.value===0,"aria-labelledby":t.labelRef.value?[(s=g(t.labelRef))==null?void 0:s.id,r].join(" "):void 0,disabled:t.disabled.value===!0?!0:void 0,onKeydown:f,onKeyup:p,onClick:b},theirProps:k,slot:L,attrs:n,slots:u,name:"ListboxButton"})}}}),Ee=B({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:n,slots:u,expose:c}){var l;let r=(l=e.id)!=null?l:`headlessui-listbox-options-${H()}`,t=q("ListboxOptions"),f=w(null);c({el:t.optionsRef,$el:t.optionsRef});function p(o){switch(f.value&&clearTimeout(f.value),o.key){case h.Space:if(t.searchQuery.value!=="")return o.preventDefault(),o.stopPropagation(),t.search(o.key);case h.Enter:if(o.preventDefault(),o.stopPropagation(),t.activeOptionIndex.value!==null){let s=t.options.value[t.activeOptionIndex.value];t.select(s.dataRef.value)}t.mode.value===0&&(t.closeListbox(),I(()=>{var s;return(s=g(t.buttonRef))==null?void 0:s.focus({preventScroll:!0})}));break;case V(t.orientation.value,{vertical:h.ArrowDown,horizontal:h.ArrowRight}):return o.preventDefault(),o.stopPropagation(),t.goToOption(S.Next);case V(t.orientation.value,{vertical:h.ArrowUp,horizontal:h.ArrowLeft}):return o.preventDefault(),o.stopPropagation(),t.goToOption(S.Previous);case h.Home:case h.PageUp:return o.preventDefault(),o.stopPropagation(),t.goToOption(S.First);case h.End:case h.PageDown:return o.preventDefault(),o.stopPropagation(),t.goToOption(S.Last);case h.Escape:o.preventDefault(),o.stopPropagation(),t.closeListbox(),I(()=>{var s;return(s=g(t.buttonRef))==null?void 0:s.focus({preventScroll:!0})});break;case h.Tab:o.preventDefault(),o.stopPropagation();break;default:o.key.length===1&&(t.search(o.key),f.value=setTimeout(()=>t.clearSearch(),350));break}}let b=pe(),m=x(()=>b!==null?(b.value&z.Open)===z.Open:t.listboxState.value===0);return()=>{var o,s;let L={open:t.listboxState.value===0},{...k}=e;return M({ourProps:{"aria-activedescendant":t.activeOptionIndex.value===null||(o=t.options.value[t.activeOptionIndex.value])==null?void 0:o.id,"aria-multiselectable":t.mode.value===1?!0:void 0,"aria-labelledby":(s=g(t.buttonRef))==null?void 0:s.id,"aria-orientation":t.orientation.value,id:r,onKeydown:p,role:"listbox",tabIndex:0,ref:t.optionsRef},theirProps:k,slot:L,attrs:n,slots:u,features:_.RenderStrategy|_.Static,visible:m.value,name:"ListboxOptions"})}}}),Fe=B({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:n,attrs:u,expose:c}){var l;let r=(l=e.id)!=null?l:`headlessui-listbox-option-${H()}`,t=q("ListboxOption"),f=w(null);c({el:f,$el:f});let p=x(()=>t.activeOptionIndex.value!==null?t.options.value[t.activeOptionIndex.value].id===r:!1),b=x(()=>V(t.mode.value,{0:()=>t.compare(O(t.value.value),O(e.value)),1:()=>O(t.value.value).some(a=>t.compare(O(a),O(e.value)))})),m=x(()=>V(t.mode.value,{1:()=>{var a;let i=O(t.value.value);return((a=t.options.value.find(d=>i.some(v=>t.compare(O(v),O(d.dataRef.value)))))==null?void 0:a.id)===r},0:()=>b.value})),o=me(f),s=x(()=>({disabled:e.disabled,value:e.value,get textValue(){return o()},domRef:f}));J(()=>t.registerOption(r,s)),xe(()=>t.unregisterOption(r)),J(()=>{ee([t.listboxState,b],()=>{t.listboxState.value===0&&b.value&&V(t.mode.value,{1:()=>{m.value&&t.goToOption(S.Specific,r)},0:()=>{t.goToOption(S.Specific,r)}})},{immediate:!0})}),Re(()=>{t.listboxState.value===0&&p.value&&t.activationTrigger.value!==0&&I(()=>{var a,i;return(i=(a=g(f))==null?void 0:a.scrollIntoView)==null?void 0:i.call(a,{block:"nearest"})})});function L(a){if(e.disabled)return a.preventDefault();t.select(e.value),t.mode.value===0&&(t.closeListbox(),I(()=>{var i;return(i=g(t.buttonRef))==null?void 0:i.focus({preventScroll:!0})}))}function k(){if(e.disabled)return t.goToOption(S.Nothing);t.goToOption(S.Specific,r)}let C=re();function D(a){C.update(a)}function R(a){C.wasMoved(a)&&(e.disabled||p.value||t.goToOption(S.Specific,r,0))}function T(a){C.wasMoved(a)&&(e.disabled||p.value&&t.goToOption(S.Nothing))}return()=>{let{disabled:a}=e,i={active:p.value,selected:b.value,disabled:a},{value:d,disabled:v,...y}=e;return M({ourProps:{id:r,ref:f,role:"option",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-selected":b.value,disabled:void 0,onClick:L,onFocus:k,onPointerenter:D,onMouseenter:D,onPointermove:R,onMousemove:R,onPointerleave:T,onMouseleave:T},theirProps:y,slot:i,attrs:u,slots:n,name:"ListboxOption"})}}});U();var qe={class:"pointer-events-auto relative w-auto group/selector"},ze={class:"!flex truncate text-left leading-none w-full"},He=B({__name:"Select",props:Z({id:{type:String,required:!0},items:{type:Array,required:!0},multiple:{type:Boolean,required:!1,default:!1},label:{type:String,required:!0},placeholder:{type:String,required:!1},disabled:{type:Boolean,required:!1,default:!1},variant:{type:String,required:!1,default:"normal"}},{modelValue:{required:!0},modelModifiers:{}}),emits:Z(["update:modelValue"],["update:modelValue"]),setup(e){const n=Se(e,"modelValue");return(u,c)=>($(),K("div",qe,[A(F(je),{id:e.label,modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=l=>n.value=l),disabled:e.disabled,multiple:e.multiple,value:n.value,as:"div",class:"flex flex-shrink-0 flex-grow-0 flex-col"},{default:j(()=>[A(F(Me),{class:P([{"mb-1 text-sm font-medium":e.variant==="normal","mb-0.5 text-sm font-medium":e.variant==="dense","mb-px text-xs font-thin":e.variant==="tight"},"block select-none space-nowrap empty:hidden"])},{default:j(()=>[ge(G(u.$t(e.label)),1)]),_:1},8,["class"]),E("div",{class:P([{"h-10 min-h-10 mt-2":e.variant==="normal","h-8 min-h-8 mt-1":e.variant==="dense","h-7 min-h-7 mt-0":e.variant==="tight"},"flex flex-1 flex-shrink-0 flex-grow-0 flex-col"])},[A(F(Ne),{class:P([{"!bg-surface-1 ring-[1.5px] ring-inset ring-surface-3 focus:outline-none focus:ring-2 focus:ring-focus/70 data-[headlessui-state='open']:ring-2 data-[headlessui-state='open']:ring-focus/70":e.variant==="normal"||e.variant==="dense","h-10 min-h-10 px-3":e.variant==="normal","h-8 min-h-8 px-2":e.variant==="dense","h-5 min-h-5 px-0":e.variant==="tight"},"relative flex items-center w-full cursor-default rounded-md text-surface-12 shadow-sm sm:text-sm data-[headlessui-state='disabled']:grayscale *:last:data-[headlessui-state='disabled']:hidden"])},{default:j(()=>[E("span",ze,G(n.value&&n.value.length>0?n.value.map(l=>l?.title||l?.name||l?.label).join(", "):n.value?.name||n.value?.title||n.value?.label||u.t(e.placeholder)),1),E("span",{class:P([{"h-10 min-h-10 px-3":e.variant==="normal","h-8 min-h-8 px-2":e.variant==="dense",hidden:e.variant==="tight"},"absolute inset-y-0 right-0 flex h-auto items-center rounded-r-md min-h-auto focus-visible:outline-transparent"])},[e.multiple?($(),W(Q,{key:0,"class-name":"w-5 ui-open:rotate-180 transition-transform duration-200",icon:"arrowSelect"})):($(),W(Q,{key:1,"class-name":"w-5 ui-open:rotate-180 transition-transform duration-200",icon:"chevronDown"}))],2)]),_:1},8,["class"]),A(Pe,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:j(()=>[A(F(Ee),{class:P([{"p-1.5":e.variant==="normal","p-1":e.variant==="dense","p-0.5":e.variant==="tight"},"absolute top-full z-10 h-auto max-h-56 min-w-fit overflow-auto rounded-md text-base shadow-lg ring-1 ring-black ring-opacity-5 min-h-auto w-available bg-surface-1 focus:outline-none sm:text-sm"])},{default:j(()=>[($(!0),K(te,null,Le(e.items,l=>($(),W(F(Fe),{key:l.title||l.name||l.label,value:l,as:"template"},{default:j(({active:r,selected:t})=>[E("li",{class:P([{"!bg-focus/40":r,"h-8 min-h-8":e.variant==="normal","h-6 min-h-6":e.variant==="dense"},"relative flex w-full min-w-fit cursor-default select-none items-center rounded-sm text-surface-12"])},[E("span",{class:P([{"font-semibold":t,"font-normal":!t},"mx-3 block truncate text-left"])},G(u.$t(l.title||l.name||l.label)),3),t?($(),K("span",{key:0,class:P([{"text-surface-50":r,"text-focus":!r},"absolute right-0 flex items-center justify-center pr-2 data-[headlessui-state='disabled']:hidden"])},[A(Q,{"class-name":"w-5",icon:"check"})],2)):Oe("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1},8,["class"])]),_:1})],2)]),_:1},8,["id","modelValue","disabled","multiple","value"])]))}}),Qe=He;export{Qe as t};
