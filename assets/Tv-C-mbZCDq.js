import{I as w,l as y,E as k,eJ as f,ej as g,f5 as b,aj as C,bM as S,ei as j,a9 as L,w as B,d,o as i,s as n,j as a,K as t,bu as T,a as e,x as $,ah as m,t as c,aP as p,aO as N,U as O,aN as E,c as I,F as V,h as q,e8 as M,bh as U,O as z,f6 as D,f7 as F,f8 as P,ar as v,a5 as u}from"./index-BzddMR-Z.js";import{u as Q}from"./useQueryClient-CScaY66s.js";import{_ as H}from"./ServerCard.vue_vue_type_script_setup_true_lang-BIpCFe7y.js";import{_ as J}from"./NoMercyAvatar.vue_vue_type_script_setup_true_lang-H4mF3pH1.js";import{_ as x}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-BC8tj0dR.js";import{r as K}from"./ripperSocket-E1AbDBoD.js";import"./DeviceIcon.vue_vue_type_script_setup_true_lang-BnXjqW9J.js";import"./index-rsbz97XY.js";import"./md5-CCaQiUQF.js";import"./HubConnection-CMQnVIkW.js";const R={class:"flex h-full w-full flex-auto flex-col items-center justify-center gap-8 p-8"},W={class:"flex w-full flex-grow flex-col justify-between p-2 min-h-auto"},A={class:"flex justify-between items-center self-stretch flex-grow-0 flex-shrink-0 w-full relative gap-2.5 mb-2"},G={class:"flex justify-start items-center relative gap-2.5",inert:""},X={class:"size-12 my-auto"},Y={class:"w-48 text-base font-semibold text-left text-slate-dark-1 dark:text-slate-light-1"},Z={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},ee={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},de=w({__name:"Tv",setup(te){const h=Q(),l=y();async function _(s){f(s),await z().get("libraries").then(({data:r})=>{D(r.data),F.value=!0,P.value=!0,setTimeout(async()=>{v.value==="/setup/select-servers"?await u.replace({name:"Home"}):await u.replace(v.value)},50)}).catch(async()=>{await u.replace({name:"Server offline"})})}return k(()=>{f(null),g(),h.removeQueries(),b.value?.stop(),C.value?.stop(),K.value?.stop()}),S(()=>{j()}),L(()=>{setTimeout(()=>{l.value?.querySelector("button")?.focus()},100)}),B(l,s=>{setTimeout(()=>{s?.querySelector("button")?.focus()},100)}),(s,r)=>(i(),d(t(U),null,{default:n(()=>[a(t(T),{fullscreen:!0},{default:n(()=>[e("div",R,[e("div",W,[e("div",A,[e("div",G,[e("div",X,[a(J,{user:t(m),size:40},null,8,["user"])]),e("p",Y,c(t(m).name),1)]),$(e("button",{tabindex:"0",class:"flex justify-center items-center ml-auto relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",onClick:r[0]||(r[0]=o=>p.value=!t(p))},[a(x,{icon:"doorOut",class:"text-slate-dark-1 dark:text-slate-light-1"}),e("span",Z,c(s.$t("Exit TV mode")),1)],512),[[N,!t(O)]]),a(t(E),{to:"/logout",class:"flex justify-center items-center relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]"},{default:n(()=>[a(x,{icon:"doorOut",class:"text-slate-dark-1 dark:text-slate-light-1"}),e("span",ee,c(s.$t("Logout")),1)]),_:1})]),e("div",{ref_key:"serverList",ref:l,class:"tv:children:w-[30%] tv:mt-0 -mt-24 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4"},[(i(!0),I(V,null,q(t(M),o=>(i(),d(H,{key:o.id,server:o,onclick:()=>_(o)},null,8,["server","onclick"]))),128))],512)])])]),_:1})]),_:1}))}});export{de as default};
