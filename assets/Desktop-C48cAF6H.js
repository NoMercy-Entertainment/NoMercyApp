import{Bt as N,Gt as h,I as R,Ln as t,M as T,Mt as $,Rn as z,Rt as y,Tt as E,Vt as L,an as M,cn as o,i as V,kn as v,on as D,qt as F,u as P,un as j,xn as g,yn as _,zt as p}from"./index-CJ3av9Nr.js";import"./dist-D2KbJ9bQ.js";import"./esm-BuMAAPtG.js";import"./esm-CHsjyJtd.js";import"./dist-C-vUBecy.js";import"./focus-visible-DPfccteu.js";import"./index5-DoEihQ4z.js";import"./client-wU_plCmB.js";import"./ionic-global-Dr2Ll5pB.js";import"./hardware-back-button-CHEiPn5H.js";import"./index3-DyhEBoCL.js";import"./helpers-WTIhTost.js";import"./index6-3cPFhgM2.js";import"./index8-_cfIjXvh.js";import"./keyboard-D6ipGNt8.js";import"./index2-DvhiMdzo.js";import"./ios.transition-CXaFvcuP.js";import"./keyboard2-D5yf7Lat.js";import"./md.transition-DZtzVTV5.js";import"./dir-DrmvtQ_Q.js";import"./basecomponent-DVHu1DCt.js";import"./classnames-C7QsyfAI.js";import"./button-f9Fw4Iaj.js";import"./baseicon-DamtKEYd.js";import"./times-bln7PGWn.js";import{a as O,l as q,m as u,o as x,p as d}from"./ui-BSE92Oro.js";import"./client-CPKuC57Q.js";import{v as A,x as G}from"./currentServer-DQ7i6d_b.js";import"./config-BZ-AEJ_J.js";import"./core-xCqnf7Bb.js";import"./esm-DLDUH9kj.js";import{p as C}from"./global-Cds4NWlw.js";import"./esm-DcigU03k.js";import"./bundle-mjs-BeXi21kK.js";import"./user-Creb9Pvq.js";import"./serverClient-Jb_BGG0d.js";import"./router-c8xd29EB.js";import"./utils-Cpofav5o.js";import"./useBaseQuery-D_SazeaR.js";import"./useInfiniteServerClient-D_hphnUM.js";import{g as b}from"./SocketClient-KaSDTymP.js";import"./useQueryClient-C-VM74mz.js";import"./useQuery-CR36PjxI.js";import"./apiClient-2-R0Hhnf.js";import"./notifications-BNlqfMjP.js";import"./utils-DY83qGh1.js";import"./deviceInfo-CVfVbLsA.js";import"./auth-BpTUxzzw.js";import"./musicPlaylists-COlXsUrd.js";import"./esm-D3NOV4Cc.js";import"./contextMenuItems-Ci0VKSAK.js";import"./_plugin-vue_export-helper-pDp7unP0.js";import"./AppLogoSquare-CX-E5xQc.js";import"./MoooomIcon-C2SwTMe7.js";import"./DropdownMenu-Dk9B9-Ms.js";import"./dist-DpPFups2.js";import"./fileupload-DC2frNAp.js";import{t as U}from"./useServerClient-DftYwK_V.js";import{t as J}from"./ScrollContainer-BSI-lJ9a.js";import"./Button-B0as3fug.js";import"./CoverImage-3Yd8OnC5.js";import"./MusicButton-CsRZT_rH.js";import"./BannerButton-ovjfP-l1.js";import"./MediaLikeButton-DlxHvzv6.js";import"./PlayerIcon-fqXue5Ol.js";import"./Marquee-BRg3kZGQ.js";import"./Modal-C8jzfBCN.js";import"./BigPlayButton-DUjBHOtM.js";import"./EqSpinner-BVEJIgKv.js";import{t as K}from"./NotFound-ByvOapu3.js";import"./ShareButton-CNes20wT.js";import"./ClickUploadModal-DlOYtlN3.js";import{i as Q,n as W,r as X,t as Y}from"./TrackRow-CsxVrPIq.js";E();T();var Z={class:"relative z-0 flex h-auto flex-shrink-0 flex-grow flex-col items-start justify-start self-stretch"},tt=F({__name:"Desktop",setup(et){const f=R(),{data:e,isError:B}=U({path:f.fullPath,data:{version:"lolomo"}}),S=v(null),c=v(),a=v("");_(e,r=>{r&&(A(r?.name??null),n(r?.tracks??[],u.value,d.value,a.value),x(r?.color_palette?.cover))}),_(d,r=>{n(e.value?.tracks??[],u.value,r,a.value)}),_(u,r=>{n(e.value?.tracks??[],r,d.value,a.value)}),_(a,r=>{n(e.value?.tracks??[],u.value,d.value,r)});function n(r,l,i,m){const w=G(r??[],l,i,q);m===""?c.value=w:c.value=w?.filter(k=>k.name?.toLowerCase().includes(m?.toLowerCase?.())||k.artist_track?.some(I=>I.name.toLowerCase().includes(m?.toLowerCase?.()))||k.album_track?.[0]?.name.toLowerCase().includes(m?.toLowerCase?.()))??[]}M(()=>{e?.value?.tracks&&n(e?.value?.tracks??[],u.value,d.value,a.value),e.value?.color_palette?.cover&&x(e.value?.color_palette?.cover)}),D(()=>{document.getElementById("navbar")&&(document.getElementById("navbar").style.display="flex"),x(null),O(null)});const s=v();function H(){window.CSS.supports("container-type","scroll-state")||(Math.ceil(s.value?.$el?.getBoundingClientRect()?.top??500)<=67?(s.value?.$el?.classList.add("!bg-focus"),s.value?.$el?.firstChild?.classList.add("!bg-black/50")):(s.value?.$el?.classList.remove("!bg-focus"),s.value?.$el?.firstChild?.classList.remove("!bg-black/50")))}return(r,l)=>(o(),p(t(P),null,{default:g(()=>[h(t(V),{fullscreen:!0,class:"flex"},{default:g(()=>[t(B)&&!t(e)?(o(),p(K,{key:0})):(o(),p(J,{key:1,"auto-hide":!0,static:!0,onScroll:H},{default:g(()=>[!t(f).params.id||t(f).params.id&&t(e)?.id===t(f).params.id?(o(),L("div",{key:0,ref_key:"main",ref:S,class:"flex flex-col w-available h-available sm:rounded-2xl"},[h(X,{data:t(e)},null,8,["data"]),y("div",Z,[l[1]||(l[1]=y("div",{class:"pointer-events-none absolute z-0 h-96 w-full bg-spotifyBottom"},null,-1)),(o(),p(Q,{key:t(e)?.id,data:t(e),filter:a.value,onFilterChange:l[0]||(l[0]=i=>a.value=i)},null,8,["data","filter"])),y("div",{class:z([{"pb-24":t(C)&&!t(b),"pb-40":t(C)&&t(b),"pb-4 sm:pb-4":!t(C)&&t(b)},"flex flex-1 flex-shrink-0 flex-col items-start justify-start self-stretch bg-surface-3 flex-grow-1 gap-0.5 sm:p-4"])},[(o(),p(W,{key:t(e)?.id,ref_key:"sortHeader",ref:s})),(o(!0),L($,null,j(c.value,(i,m)=>(o(),p(Y,{key:i.id+i?.favorite,data:i,"display-list":c.value,index:m},null,8,["data","display-list","index"]))),128))],2)])],512)):N("",!0)]),_:1}))]),_:1})]),_:1}))}}),Ce=tt;export{Ce as default};
