import{t as y}from"./useQueryClient-D6q0hgG8.js";import{$i as w,Ao as b,Bn as g,Bs as k,Fa as C,Ic as i,Ks as S,Ls as e,Mc as t,Mt as j,No as T,Os as B,Po as L,Qn as f,Rs as d,Tc as M,Vn as N,Ws as s,_c as I,bc as V,ca as v,cc as O,h as $,hr as q,i as n,ic as z,ji as m,js as E,ki as Q,mo as A,mr as D,oc as u,oo as F,rc as P,rr as R,ws as U,yc as c,za as p}from"./index-DO6J_9Tp.js";import{t as _}from"./MoooomIcon-c5XNQtse.js";import"./dist-DVAuqLsO.js";import"./md5-C2Z3uS3Y.js";import{t as W}from"./NoMercyAvatar--wW3VyZa.js";import"./HubConnection-klX5ssCm.js";import{t as H}from"./ripperSocket-Bl7xR3NB.js";import"./DeviceIcon--GpN0GPz.js";import{t as K}from"./ServerCard-Bx7LR8hS.js";U();L();var G={class:"flex h-full w-full flex-auto flex-col items-center justify-center gap-8 p-8"},J={class:"flex w-full flex-grow flex-col justify-between p-2 min-h-auto"},X={class:"flex justify-between items-center self-stretch flex-grow-0 flex-shrink-0 w-full relative gap-2.5 mb-2"},Y={class:"flex justify-start items-center relative gap-2.5",inert:""},Z={class:"size-12 my-auto"},ee={class:"w-48 text-base font-semibold text-left"},te={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},re={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},se=S({__name:"Tv",setup(ae){const x=y(),l=M();async function h(r){m(r),await Q().get("libraries").then(({data:a})=>{w(a.data),D.value=!0,g.value=!0,setTimeout(async()=>{f.value==="/setup/select-servers"?await n.replace({name:"Home"}):await n.replace(f.value)},50)}).catch(async()=>{await n.replace({name:"Server offline"})})}return P(()=>{m(null),R(),x.removeQueries(),$.value?.stop(),j.value?.stop(),H.value?.stop()}),z(()=>{q()}),b(()=>{setTimeout(()=>{l.value?.querySelector("button")?.focus()},100)}),I(l,r=>{setTimeout(()=>{r?.querySelector("button")?.focus()},100)}),(r,a)=>(u(),d(t(A),null,{default:c(()=>[s(t(F),{fullscreen:!0},{default:c(()=>[e("div",G,[e("div",J,[e("div",X,[e("div",Y,[e("div",Z,[s(W,{size:40,user:t(v)},null,8,["user"])]),e("p",ee,i(t(v).name),1)]),V(e("button",{class:"flex justify-center items-center ml-auto relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",tabindex:"0",onClick:a[0]||(a[0]=o=>p.value=!t(p))},[s(_,{class:"",icon:"doorOut"}),e("span",te,i(r.$t("Exit TV mode")),1)],512),[[B,!t(C)]]),s(t(T),{class:"flex justify-center items-center relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",to:"/logout"},{default:c(()=>[s(_,{class:"",icon:"doorOut"}),e("span",re,i(r.$t("Logout")),1)]),_:1})]),e("div",{ref_key:"serverList",ref:l,class:"tv:children:w-[30%] tv:mt-0 -mt-24 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4"},[(u(!0),k(E,null,O(t(N),o=>(u(),d(K,{key:o.id,onclick:()=>h(o),server:o},null,8,["onclick","server"]))),128))],512)])])]),_:1})]),_:1}))}}),pe=se;export{pe as default};
