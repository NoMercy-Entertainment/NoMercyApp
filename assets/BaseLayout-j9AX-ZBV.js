const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-VWMHENe7.js","assets/dist-vlkWK_nZ.js","assets/index-BVMfOxho.js","assets/index-CK2WcHai.css"])))=>i.map(i=>d[i]);
import{Bn as O,Bt as p,Ct as Ce,Gt as t,I as ve,Ln as e,Lt as R,M as ae,Mt as K,Pt as $e,Rn as x,Rt as l,Tt as b,Vn as d,Vt as k,Wt as $,a as w,an as Pe,b as Be,c as Se,cn as s,d as je,dn as ze,f as H,h as A,i as Te,k as U,kn as _,l as Ie,m as Le,mt as Q,o as j,on as Ve,p as He,qt as M,s as P,u as Oe,un as me,v as Re,wt as Ae,x as Ee,xn as r,y as E,yn as Z,zt as n}from"./index-BVMfOxho.js";import{n as Fe,r as qe}from"./dist-vlkWK_nZ.js";import"./esm-DY8g5_-d.js";import"./esm-BkTpNeyF.js";import"./dist-CH0b9ib9.js";import"./focus-visible-bSSZdOZP.js";import"./index5-CWJdeeO8.js";import"./client-CTmm1pIY.js";import"./ionic-global-oucWixmt.js";import"./hardware-back-button-DEko41f-.js";import"./index3-BiTNNMaN.js";import"./helpers-B612kBZQ.js";import"./index6-D7h1Gg6a.js";import"./index8-Dt0xOjwC.js";import"./keyboard-BHL796m8.js";import"./index2-D1kFYiB0.js";import"./ios.transition--OH3Fy46.js";import"./keyboard2-BoLAeL-2.js";import"./md.transition-BznYYDQ-.js";import"./dir-1LliqD9e.js";import"./basecomponent-D893k91J.js";import"./portal-CmyWU7tz.js";import"./classnames-C7QsyfAI.js";import"./button-DrEO03-q.js";import{_ as We,a as De,c as Ne,d as Ge,f as pe,g as _e,h as Xe,i as Ue,l as Qe,m as Ze,n as Ye,o as Je,p as he,r as ge,s as Ke,t as we,u as xe,v as et}from"./ChristmasSnow-DCUYmg-X.js";import"./baseicon-C2_EXBmf.js";import{L as ye,n as tt,v as G}from"./ui-FAE7KUbU.js";import{f as lt}from"./client-BaHBQSTJ.js";import{T as ee,t as q}from"./currentServer-wKQllb71.js";import"./config-BZ-AEJ_J.js";import{f as be,l as at}from"./core-DZundPdS.js";import"./esm-Bc84JaZh.js";import"./global-DPeGmG9M.js";import"./esm-BRDlnhr9.js";import"./bundle-mjs-DqJ8Zzkh.js";import{s as le}from"./user-CWo_OqEw.js";import"./serverClient-DP8QK8AC.js";import{o as te,t as T,w as oe}from"./router-CwEKSEy2.js";import"./utils-CgFfn36P.js";import{F as rt,G as ne,L as ie,N as W,R as st,U as ot,c as ue,d as X,g as c,h as nt,l as it,w as Y}from"./SocketClient-Ci81BRq-.js";import"./useQueryClient-B99C1vuk.js";import"./apiClient-BJYxfNk7.js";import"./notifications-CMaZS40X.js";import{l as ut,y as ct}from"./utils-B0jNLXCr.js";import"./deviceInfo-DuLvxTKJ.js";import{n as dt}from"./auth-B7LO68e-.js";import"./musicPlaylists-CXV9ecla.js";import"./esm-DfIlvn3K.js";import"./contextMenuItems-CLPDYgB_.js";import{t as N}from"./_plugin-vue_export-helper-pDp7unP0.js";import"./render-pzL1lImx.js";import"./imageModal-D-BdR7Xp.js";import{t as ft}from"./AppLogoSquare-DNGtmCzk.js";import"./TMDBImage-C5R0lpck.js";import{t as y}from"./MoooomIcon-x_D_dAky.js";import{t as vt}from"./DropdownMenu-ARSIhILX.js";import"./dist-CyJoSfg1.js";import"./md5-DXvQYbGI.js";import"./baseeditableholder-DR1AjCrF.js";import{t as mt}from"./Toggle-Co0kl1eO.js";import"./ScrollContainer-aMg5G8IN.js";import{t as ke}from"./CoverImage-C5HI0SiN.js";import{t as F}from"./MusicButton-C0Fj9x4p.js";import"./BannerButton-D5TGoJ_5.js";import{t as Me}from"./MediaLikeButton-DuG0N7Ye.js";import"./PlayerIcon-cUGdv3wT.js";import"./SliderBar-uqVD1dhZ.js";import{n as pt,t as _t}from"./swiper-vue-DPuA15Vc.js";b();var D=_(!1);const J=R(()=>D.value);function ht(){D.value=!D.value}function I(){D.value=!1}async function ce(){D.value?I():ht()}b();var gt=["data-size"],wt={key:0,class:"whitespace-pre text-center leading-none text-2xs"},xt={key:1,class:"whitespace-pre-line text-pretty text-left leading-5 text-base"},yt={class:"flex flex-col gap-1 min-h-[85px]"},bt=M({__name:"TopRow",setup(h){const o=R(()=>c.value?.album_track?.[0]?.name);return(f,u)=>(s(),k("div",{"data-size":e(W),class:"flex h-16 w-full items-center justify-between"},[t(F,{onclick:()=>e(X)(),class:"!min-w-12",label:"close"},{default:r(()=>[t(y,{class:"h-6 w-6",icon:"chevronDown"})]),_:1},8,["onclick"]),l("div",{class:x([{"mt-2":!e(Q)("capacitor")},"relative flex flex-col gap-1"])},[o.value?(s(),k("span",wt,d(f.$t("Now playing")),1)):p("",!0),o.value?(s(),k("div",xt,d(o.value),1)):p("",!0)],2),t(vt,{class:"!min-w-12 flex items-center justify-center",orientation:"vertical"},{button:r(()=>[t(y,{class:"h-6 w-6",icon:"menuDotsVertical"})]),default:r(()=>[l("div",yt,[t(F,{onclick:()=>e(X)(),label:"close"},{default:r(()=>[t(y,{class:"h-6 w-6",icon:"chevronDown"})]),_:1},8,["onclick"]),t(F,{onclick:()=>e(X)(),label:"close"},{default:r(()=>[t(y,{class:"h-6 w-6",icon:"chevronDown"})]),_:1},8,["onclick"]),t(F,{onclick:()=>e(X)(),label:"close"},{default:r(()=>[t(y,{class:"h-6 w-6",icon:"chevronDown"})]),_:1},8,["onclick"])])]),_:1})],8,gt))}}),kt=bt;b();var Mt={class:"flex w-full flex-col justify-end gap-8"},Ct={class:"my-1 flex w-full items-center"},$t={class:"z-10 flex w-full flex-col gap-2 overflow-clip"},Pt={class:"w-full overflow-clip text-xl font-semibold line-clamp-1"},Bt={class:"overflow-hidden leading-none w-inherit line-clamp-1"},St=["data-size"],jt=M({__name:"TrackRow",setup(h){function o(){W.value===ee.compact?ne(ee.full):ne(ee.compact)}return(f,u)=>(s(),k("div",Mt,[l("div",Ct,[l("div",$t,[l("h6",Pt,[l("span",Bt,d(e(c)?.name),1)]),l("div",{"data-size":e(W),class:"mb-1 inline-flex w-fit gap-1 overflow-hidden whitespace-nowrap text-xs line-clamp-1 hover:animate-pause"},[e(c)?(s(),n(ge,{key:0,id:e(c).id,data:e(c).artist_track,onclick:o,type:"artists"},null,8,["id","data"])):p("",!0)],8,St)]),e(c)?(s(),n(Me,{key:e(c)?.id+e(c)?.favorite,data:e(c),class:"flex",color:"var(--color-theme-8)"},null,8,["data"])):p("",!0)])]))}}),zt=jt;b();var Tt=["data-size"],It=["data-size"],Lt=M({__name:"ButtonContainer",setup(h){const o=at("nmplayer-music-supports-audio-context",!1);return(f,u)=>(s(),k(K,null,[l("div",{"data-size":e(W),class:"flex w-full items-center justify-between px-6"},[t(De),t(Qe),t(xe,{class:"!h-14 !w-14 !bg-focus/50 !rounded-full shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgb(from_var(--color-slate-9)_r_g_b/60%)_inset,0_22px_30px_-4px_rgb(from_var(--color-slate-9)_r_g_b/70%)] dark:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgb(from_var(--color-slate-1)_r_g_b/30%)_inset,0_22px_30px_-4px_rgb(from_var(--color-slate-1)_r_g_b/70%)] hover:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgb(from_var(--color-slate-11)_r_g_b/60%)_inset,0_22px_30px_-4px_rgb(from_var(--color-slate-11)_r_g_b/70%)] dark:hover:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgb(from_var(--color-slate-1)_r_g_b/30%)_inset,0_22px_30px_-4px_rgb(from_var(--color-slate-1)_r_g_b/70%)] active:!shadow-none active:!dark:shadow-none"}),t(Ge),t(Je)],8,Tt),l("div",{"data-size":e(W),class:"mb-12 flex h-12 w-full justify-between px-6 gap-2 z-10"},[t(pe,{ref:"deviceOverlay",class:"!w-auto !justify-start"},null,512),t(Ue,{class:"ml-auto"}),e(o)?(s(),n(Ye,{key:0})):p("",!0),t(Ke,{ref:"queueOverlay"},null,512),t(he),t(Xe)],8,It)],64))}}),Vt=Lt;b();var Ht={class:"relative z-0 flex h-screen min-h-screen flex-col items-center justify-between gap-2 w-inherit scrollbar-none text-surface-12 overflow-clip"},Ot={class:"frosting w-available max-w-2xl h-auto aspect-square shadow mx-6 relative items-center flex"},Rt={class:"frosting relative mx-3 mb-0 -mt-8 rounded-2xl pt-10 w-available bg-focus/60 shadow text-surface-12"},At={class:"absolute top-0 z-10 flex w-full items-center rounded-t-2xl pr-2 pl-4 font-semibold"},Et=M({__name:"FullPlayer",setup(h){const o=_("small"),f=_(),u=_(),v=_(),a=_(0),i=_(),m=_("lazy"),B=_([c.value,...Object.values(st.value)]);Z(o,()=>{setTimeout(()=>{o.value==="small"?document.querySelector("#MobilePlayer")?.scrollTo({top:window.innerHeight/2,behavior:"smooth"}):document.querySelector("#MobilePlayer")?.scrollTo({top:999990,behavior:"smooth"})},200)},{immediate:!0}),Z(Y,g=>{g&&(v.value=tt.value,setTimeout(()=>{m.value="eager"},50))}),Z(c,g=>{if(!g)return;const z=B.value.findIndex(V=>V.id===g.id);a.value=z,i.value?.$el?.swiper.slideTo(z)});const C=R(()=>ye(c.value?.color_palette?.cover,20,160));function L(g){g.touches.diff!==0&&(g.touches.startX>g.touches.currentX&&g.touches.diff<-100?ue.next():g.touches.startX<g.touches.currentX&&g.touches.diff>100&&ue.previous())}function S(){u.value&&(o.value=o.value==="small"?"full":"small",o.value==="small"?(f.value?.$el?.scrollToTop(),setTimeout(()=>{u.value.style.height="25rem"},500)):(u.value.style.height=`${window.innerHeight*.915}px`,setTimeout(()=>{f.value.$el?.scrollToBottom()},0)))}async function re(){ot(!1)}return(g,z)=>(s(),n(e(Ie),{id:"fullPlayer",key:"fullPlayer",breakpoints:[0,1],"initial-breakpoint":1,"is-open":e(Y),onWillDismiss:re},{default:r(()=>[t(e(Te),{ref_key:"content",ref:f,class:x({"is-open":o.value==="full"}),fullscreen:!0,style:O(C.value?`--color-theme-8: ${C.value};`:"")},{default:r(()=>[t(we),l("div",Ht,[z[0]||(z[0]=l("div",{class:"pointer-events-none absolute inset-0 w-full transition-all duration-500",style:{background:"linear-gradient(to bottom, hsl(from var(--color-theme-8) h s 30%), hsl(from var(--color-theme-8) h s 5%))"}},null,-1)),t(kt,{class:"pt-safe px-6"}),(s(),n(e(_t),{key:e(nt),ref_key:"swiper",ref:i,"initial-slide":a.value,loop:!0,"slides-per-view":1,class:"w-available swiper isolate z-0 mb-4",onTouchEnd:L},{default:r(()=>[(s(!0),k(K,null,me(B.value??[],(V,se)=>(s(),n(e(pt),{key:V.id,"data-id":V.id,"data-index":se,class:"h-full"},{default:r(()=>[l("div",Ot,[(s(),n(ke,{key:V.id,data:V,loading:se===a.value?"eager":m.value,"class-name":"pointer-events-none relative aspect-square h-auto overflow-clip rounded-md w-inherit shadow"},null,8,["data","loading"]))])]),_:2},1032,["data-id","data-index"]))),128))]),_:1},8,["initial-slide"])),t(zt,{class:"px-6"}),t(Ne,{class:"children:!mx-0 gap-4 px-6"}),t(Vt)]),l("div",Rt,[l("div",At,[l("span",null,d(g.$t("Lyrics")),1),t(F,{onclick:S,class:"ml-auto",label:"expand"},{default:r(()=>[o.value==="full"?(s(),n(y,{key:0,class:"h-5 w-5",icon:"arrowExitFullscreen"})):(s(),n(y,{key:1,class:"h-5 w-5",icon:"arrowEnterFullscreen"}))]),_:1})]),z[1]||(z[1]=l("div",{class:"pointer-events-none absolute inset-0 flex items-center justify-center rounded-xl bg-black opacity-3"},null,-1)),l("div",{ref_key:"lyricsContainer",ref:u,class:"relative w-full mb-0 flex-col overflow-auto scroll-smooth rounded-b-2xl p-4 transition-transform duration-150 h-[25rem]"},[t(Ze,{class:"sm:hidden"})],512)])]),_:1},8,["class","style"])]),_:1},8,["is-open"]))}}),Ft=N(Et,[["__scopeId","data-v-4d881a71"]]);b();var qt={class:"flex flex-grow items-center justify-start gap-2.5 overflow-clip w-[65%]"},Wt={class:"frosting relative flex w-10 min-w-10 items-start justify-start gap-2 overflow-hidden rounded"},Dt={class:"w-auto self-stretch text-left text-sm font-medium leading-6 line-clamp-1"},Nt={class:"children:children:children:children:children:leading-6 w-auto self-stretch text-left text-sm"},Gt={class:"flex items-center justify-end gap-1"},Xt={class:"absolute left-0 w-full h-0.5 top-[54px] blur-[1px]"},Ut=M({__name:"MiniPlayer",setup(h){const o=R(()=>lt.value?ye(c.value?.color_palette?.cover,20,160):"var(--color-theme-7)"),f=_(null),u=_(null),v=R(()=>u.value?.offsetWidth),a=_("0"),i=_(1);function m(){a.value="0",i.value=1}const{isSwiping:B,lengthX:C}=be(f,{passive:!0,onSwipe(){if(v.value){const L=Math.abs(C.value);i.value=1.1-L/v.value,C.value<0?a.value=`${L}px`:a.value=`-${L}px`}},onSwipeEnd(){v.value&&(C.value<0&&Math.abs(C.value)/v.value>=.5||C.value>100&&Math.abs(C.value)/v.value>=.5)?(a.value="100%",i.value=0,it.stop(),m()):(a.value="0",i.value=1)}});return(L,S)=>!e(J)&&e(c)?(s(),k("div",{key:0,id:"miniPlayer",ref_key:"container",ref:u,style:O(`--color-theme-8: ${o.value}`),class:"flex absolute w-available justify-between items-center self-stretch bottom-0 h-14 overflow-hidden p-2 bg-surface-1 mt-auto z-0",onClick:S[0]||(S[0]=re=>e(rt)())},[S[2]||(S[2]=l("div",{class:"absolute inset-0 h-full w-full bg-gradient-to-b to-black/40 from-focus/40"},null,-1)),l("div",qt,[l("div",Wt,[e(c)?(s(),n(ke,{key:0,data:e(c),size:100,"class-name":"relative aspect-square h-10 w-10 cursor-pointer overflow-hidden rounded-sm text-focus00 min-w-[2.5rem] min-h-[2.5rem]"},null,8,["data"])):p("",!0)]),l("div",{ref_key:"target",ref:f,class:x([{animated:!e(B)},"relative flex h-full flex-grow flex-col items-start justify-evenly overflow-clip w-inherit"]),style:O({left:a.value,opacity:i.value})},[l("p",Dt,d(e(c)?.name),1),l("p",Nt,[e(c)?(s(),n(ge,{key:0,id:e(c).id,data:e(c).artist_track,type:"artists"},null,8,["id","data"])):p("",!0)])],6)]),l("div",Gt,[t(pe,{"no-name":""}),(s(),n(Me,{key:e(c)?.id+e(c)?.favorite,data:e(c),color:"var(--color-theme-8)"},null,8,["data"])),t(xe,{class:"children:h-7 children:w-7"})]),l("div",Xt,[S[1]||(S[1]=l("div",{class:"absolute w-full h-0.5 left-[-1px] top-[-1px] bg-black/[0.22]"},null,-1)),l("div",{style:O(`width: ${e(ie)}%;`),class:"w-0 h-0.5 absolute left-[-1px] top-[-1px] rounded-sm bg-gradient-to-r from-black/5 to-[var(--color-theme-8)] z-10"},null,4),l("div",{style:O(`left: ${e(ie)}%;`),class:"w-1 h-0.5 absolute top-[-1px] rounded-sm bg-[#f1EEFE] -translate-x-[2px] z-0"},null,4)])],4)):p("",!0)}}),Qt=Ut,Zt="data:image/svg+xml,%3csvg%20id='home1'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%3e%3cpath%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.5'%20d='M9%2019H7.6c-1.5%200-2.25%200-2.776-.382a2%202%200%200%201-.442-.442C4%2017.65%204%2016.9%204%2015.4V9.995c0-.865%200-1.297.162-1.674a2%202%200%200%201%20.196-.354c.234-.337.6-.566%201.334-1.024l4.4-2.75c.822-.514%201.233-.771%201.685-.822q.223-.026.446%200c.452.05.863.308%201.685.821l4.4%202.75c.733.459%201.1.688%201.334%201.025q.116.167.196.354c.162.377.162.81.162%201.674V15.4c0%201.5%200%202.25-.382%202.776q-.187.256-.442.442C18.65%2019%2017.9%2019%2016.4%2019H15m-6%200h6m-6%200v-3c0-.932%200-1.398.152-1.765a2%202%200%200%201%201.083-1.083C10.602%2013%2011.068%2013%2012%2013v0c.932%200%201.398%200%201.765.152a2%202%200%200%201%201.083%201.083C15%2014.602%2015%2015.068%2015%2016v3'%20/%3e%3c/svg%3e",Yt="data:image/svg+xml,%3csvg%20id='noteEighthPair'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%3e%3cpath%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.5'%20d='M9%207.5V6l10-3v1.5m-10%203%2010-3m-10%203v11.117M19%204.5v12.32m0%200a2.2%202.2%200%200%200-.5-1.364m.5%201.364a2.42%202.42%200%200%201-.5%201.476m-15-.56c-.433.59-.609%201.302-.423%201.989.082.303.228.576.423.812m0-2.801v2.801m0-2.801a3.2%203.2%200%200%201%201-.88m-1%203.681a2.6%202.6%200%200%200%201%20.723m0-4.404a3.6%203.6%200%200%201%201-.388m-1%20.388v4.404m0%200c.306.128.645.209%201%20.235m0-5.027v5.027m0-5.027a3.6%203.6%200%200%201%201-.086m-1%205.113c.323.023.66.002%201-.07m0-5.043v5.043m0-5.043c.356.02.694.098%201%20.223m-1%204.82a3.6%203.6%200%200%200%201-.37m0-4.45v4.451m0-4.451c.398.163.742.41%201%20.723m-1%203.728a3.1%203.1%200%200%200%201-.864m0-2.864c.197.239.345.517.429.828.19.705.015%201.436-.429%202.036m0-2.864v2.864m5-4.368c-.445.595-.627%201.316-.44%202.011.085.313.236.592.44.832m0-2.843v2.843m0-2.843c.254-.34.594-.638%201-.867m-1%203.71c.26.306.604.548%201%20.71m0-4.42a3.6%203.6%200%200%201%201-.382m-1%20.382v4.42m0%200c.307.127.645.205%201%20.23m0-5.032v5.032m0-5.032c.34-.076.678-.1%201-.08m-1%205.112c.323.022.66-.001%201-.074m0-5.038v5.038m0-5.038c.356.024.694.103%201%20.23m-1%204.808a3.6%203.6%200%200%200%201-.373m0-4.434v4.434m0-4.434c.398.166.742.415%201%20.73m-1%203.704a3.1%203.1%200%200%200%201-.864m0-2.84v2.84'%20/%3e%3c/svg%3e",Jt="data:image/svg+xml,%3csvg%20id='searchMagnifyingGlass'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%3e%3cpath%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.5'%20d='m20%2020-5.757-5.757m0%200a6%206%200%201%200-8.485-8.485%206%206%200%200%200%208.485%208.485'%20/%3e%3c/svg%3e",Kt="data:image/svg+xml,%3csvg%20id='folder'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%3e%3cpath%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.5'%20d='M20%2012v-.05c0-1.822%200-2.733-.382-3.416a3%203%200%200%200-1.152-1.152C17.783%207%2016.872%207%2015.05%207h-.636c-.168%200-.253%200-.334-.004a3%203%200%200%201-1.84-.763A6%206%200%200%201%2012%206v0a6%206%200%200%200-.24-.233%203%203%200%200%200-1.84-.763C9.839%205%209.754%205%209.586%205H8.95c-1.822%200-2.733%200-3.416.382a3%203%200%200%200-1.152%201.152C4%207.217%204%208.128%204%209.95V12m16%200v1.6c0%202.25%200%203.375-.573%204.163q-.28.384-.664.664C17.975%2019%2016.85%2019%2014.6%2019H9.4c-2.25%200-3.375%200-4.163-.573a3%203%200%200%201-.664-.664C4%2016.975%204%2015.85%204%2013.6V12m16%200a2%202%200%200%200-2-2H6a2%202%200%200%200-2%202v0'%20/%3e%3c/svg%3e",de="data:image/svg+xml,%3csvg%20id='link'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%3e%3cpath%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.5'%20d='M9.879%2014.121%2014.12%209.88m-.707%206.364L12%2017.657a4%204%200%200%201-5.657%200v0a4%204%200%200%201%200-5.657l1.414-1.414m8.486%202.828L17.657%2012a4%204%200%200%200%200-5.657v0a4%204%200%200%200-5.657%200l-1.414%201.414'%20/%3e%3c/svg%3e",e0="data:image/svg+xml,%3csvg%20id='arrowRefreshVertical'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%3e%3cpath%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.5'%20d='M14.002%2020C17.383%2018.688%2020%2015.783%2020%2012.02a8.02%208.02%200%200%200-5.5-7.62M14.002%2020l4.498.375M14.002%2020l1.498-4.125M9.998%204C6.617%205.312%204%208.217%204%2011.98a8.02%208.02%200%200%200%205.5%207.62M9.998%204%208.5%208.125M9.998%204%205.5%203.625'%20/%3e%3c/svg%3e",t0="data:image/svg+xml,%3csvg%20id='doorOpen'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%3e%3cpath%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.5'%20d='M12.5%2012h-1M17%206a2%202%200%200%201%202%202v8a2%202%200%200%201-2%202v0M6.608%2019.322l6%201.2A2%202%200%200%200%2015%2018.56V5.44a2%202%200%200%200-2.392-1.962l-6%201.2A2%202%200%200%200%205%206.64v10.72a2%202%200%200%200%201.608%201.962'%20/%3e%3c/svg%3e",l0="data:image/svg+xml,%3csvg%20id='gridMasonry'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%3e%3cpath%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.5'%20d='M4%2011V5a1%201%200%200%201%201-1h4a1%201%200%200%201%201%201v6a1%201%200%200%201-1%201H5a1%201%200%200%201-1-1m10-4V5a1%201%200%200%201%201-1h4a1%201%200%200%201%201%201v2a1%201%200%200%201-1%201h-4a1%201%200%200%201-1-1m6%206v6a1%201%200%200%201-1%201h-4a1%201%200%200%201-1-1v-6a1%201%200%200%201%201-1h4a1%201%200%200%201%201%201m-10%204v2a1%201%200%200%201-1%201H5a1%201%200%200%201-1-1v-2a1%201%200%200%201%201-1h4a1%201%200%200%201%201%201'%20/%3e%3c/svg%3e",a0="data:image/svg+xml,%3csvg%20id='monitor'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%3e%3cpath%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.5'%20d='M4%2013c0%20.932%200%201.398.152%201.765a2%202%200%200%200%201.083%201.083C5.602%2016%206.068%2016%207%2016h3m-6-3V7.6c0-1.5%200-2.25.382-2.776a2%202%200%200%201%20.442-.442C5.35%204%206.1%204%207.6%204h8.8c1.5%200%202.25%200%202.776.382q.256.187.442.442C20%205.35%2020%206.1%2020%207.6V13M4%2013h16m0%200c0%20.932%200%201.398-.152%201.765a2%202%200%200%201-1.083%201.083C18.398%2016%2017.932%2016%2017%2016h-3m-4%200v4m0-4h4m-4%204h4m-4%200H7m7%200v-4m0%204h3'%20/%3e%3c/svg%3e",r0="data:image/svg+xml,%3csvg%20id='moonDiagonal'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%3e%3cpath%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.5'%20d='M12%203.999A8%208%200%200%200%2012%2012a8%208%200%200%200%206.93%204.001A8%208%200%201%201%2012%203.998'%20/%3e%3c/svg%3e",s0="data:image/svg+xml,%3csvg%20id='serverSwitch'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%3e%3cpath%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.5'%20d='M7%2016h1m3%200h6M4%2016a3%203%200%200%200%203%203h10a3%203%200%200%200%203-3v0M4%2016a3%203%200%200%201%203-3h10a3%203%200%200%201%203%203v0M4%2016l.752-8.272A3%203%200%200%201%207.74%205H9.5M20%2016l-.5-4M12%208h1.301a3%203%200%200%200%202.573-1.457L16.5%205.5M12%203h1.3a3%203%200%200%201%202.573%201.457L16.5%205.5M21%208h-1.301a3%203%200%200%201-2.573-1.457L16.5%205.5M21%208l-1-1m1%201-1%201m-3.5-3.5.626-1.044A3%203%200%200%201%2019.698%203H21m0%200-1-1m1%201-1%201'%20/%3e%3c/svg%3e";b();ae();var o0={class:"flex flex-col justify-start items-start flex-grow relative gap-0.5"},n0={class:"flex-grow-0 flex-shrink-0 w-48 text-base font-semibold text-left"},i0={class:"flex justify-start items-center self-stretch flex-grow-0 flex-shrink-0 relative gap-0.5"},u0={class:"flex-grow text-sm text-left text-slate-3 dark:text-slate-3"},c0=M({__name:"ProfileMenuServerSection",setup(h){return(o,f)=>(s(),n(e(U),{class:"flex justify-start items-center self-stretch flex-grow-0 flex-shrink-0 relative gap-2.5 mb-2",to:"/preferences/profile"},{default:r(()=>[t(_e,{size:40,user:e(le)},null,8,["user"]),l("div",o0,[l("p",n0,d(e(le).name),1),l("div",i0,[e(q)?(s(),n(e(w),{key:0,icon:e(de),"aria-hidden":"true",class:"w-4 h-4"},null,8,["icon"])):(s(),n(e(w),{key:1,icon:e(de),"aria-hidden":"true",class:"w-4 h-4"},null,8,["icon"])),l("p",u0,d(e(q)?.name??o.$t("Not connected")),1)])])]),_:1}))}}),d0=c0;b();var f0={key:0,class:"h-1 w-8 flex-shrink-0 flex-grow-0 bg-black/25 rounded-[360px] dark:bg-white/25"},v0={key:1,class:"h-1 w-8 flex-shrink-0 flex-grow-0"},m0=M({__name:"BottomFlyout",props:{menuOpen:{type:Boolean,required:!0},closeMenu:{type:Function,required:!0},allowSwipeToClose:{type:Boolean,default:!0}},setup(h){const o=h,f=_(null),u=_(null),v=R(()=>u.value?.offsetHeight),a=_("-125%");Z(o,B=>{B.menuOpen?a.value="0":a.value="-125%"});const{isSwiping:i,lengthY:m}=be(f,{passive:!0,onSwipe(){v.value&&o.allowSwipeToClose&&(m.value<0?a.value=`${-Math.abs(m.value)}px`:a.value="0")},onSwipeEnd(B){m.value<0&&v.value&&Math.abs(m.value)/v.value>=.25?(a.value="-125%",o.closeMenu()):a.value="0"}});return(B,C)=>(s(),k(K,null,[l("div",{class:x([{"bg-black/25 dark:bg-black/50 ":h.menuOpen,"pointer-events-none":!h.menuOpen},"h-screen absolute w-available flex-shrink-0 flex-grow-0 transition-colors duration-200"])},null,2),l("div",{ref_key:"target",ref:f,class:x([{"transition-bottom duration-200 ease-in-out ":!e(i)},"fixed flex w-full flex-shrink-0 flex-grow-0 select-none bg-surface-1 flex-col items-center justify-end gap-3 overflow-hidden rounded-t-3xl rounded-tl-lg rounded-tr-lg p-2 px-0 -bottom-[125%]"]),style:O({bottom:a.value})},[h.allowSwipeToClose?(s(),k("div",f0)):(s(),k("div",v0)),l("div",{ref_key:"container",ref:u,class:"flex flex-shrink-0 w-available flex-grow-0 flex-col items-start justify-start self-stretch overflow-hidden"},[ze(B.$slots,"default")],512)],6)],64))}}),p0=m0;Fe();Ae();var fe=qe("Browser",{web:()=>Ce(()=>import("./web-VWMHENe7.js"),__vite__mapDeps([0,1,2,3])).then(h=>new h.BrowserWeb)});const _0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M336 0H176a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h160a64 64 0 0 0 64-64V64a64 64 0 0 0-64-64m32 448a32 32 0 0 1-32 32H176a32 32 0 0 1-32-32V64a32 32 0 0 1 32-32h11.35a7.94 7.94 0 0 1 7.3 4.75A32 32 0 0 0 224 56h64a32 32 0 0 0 29.35-19.25 7.94 7.94 0 0 1 7.3-4.75H336a32 32 0 0 1 32 32Z'/><path d='M336 48a11.88 11.88 0 0 0-9.53 4.69A48 48 0 0 1 288 72h-64a48 48 0 0 1-38.47-19.31A11.88 11.88 0 0 0 176 48a16 16 0 0 0-16 16v384a16 16 0 0 0 16 16h160a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16'/><path d='M336 0H176a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h160a64 64 0 0 0 64-64V64a64 64 0 0 0-64-64m32 448a32 32 0 0 1-32 32H176a32 32 0 0 1-32-32V64a32 32 0 0 1 32-32h11.35a7.94 7.94 0 0 1 7.3 4.75A32 32 0 0 0 224 56h64a32 32 0 0 0 29.35-19.25 7.94 7.94 0 0 1 7.3-4.75H336a32 32 0 0 1 32 32Z'/></svg>";b();ae();var h0={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},g0={class:"flex-grow w-full text-lg font-medium text-left"},w0={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},x0={class:"flex-grow w-full text-lg font-medium text-left"},y0={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},b0={class:"flex-grow w-full text-lg font-medium text-left"},k0={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},M0={class:"flex-grow w-full text-lg font-medium text-left"},C0={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},$0={class:"flex-grow w-full text-lg font-medium text-left"},P0={class:"flex justify-center items-center flex-grow relative gap-2 px-2 w-available",for:"ion-tg-0"},B0={class:"flex-grow w-full text-lg font-medium text-left"},S0={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},j0={class:"flex-grow w-full text-lg font-medium text-left"},z0=M({__name:"ProfileMenu",setup(h){const o=()=>window.location.reload(),f=ve();async function u(){Q("android")&&fe.open({url:`tv.nomercy.app://${f.path}`}).then(()=>{setTimeout(async()=>{await fe.open({url:`tv.nomercy.app://${f.path}`})},1e3)})}return(v,a)=>(s(),n(p0,{"close-menu":e(I),"menu-open":e(J)},{default:r(()=>[t(e(Se),null,{default:r(()=>[t(e(j),{lines:"inset"},{default:r(()=>[t(d0)]),_:1}),e(te).length>0?(s(),n(e(j),{key:0,lines:"inset"},{default:r(()=>[t(e(U),{class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent",to:"/setup/select-servers"},{default:r(()=>[t(e(H)),a[4]||(a[4]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(w),{icon:e(s0),"aria-hidden":"true","class-name":"size-8 min-w-8"},null,8,["icon"]),l("div",h0,[l("p",g0,d(v.$t("Switch server")),1)])]),_:1})]),_:1})):p("",!0),e(te).length>0?(s(),n(e(j),{key:1,lines:"none"},{default:r(()=>[t(e(U),{class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent",to:"/preferences/display"},{default:r(()=>[t(e(H)),a[5]||(a[5]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(w),{icon:e(a0),"aria-hidden":"true","class-name":"size-8 min-w-8"},null,8,["icon"]),l("div",w0,[l("p",x0,d(v.$t("Preferences")),1)])]),_:1})]),_:1})):p("",!0),e(te).length>0?(s(),n(e(j),{key:2,lines:"none"},{default:r(()=>[t(e(U),{class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent",to:"/dashboard/system"},{default:r(()=>[t(e(H)),a[6]||(a[6]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(w),{icon:e(l0),"aria-hidden":"true","class-name":"size-8 min-w-8"},null,8,["icon"]),l("div",y0,[l("p",b0,d(v.$t("System")),1)])]),_:1})]),_:1})):p("",!0),t(e(j),{lines:"none"},{default:r(()=>[l("button",{class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent","no-ring":"",onClick:a[0]||(a[0]=i=>o())},[t(e(H)),a[7]||(a[7]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(w),{icon:e(e0),"aria-hidden":"true","class-name":"size-8 min-w-8"},null,8,["icon"]),l("div",k0,[l("p",M0,d(v.$t("Refresh")),1)])])]),_:1}),!e(Q)("capacitor")&&e(Q)("android")?(s(),n(e(j),{key:3,lines:"none"},{default:r(()=>[l("button",{class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent","no-ring":"",onClick:u},[t(e(H)),a[8]||(a[8]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(w),{icon:e(_0),"aria-hidden":"true","class-name":"size-8 min-w-8"},null,8,["icon"]),l("div",C0,[l("p",$0,d(v.$t("Open in App")),1)])])]),_:1})):p("",!0),t(e(j),{lines:"none"},{default:r(()=>[l("button",{class:"flex justify-center items-center self-stretch w-available h-full flex-grow-0 flex-shrink-0 relative pl-2 py-2.5 rounded-md bg-transparent border border-transparent","no-ring":"",onClick:a[2]||(a[2]=i=>G.value=e(G)==="light"?"dark":"light")},[t(e(w),{icon:e(r0),"aria-hidden":"true","class-name":"size-8 min-w-8"},null,8,["icon"]),l("label",P0,[l("span",B0,d(v.$t("Dark mode")),1)]),t(mt,{id:"toggleScheme","model-value":e(G)==="dark","onUpdate:modelValue":a[1]||(a[1]=i=>G.value=i?"dark":"light")},null,8,["model-value"])])]),_:1}),t(e(j),{lines:"none"},{default:r(()=>[l("button",{class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent","no-ring":"",onClick:a[3]||(a[3]=i=>e(dt)())},[t(e(H)),a[9]||(a[9]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(w),{icon:e(t0),"aria-hidden":"true","class-name":"size-8 min-w-8"},null,8,["icon"]),l("div",S0,[l("p",j0,d(v.$t("Logout")),1)])])]),_:1})]),_:1})]),_:1},8,["close-menu","menu-open"]))}}),T0=N(z0,[["__scopeId","data-v-f8b78dde"]]);b();var I0={class:"relative mx-auto flex flex-col rounded-full min-h-8 size-8 top-1.5 mb-2 mt-2.5 bg-black"},L0=M({__name:"BottomBar",setup(h){return(o,f)=>(s(),n(e(Re),{slot:"bottom",class:x([{"hide-bg":e(J)},"w-available overflow-clip text-scheme-12 bg-surface-1 dark:bg-surface-2"]),mode:"md","selected-tab":"home"},{default:r(()=>[e(q)?(s(),n(e(E),{key:0,href:"/home",rip:"",tab:"home",onClick:e(I)},{default:r(()=>[t(e(w),{icon:e(Zt),"aria-hidden":"true"},null,8,["icon"]),t(e(P),null,{default:r(()=>[$(d(o.$t("Home")),1)]),_:1})]),_:1},8,["onClick"])):p("",!0),t(e(E),{href:"/search",tab:"search",onClick:e(I)},{default:r(()=>[t(e(w),{icon:e(Jt),"aria-hidden":"true"},null,8,["icon"]),t(e(P),null,{default:r(()=>[$(d(o.$t("Search")),1)]),_:1})]),_:1},8,["onClick"]),e(q)?(s(),n(e(E),{key:1,href:"/libraries",tab:"library",onClick:e(I)},{default:r(()=>[t(e(w),{icon:e(Kt),"aria-hidden":"true",class:"icon"},null,8,["icon"]),t(e(P),null,{default:r(()=>[$(d(o.$t("Library")),1)]),_:1})]),_:1},8,["onClick"])):p("",!0),e(q)?(s(),n(e(E),{key:2,href:"/music/start",tab:"music",onClick:e(I)},{default:r(()=>[t(e(w),{icon:e(Yt),"aria-hidden":"true"},null,8,["icon"]),t(e(P),null,{default:r(()=>[$(d(o.$t("Music")),1)]),_:1})]),_:1},8,["onClick"])):p("",!0),t(e(E),{"_on-click":e(ce),class:x([{"tab-selected":e(J)},"hide-bg"]),tab:"/dashboard",onClick:e(ce)},{default:r(()=>[l("div",I0,[t(ft,{alt:"NoMercy Logo",class:"absolute w-8 h-8 rounded-full p-1.5"}),t(_e,{size:52,user:e(le),class:"absolute"},null,8,["user"])]),t(e(P),null,{default:r(()=>[$(d(o.$t("Profile")),1)]),_:1})]),_:1},8,["_on-click","class","onClick"])]),_:1},8,["class"]))}}),V0=N(L0,[["__scopeId","data-v-bfcfc5ff"]]);b();ae();var H0=M({__name:"MobileLibraryHeader",setup(h){const o=["/libraries/","/genre"],f=["/collection","/specials","/person"],u=ve(),v=_(o.some(a=>u.fullPath.startsWith(a))||f.some(a=>u.fullPath.endsWith(a)));return T.afterEach(a=>{v.value=o.some(i=>a.fullPath.startsWith(i))||f.some(i=>a.fullPath.endsWith(i))}),(a,i)=>v.value?(s(),n(e(Ee),{key:0,class:"transition-all duration-200 toolbar"},{default:r(()=>[t(e(Le),{scrollable:!0,value:e(u).fullPath,mode:"ios"},{default:r(()=>[(s(!0),k(K,null,me(e(oe)?.filter(m=>m.type!=="music")??[],m=>(s(),n(e(A),{key:m.id,class:x({"bg-focus":e(u).fullPath.startsWith(`/libraries/${m.id}`)}),value:`/libraries/${m.id}`,layout:"icon-start",onClick:()=>e(T).push(`/libraries/${m.id}`)},{default:r(()=>[t(y,{class:"mr-2",icon:"folder"}),t(e(P),null,{default:r(()=>[$(d(m.title),1)]),_:2},1024)]),_:2},1032,["class","value","onClick"]))),128)),e(oe)?.some?.(m=>m.type==="movie")?(s(),n(e(A),{key:0,class:x({"bg-focus":e(u).fullPath.startsWith("/collection")}),layout:"icon-start",value:"/collection",onClick:i[0]||(i[0]=()=>e(T).push("/collection"))},{default:r(()=>[t(y,{class:"mr-2",icon:"collection1"}),t(e(P),null,{default:r(()=>[$(d(a.$t("Collections")),1)]),_:1})]),_:1},8,["class"])):p("",!0),t(e(A),{class:x({"bg-focus":e(u).fullPath.startsWith("/specials")}),layout:"icon-start",value:"/specials",onClick:i[1]||(i[1]=()=>e(T).push("/specials"))},{default:r(()=>[t(y,{class:"mr-2",icon:"sparkles"}),t(e(P),null,{default:r(()=>[$(d(a.$t("Specials")),1)]),_:1})]),_:1},8,["class"]),t(e(A),{class:x({"bg-focus":e(u).fullPath.startsWith("/genre")}),layout:"icon-start",value:"/genre",onClick:i[2]||(i[2]=()=>e(T).push("/genre"))},{default:r(()=>[t(y,{class:"mr-2",icon:"witchHat"}),t(e(P),null,{default:r(()=>[$(d(a.$t("Genres")),1)]),_:1})]),_:1},8,["class"]),t(e(A),{class:x({"bg-focus":e(u).fullPath.startsWith("/person")}),layout:"icon-start",value:"/person",onClick:i[3]||(i[3]=()=>e(T).push("/person"))},{default:r(()=>[t(y,{class:"mr-2",icon:"user"}),t(e(P),null,{default:r(()=>[$(d(a.$t("People")),1)]),_:1})]),_:1},8,["class"])]),_:1},8,["value"])]),_:1})):p("",!0)}}),O0=N(H0,[["__scopeId","data-v-8f1adf18"]]);b();var R0=M({__name:"BaseLayout",setup(h){const o=et();return Pe(()=>{ut(),T.beforeEach(()=>{I()})}),Ve(()=>{ct()}),(f,u)=>(s(),n(e(Oe),{id:"main-content"},{default:r(()=>[t(e(Be),null,{default:r(()=>[e(o)>0?(s(),n(e(je),{key:0,class:"absolute top-0 z-1199 bg-black",type:"indeterminate"})):p("",!0),t(we),t(O0),t(e(He)),t(T0),t(he,{class:"!z-10"}),t(V0),e(c)?.id?(s(),n(Ft,{key:e(Y)?"full-player-open":"full-player-closed"})):p("",!0),(s(),n(Qt,{key:e(Y)?"mini-player-closed":"mini-player-open"})),(s(),n($e,null,{default:r(()=>[t(We)]),_:1}))]),_:1})]),_:1}))}}),Kl=N(R0,[["__scopeId","data-v-3c4820a4"]]);export{Kl as default};
