import{$s as s,As as r,Bn as O,Ds as V,Jo as y,Ls as P,Ms as R,Ps as j,Us as d,Vs as G,Ys as k,_i as F,ac as U,cs as J,do as X,hs as v,ls as b,nc as n,oc as Y,os as w,ps as _,rc as z,rn as C,ss as p,ta as H,ts as T,za as K,zi as q}from"./index-ZKQbrg8Z.js";import{a as o,c as f,f as m,h as B,l as S,o as Q,p as E,t as N,u as M}from"./imageModal-DeTRDl_0.js";import{t as W}from"./OptimizedIcon-9z037yvI.js";import{t as Z}from"./TMDBImage-DEPpdFp6.js";import{n as A}from"./swiper-vue-CfhPYMrK.js";import{t as D}from"./Carousel-C7N0bpZ5.js";import{t as ee}from"./PersonCard-CKoQoWDM.js";y();var te={class:"relative flex flex-shrink-0 flex-grow-0 items-center justify-start gap-2 px-1"},ae={class:"flex-shrink-0 flex-grow-0 text-center text-sm font-medium"},re=v({__name:"GenrePill",props:{genre:{type:Object,required:!0}},setup(t){return(a,u)=>{const l=j("RouterLink");return r(),p(l,{class:z([n(q)(t.genre?.name).iconBg,"relative flex flex-shrink-0 flex-grow-0 items-center justify-start rounded-2xl px-2 py-0.5 hover:!grayscale-0 bg-theme-5 border-theme-3 border-1 text-surface-12/12 hover:shadow-[0px_0px_0_3px_var(--color-theme-6)]"]),to:`/genre/${t.genre?.id}`},{default:d(()=>[_(W,{icon:n(q)(t.genre?.name).icon,"class-name":"relative w-5 flex-shrink-0 flex-grow-0 group-hover/card:text-theme-5"},null,8,["icon"]),w("div",te,[w("p",ae,Y(t.genre?.name),1)])]),_:1},8,["class","to"])}}}),xe=re;y();var le=v({__name:"PersonCarousel",props:{data:{type:Array,required:!0},title:{type:String,required:!0},limitCardCountBy:{type:Number,required:!1}},setup(t){return(a,u)=>(r(),p(D,{title:t.title,"limit-card-count-by":t.limitCardCountBy,type:"poster","disable-auto-aspect":!0},{default:d(()=>[(r(!0),b(T,null,R(t.data,l=>(r(),p(n(A),{key:l.id,class:"flex sm:p-1 pl-0"},{default:d(()=>[_(ee,{data:l,class:""},null,8,["data"])]),_:2},1024))),128))]),_:1},8,["title","limit-card-count-by"]))}}),he=le;y();var se=["onfocus","onClick"],oe=v({__name:"ImageCard",props:{data:{type:Object,required:!0},aspect:{type:String,required:!1,default:"poster"},setData:{type:Function,required:!0},limitCardCountBy:{type:Number,required:!1}},setup(t){const a=t,u=O(a.data?.color_palette?.poster??a.data?.color_palette?.backdrop);return(l,i)=>i[0]||(P(-1,!0),(i[0]=t.data?(r(),b("button",{key:0,onfocus:n(F),style:U(n(u)?`
       --color-theme-8: ${n(u)};
    `:""),class:"frosting border-0 border-[var(--color-theme-8)] flex flex-col h-auto items-center focus-shift focus-outline transition-all duration-200 relative !rounded-lg select-none shadow-[0px_0px_0_1px_rgb(from_var(--color-theme-8,var(--color-theme-6))_r_g_b/70%)] w-full z-0 bg-surface-1/8","data-card":"true",onClick:g=>t.setData(t.data)},[w("span",{class:z([t.aspect==="poster"?" aspect-poster":"aspect-backdrop","relative h-auto w-full cursor-pointer overflow-clip rounded-lg"])},[_(Z,{aspect:t.aspect,"color-palette":t.data?.color_palette?.image,path:t.data?.src,size:t.aspect==="poster"?162:660,title:t.data?.name,class:"!relative","class-name":"inset-0 h-full w-full overflow-clip rounded-lg",type:"image"},null,8,["aspect","color-palette","path","size","title"])],2)],12,se)):J("",!0)).cacheIndex=0,P(1),i[0])}}),ne=oe;y();K();var ue=v({__name:"ImageCarousel",props:{data:{type:Array,required:!0},title:{type:String,required:!0},type:{type:String,required:!1,default:"poster"}},setup(t){const a=t,u=k(!1),l=k();function i(e){f({...e,color_palette:s(e.color_palette)?s(e.color_palette):{image:s(C.value)},aspectRatio:a.type==="poster"?"2/3":"16/9"}),m({type:a.type,index:a.data.indexOf(e)}),Q(a.type),S(!0)}function g(){const e=a.data[o.value-1];e&&(m({index:o.value-1,type:B.value.type}),f({...e,color_palette:e.color_palette?s(e.color_palette):{image:s(C.value)},aspectRatio:a.type==="poster"?"2/3":"16/9"}),M(o.value-1))}function x(){const e=a.data[o.value+1];e&&(m({index:o.value+1,type:B.value.type}),f({...e,color_palette:e.color_palette?s(e.color_palette):{image:s(C.value)},aspectRatio:a.type==="poster"?"2/3":"16/9"}),M(o.value+1))}const h=k();function L(){clearInterval(h.value),h.value=setInterval(()=>{a.data[o.value+1]||m({index:0,type:a.type}),x()},15*1e3)}function c(){clearInterval(h.value)}G(E,e=>{e||c()}),H(window,"keyup",e=>{document.activeElement.nodeName!=="TEXTAREA"&&document.activeElement.nodeName!=="INPUT"&&(e.key==="Enter"&&E.value||N.value===a.type&&(e.key==="ArrowLeft"&&(c(),g()),e.key==="ArrowRight"&&(c(),x()),e.key===" "&&(u.value?c():L()),(e.key==="Escape"||e.key==="Backspace")&&(f(null),S(!1),c())))}),V(()=>{l.value=X({el:document.querySelector("#imageModal"),onStart:()=>void 0,onMove:e=>$(e),onEnd:()=>void 0,gestureName:"swipe"})});function $({velocityX:e}){N.value===a.type&&(e>0?g():x())}function ie(){}function ce(){}return(e,de)=>(r(),p(D,{title:`${t.title}s`,type:t.type,"disable-auto-aspect":t.type==="poster"},{default:d(()=>[(r(!0),b(T,null,R(t.data,I=>(r(),p(n(A),{key:I.id,class:"flex"},{default:d(()=>[_(ne,{data:I,aspect:t.type,"set-data":i},null,8,["data","aspect"])]),_:2},1024))),128))]),_:1},8,["title","type","disable-auto-aspect"]))}}),ke=ue;export{he as n,xe as r,ke as t};
