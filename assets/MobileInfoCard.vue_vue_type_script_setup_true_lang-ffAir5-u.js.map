{"version":3,"file":"MobileInfoCard.vue_vue_type_script_setup_true_lang-ffAir5-u.js","sources":["../../src/views/Base/Info/components/MobileInfoCard.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { computed, type PropType } from \"vue\";\nimport { useRoute } from \"vue-router\";\n\nimport type { LibraryResponse } from \"@/types/api/base/library\";\nimport type { InfoResponse } from \"@/types/api/base/info\";\nimport type { ContinueWatching, HomeItem } from \"@/types/api/base/home\";\nimport type { Collection, CollectionResponse } from \"@/types/api/base/collection\";\nimport type { PlaylistItem } from \"@/types/musicPlayer\";\n\nimport { isNative } from \"@/config/global\";\nimport useServerClient from \"@/lib/clients/useServerClient\";\n\nimport CardShadow from \"@/components/Cards/CardShadow.vue\";\nimport MediaLikeButton from \"@/components/Buttons/MediaLikeButton.vue\";\nimport MoooomIcon from \"@/components/Images/icons/MoooomIcon.vue\";\nimport TMDBImage from \"@/components/Images/TMDBImage.vue\";\nimport { poster } from \"@/store/ui\";\n\nconst route = useRoute();\n\nconst props = defineProps({\n  data: {\n    type: Object as PropType<LibraryResponse | InfoResponse | HomeItem | ContinueWatching | Collection | PlaylistItem | CollectionResponse | undefined>,\n    required: false,\n  },\n  toggleTrailer: {\n    type: Function as PropType<() => void>,\n    required: false,\n  },\n});\n\nconst { data: hasItem } = useServerClient<{ available: boolean; server: string; }>({\n  path: `${route?.fullPath}/available`,\n});\n\nconst playbackStatus = computed(() => {\n  if (hasItem.value?.available) {\n    return 'Watch';\n  }\n  if (!props.data) {\n    return 'Loading';\n  }\n  return 'Unavailable';\n});\n\nconst title = computed(() => {\n  // @ts-ignore\n  return props.data?.title ?? props.data?.name;\n});\n\n</script>\n\n<template>\n  <div v-if=\"data?.poster || poster\"\n    class=\"frosting flex-grow-0 flex-shrink-0 w-[280px] h-[420px] z-10 absolute left-1/2 -translate-x-1/2 overflow-clip rounded-2xl\"\n    :class=\"{\n      'top-safe-offset-12': isNative,\n      'top-12': !isNative,\n    }\">\n\n    <div\n      class=\"flex flex-col justify-start items-start w-[280px] absolute left-0 top-0 bg-cover bg-no-repeat bg-center\">\n      <TMDBImage :key=\"poster ?? 'poster'\" :autoShadow=\"true\" :path=\"data?.poster ?? poster\" :colorPalette=\"data?.color_palette?.poster\"\n        :size=\"760\" priority=\"high\" :title=\"title\" aspect=\"poster\" loading=\"eager\"\n        className=\"pointer-events-none absolute -inset-1 z-20 flex h-auto scale-100 select-none items-center place-self-start overflow-hidden w-available h-available max-h-available\"\n        class=\"m-auto children:w-full scale-100 max-h-available 5xl:w-inherit\" type=\"image\" />\n    </div>\n\n    <CardShadow colored />\n\n    <div class=\"flex justify-start items-start w-[280px] absolute left-0 top-[348px] gap-4 p-4 z-40\">\n\n      <RouterLink :to=\"`${data?.link}/watch`\"\n        class=\"frosting flex justify-start items-center flex-grow h-10 relative overflow-hidden gap-2 px-2 py-4 rounded-3xl bg-white/80\"\n        :disabled=\"!hasItem?.available\" :class=\"{ 'opacity-70': !hasItem?.available }\">\n        <p class=\"flex-grow w-[100px] text-[15px] font-semibold text-center text-[#151718]\">\n          {{ $t(playbackStatus) }}\n        </p>\n      </RouterLink>\n\n      <button v-if=\"toggleTrailer\" @click=\"toggleTrailer()\"\n              class=\"frosting flex justify-start items-center flex-grow h-10 relative overflow-hidden gap-2 px-2 py-4 rounded-3xl text-slate-light-1 bg-slate-light-12\">\n        <p class=\"flex-grow w-[100px] text-[15px] font-semibold text-center\">\n          {{ $t(!data ? 'loading' : 'Trailer') }}\n        </p>\n      </button>\n\n    </div>\n\n    <div class=\"flex justify-end items-start w-[280px] absolute left-0 top-0 gap-2 p-4\">\n      <div\n        class=\"flex justify-start items-center flex-grow-0 flex-shrink-0 relative overflow-hidden gap-2 p-2 rounded-3xl bg-black/[0.48] border border-black/2 w-10 h-10\">\n        <MoooomIcon icon=\"check\" className=\"w-6 text-white\" />\n      </div>\n      <div\n        class=\"flex justify-start items-center flex-grow-0 flex-shrink-0 relative overflow-hidden gap-2 rounded-3xl bg-black/[0.48] border border-black/2\">\n        <MediaLikeButton :data=\"data\" class=\"!p-0 text-white\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped></style>"],"names":["route","useRoute","props","__props","hasItem","useServerClient","playbackStatus","computed","_a","title","_b"],"mappings":"ooCAmBA,MAAMA,EAAQC,EAAS,EAEjBC,EAAQC,EAWR,CAAE,KAAMC,CAAQ,EAAIC,EAAyD,CACjF,KAAM,GAAGL,GAAA,YAAAA,EAAO,QAAQ,YAAA,CACzB,EAEKM,EAAiBC,EAAS,IAAM,OAChC,OAAAC,EAAAJ,EAAQ,QAAR,MAAAI,EAAe,UACV,QAEJN,EAAM,KAGJ,cAFE,SAEF,CACR,EAEKO,EAAQF,EAAS,IAAM,SAE3B,QAAOC,EAAAN,EAAM,OAAN,YAAAM,EAAY,UAASE,EAAAR,EAAM,OAAN,YAAAQ,EAAY,KAAA,CACzC"}