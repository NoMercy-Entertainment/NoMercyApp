import{C as r,Et as L,G as D,H as P,J as a,K as E,S as s,T as c,Tt as t,X as U,a as N,c as R,ct as _,g as h,gt as n,j as q,k as A,kt as k,ot as w,w as o,x as b}from"./i18n-Cs-AFcrY.js";import"./ionic-XwZpO7IE.js";import{C as p,I as G,P as V}from"./vue-core-CKeWI2Kt.js";import"./primevue-DNc5dNs0.js";import"./query-28IwY2wK.js";import{Gn as f,Qi as F,Wn as m,k as K,ma as y,oi as J,qn as T,rr as Q,v as W,yi as C,zn as X,zr as O}from"./index-wg1zTUGt.js";import"./useInfiniteServerClient-XFAG8n3g.js";import{t as Y}from"./useServerClient-D24-1ZSE.js";import"./MusicButton-Dqo3bdNG.js";import"./BannerButton-pOf6-OsA.js";import"./MediaLikeButton-CQGk7rub.js";import"./swiper-CFX_qd4-.js";import"./CardIndicator-C5z3t7UW.js";import{t as Z}from"./NMCard-CfrLnsIu.js";import"./swiper-config-BVm7SEnX.js";import{t as ee}from"./dist-BXaLtCab.js";import{t as te}from"./ContentRating-fkRkut4O.js";import"./ShareButton-KPSAuMSa.js";import"./Carousel-C4rPYyua.js";import"./PersonCard-Jg3YtJBz.js";import{n as $,t as S}from"./ImageCarousel-DiiQ8wLw.js";import{t as ae}from"./InfoItem-DE_9Isql.js";import{n as u,t as le}from"./Collapsible-DuTYj-H-.js";import{t as re}from"./MobileInfoCard-kQTfGeL-.js";R();V();var I=ee(),se={class:"flex z-0 flex-col justify-start items-center self-stretch h-auto flex-grow gap-4 will-change-auto text-surface-12",style:{"box-shadow":"0 2px 2px 0 rgba(0, 0, 0, 0.16)"}},oe={class:"flex bg-surface-3 dark:bg-surface-1 flex-col justify-start items-start self-stretch flex-grow-0 flex-shrink-0 gap-3 pt-16 pb-5 will-change-auto w-inherit px-6"},ie=["innerHTML"],ne={key:3,class:"flex flex-wrap justify-start items-center self-stretch flex-grow-0 flex-shrink-0 relative gap-2"},ue={class:"whitespace-nowrap"},de={class:"flex w-available flex-1 flex-col gap-2"},ce={class:"text-2xl font-bold mr-2"},pe="grid-cols-2 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-7 3xl:grid-cols-9 4xl:grid-cols-10 5xl:grid-cols-[repeat(14,minmax(0,1fr))] tv:grid-cols-6",fe=q({__name:"Mobile",setup(me){const{data:e}=Y({queryKey:["base","collection",G().params.id],limit:1e3,keepForever:!0}),B=n(!1),H=n(!1),M=n(-1),g=n(null),j=n(null),d=n();b(()=>`${F.value?.serverBaseUrl}/images/original${X.value||e.value?.backdrop}`),w(e,l=>{l&&(d.value?.$el?.scrollToTop(window.innerHeight),B.value=!0,M.value=0,C(l?.title),l?.backdrop&&m(l?.backdrop),l?.poster&&T(l?.poster),l?.color_palette?.poster&&f(l?.color_palette?.poster),g.value=l.total_duration&&new Date(new Date().getTime()+l.total_duration*60*1e3).toLocaleTimeString(y.language??"en-US",{hour:"2-digit",minute:"2-digit"}),j.value=setInterval(()=>{g.value=l.total_duration&&new Date(new Date().getTime()+l.total_duration*60*1e3).toLocaleTimeString(y.language??"en-US",{hour:"2-digit",minute:"2-digit"})},1e3))}),D(()=>{d.value?.$el?.scrollToTop(window.innerHeight),C(e?.value?.title),document.dispatchEvent(new Event("indexer")),e?.value?.backdrop&&m(e?.value?.backdrop),e?.value?.poster&&T(e?.value?.poster),e?.value?.color_palette?.poster&&f(e?.value?.color_palette?.poster)}),E(()=>{m(null),f(null)}),P(()=>{d.value?.$el?.scrollToTop(window.innerHeight)}),K.afterEach(()=>{setTimeout(()=>{d.value?.$el?.scrollToTop(window.innerHeight)},100)});const x=n();w(H,l=>{l?x.value?.$el?.classList.remove("line-clamp-3"):setTimeout(()=>{x.value?.$el?.classList.add("line-clamp-3")},300)});const z=b(()=>`${(0,I.collect)(e.value?.collection).min("year")} - ${(0,I.collect)(e.value?.collection).max("year")}`);return(l,i)=>(a(),c(h,null,[A(re,{data:t(e)},null,8,["data"]),s("div",se,[i[3]||(i[3]=s("div",{class:"flex justify-start items-end flex-grow-0 flex-shrink-0 -mx-4 w-available h-[410px] relative gap-2"},[s("div",{class:"absolute flex flex-col justify-start items-end flex-grow w-available -mx-20 h-[410px] bg-cover bg-top",style:{background:`linear-gradient(
                  0deg,
                  rgba(0, 0, 0, 0.3) 0%,
                  rgba(0, 0, 0, 0.3) 100%
                ),
                var(--background-image) lightgray 50% / cover no-repeat`}})],-1)),s("div",oe,[t(e)?.title?(a(),c("p",{key:0,class:"self-stretch flex-grow-0 flex-shrink-0 w-[351px] text-3xl font-bold text-left z-10",innerHTML:t(J)(t(e)?.title??" ","text-lg line-clamp-2")},null,8,ie)):(a(),r(t(p),{key:1,animated:!0,class:"h-7 will-change-auto"})),t(e)?.overview?(a(),r(le,{key:2,"max-lines":3,text:t(e)?.overview},null,8,["text"])):o("",!0),t(e)?(a(),c("div",ne,[t(e)?.content_ratings?(a(),r(u,{key:0,class:"children:!border-none children:!bg-transparent",title:"Age rating"},{default:_(()=>[t(e)?.content_ratings?(a(),r(te,{key:0,ratings:t(e)?.content_ratings,size:6,class:"h-full min-!h-[1rem] object-scale-down rounded-lg overflow-clip children:-m-0.5"},null,8,["ratings"])):o("",!0)]),_:1})):o("",!0),t(e)?.have_items?(a(),r(u,{key:1,data:`${t(e)?.have_items}/${t(e)?.number_of_items}`,title:"Availability"},null,8,["data"])):o("",!0),t(e)?.year?(a(),r(u,{key:2,data:t(e)?.year.toString(),title:"Release date"},null,8,["data"])):o("",!0),t(e)?.collection?(a(),r(u,{key:3,title:"Timespan"},{default:_(()=>[s("span",ue,k(z.value),1)]),_:1})):o("",!0),t(e)?.total_duration?(a(),r(u,{key:4,data:t(Q)(t(N),t(e)?.total_duration),title:"Duration"},null,8,["data"])):o("",!0)])):(a(),r(t(p),{key:4,animated:!0,class:"h-6 will-change-auto"})),i[0]||(i[0]=s("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-surface-7/[0.1] dark:bg-surface-11/[0.1]"},null,-1)),t(e)?.genres?(a(),r(ae,{key:5,data:t(e),"key-name":"genres",prefix:"genres",title:"Genres"},null,8,["data"])):(a(),r(t(p),{key:6,animated:!0,class:"h-12 will-change-auto"})),i[1]||(i[1]=s("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-surface-7/[0.1] dark:bg-surface-11/[0.1]"},null,-1)),s("div",de,[s("h3",ce,k(l.$t("Collection")),1),s("div",{class:L([pe,"grid w-full gap-4 scroll-smooth music-showing:pb-0"])},[(a(!0),c(h,null,U(t(e)?.collection??[],v=>(a(),r(Z,{key:v?.id,data:v,class:""},null,8,["data"]))),128))])]),i[2]||(i[2]=s("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-surface-7/[0.1] dark:bg-surface-11/[0.1]"},null,-1)),t(e)?.cast&&t(e)?.cast?.length>0?(a(),r($,{key:7,data:t(e)?.cast,class:"-mx-6",title:"Cast"},null,8,["data"])):o("",!0),t(e)?.crew&&t(e)?.crew?.length>0?(a(),r($,{key:8,data:t(O)(t(e)?.crew,"profile","id"),class:"-mx-6",title:"Crew"},null,8,["data"])):o("",!0),t(e)?.posters&&t(e)?.posters?.length>0?(a(),r(S,{key:9,data:t(e)?.posters,class:"-mx-6",title:"Poster",type:"poster"},null,8,["data"])):o("",!0),t(e)?.backdrops&&t(e)?.backdrops?.length>0?(a(),r(S,{key:10,"color-palette":t(e)?.color_palette?.poster,data:t(e)?.backdrops,class:"-mx-6",title:"Backdrop",type:"backdrop"},null,8,["color-palette","data"])):o("",!0)])])],64))}}),Ne=W(fe,[["__scopeId","data-v-051fc9d9"]]);export{Ne as default};
