import{At as b,C as n,Dt as O,Et as a,S as t,T as v,Y as l,Z as V,_t as c,c as y,g as q,j as g,k as e,kt as X,l as H,lt as i,st as T,w as m,x as E,y as A}from"./i18n-DXLa9EKW.js";import{Ni as Q}from"./ionic-B9XaRwPa.js";import"./vue-core-DBpBuPMK.js";import"./primevue-wrrgrfJj.js";import"./query-DJ5OsBey.js";import{Dt as $,Ia as Z,K as w,Sr as K,Tt as U,U as F,Vn as Y,X as G,Z as r,b as f,bt as J,g as W,ht as x,ji as S,ot as M,v as ee}from"./index-CLM6Y7vI.js";import{t as ae}from"./DropdownMenu-YODpUXFi.js";import"./ScrollContainer-aZQSs5X2.js";import{n as te,t as le}from"./LyricsOverlay-BsbvyEtr.js";import{n as oe,t as se}from"./ChristmasSnow-B_CHLNkU.js";import{t as h}from"./MusicButton-E8_BNXYz.js";import"./BannerButton-BP0Yr5ty.js";import{t as re}from"./MediaLikeButton-CTr1VNS5.js";import{n as ie,r as ne,t as ue}from"./TrackLinks-BhJ3oDmV.js";import{a as ce,c as _e,i as de,n as fe,o as ve,r as pe,s as me,t as he}from"./EqButton-DYFzSYOk.js";import{n as xe,r as we}from"./swiper-DkXT2e8s.js";y();var be=["data-size"],ye={key:0,class:"whitespace-pre text-center leading-none text-2xs"},ge={key:1,class:"whitespace-pre-line text-pretty text-left leading-5 text-base"},ke={class:"flex flex-col gap-1 min-h-[85px]"},ze=g({__name:"TopRow",setup(k){const o=E(()=>r.value?.album_track?.[0]?.name);return(u,_)=>(l(),v("div",{"data-size":a(x),class:"flex h-16 w-full items-center justify-between"},[e(h,{onclick:()=>a(w)(),class:"!min-w-12",label:"close"},{default:i(()=>[e(f,{class:"h-6 w-6",icon:"chevronDown"})]),_:1},8,["onclick"]),t("div",{class:O([{"mt-2":!a(Q)("capacitor")},"relative flex flex-col gap-1"])},[o.value?(l(),v("span",ye,b(u.$t("Now playing")),1)):m("",!0),o.value?(l(),v("div",ge,b(o.value),1)):m("",!0)],2),e(ae,{class:"!min-w-12 flex items-center justify-center",orientation:"vertical"},{button:i(()=>[e(f,{class:"h-6 w-6",icon:"menuDotsVertical"})]),default:i(()=>[t("div",ke,[e(h,{onclick:()=>a(w)(),label:"close"},{default:i(()=>[e(f,{class:"h-6 w-6",icon:"chevronDown"})]),_:1},8,["onclick"]),e(h,{onclick:()=>a(w)(),label:"close"},{default:i(()=>[e(f,{class:"h-6 w-6",icon:"chevronDown"})]),_:1},8,["onclick"]),e(h,{onclick:()=>a(w)(),label:"close"},{default:i(()=>[e(f,{class:"h-6 w-6",icon:"chevronDown"})]),_:1},8,["onclick"])])]),_:1})],8,be))}}),Te=ze;y();var Se={class:"flex w-full flex-col justify-end gap-8"},Pe={class:"my-1 flex w-full items-center"},Be={class:"z-10 flex w-full flex-col gap-2 overflow-clip"},Ce={class:"w-full overflow-clip text-xl font-semibold line-clamp-1"},De={class:"overflow-hidden leading-none w-inherit line-clamp-1"},je=["data-size"],$e=g({__name:"TrackRow",setup(k){function o(){x.value===S.compact?$(S.full):$(S.compact)}return(u,_)=>(l(),v("div",Se,[t("div",Pe,[t("div",Be,[t("h6",Ce,[t("span",De,b(a(r)?.name),1)]),t("div",{"data-size":a(x),class:"mb-1 inline-flex w-fit gap-1 overflow-hidden whitespace-nowrap text-xs line-clamp-1 hover:animate-pause"},[a(r)?(l(),n(ue,{key:0,id:a(r).id,data:a(r).artist_track,onclick:o,type:"artists"},null,8,["id","data"])):m("",!0)],8,je)]),a(r)?(l(),n(re,{key:a(r)?.id+a(r)?.favorite,data:a(r),class:"flex",color:"var(--color-theme-8)"},null,8,["data"])):m("",!0)])]))}}),Fe=$e;y();var Me=["data-size"],Oe=["data-size"],qe=g({__name:"ButtonContainer",setup(k){const o=Z("nmplayer-music-supports-audio-context",!1);return(u,_)=>(l(),v(q,null,[t("div",{"data-size":a(x),class:"flex w-full items-center justify-between px-6"},[e(pe),e(me),e(ie,{class:"!h-14 !w-14 !bg-focus/50 !rounded-full shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgb(from_var(--color-slate-9)_r_g_b/60%)_inset,0_22px_30px_-4px_rgb(from_var(--color-slate-9)_r_g_b/70%)] dark:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgb(from_var(--color-slate-1)_r_g_b/30%)_inset,0_22px_30px_-4px_rgb(from_var(--color-slate-1)_r_g_b/70%)] hover:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgb(from_var(--color-slate-11)_r_g_b/60%)_inset,0_22px_30px_-4px_rgb(from_var(--color-slate-11)_r_g_b/70%)] dark:hover:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgb(from_var(--color-slate-1)_r_g_b/30%)_inset,0_22px_30px_-4px_rgb(from_var(--color-slate-1)_r_g_b/70%)] active:!shadow-none active:!dark:shadow-none"}),e(_e),e(de)],8,Me),t("div",{"data-size":a(x),class:"mb-12 flex h-12 w-full justify-between px-6 gap-2 z-10"},[e(ne,{ref:"deviceOverlay",class:"!w-auto !justify-start"},null,512),e(fe,{class:"ml-auto"}),a(o)?(l(),n(he,{key:0})):m("",!0),e(ce,{ref:"queueOverlay"},null,512),e(oe),e(te)],8,Oe)],64))}}),Ee=qe;y();var Re={key:0,class:"fixed inset-0 z-[9999] flex flex-col"},Ie={class:"relative z-0 flex h-screen min-h-screen flex-col items-center justify-between gap-2 w-inherit scrollbar-none text-surface-12 overflow-clip"},Le={class:"frosting w-available max-w-2xl h-auto aspect-square shadow mx-6 relative items-center flex"},Ne={class:"frosting relative mx-3 mb-0 -mt-8 rounded-2xl pt-10 w-available bg-focus/60 shadow text-surface-12"},Ve={class:"absolute top-0 z-10 flex w-full items-center rounded-t-2xl pr-2 pl-4 font-semibold"},Xe=g({__name:"FullPlayer",setup(k){const o=c("small"),u=c(),_=c(),R=c(),z=c(0),P=c(),B=c("lazy"),C=c([r.value,...Object.values(J.value)]);T(o,()=>{setTimeout(()=>{o.value==="small"?document.querySelector("#MobilePlayer")?.scrollTo({top:window.innerHeight/2,behavior:"smooth"}):document.querySelector("#MobilePlayer")?.scrollTo({top:999990,behavior:"smooth"})},200)},{immediate:!0}),T(M,s=>{s&&(R.value=Y.value,setTimeout(()=>{B.value="eager"},50))}),T(r,s=>{if(!s)return;const d=C.value.findIndex(p=>p.id===s.id);z.value=d,P.value?.$el?.swiper.slideTo(d)});const D=E(()=>K(r.value?.color_palette?.cover,20,160));function I(s){s.touches.diff!==0&&(s.touches.startX>s.touches.currentX&&s.touches.diff<-100?F.next():s.touches.startX<s.touches.currentX&&s.touches.diff>100&&F.previous())}function L(){_.value&&(o.value=o.value==="small"?"full":"small",o.value==="small"?(u.value?.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{_.value.style.height="25rem"},500)):(_.value.style.height=`${window.innerHeight*.915}px`,setTimeout(()=>{u.value?.scrollTo({top:u.value.scrollHeight,behavior:"smooth"})},0)))}function N(){U(!1)}return(s,d)=>(l(),n(A,{to:"body"},[e(H,{name:"slide-up"},{default:i(()=>[a(M)?(l(),v("div",Re,[t("div",{class:"absolute inset-0 bg-black/50",onClick:N}),t("div",{ref_key:"content",ref:u,class:O([{"is-open":o.value==="full"},"relative flex flex-col h-full w-full overflow-y-auto overflow-x-hidden"]),style:X([D.value?`--color-theme-8: ${D.value};`:"",{background:"linear-gradient(to bottom, hsl(from var(--color-theme-8) h s 16%), hsl(from var(--color-theme-8) h s 0%))"}])},[e(se),t("div",Ie,[d[0]||(d[0]=t("div",{class:"pointer-events-none absolute inset-0 w-full transition-all duration-500",style:{background:"linear-gradient(to bottom, hsl(from var(--color-theme-8) h s 30%), hsl(from var(--color-theme-8) h s 5%))"}},null,-1)),e(Te,{class:"pt-safe px-6"}),(l(),n(a(xe),{key:a(G),ref_key:"swiper",ref:P,"initial-slide":z.value,loop:!0,"slides-per-view":1,class:"w-available swiper isolate z-0 mb-4",onTouchEnd:I},{default:i(()=>[(l(!0),v(q,null,V(C.value??[],(p,j)=>(l(),n(a(we),{key:p.id,"data-id":p.id,"data-index":j,class:"h-full"},{default:i(()=>[t("div",Le,[(l(),n(W,{key:p.id,data:p,loading:j===z.value?"eager":B.value,size:500,"class-name":"pointer-events-none relative aspect-square h-auto overflow-clip rounded-md w-inherit shadow"},null,8,["data","loading"]))])]),_:2},1032,["data-id","data-index"]))),128))]),_:1},8,["initial-slide"])),e(Fe,{class:"px-6"}),e(ve,{class:"children:!mx-0 gap-4 px-6"}),e(Ee)]),t("div",Ne,[t("div",Ve,[t("span",null,b(s.$t("Lyrics")),1),e(h,{onclick:L,class:"ml-auto",label:"expand"},{default:i(()=>[o.value==="full"?(l(),n(f,{key:0,class:"h-5 w-5",icon:"arrowExitFullscreen"})):(l(),n(f,{key:1,class:"h-5 w-5",icon:"arrowEnterFullscreen"}))]),_:1})]),d[1]||(d[1]=t("div",{class:"pointer-events-none absolute inset-0 flex items-center justify-center rounded-xl bg-black opacity-3"},null,-1)),t("div",{ref_key:"lyricsContainer",ref:_,class:"relative w-full mb-0 flex-col overflow-auto scroll-smooth rounded-b-2xl p-4 transition-transform duration-150 h-[25rem]"},[e(le,{class:"sm:hidden"})],512)])],6)])):m("",!0)]),_:1})]))}}),ra=ee(Xe,[["__scopeId","data-v-128d1136"]]);export{ra as default};
