import{$ as k,aa as C,a5 as w,w as b,c as f,o as p,l as h,y as x,a0 as o,au as B,h as M,b as q,F as D,p as I,s as K,m as N,ar as P}from"./vue-ionic-BZKAFNsD.js";import{g as V,a as E,b as F}from"./routerHelper-DPeKiXBH.js";import{r as L,a as R,b as Q,h as S}from"./index-En-DH4bZ.js";import"./vendor-B4CMB5r9.js";import"./icons-BW5E66pf.js";import"./rxjs-BCp2L9Rn.js";import"./media-C2AqgyMX.js";import"./api-BBofn2cc.js";import"./swiper-D00Cnjmx.js";import"./music-player-4pEGVRj1.js";const X=k({__name:"Mobile",setup(W){const u=C(),d=L.currentRoute.value.name,y=V({queryKey:["music","home"],path:u.path}),{data:r,refetch:l}=E({queryKey:["music","home"],path:u.path}),{data:c,mutate:g,reset:v}=F({queryKey:["music","home"],homeData:r,path:u.path});return w(()=>{var n,e;if(R(null),Q(null),!r.value){l();return}if(u.name!==d)return;const m=((e=(n=r.value)==null?void 0:n.filter)==null?void 0:e.call(n,s=>{var t;return((t=s==null?void 0:s.update)==null?void 0:t.when)==="pageLoad"}))??[];g(m)}),b(S,m=>{m?(l(),v()):(c.value=void 0,r.value=void 0)}),(m,n)=>(p(),f(o(P),null,{default:h(()=>[x(o(B),{fullscreen:!0,class:"pt-safe-offset-4"},{default:h(()=>{var e,s,t,i;return[!o(y)&&((s=(e=o(c))==null?void 0:e.every)!=null&&s.call(e,a=>a.component)||(i=(t=o(r))==null?void 0:t.every)!=null&&i.call(t,a=>a.component))?(p(!0),M(D,{key:0},I(o(c)??o(r),(a,_)=>(p(),f(K(a.component),N({key:a.id,index:_,ref_for:!0},a.props),null,16,["index"]))),128)):q("",!0)]}),_:1})]),_:1}))}});export{X as default};
