import{aG as L,br as A,K as E,aW as V,ei as o,aV as x,aY as g,ej as m,az as z,ek as F,el as M,L as b,aN as G,em as s,j as p,o as i,a7 as N,x as k,aI as e,b$ as O,a,C as u,h as v,c,en as w,t as $,av as P,F as S,w as D,eo as I,ep as U,eq as Y,eh as R,k as Z,m as J,bH as Q,bi as X,a$ as W,ab as ee,ef as te,er as le,bZ as se}from"./index-DBTFZRC0.js";import{_ as ae,a as oe}from"./SearchCard.vue_vue_type_script_setup_true_lang-Dw60ju4q.js";const re={key:1,class:"relative z-10 mt-16 flex flex-shrink-0 flex-grow-0 flex-col items-center justify-end gap-3"},ne={class:"flex-grow-0 flex-shrink-0 text-5xl font-black text-left text-slate-light-11 dark:text-slate-dark-11"},ie={class:"flex-grow-0 flex-shrink-0 w-[333px] text-2xl text-center text-[#eff7ff]/[0.62]"},ue={key:0,class:"flex flex-wrap gap-2 sm:gap-4 overflow-auto"},fe={key:0,class:"z-50 mt-4 flex justify-center",ref:"loadMore"},ce={key:1,class:"flex w-full flex-col p-1 h-available sm:p-4 sm:pt-0 overflow-auto"},de={class:"flex flex-col justify-start items-start flex-grow-0 flex-shrink-0 gap-2 p-1 rounded-xl bg-[#012139]/[0.13] dark:bg-[#dfeffe]/[0.14] backdrop-blur"},he={class:"relative flex justify-center items-start flex-grow-0 flex-shrink-0 gap-2"},me={class:"flex w-available"},pe=["placeholder"],be=L({__name:"Mobile",setup(ve){const y=A(),f=E();V(()=>{o.value=y.query.from=="music"?"music":"video",x(null),g(null),setTimeout(()=>{var t,l;m.value.focus(),(l=(t=f.value)==null?void 0:t.$el)==null||l.scrollToBottom()},100)}),z(()=>{o.value=y.query.from=="music"?"music":"video",x(null),g(null),setTimeout(()=>{var t,l;m.value.focus(),(l=(t=f.value)==null?void 0:t.$el)==null||l.scrollToBottom()},100)});const{isOpen:q,keyboardHeight:H}=F(),n=M(q,300),d=M(H,300);return V(()=>{x(null),g(null)}),z(()=>{setTimeout(()=>{var t,l;m.value.focus(),(l=(t=f.value)==null?void 0:t.$el)==null||l.scrollToBottom()},100)}),b(G,t=>{t&&document.body.focus()}),b(o,()=>{setTimeout(()=>{var t,l,h;((t=s.value)==null?void 0:t.length)==0&&m.value.focus(),(h=(l=f.value)==null?void 0:l.$el)==null||h.scrollToBottom()},100)}),b(d,()=>{setTimeout(()=>{var t,l;(l=(t=f.value)==null?void 0:t.$el)==null||l.scrollToBottom(0)},100)}),(t,l)=>(i(),p(e(se),null,{default:N(()=>[k(e(O),{fullscreen:!0,ref_key:"content",ref:f},{default:N(()=>{var h,_,T,C,j,B;return[a("div",{class:u({"relative flex flex-grow flex-col items-center justify-start gap-12 self-stretch overflow-clip px-4 pt-8 will-change-auto":!0,"mb-24":e(n)&&((h=e(s))==null?void 0:h.length)==0})},[e(w)&&((_=e(s))==null?void 0:_.length)==0?(i(),p(ae,{key:0,class:"!h-[90vh]"})):v("",!0),e(w)&&((T=e(s))==null?void 0:T.length)==0?(i(),c("div",re,[a("p",ne,$(t.$t(`Good ${e(w)}`)),1),a("p",ie,$(e(o)=="video"?t.$t("What would you like to see?"):t.$t("What would you like to listen to?")),1)])):v("",!0),a("div",{class:u(["absolute top-0 flex w-full flex-col gap-4 px-2 pt-2 h-full overflow-clip",(((C=e(s))==null?void 0:C.length)>0,"")]),style:P({height:e(n)&&((j=e(s))==null?void 0:j.length)==0?`calc(100vh - ${e(d)+104}px)`:e(n)&&((B=e(s))==null?void 0:B.length)>0?`calc(100vh - ${e(d)+70}px)`:"92%"})},[e(o)=="video"?(i(),c("div",ue,[(i(!0),c(S,null,D(e(I)??[],r=>(i(),p(oe,{key:r.id,item:r},null,8,["item"]))),128)),e(U)&&e(I).length>0?(i(),c("div",fe,[a("button",{onClick:l[0]||(l[0]=r=>e(Y)()),class:"h-12 rounded bg-blue-500 px-4 py-2 text-white"},$(t.$t("Load more")),1)],512)):v("",!0)])):e(R)?(i(),c("div",ce,[(i(!0),c(S,null,D(e(R)??[],(r,K)=>(i(),p(Z(r.component),J({index:K,key:r.id,ref_for:!0},r.props),null,16,["index"]))),128))])):v("",!0)],6),a("div",{class:u(["absolute flex justify-center items-center self-center flex-grow-0 flex-shrink-0 w-available h-14 sm:w-1/2 overflow-hidden gap-2 p-1.5 rounded-[20px] border-2 bg-[#d7dbdf] border-[#eceef0] dark:bg-black dark:border-[#202425] transition-all duration-200",{"mx-2":!e(n)&&e(s).length==0,"rounded-none":e(n)||e(s).length>0,"translate-y-[calc(var(--safe-area-inset-top)*-1.5)]":e(n)&&e(X)}]),style:P({bottom:e(n)&&e(s).length==0?`${e(d)-(e(Q)("mobile")?180:80)}px`:e(n)&&e(s).length>0?`${e(d)-80}px`:!e(n)&&e(s).length>0?"0vh":"50vh"})},[a("div",de,[a("div",he,[a("div",{class:u(["absolute w-9 h-available inset-0 bg-focus z-0 rounded-lg transition-all duration-150",{"translate-x-0":e(o)=="video","translate-x-[120%]":e(o)=="music"}])},null,2),a("button",{onClick:l[1]||(l[1]=r=>o.value="video"),class:u(["flex justify-center items-center flex-grow-0 flex-shrink-0 relative gap-2 p-1 rounded-lg w-9 h-9",{"text-slate-dark-12":e(o)=="video"}])},[k(W,{icon:"film",class:"h-6 w-6 flex-grow-0 flex-shrink-0 transition-all duration-150"})],2),a("button",{onClick:l[2]||(l[2]=r=>o.value="music"),class:u(["flex justify-center items-center flex-grow-0 flex-shrink-0 relative gap-2 p-1 rounded-lg w-9 h-9",{"text-slate-dark-12":e(o)=="music"}])},[k(W,{icon:"noteDouble",class:"h-6 w-6 flex-grow-0 flex-shrink-0 transition-all duration-150"})],2)])]),a("label",me,[ee(a("input",{enterkeyhint:"search",id:"search",placeholder:e(o)=="video"?`${t.$t("Movie")}, ${t.$t("Show")} ${t.$t("or")} ${t.$t("Person")}...`:`${t.$t("Artist")}, ${t.$t("Album")} ${t.$t("or")} ${t.$t("Track")}...`,class:u(["w-available flex-shrink-0 border-transparent bg-transparent px-1 mr-1 text-lg shadow-transparent flex-grow-1 focus:outline-none",{"!py-1":!e(n)}]),"onUpdate:modelValue":l[3]||(l[3]=r=>te(s)?s.value=r:null),name:"search",type:"search",ref_key:"search",ref:m,autocomplete:"off"},null,10,pe),[[le,e(s)]])])],6)],2)]}),_:1},512)]),_:1}))}});export{be as default};
