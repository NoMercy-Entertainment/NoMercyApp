import{t as w}from"./useQueryClient-DvEXGR3z.js";import{$a as y,$s as i,Ac as n,As as f,Bn as g,Co as b,Do as k,Ec as t,Eo as C,Is as r,Ki as S,Ma as d,Ms as T,Mt as j,Oa as B,Qn as v,Rs as L,Si as M,Vn as E,Xs as I,Zs as N,_s as V,h as $,hr as O,i as u,ks as e,mc as q,mr as A,pc as c,rr as D,so as Q,ta as m,tc as z,uc as R,wi as p,ws as U,xs as F,yc as H}from"./index-H5TKJIZK.js";import{t as _}from"./MoooomIcon-lmHBzkux.js";import"./dist-CgnV5duW.js";import"./md5-CZaT58ye.js";import{t as K}from"./NoMercyAvatar-0VQeaox6.js";import"./HubConnection-klX5ssCm.js";import{t as P}from"./ripperSocket-DhicjYY6.js";import"./DeviceIcon-BZ1uQn3l.js";import{t as W}from"./ServerCard-D-xOSQhU.js";V();k();var X={class:"flex h-full w-full flex-auto flex-col items-center justify-center gap-8 p-8"},Z={class:"flex w-full flex-grow flex-col justify-between p-2 min-h-auto"},G={class:"flex justify-between items-center self-stretch flex-grow-0 flex-shrink-0 w-full relative gap-2.5 mb-2"},J={class:"flex justify-start items-center relative gap-2.5",inert:""},Y={class:"size-12 my-auto"},ee={class:"w-48 text-base font-semibold text-left"},te={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},se={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},re=L({__name:"Tv",setup(ae){const x=w(),l=H();async function h(s){p(s),await M().get("libraries").then(({data:a})=>{S(a.data),A.value=!0,g.value=!0,setTimeout(async()=>{v.value==="/setup/select-servers"?await u.replace({name:"Home"}):await u.replace(v.value)},50)}).catch(async()=>{await u.replace({name:"Server offline"})})}return I(()=>{p(null),D(),x.removeQueries(),$.value?.stop(),j.value?.stop(),P.value?.stop()}),N(()=>{O()}),b(()=>{setTimeout(()=>{l.value?.querySelector("button")?.focus()},100)}),R(l,s=>{setTimeout(()=>{s?.querySelector("button")?.focus()},100)}),(s,a)=>(i(),f(t(Q),null,{default:c(()=>[r(t(y),{fullscreen:!0},{default:c(()=>[e("div",X,[e("div",Z,[e("div",G,[e("div",J,[e("div",Y,[r(K,{size:40,user:t(m)},null,8,["user"])]),e("p",ee,n(t(m).name),1)]),q(e("button",{class:"flex justify-center items-center ml-auto relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",tabindex:"0",onClick:a[0]||(a[0]=o=>d.value=!t(d))},[r(_,{class:"",icon:"doorOut"}),e("span",te,n(s.$t("Exit TV mode")),1)],512),[[F,!t(B)]]),r(t(C),{class:"flex justify-center items-center relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",to:"/logout"},{default:c(()=>[r(_,{class:"",icon:"doorOut"}),e("span",se,n(s.$t("Logout")),1)]),_:1})]),e("div",{ref_key:"serverList",ref:l,class:"tv:children:w-[30%] tv:mt-0 -mt-24 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4"},[(i(!0),T(U,null,z(t(E),o=>(i(),f(W,{key:o.id,onclick:()=>h(o),server:o},null,8,["onclick","server"]))),128))],512)])])]),_:1})]),_:1}))}}),pe=re;export{pe as default};
