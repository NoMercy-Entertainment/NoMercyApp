import{Ai as $,Is as d,Ji as p,Ka as b,Tc as a,Xa as g,_c as o,ca as y,wi as m,ws as R}from"./index-DO6J_9Tp.js";R();const n=a(!1),f=a("video"),t=a("");var i=a([]);const S=d(()=>i.value);var V=g(t,700);o(V,e=>{if(e===""){i.value=[];return}n.value=!0;const s=`${$.value?.serverBaseUrl}/api/v1/music/search?query=${e}`;fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y.value?.accessToken}`}}).then(u=>u.json()).then(u=>{i.value=u.data,n.value=!1})});const r=a(""),c=a(!1);var v=a([]);const T=d(()=>v.value);var _=g(r,700),l=a(1);o(_,e=>{if(e===""){v.value=[];return}c.value=!1,n.value=!0,l.value=1;const s=`https://api.themoviedb.org/3/search/multi?api_key=${m}&language=${p.language}&query=${e}&page=${l.value}&include_adult=false`;fetch(s).then(u=>u.json()).then(u=>{v.value=u.results,c.value=u.total_pages>1,n.value=!1})});function j(){l.value+=1;const e=`https://api.themoviedb.org/3/search/multi?api_key=${m}&language=${p.language}&query=${_.value}&page=${l.value}&include_adult=false`;fetch(e).then(s=>s.json()).then(s=>{v.value=[...v.value,...s.results],s.results.length===0?c.value=!1:c.value=s.total_pages>l.value})}var k=a(null),{stop:w}=b(k,([{isIntersecting:e}],s)=>{e&&j()});const A=a(),h=a(""),M=d(()=>f.value==="video"?T.value:S.value);o(f,e=>{e==="video"?(t.value="",r.value=h.value):(r.value="",t.value=h.value)});o(h,e=>{f.value==="video"?(r.value=e,t.value=""):(r.value="",t.value=e)});export{A as a,h as c,t as i,T as l,c as n,n as o,S as r,f as s,j as t};
