import{aG as k,d2 as w,bb as x,bn as C,c_ as E,c$ as I,d0 as D,aN as M,d1 as N,L as V,ba as B,j as y,o as l,a7 as m,x as F,aI as o,bQ as L,c as P,h as j,F as Q,w as R,k as G,m as O,bP as S}from"./index-BniNd-lD.js";const $=k({__name:"Mobile",props:{options:{type:Object,required:!1,default:()=>({keepForever:!0,queryKey:w()})}},setup(f){var p;const c=f,v=x(),b=C.currentRoute.value.name,h=E({queryKey:(p=c.options)==null?void 0:p.queryKey,path:"/libraries/mobile"}),{data:r,refetch:_}=I({queryKey:c.options.queryKey,path:"/libraries/mobile"}),{data:i,mutate:g,reset:q}=D({queryKey:c.options.queryKey,homeData:r});return M(()=>{var s,e;if(!r.value||v.name!==b)return;const u=((e=(s=r.value)==null?void 0:s.filter)==null?void 0:e.call(s,n=>{var t;return((t=n==null?void 0:n.update)==null?void 0:t.when)=="pageLoad"}))??[];g(u)}),N(()=>{document.dispatchEvent(new Event("indexer"))}),V(B,u=>{u?(_(),q()):(i.value=void 0,r.value=void 0)}),(u,s)=>(l(),y(o(S),null,{default:m(()=>[F(o(L),{fullscreen:!0},{default:m(()=>{var e,n,t,d;return[!o(h)&&((n=(e=o(i))==null?void 0:e.every)!=null&&n.call(e,a=>a.component)||(d=(t=o(r))==null?void 0:t.every)!=null&&d.call(t,a=>a.component))?(l(!0),P(Q,{key:0},R(o(i)??o(r),(a,K)=>(l(),y(G(a.component),O({index:K,key:a.id,ref_for:!0},a.props),null,16,["index"]))),128)):j("",!0)]}),_:1})]),_:1}))}});export{$ as default};
//# sourceMappingURL=Mobile-BjRZNNdd.js.map
