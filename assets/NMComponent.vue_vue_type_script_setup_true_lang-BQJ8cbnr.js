import{q as y,g as q,a as v,b as _}from"./routerHelper-584C8wch.js";import{Y as k,b as K,a as w}from"./index-12A6nDGS.js";import{Y as C,U as M,f as b,w as d,h as x,b as B,Z as s,o as f,p as D,F as E,c as F,m as L,s as N}from"./vue-ionic-Cb5qD3-A.js";const T=C({__name:"NMComponent",props:{path:{type:String,required:!1,default:void 0},options:{type:Object,required:!1,default:()=>({keepForever:!0,queryKey:y()})}},setup(m){const u=m,p=u.options.queryKey??y(),h=q({queryKey:p,path:u.path}),{data:n}=v({queryKey:p,path:u.path}),{data:g,mutate:l}=_({queryKey:p,homeData:n}),c=M();return b(()=>{var t,r;if(n.value&&(k(),K(null),w(null),c.value)){const e=((r=(t=n.value)==null?void 0:t.filter)==null?void 0:r.call(t,a=>{var o;return((o=a==null?void 0:a.update)==null?void 0:o.when)==="pageLoad"}))??[];l(e)}}),d(c,t=>{var e,a;if(!t)return;const r=((a=(e=n.value)==null?void 0:e.filter)==null?void 0:a.call(e,o=>{var i;return((i=o==null?void 0:o.update)==null?void 0:i.when)==="online"}))??[];l(r)}),d(n,t=>{t&&setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},1e3)}),(t,r)=>!s(h)||!s(c)?(f(!0),x(E,{key:0},D(s(g)??s(n)??[],(e,a)=>(f(),F(N(e.component),L({key:e.id,index:a,ref_for:!0},e.props),null,16,["index"]))),128)):B("",!0)}});export{T as _};
