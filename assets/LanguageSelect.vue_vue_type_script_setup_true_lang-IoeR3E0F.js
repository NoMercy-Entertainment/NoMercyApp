import{aw as O,a_ as U,I as k,bt as D,J as V,dO as C,az as M,o as i,c as m,v as h,a7 as v,aB as d,z as o,a6 as J,t as x,a as u,e as q,a8 as G,F as H,u as K,aM as S,h as P}from"./index-CmhIDzwt.js";import{E as Q,j as R,A as W,F as X,I as Y}from"./listbox-DRAglVhY.js";const Z={class:"relative w-full"},ee={key:0,class:"flex items-center self-center"},te=["src","onerror","alt"],ae={class:"ml-3 block truncate text-left text-contrast"},ne={key:1,class:"flex items-center self-center"},se={key:0,class:"ml-3 block truncate text-left text-contrast"},le={key:1,class:"ml-3 block truncate text-left text-contrast"},re={class:"ml-2 flex items-center self-center"},ie=["src","onerror","alt"],me=O({__name:"LanguageSelect",props:{modelValue:{type:Object,required:!0},name:{type:String,required:!0},id:{type:String,required:!0},multiple:{type:Boolean,required:!1,default:!1},items:{type:Array,required:!1},variant:{type:String,required:!1,default:"normal"}},emits:["update:modelValue"],setup(t,{emit:E}){const{t:B}=U(),p=t,I=E,a=k(p.modelValue),w=k(""),g=k([]),{data:L}=D({path:"/dashboard/configuration/languages"}),c=k(p.items??L.value??[]);return V(L,n=>{n&&(c.value=n)}),V(a,n=>{n&&I("update:modelValue",n)}),V(c,n=>{var l;n&&(p.multiple?g.value=n:g.value=w.value===""?n.filter(e=>C.includes(e.iso_639_1))??[]:((l=n.filter(e=>C.includes(e.iso_639_1)))==null?void 0:l.filter(e=>e.english_name.toLowerCase().includes(w.value.toLowerCase())))??[])}),M(()=>{var n;c.value&&(p.multiple?g.value=c.value:g.value=w.value===""?c.value.filter(l=>C.includes(l.iso_639_1))??[]:((n=c.value.filter(l=>C.includes(l.iso_639_1)))==null?void 0:n.filter(l=>l.english_name.toLowerCase().includes(w.value.toLowerCase())))??[])}),(n,l)=>(i(),m("div",Z,[h(d(Y),{as:"div",multiple:t.multiple,modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value=e),onChange:l[1]||(l[1]=e=>{var r;return n.$emit("update:modelValue",(r=e.target)==null?void 0:r.value)})},{default:v(()=>[h(d(Q),{class:o(["block select-none text-contrast space-nowrap empty:hidden",{"mb-1 text-sm font-medium":t.variant==="normal","mb-0.5 text-sm font-medium":t.variant==="dense","mb-px text-xs font-thin":t.variant==="tight"}])},{default:v(()=>[J(x(d(B)(t.name)),1)]),_:1},8,["class"]),u("div",{class:o(["relative",{"h-10 min-h-10 mt-2":t.variant==="normal","h-8 min-h-8 mt-1":t.variant==="dense","h-7 min-h-7 mt-0":t.variant==="tight"}])},[h(d(R),{class:o(["relative flex items-center w-full cursor-default rounded-md text-contrast shadow-sm sm:text-sm data-[headlessui-state='disabled']:grayscale *:data-[headlessui-state='disabled']:hidden",{"!bg-auto-1 ring-[1.5px] ring-inset ring-auto-3 focus:outline-none focus:ring-2 focus:ring-focus data-[headlessui-state='open']:ring-2 data-[headlessui-state='open']:ring-focus":t.variant==="normal"||t.variant==="dense","h-10 min-h-10 pl-3":t.variant==="normal","h-8 min-h-8 pl-2":t.variant==="dense","h-5 min-h-5 pl-0":t.variant==="tight"}])},{default:v(()=>{var e,r,f,b,y,N,_,$,j,A,z,F,T;return[Array.isArray(a.value)?(i(),m("span",ne,[((z=a.value)==null?void 0:z.length)>4?(i(),m("span",se,x((F=a.value)==null?void 0:F.length)+" "+x(d(B)("selected")),1)):(i(),m("span",le,x((T=a.value.map(s=>(s==null?void 0:s.name)!=""&&(s==null?void 0:s.name)!=null?s==null?void 0:s.name:s==null?void 0:s.english_name))==null?void 0:T.join(", ")),1))])):(i(),m("span",ee,[u("img",{src:`/img/flags/${(r=(e=a.value)==null?void 0:e.iso_639_1)==null?void 0:r.toUpperCase()}.svg`,onerror:s=>{s.target.onerror=null,s.target.src="/img/flags/xxx.svg"},alt:`${((f=a.value)==null?void 0:f.name)!=""&&((b=a.value)==null?void 0:b.name)!=null?(y=a.value)==null?void 0:y.name:(N=a.value)==null?void 0:N.english_name} flag`,class:"h-auto w-6 rounded-sm border border-auto-50 group-hover:border-theme-600"},null,8,te),u("span",ae,x(((_=a.value)==null?void 0:_.name)!=""&&(($=a.value)==null?void 0:$.name)!=null?(j=a.value)==null?void 0:j.name:(A=a.value)==null?void 0:A.english_name),1)])),u("span",{class:o(["absolute inset-y-0 right-0 flex h-auto items-center rounded-r-md min-h-auto focus-visible:outline-transparent",{"h-10 min-h-10 px-3":t.variant==="normal","h-8 min-h-8 px-2":t.variant==="dense",hidden:t.variant==="tight"}])},[t.multiple?(i(),q(S,{key:0,icon:"arrowSelect",className:"w-5 ui-open:rotate-180 transition-transform duration-300"})):(i(),q(S,{key:1,icon:"chevronDown",className:"w-5 ui-open:rotate-180 transition-transform duration-300"}))],2)]}),_:1},8,["class"]),h(G,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[h(d(W),{class:o(["absolute z-10 h-auto max-h-56 min-w-fit overflow-auto rounded-md text-base shadow-lg ring-1 ring-black ring-opacity-5 min-h-auto w-available bg-auto-1 focus:outline-none sm:text-sm",{"py-2 px-3":t.variant==="normal","py-1 px-2":t.variant==="dense","py-0.5 px-1.5":t.variant==="tight"}])},{default:v(()=>[(i(!0),m(H,null,K(g.value,e=>(i(),q(d(X),{as:"template",key:e.iso_639_1,value:e},{default:v(({active:r,selected:f})=>{var b;return[u("li",{class:o(["relative flex w-full min-w-fit cursor-default select-none items-center rounded-sm",{"!bg-focus text-auto-12 ":r,"text-contrast":!r,"h-8 min-h-8":t.variant==="normal","h-6 min-h-6":t.variant==="dense"}])},[u("div",re,[u("img",{src:`/img/flags/${(b=e==null?void 0:e.iso_639_1)==null?void 0:b.toUpperCase()}.svg`,onerror:y=>{y.target.onerror=null,y.target.src="/img/flags/xxx.svg"},alt:`${e.name!=""&&e.name!=null?e.name:e.english_name} flag`,class:"h-auto w-6 rounded-sm border border-auto-1 group-hover:border-theme-600"},null,8,ie),u("span",{class:o(["mx-3 block truncate text-left",{"font-semibold":f,"font-normal":!f}])},x(e.name!=""&&e.name!=null?e.name:e.english_name),3)]),f?(i(),m("span",{key:0,class:o(["absolute right-0 flex items-center justify-center pr-4 data-[headlessui-state='disabled']:hidden",{"text-auto-50":r,"text-focus":!r}])},[h(S,{icon:"check",class:"h-5 w-5","aria-hidden":"true"})],2)):P("",!0)],2)]}),_:2},1032,["value"]))),128))]),_:1},8,["class"])]),_:1})],2)]),_:1},8,["multiple","modelValue"])]))}});export{me as _};
//# sourceMappingURL=LanguageSelect.vue_vue_type_script_setup_true_lang-IoeR3E0F.js.map
