import{a3 as Ee,a1 as Ne,a4 as Re,o as v,a5 as te,a6 as Fe,x as Z,a7 as re,a8 as me,a9 as De,aa as ye,p as ke,ab as ae,ac as We,q as ce,ad as He,ae as Ve,af as _e,ag as Ae,u as ue,c as E,O as Xe,P as le,ah as Ue,S as ne,T as Ge,ai as ve,U as Ye,V as Je,aj as Qe,ak as Ze,r as F,X as he,al as Ke,am as et}from"./index-CXW1-ru2.js";import{d as b,C as H,Y as M,w as J,ap as pe,h as S,o,i as l,t as $,a as fe,H as L,Z as e,F as oe,c as f,T as tt,y as t,l as a,Q as A,b as g,v as m,P as lt,a8 as st,j as $e,aq as at,a7 as ot,p as Ce,ar as rt,aj as se,as as z,ab as Se,q as nt,at as O,au as V,J as it,av as ct,aw as ut,ax as U,B,ay as I,f as ze,az as ft,aA as G,aB as dt,ak as pt,aC as mt,ao as _t,aD as vt,_ as ht,an as xt}from"./vue-ionic-Cv2or74p.js";import{_ as gt,a as bt,b as Me,c as wt,d as yt,e as kt,f as $t,g as Ct}from"./ShuffleButton.vue_vue_type_script_setup_true_lang-BgnJ5GEc.js";import{_ as C}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-Bi-0Ik3i.js";import{E as St,d as je,a as zt,c as Mt,b as jt,g as Pe,f as Pt,e as Te,_ as Tt}from"./ChristmasSnow.vue_vue_type_script_setup_true_lang-xxlL4gqy.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as Y}from"./MusicButton.vue_vue_type_script_setup_true_lang-DF2AlzFS.js";import{_ as Be}from"./CoverImage.vue_vue_type_script_setup_true_lang-2RZQRQbx.js";import{_ as Bt}from"./DropdownMenu.vue_vue_type_script_setup_true_lang-D7KLlxvB.js";import{_ as Ie}from"./TrackLinks.vue_vue_type_script_setup_true_lang-C4qzAzKe.js";import{M as Le}from"./MediaLikeButton-CAAYwSYw.js";import{l as xe,s as It,m as ge,g as Lt,a as Ot,b as qt,d as Et,h as Nt,c as Rt,f as Ft,n as Dt}from"./icons-BW5E66pf.js";import{d as D}from"./colorScheme-Chpx2qd9.js";import{_ as Oe}from"./NoMercyAvatar.vue_vue_type_script_setup_true_lang-i3T4PwO7.js";import{T as de}from"./Toggle-vHAM8dAO.js";import{bg as Wt,bh as be}from"./vendor-F08gofix.js";import{A as Ht}from"./AppLogoSquare-DwFk-Amv.js";import{s as ie,c as T}from"./sidebar-C7UUgLgA.js";import"./api-BBofn2cc.js";import"./music-player-Dgg5bFLw.js";import"./media-C2AqgyMX.js";import"./swiper-DhG1br88.js";import"./rxjs-BCp2L9Rn.js";import"./primevue-JgeSHwCi.js";import"./imageModal-D23ADPBU.js";import"./TMDBImage.vue_vue_type_script_setup_true_lang-C2UHCwbV.js";import"./contextMenuItems-B19sqRvh.js";import"./musicPlaylists-C8dhy1GW.js";import"./PlayerIcon.vue_vue_type_script_setup_true_lang-DTv9DYkH.js";import"./SliderBar.vue_vue_type_script_setup_true_lang-DvP4DqGF.js";import"./ScrollContainer.vue_vue_type_script_setup_true_lang-D6mhNOci.js";import"./Button.vue_vue_type_script_setup_true_lang-BDrzJc8T.js";const K=b(!1),Q=H(()=>K.value),Vt=()=>{K.value=!K.value},W=()=>{K.value=!1},we=async()=>{K.value?W():Vt()},At={key:0,class:"h-1 w-8 flex-shrink-0 flex-grow-0 bg-black/25 rounded-[360px] dark:bg-white/25"},Xt={key:1,class:"h-1 w-8 flex-shrink-0 flex-grow-0"},qe=M({__name:"BottomFlyout",props:{menuOpen:{type:Boolean,required:!0},closeMenu:{type:Function,required:!0},allowSwipeToClose:{type:Boolean,default:!0}},setup(p){const u=b(null),i=b(null),c=H(()=>{var h;return(h=i.value)==null?void 0:h.offsetHeight}),r=b("-125%"),s=p;J(s,h=>{h.menuOpen?r.value="0":r.value="-125%"});const{isSwiping:n,lengthY:k}=pe(u,{passive:!0,onSwipe(){if(c.value&&s.allowSwipeToClose)if(k.value<0){const h=-Math.abs(k.value);r.value=`${h}px`}else r.value="0"},onSwipeEnd(h){k.value<0&&c.value&&Math.abs(k.value)/c.value>=.25?(r.value="-125%",s.closeMenu()):r.value="0"}});return(h,x)=>(o(),S(oe,null,[l("div",{class:$(["h-screen absolute w-available flex-shrink-0 flex-grow-0 transition-colors duration-200",{"bg-black/25 dark:bg-black/50 ":p.menuOpen,"pointer-events-none":!p.menuOpen}])},null,2),l("div",{class:$(["fixed flex w-full flex-shrink-0 flex-grow-0 select-none bg-slate-light-1 dark:bg-slate-dark-3 flex-col items-center justify-end gap-3 overflow-hidden rounded-t-3xl rounded-tl-lg rounded-tr-lg p-2 px-0 -bottom-[125%]",{"transition-bottom duration-200 ease-in-out ":!e(n)}]),ref_key:"target",ref:u,style:L({bottom:r.value})},[p.allowSwipeToClose?(o(),S("div",At)):(o(),S("div",Xt)),l("div",{ref_key:"container",ref:i,class:"flex flex-shrink-0 w-available flex-grow-0 flex-col items-start justify-start self-stretch overflow-hidden text-slate-dark-1 dark:text-slate-light-1"},[fe(h.$slots,"default")],512)],6)],64))}}),Ut={id:"equalizer",class:"flex flex-col w-available -mt-4 gap-4 p-4 z-[9999]"},Gt=M({__name:"EqualizerMenu",setup(p){const u=()=>{Re(!1)};return(i,c)=>(o(),f(tt,{to:"body"},[t(qe,{menuOpen:e(Ne),closeMenu:e(Ee),allowSwipeToClose:!1},{default:a(()=>[l("div",Ut,[t(St,null,{button:a(()=>[l("button",{onClick:c[0]||(c[0]=r=>u())},[t(C,{icon:"cross",class:"w-6 h-6"})])]),_:1})])]),_:1},8,["menuOpen","closeMenu"])]))}}),Yt=X(Gt,[["__scopeId","data-v-84c9b465"]]),Jt=["data-size"],Qt={key:0,class:"whitespace-pre text-center leading-none text-2xs"},Zt=["innerHTML"],Kt={class:"flex flex-col gap-1 min-h-[85px]"},el=M({__name:"TopRow",setup(p){const u=H(()=>{var i,c,r;return(r=(c=(i=v.value)==null?void 0:i.album_track)==null?void 0:c[0])==null?void 0:r.name});return(i,c)=>(o(),S("div",{class:"flex h-16 w-full items-center justify-between","data-size":e(Z)},[t(Y,{label:"close",onclick:()=>e(te)(),class:"!min-w-12"},{default:a(()=>[t(C,{icon:"chevronDown",class:"h-6 w-6"})]),_:1},8,["onclick"]),l("div",{class:$(["relative flex flex-col gap-1",{"mt-2":!e(A)("capacitor")}])},[u.value?(o(),S("span",Qt,m(i.$t("Now playing")),1)):g("",!0),u.value?(o(),S("div",{key:1,class:"whitespace-pre-line text-pretty text-left leading-5 text-base",innerHTML:e(Fe)(u.value,"text-xs line-clamp-1")},null,8,Zt)):g("",!0)],2),t(Bt,{orientation:"vertical",class:"!min-w-12 flex items-center justify-center"},{button:a(()=>[t(C,{icon:"menuDotsVertical",class:"h-6 w-6"})]),default:a(()=>[l("div",Kt,[t(Y,{label:"close",onclick:()=>e(te)()},{default:a(()=>[t(C,{icon:"chevronDown",class:"h-6 w-6"})]),_:1},8,["onclick"]),t(Y,{label:"close",onclick:()=>e(te)()},{default:a(()=>[t(C,{icon:"chevronDown",class:"h-6 w-6"})]),_:1},8,["onclick"]),t(Y,{label:"close",onclick:()=>e(te)()},{default:a(()=>[t(C,{icon:"chevronDown",class:"h-6 w-6"})]),_:1},8,["onclick"])])]),_:1})],8,Jt))}}),tl={class:"flex w-full flex-col justify-end gap-8"},ll={class:"my-1 flex w-full items-center"},sl={class:"z-10 flex w-full flex-col gap-2 overflow-clip"},al={class:"w-full overflow-clip text-xl font-semibold line-clamp-1"},ol={class:"overflow-hidden leading-none w-inherit line-clamp-1"},rl=["data-size"],nl=M({__name:"TrackRow",setup(p){const u=()=>{Z.value===re.compact?me(re.full):me(re.compact)};return(i,c)=>{var r,s,n;return o(),S("div",tl,[l("div",ll,[l("div",sl,[l("h6",al,[l("span",ol,m((r=e(v))==null?void 0:r.name),1)]),l("div",{"data-size":e(Z),class:"mb-1 inline-flex w-fit gap-1 overflow-hidden whitespace-nowrap text-xs line-clamp-1 hover:animate-pause"},[e(v)?(o(),f(Ie,{key:0,id:e(v).id,data:e(v).artist_track,onclick:u,type:"artists"},null,8,["id","data"])):g("",!0)],8,rl)]),e(v)?(o(),f(Le,{key:((s=e(v))==null?void 0:s.id)+((n=e(v))==null?void 0:n.favorite),data:e(v),color:"var(--color-focus)",class:"flex"},null,8,["data"])):g("",!0)])])}}}),il=["data-size"],cl=["data-size"],ul=M({__name:"ButtonContainer",setup(p){const u=lt("nmplayer-music-supports-audio-context",!1);return(i,c)=>(o(),S(oe,null,[l("div",{class:"flex w-full items-center justify-between px-6","data-size":e(Z)},[t(gt),t(bt),t(Me,{class:"!h-14 !w-14 !bg-focus/50 !rounded-full shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-9)/60%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-9)/70%)] dark:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-1)/70%)] hover:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-11)/60%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-11)/70%)] dark:hover:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-1)/70%)] active:!shadow-none active:!dark:shadow-none"}),t(wt),t(yt)],8,il),l("div",{class:"mb-12 flex h-12 w-full justify-between px-6 gap-2 z-10","data-size":e(Z)},[t(je,{ref:"deviceOverlay",class:"!w-auto !justify-start"},null,512),t(zt,{class:"ml-auto"}),e(u)?(o(),f(Mt,{key:0})):g("",!0),t(jt,{ref:"queueOverlay"},null,512),t(Pe),t(Pt)],8,cl)],64))}}),fl={class:"relative z-0 pt-safe-offset-2 flex h-screen min-h-screen flex-col items-center justify-between gap-2 w-inherit scrollbar-none text-slate-light-12 dark:text-slate-dark-12 overflow-clip"},dl={class:"frosting w-available max-w-2xl h-auto aspect-square shadow mx-6 relative items-center flex"},pl={class:"frosting relative mx-3 -mt-10 mb-3 rounded-2xl pt-10 pb-4 w-available bg-focus/60 shadow"},ml={class:"absolute top-0 z-10 flex w-full items-center rounded-t-2xl pr-2 pl-4 font-semibold"},_l=M({__name:"FullPlayer",setup(p){const{t:u}=st(),i=b("small"),c=b(),r=b(),s=b(),n=b(0),k=b(),h=b("lazy"),x=b([v.value,...Object.values(De.value)]);J(i,()=>{setTimeout(()=>{var _,y;i.value=="small"?(_=document.querySelector("#MobilePlayer"))==null||_.scrollTo({top:window.innerHeight/2,behavior:"smooth"}):(y=document.querySelector("#MobilePlayer"))==null||y.scrollTo({top:999990,behavior:"smooth"})},200)},{immediate:!0}),J(ae,_=>{_&&(s.value=Ve.value,setTimeout(()=>{h.value="eager"},50))}),J(v,_=>{var j,P;if(!_)return;const y=x.value.findIndex(ee=>ee.id==_.id);n.value=y,(P=(j=k.value)==null?void 0:j.$el)==null||P.swiper.slideTo(y)});const d=H(()=>{var _,y,j,P;return ye.value?ke(((y=(_=v.value)==null?void 0:_.color_palette)==null?void 0:y.backdrop)??((P=(j=v.value)==null?void 0:j.color_palette)==null?void 0:P.cover),20,160).replace(/,/gu," ").replace("rgb(",""):"var(--color-theme-7)"}),w=_=>{_.touches.diff!=0&&(_.touches.startX>_.touches.currentX&&_.touches.diff<-100?ce.next():_.touches.startX<_.touches.currentX&&_.touches.diff>100&&ce.previous())},N=()=>{var _,y;r.value&&(i.value=i.value=="small"?"full":"small",i.value=="small"?((y=(_=c.value)==null?void 0:_.$el)==null||y.scrollToTop(),setTimeout(()=>{r.value.style.height="25rem"},500)):(r.value.style.height=`${window.innerHeight*.85}px`,setTimeout(()=>{var j;(j=c.value.$el)==null||j.scrollToBottom()},0)))},R=async()=>{He(!1)};return(_,y)=>{const j=$e("swiper-slide");return o(),f(e(at),{"is-open":e(ae),onWillDismiss:R,"initial-breakpoint":1,breakpoints:[0,1],key:"fullPlayer",id:"fullPlayer"},{default:a(()=>[t(e(rt),{ref_key:"content",ref:c,fullscreen:!0,style:L(`--color-focus: ${d.value}`)},{default:a(()=>[t(Te),l("div",fl,[y[0]||(y[0]=l("div",{class:"pointer-events-none absolute inset-0 w-full bg-spotifyBottom bg-focus transition-all duration-500"},null,-1)),t(el,{class:"pt-safe px-6"}),(o(),f(e(ot),{ref_key:"swiper",ref:k,"slides-per-view":1,initialSlide:n.value,loop:!0,onTouchEnd:w,class:"w-available swiper isolate z-0",key:e(We)},{default:a(()=>[(o(!0),S(oe,null,Ce(x.value??[],(P,ee)=>(o(),f(j,{key:P.id,class:"h-full","data-index":ee,"data-id":P.id},{default:a(()=>[l("div",dl,[(o(),f(Be,{key:P.id,data:P,loading:ee==n.value?"eager":h.value,className:"pointer-events-none relative aspect-square h-auto overflow-clip rounded-md w-inherit shadow"},null,8,["data","loading"]))])]),_:2},1032,["data-index","data-id"]))),128))]),_:1},8,["initialSlide"])),t(nl,{class:"px-6"}),t(kt,{class:"children:!mx-0 gap-4 px-6"}),t(ul)]),l("div",pl,[l("div",ml,[l("span",null,m(e(u)("Lyrics")),1),t(Y,{label:"expand",class:"ml-auto",onclick:N},{default:a(()=>[i.value=="full"?(o(),f(C,{key:0,icon:"arrowExitFullscreen",class:"h-5 w-5"})):(o(),f(C,{key:1,icon:"arrowEnterFullscreen",class:"h-5 w-5"}))]),_:1})]),y[1]||(y[1]=l("div",{class:"pointer-events-none absolute inset-0 flex items-center justify-center rounded-xl bg-black opacity-3"},null,-1)),l("div",{ref_key:"lyricsContainer",ref:r,class:"relative w-full mb-0 flex-col overflow-auto scroll-smooth rounded-b-2xl p-4 transition-transform duration-150 h-[25rem]"},[t($t,{class:"sm:hidden"})],512)])]),_:1},8,["style"])]),_:1},8,["is-open"])}}}),vl=X(_l,[["__scopeId","data-v-16bbdd33"]]),hl={class:"flex flex-grow items-center justify-start gap-2.5 overflow-clip w-[65%]"},xl={class:"frosting relative flex w-10 min-w-10 items-start justify-start gap-2 overflow-hidden rounded"},gl={class:"w-auto self-stretch text-left text-sm font-medium leading-6 line-clamp-1"},bl={class:"children:children:children:children:children:leading-6 w-auto self-stretch text-left text-sm text-auto-12/11"},wl={class:"flex items-center justify-end gap-1"},yl={class:"absolute left-0 w-full h-0.5 top-[54px] blur-[1px]"},kl=M({__name:"MiniPlayer",setup(p){const u=H(()=>{var d,w;return ye.value?ke((w=(d=v.value)==null?void 0:d.color_palette)==null?void 0:w.cover,20,160).replace(/,/gu," ").replace("rgb(",""):"var(--color-theme-7)"}),i=b(null),c=b(null),r=H(()=>{var d;return(d=c.value)==null?void 0:d.offsetWidth}),s=b("0"),n=b(1);function k(){s.value="0",n.value=1}const{isSwiping:h,lengthX:x}=pe(i,{passive:!0,onSwipe(){if(r.value){const d=Math.abs(x.value);n.value=1.1-d/r.value,x.value<0?s.value=`${d}px`:s.value=`-${d}px`}},onSwipeEnd(){r.value&&(x.value<0&&Math.abs(x.value)/r.value>=.5||x.value>100&&Math.abs(x.value)/r.value>=.5)?(s.value="100%",n.value=0,ce.stop(),k()):(s.value="0",n.value=1)}});return(d,w)=>{var N,R,_;return!e(Q)&&e(v)?(o(),S("div",{key:0,onClick:w[0]||(w[0]=y=>e(Ae)()),id:"miniPlayer",ref_key:"container",ref:c,style:L(`--color-focus: ${u.value}`),class:"flex absolute w-available justify-between items-center self-stretch bottom-0 h-14 overflow-hidden p-2 bg-slate-light-1 dark:bg-slate-dark-3 mt-auto z-0"},[w[2]||(w[2]=l("div",{class:"absolute inset-0 h-full w-full bg-gradient-to-b to-black/40 from-focus/40"},null,-1)),l("div",hl,[l("div",xl,[e(v)?(o(),f(Be,{key:0,size:100,className:"relative aspect-square h-10 w-10 cursor-pointer overflow-hidden rounded-sm text-theme-400 min-w-[2.5rem] min-h-[2.5rem]",data:e(v)},null,8,["data"])):g("",!0)]),l("div",{class:$(["relative flex h-full flex-grow flex-col items-start justify-evenly overflow-clip w-inherit",{animated:!e(h)}]),ref_key:"target",ref:i,style:L({left:s.value,opacity:n.value})},[l("p",gl,m((N=e(v))==null?void 0:N.name),1),l("p",bl,[e(v)?(o(),f(Ie,{key:0,id:e(v).id,data:e(v).artist_track,type:"artists"},null,8,["id","data"])):g("",!0)])],6)]),l("div",wl,[t(je,{noName:""}),(o(),f(Le,{key:((R=e(v))==null?void 0:R.id)+((_=e(v))==null?void 0:_.favorite),data:e(v),color:"var(--color-focus)"},null,8,["data"])),t(Me,{class:"children:h-7 children:w-7"})]),l("div",yl,[w[1]||(w[1]=l("div",{class:"absolute w-full h-0.5 left-[-1px] top-[-1px] bg-black/[0.22]"},null,-1)),l("div",{class:"w-0 h-0.5 absolute left-[-1px] top-[-1px] rounded-sm bg-gradient-to-r from-black/5 to-[rgb(var(--color-focus))] z-10",style:L(`width: ${e(_e)}%;`)},null,4),l("div",{class:"w-1 h-0.5 absolute top-[-1px] rounded-sm bg-[#f1EEFE] -translate-x-[2px] z-0",style:L(`left: ${e(_e)}%;`)},null,4)])],4)):g("",!0)}}}),$l={class:"flex flex-col justify-start items-start flex-grow relative gap-0.5"},Cl={class:"flex-grow-0 flex-shrink-0 w-48 text-base font-semibold text-left text-slate-dark-1 dark:text-slate-light-1"},Sl={class:"flex justify-start items-center self-stretch flex-grow-0 flex-shrink-0 relative gap-0.5"},zl={class:"flex-grow text-sm text-left text-slate-dark-3 dark:text-slate-light-3"},Ml=M({__name:"ProfileMenuServerSection",setup(p){return(u,i)=>(o(),f(e(se),{to:"/preferences/profile",class:"flex justify-start items-center self-stretch flex-grow-0 flex-shrink-0 relative gap-2.5 mb-2"},{default:a(()=>{var c;return[t(Oe,{user:e(ue),size:40},null,8,["user"]),l("div",$l,[l("p",Cl,m(e(ue).name),1),l("div",Sl,[e(E)?(o(),f(e(z),{key:0,"aria-hidden":"true",icon:e(xe),class:"w-4 h-4"},null,8,["icon"])):(o(),f(e(z),{key:1,"aria-hidden":"true",icon:e(xe),class:"w-4 h-4"},null,8,["icon"])),l("p",zl,m(((c=e(E))==null?void 0:c.name)??u.$t("Not connected")),1)])])]}),_:1}))}}),jl={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},Pl={class:"flex-grow w-full text-lg font-medium text-left"},Tl={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},Bl={class:"flex-grow w-full text-lg font-medium text-left"},Il={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},Ll={class:"flex-grow w-full text-lg font-medium text-left"},Ol={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},ql={class:"flex-grow w-full text-lg font-medium text-left"},El={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},Nl={class:"flex-grow w-full text-lg font-medium text-left"},Rl={for:"ion-tg-0",class:"flex justify-center items-center flex-grow relative gap-2 px-2 w-available"},Fl={class:"flex-grow w-full text-lg font-medium text-left"},Dl={for:"ion-tg-0",class:"flex justify-center items-center flex-grow relative gap-2 px-2 w-available"},Wl={class:"flex-grow w-full text-lg font-medium text-left"},Hl={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},Vl={class:"flex-grow w-full text-lg font-medium text-left"},Al=M({__name:"ProfileMenu",setup(p){const u=()=>window.location.reload(),i=Se(),c=async()=>{A("android")&&be.open({url:`nomercy://${i.path}`}).then(()=>{setTimeout(async()=>{await be.open({url:`nomercy://${i.path}`})},1e3)})};return(r,s)=>(o(),f(qe,{menuOpen:e(Q),closeMenu:e(W)},{default:a(()=>[t(e(ct),null,{default:a(()=>[t(e(O),{lines:"inset"},{default:a(()=>[t(Ml)]),_:1}),t(e(O),{lines:"inset"},{default:a(()=>[t(e(se),{to:"/setup/select-servers",class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent"},{default:a(()=>[t(e(V)),s[4]||(s[4]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(z),{"aria-hidden":"true",icon:e(It),className:"size-6 min-w-6"},null,8,["icon"]),l("div",jl,[l("p",Pl,m(r.$t("Switch server")),1)])]),_:1})]),_:1}),t(e(O),{lines:"none"},{default:a(()=>[t(e(se),{to:"/preferences/display",class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent"},{default:a(()=>[t(e(V)),s[5]||(s[5]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(z),{"aria-hidden":"true",icon:e(ge),className:"size-6 min-w-6"},null,8,["icon"]),l("div",Tl,[l("p",Bl,m(r.$t("Preferences")),1)])]),_:1})]),_:1}),t(e(O),{lines:"none"},{default:a(()=>[t(e(se),{to:"/dashboard/system",class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent"},{default:a(()=>[t(e(V)),s[6]||(s[6]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(z),{"aria-hidden":"true",icon:e(Lt),className:"size-6 min-w-6"},null,8,["icon"]),l("div",Il,[l("p",Ll,m(r.$t("System")),1)])]),_:1})]),_:1}),t(e(O),{lines:"none"},{default:a(()=>[l("button",{"no-ring":"",onClick:s[0]||(s[0]=n=>u()),class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent"},[t(e(V)),s[7]||(s[7]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(z),{"aria-hidden":"true",icon:e(Ot),className:"size-6 min-w-6"},null,8,["icon"]),l("div",Ol,[l("p",ql,m(r.$t("Refresh")),1)])])]),_:1}),!e(A)("capacitor")&&e(A)("android")?(o(),f(e(O),{key:0,lines:"none"},{default:a(()=>[l("button",{"no-ring":"",onClick:c,class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent"},[t(e(V)),s[8]||(s[8]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(z),{"aria-hidden":"true",icon:e(Wt),className:"size-6 min-w-6"},null,8,["icon"]),l("div",El,[l("p",Nl,m(r.$t("Open in App")),1)])])]),_:1})):g("",!0),t(e(O),{lines:"none"},{default:a(()=>[l("button",{"no-ring":"",onClick:s[1]||(s[1]=n=>D.value=!e(D)),class:"flex justify-center items-center self-stretch w-available h-full flex-grow-0 flex-shrink-0 relative pl-2 py-2.5 rounded-md bg-transparent border border-transparent"},[t(e(z),{"aria-hidden":"true",icon:e(qt),className:"size-6 min-w-6"},null,8,["icon"]),l("label",Rl,[l("span",Fl,m(r.$t("Dark mode")),1)]),t(de,{"model-value":e(D),class:"pointer-events-none"},null,8,["model-value"])])]),_:1}),nt(t(e(O),{lines:"inset"},{default:a(()=>[l("button",{"no-ring":"",onClick:s[2]||(s[2]=n=>le.value=!e(le)),class:"flex justify-center items-center self-stretch w-available h-full flex-grow-0 flex-shrink-0 relative pl-2 py-2.5 rounded-md bg-transparent border border-transparent"},[t(e(z),{"aria-hidden":"true",icon:e(ge),className:"size-6 min-w-6"},null,8,["icon"]),l("label",Dl,[l("span",Wl,m(e(le)?r.$t("Disable TV mode"):r.$t("Enable TV mode")),1)]),t(de,{"model-value":e(le),class:"pointer-events-none"},null,8,["model-value"])])]),_:1},512),[[it,!e(Xe)&&!e(A)("mobileweb")]]),t(e(O),{lines:"none"},{default:a(()=>[l("button",{"no-ring":"",onClick:s[3]||(s[3]=n=>e(Ue)()),class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent"},[t(e(V)),s[9]||(s[9]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(z),{"aria-hidden":"true",icon:e(Et),className:"size-6 min-w-6"},null,8,["icon"]),l("div",Hl,[l("p",Vl,m(r.$t("Logout")),1)])])]),_:1})]),_:1})]),_:1},8,["menuOpen","closeMenu"]))}}),Xl=X(Al,[["__scopeId","data-v-f1dbce37"]]),Ul={class:"relative mx-auto flex flex-col rounded-full min-h-8 size-8 top-1.5 mb-2 mt-2.5 bg-black"},Gl=M({__name:"BottomBar",setup(p){return(u,i)=>(o(),f(e(ut),{slot:"bottom",mode:"md","selected-tab":"home",class:$(["w-available overflow-clip",{"bg-sand-light-1 dark:bg-slate-dark-3 hide-bg":e(Q),"bg-sand-light-1 dark:bg-slate-dark-3":!e(Q)}])},{default:a(()=>[e(E)?(o(),f(e(U),{key:0,tab:"home",href:"/home",onClick:e(W)},{default:a(()=>[t(e(z),{"aria-hidden":"true",icon:e(Nt)},null,8,["icon"]),t(e(I),null,{default:a(()=>[B(m(u.$t("Home")),1)]),_:1})]),_:1},8,["onClick"])):g("",!0),t(e(U),{tab:"search",href:"/search",onClick:e(W)},{default:a(()=>[t(e(z),{"aria-hidden":"true",icon:e(Rt)},null,8,["icon"]),t(e(I),null,{default:a(()=>[B(m(u.$t("Search")),1)]),_:1})]),_:1},8,["onClick"]),e(E)?(o(),f(e(U),{key:1,tab:"library",href:"/libraries",onClick:e(W)},{default:a(()=>[t(e(z),{"aria-hidden":"true",icon:e(Ft),class:"icon"},null,8,["icon"]),t(e(I),null,{default:a(()=>[B(m(u.$t("Library")),1)]),_:1})]),_:1},8,["onClick"])):g("",!0),e(E)?(o(),f(e(U),{key:2,tab:"music",href:"/music/start",onClick:e(W)},{default:a(()=>[t(e(z),{"aria-hidden":"true",icon:e(Dt)},null,8,["icon"]),t(e(I),null,{default:a(()=>[B(m(u.$t("Music")),1)]),_:1})]),_:1},8,["onClick"])):g("",!0),t(e(U),{"_on-click":e(we),onClick:e(we),tab:"/dashboard",class:$(["hide-bg",{"tab-selected":e(Q)}])},{default:a(()=>[l("div",Ul,[t(Ht,{alt:"NoMercy Logo",class:"absolute w-8 h-8 rounded-full p-1.5"}),t(Oe,{user:e(ue),size:52,class:"absolute"},null,8,["user"])]),t(e(I),null,{default:a(()=>[B(m(u.$t("Profile")),1)]),_:1})]),_:1},8,["_on-click","onClick","class"])]),_:1},8,["class"]))}}),Yl=X(Gl,[["__scopeId","data-v-63d72b16"]]),Jl={class:"relative flex flex-grow items-center justify-center gap-2 pl-2"},Ql={class:"flex-grow text-left text-lg font-medium w-available"},Zl={class:"relative flex flex-grow items-center justify-center gap-2 pl-2"},Kl={class:"flex-grow text-left text-lg font-medium w-available"},q=M({__name:"SideFlyoutButton",props:{title:{type:String,required:!0},icon:{type:String,required:!0},href:{type:String,default:""},onclick:{type:Function},active:{type:Boolean,default:!1}},setup(p){return(u,i)=>{const c=$e("RouterLink");return p.href?(o(),f(c,{key:0,to:p.href,onClick:p.onclick,class:$([p.active?"bg-focus/12 border-focus/4 text-auto-12 shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-1)/60%)] hover:!shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-1)/60%)]":"","relative flex h-12 flex-shrink-0 flex-grow-0 items-center justify-center self-stretch rounded-md border border-transparent bg-transparent py-2.5"]),style:L(p.active?{background:"radial-gradient(50% 50% at 50% 100%, rgba(70, 70, 70, 0.09) 0%, rgba(70, 70, 70, 0.06) 40%, rgba(70, 70, 70, 0.00) 100%), linear-gradient(180deg, rgba(70, 70, 70, 0.00) 0%, rgba(70, 70, 70, 0.12) 100%), rgba(var(--color-focus) / 60%)",backgroundBlendMode:"normal, overlay, normal"}:{})},{default:a(()=>[i[1]||(i[1]=l("div",{class:"w-1 flex-shrink-0 flex-grow-0 h-3.5"},null,-1)),t(C,{icon:p.icon,className:"relative h-6 w-6 flex-shrink-0 flex-grow-0"},null,8,["icon"]),l("div",Jl,[l("p",Ql,m(u.$t(p.title)),1)]),fe(u.$slots,"default")]),_:3},8,["to","onClick","class","style"])):(o(),S("button",{key:1,onClick:i[0]||(i[0]=(...r)=>p.onclick&&p.onclick(...r)),class:$([p.active?"bg-focus/12 border-focus/4 text-auto-12 shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-1)/60%)] hover:!shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-1)/60%)]":"","relative flex h-12 flex-shrink-0 flex-grow-0 items-center justify-center self-stretch rounded-md border border-transparent bg-transparent py-2.5"]),style:L(p.active?{background:"radial-gradient(50% 50% at 50% 100%, rgba(70, 70, 70, 0.09) 0%, rgba(70, 70, 70, 0.06) 40%, rgba(70, 70, 70, 0.00) 100%), linear-gradient(180deg, rgba(70, 70, 70, 0.00) 0%, rgba(70, 70, 70, 0.12) 100%), rgba(var(--color-focus) / 60%)",backgroundBlendMode:"normal, overlay, normal"}:{})},[i[2]||(i[2]=l("div",{class:"w-1 flex-shrink-0 flex-grow-0 h-3.5"},null,-1)),t(C,{icon:p.icon,className:"relative h-6 w-6 flex-shrink-0 flex-grow-0"},null,8,["icon"]),l("div",Zl,[l("p",Kl,m(u.$t(p.title)),1)]),fe(u.$slots,"default")],6))}}}),es={key:0,class:"flex flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-1 self-stretch border-t border-r-0 border-b border-l-0 px-3 py-2 border-auto-12/[0.08]"},ts={key:1,class:"flex flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-1 self-stretch border-t-0 border-r-0 border-b border-l-0 px-3 py-2 border-auto-12/[0.08]"},ls={class:"flex flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-1 self-stretch px-3 py-2"},ss={class:"inline-flex w-min cursor-pointer items-center gap-3",for:"ion-tg-0"},as={class:"flex flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-1 self-stretch px-3 py-2 mt-auto border-t border-r-0 border-b-0 border-l-0 border-auto-12/[0.08]"},os=M({__name:"SideFlyout",setup(p){const u=()=>window.location.reload(),i=b(null),c=b(null),r=H(()=>{var x;return(x=c.value)==null?void 0:x.offsetWidth}),s=b("-100%"),n=b(0);ze(()=>{ie.value==="open"?(s.value="0",n.value=1):(s.value="-100%",n.value=0)}),J(ie,x=>{x==="open"?(s.value="0",n.value=1):x==="closed"&&(s.value="-100%",n.value=0)});const{isSwiping:k,lengthX:h}=pe(i,{passive:!0,onSwipe(){if(r.value)if(h.value>0){const x=Math.abs(h.value);s.value=`-${x}px`,n.value=1-x/r.value}else s.value="0",n.value=1},onSwipeEnd(){h.value>0&&r.value&&Math.abs(h.value)/r.value>=.25?(s.value="-100%",n.value=0,T()):(s.value="0",n.value=1)}});return(x,d)=>(o(),S("aside",{class:$([{"transition-left duration-200 ease-in-out ":!e(k)},"flex flex-col h-available absolute top-14 z-999 w-5/6 overflow-hidden"]),style:L([{"box-shadow":"0 4px 7px 0 rgba(0,0,0,0.08)"},{left:s.value}]),ref_key:"target",ref:i},[l("div",{class:$(["fixed inset-0 top-14 w-[500%] h-screen bg-black/40 -z-10",{"transition-opacity duration-200 ease-in-out ":!e(k),"pointer-events-none":e(ie)!=="open"}]),style:L({opacity:n.value}),onClick:d[0]||(d[0]=(...w)=>e(T)&&e(T)(...w))},null,6),l("div",{ref_key:"container",ref:c,class:"flex flex-shrink-0 flex-grow-0 flex-col items-start justify-start self-stretch overflow-hidden bg-slate-light-1 dark:bg-slate-dark-3 h-full"},[t(Tt),e(E)?(o(),S("div",es,[t(q,{icon:"serverSwitch",title:"Switch server",href:"/setup/select-servers",onClick:e(T)},null,8,["onClick"])])):g("",!0),e(E)?(o(),S("div",ts,[e(ne)?(o(),f(q,{key:0,icon:"home1",title:"Home",href:"/home",onClick:e(T),active:e(Ge)},null,8,["onClick","active"])):g("",!0),e(ne)&&e(ve)?(o(),f(q,{key:1,icon:"folder",title:"Libraries",href:"/libraries",onClick:e(T),active:e(Ye)},null,8,["onClick","active"])):g("",!0),e(ne)&&e(ve)?(o(),f(q,{key:2,icon:"noteDouble",title:"Music",href:"/music/start",onClick:e(T),active:e(Je)},null,8,["onClick","active"])):g("",!0)])):g("",!0),l("div",ls,[e(E)?(o(),f(q,{key:0,icon:"gridMasonry",title:"System",href:"/dashboard/system",active:e(Qe),onClick:e(T)},null,8,["active","onClick"])):g("",!0),e(E)?(o(),f(q,{key:1,icon:"paintSwatches",title:"Preferences",active:e(Ze),onClick:e(T),href:"/preferences/display"},null,8,["active","onClick"])):g("",!0),t(q,{icon:"arrowRefreshHorizontal",title:"Refresh",onclick:u,onClick:e(T)},null,8,["onClick"]),t(q,{icon:"moonDiagonal",title:"Dark mode",onClick:d[2]||(d[2]=w=>D.value=!e(D))},{default:a(()=>[l("label",ss,[t(de,{"model-value":e(D),"onUpdate:modelValue":d[1]||(d[1]=w=>D.value=w),id:"toggleScheme"},null,8,["model-value"])])]),_:1})]),l("div",as,[t(q,{icon:"doorOpen",title:"Logout",onClick:d[3]||(d[3]=w=>{var N,R;return(R=(N=x.$keycloak)==null?void 0:N.keycloak)==null?void 0:R.logout()})})])],512)],6))}}),rs=M({__name:"MobileLibraryHeader",setup(p){const u=["/libraries/","/genre"],i=["/collection","/specials","/person"],c=Se(),r=b(u.some(s=>c.fullPath.startsWith(s))||i.some(s=>c.fullPath.endsWith(s)));return F.afterEach(s=>{r.value=u.some(n=>s.fullPath.startsWith(n))||i.some(n=>s.fullPath.endsWith(n))}),(s,n)=>r.value?(o(),f(e(ft),{key:0,class:"mt-safe transition-all duration-200 toolbar"},{default:a(()=>[t(e(dt),{scrollable:!0,mode:"ios",value:e(c).fullPath},{default:a(()=>{var k,h,x;return[(o(!0),S(oe,null,Ce(((k=e(he))==null?void 0:k.filter(d=>d.type!="music"))??[],d=>(o(),f(e(G),{key:d.id,value:`/libraries/${d.id}`,layout:"icon-start",onClick:()=>e(F).push(`/libraries/${d.id}`),class:$({"bg-focus":e(c).fullPath.startsWith(`/libraries/${d.id}`)})},{default:a(()=>[t(C,{icon:"folder",class:"mr-2"}),t(e(I),null,{default:a(()=>[B(m(d.title),1)]),_:2},1024)]),_:2},1032,["value","onClick","class"]))),128)),(x=(h=e(he))==null?void 0:h.some)!=null&&x.call(h,d=>d.type==="movie")?(o(),f(e(G),{key:0,value:"/collection",layout:"icon-start",onClick:n[0]||(n[0]=()=>e(F).push("/collection")),class:$({"bg-focus":e(c).fullPath.startsWith("/collection")})},{default:a(()=>[t(C,{icon:"collection1",class:"mr-2"}),t(e(I),null,{default:a(()=>[B(m(s.$t("Collections")),1)]),_:1})]),_:1},8,["class"])):g("",!0),t(e(G),{value:"/specials",layout:"icon-start",onClick:n[1]||(n[1]=()=>e(F).push("/specials")),class:$({"bg-focus":e(c).fullPath.startsWith("/specials")})},{default:a(()=>[t(C,{icon:"sparkles",class:"mr-2"}),t(e(I),null,{default:a(()=>[B(m(s.$t("Specials")),1)]),_:1})]),_:1},8,["class"]),t(e(G),{value:"/genre",layout:"icon-start",onClick:n[2]||(n[2]=()=>e(F).push("/genre")),class:$({"bg-focus":e(c).fullPath.startsWith("/genre")})},{default:a(()=>[t(C,{icon:"witchHat",class:"mr-2"}),t(e(I),null,{default:a(()=>[B(m(s.$t("Genres")),1)]),_:1})]),_:1},8,["class"]),t(e(G),{value:"/person",layout:"icon-start",onClick:n[3]||(n[3]=()=>e(F).push("/person")),class:$({"bg-focus":e(c).fullPath.startsWith("/person")})},{default:a(()=>[t(C,{icon:"user",class:"mr-2"}),t(e(I),null,{default:a(()=>[B(m(s.$t("People")),1)]),_:1})]),_:1},8,["class"])]}),_:1},8,["value"])]),_:1})):g("",!0)}}),ns=X(rs,[["__scopeId","data-v-ea870375"]]),is=M({__name:"BaseLayout",setup(p){const u=pt();return ze(()=>{Ke(),F.afterEach(()=>{W()})}),mt(()=>{et()}),(i,c)=>(o(),f(e(xt),{id:"main-content"},{default:a(()=>[t(e(_t),null,{default:a(()=>{var r;return[e(u)>0?(o(),f(e(vt),{key:0,type:"indeterminate",class:"absolute mt-safe top-0 z-1199 bg-black"})):g("",!0),t(Te),t(ns),t(e(ht),{animated:"false",class:"pointer-events-none children:pointer-events-auto"}),t(Xl),t(Yt),t(Pe,{class:"!z-10",ignoreElRef:[]}),t(Yl),(r=e(v))!=null&&r.id?(o(),f(vl,{key:e(ae)?"full-player-open":"full-player-closed"})):g("",!0),(o(),f(kl,{key:e(ae)?"mini-player-closed":"mini-player-open"})),t(Ct),e(A)("capacitor")?g("",!0):(o(),f(os,{key:2}))]}),_:1})]),_:1}))}}),Ds=X(is,[["__scopeId","data-v-3c9115c8"]]);export{Ds as default};
