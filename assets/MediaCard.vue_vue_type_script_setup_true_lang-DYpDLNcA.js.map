{"version":3,"file":"MediaCard.vue_vue_type_script_setup_true_lang-DYpDLNcA.js","sources":["../../src/components/Cards/MediaCard.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { computed, type PropType } from 'vue';\n\nimport type { ContinueWatching, HomeItem } from \"@/types/api/base/home\";\nimport type { Collection } from \"@/types/api/base/collection\";\nimport type { KnownFor } from \"@/types/api/base/person\";\nimport type { LibraryResponse } from \"@/types/api/base/library\";\nimport type { InfoResponse } from \"@/types/api/base/info\";\n\nimport { pickPaletteColor } from \"@/lib/colorHelper\";\n\nimport { showBackdrops } from '@/store/preferences';\n\nimport TMDBImage from '@/components/Images/TMDBImage.vue';\nimport CardIndicator from '@/components/Cards/CardIndicator.vue';\n\nconst props = defineProps({\n    data: {\n        type: Object as PropType<LibraryResponse | InfoResponse | HomeItem | ContinueWatching | Collection | KnownFor> | undefined,\n        required: true,\n    },\n    index: {\n        type: Number as PropType<number>,\n        required: false,\n        default: 0,\n    },\n    watch: {\n        type: Boolean,\n        required: false,\n        default: false,\n    },\n    disableAutoAspect: {\n        type: Boolean,\n        required: false,\n        default: false,\n    },\n});\n\nconst scrollLetter = computed(() => `scroll_${props.data?.titleSort?.[0]?.toUpperCase?.()}`);\n\nconst backdropStyle = computed(() => {\n    return showBackdrops.value && !props.disableAutoAspect;\n})\n\nconst image = computed(() => {\n    return props.data?.[backdropStyle.value ? 'backdrop' : 'poster'] as string;\n});\n\nconst focusColor = computed(() => {\n  return props.data?.color_palette?.[backdropStyle.value ? 'backdrop' : 'poster']\n      ? pickPaletteColor(props.data?.color_palette?.[backdropStyle.value ? 'backdrop' : 'poster'])\n          .replace(/,/gu, ' ')\n          .replace(')', '')\n          .replace('rgb(', '')\n      : ''\n})\n\n</script>\n\n<template>\n    <RouterLink v-if=\"data?.link\" :data-scroll=\"scrollLetter\" :to=\"data?.link\"\n        class=\"group/card flex flex-col h-full items-center focus-outline relative rounded-lg select-none shadow-[0px_0px_0_1px_rgb(var(--color-focus,var(--color-theme-6))/70%)] w-full z-0 bg-auto-50/70 flex-grow-0\"\n        :class=\"backdropStyle ? 'aspect-backdrop' : 'aspect-poster'\" :style=\"`--color-focus: ${focusColor};`\">\n        <div class=\"w-full h-full overflow-clip rounded-lg inset-0 absolute\">\n            <div class=\"backdropCard-overlay\"></div>\n\n            <TMDBImage :path=\"image\" :title=\"data?.title\" loading=\"lazy\" :size=\"backdropStyle ? 330 : 180\"\n                :aspect=\"backdropStyle ? 'backdrop' : 'poster'\"\n                :colorPalette=\"data?.color_palette?.[backdropStyle ? 'backdrop' : 'poster']\"\n                className=\"h-full overflow-clip rounded-lg\" />\n\n            <template v-if=\"backdropStyle\">\n                <div v-if=\"!!(data as HomeItem)?.logo\" class=\"absolute inset-0 h-full w-full\">\n                    <div\n                        class=\"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-auto-1 via-auto-1/80\">\n                    </div>\n                    <div class=\"absolute bottom-0 left-0 h-full max-h-24 w-full max-w-[66%]\">\n                        <TMDBImage :path=\"(data as HomeItem)?.logo\" :title=\"data?.title\"\n                            :colorPalette=\"data?.color_palette?.logo\" :size=\"500\" loading=\"lazy\"\n                            class=\"w-auto object-contain h-available object-[0_0%] max-h-inherit !duration-700 children:!duration-700\"\n                            className=\"mr-auto p-4 !duration-700 children:!duration-700\" type=\"logo\" />\n\n                    </div>\n                </div>\n                <div v-else class=\"absolute inset-0 h-full w-full\">\n                    <div\n                        class=\"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-auto-1 via-auto-1/80\">\n                    </div>\n                    <div class=\"absolute bottom-4 left-4 w-full max-w-[66%]\">\n                        <p\n                            class=\"z-10 w-auto text-2xl font-bold line-clamp-2 leading-[1.2] text-auto-12 empty:hidden dark:font-medium\">\n                            {{ data?.title }}\n                        </p>\n                    </div>\n                </div>\n\n            </template>\n            <div v-else\n                :class=\"`flex flex-col justify-start items-start w-full contain-strict will-change-transform h-14 z-0 absolute overflow-clip rounded-b-lg left-0 transition-all duration-300 px-2 py-1 group-hover/card:-bottom-0 text-left ${image ? '-bottom-20' : 'bottom-0'}`\">\n                <div\n                    class=\"absolute inset-0 z-0 opacity-0 group-hover/card:opacity-100 transition-all duration-300 bg-auto-1/60 overflow-clip rounded-b-lg\">\n                </div>\n                <p\n                    class=\"z-10 w-auto flex-shrink-0 flex-grow-0 self-stretch text-sm font-bold line-clamp-2 leading-[1.2] text-auto-12 empty:hidden dark:font-medium text-wrap\">\n                    {{ data?.title }}\n                </p>\n            </div>\n\n            <CardIndicator :data=\"data\" />\n        </div>\n    </RouterLink>\n</template>\n"],"names":["props","__props","scrollLetter","computed","_d","_c","_b","_a","backdropStyle","showBackdrops","image","focusColor","pickPaletteColor"],"mappings":"6/BAgBA,MAAMA,EAAQC,EAsBRC,EAAeC,EAAS,IAAM,aAAA,iBAAUC,GAAAC,GAAAC,GAAAC,EAAAP,EAAM,OAAN,YAAAO,EAAY,YAAZ,YAAAD,EAAwB,KAAxB,YAAAD,EAA4B,cAA5B,YAAAD,EAAA,KAAAC,EAA2C,GAAE,EAErFG,EAAgBL,EAAS,IACpBM,EAAc,OAAS,CAACT,EAAM,iBACxC,EAEKU,EAAQP,EAAS,IAAM,OACzB,OAAOI,EAAAP,EAAM,OAAN,YAAAO,EAAaC,EAAc,MAAQ,WAAa,SAAQ,CAClE,EAEKG,EAAaR,EAAS,IAAM,aAChC,OAAOG,GAAAC,EAAAP,EAAM,OAAN,YAAAO,EAAY,gBAAZ,MAAAD,EAA4BE,EAAc,MAAQ,WAAa,UAChEI,GAAiBR,GAAAC,EAAAL,EAAM,OAAN,YAAAK,EAAY,gBAAZ,YAAAD,EAA4BI,EAAc,MAAQ,WAAa,SAAS,EACtF,QAAQ,MAAO,GAAG,EAClB,QAAQ,IAAK,EAAE,EACf,QAAQ,OAAQ,EAAE,EACrB,EAAA,CACP"}