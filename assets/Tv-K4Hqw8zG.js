import{t as y}from"./useQueryClient-Ckl8PMYN.js";import{Bn as w,Bs as g,Co as b,Ec as k,Gc as t,Gs as e,Ho as C,Js as S,Ki as B,Ks as d,Ls as L,Mt as T,Nc as i,Ns as j,Oc as n,Qn as v,Qs as r,Rc as N,Si as M,Ua as I,Uo as V,Vn as q,_c as E,ec as O,fc as Q,h as U,hc as c,ho as z,hr as $,i as u,kc as D,mr as G,pc as H,qa as p,rr as K,ta as m,wi as _,yc as R,zo as A}from"./index-CJcxWh6B.js";import"./dist-B6AvwZUA.js";import"./md5-ClaC9o8A.js";import{t as F}from"./NoMercyAvatar-DSq9o5W_.js";import"./HubConnection-BgYujhqd.js";import{t as J}from"./ripperSocket-BtjuUdEG.js";import"./DeviceIcon-DX-oETu6.js";import{t as P}from"./ServerCard-CdCzBIsi.js";j();V();var W={class:"flex h-full w-full flex-auto flex-col items-center justify-center gap-8 p-8"},X={class:"flex w-full flex-grow flex-col justify-between p-2 min-h-auto"},Y={class:"flex justify-between items-center self-stretch flex-grow-0 flex-shrink-0 w-full relative gap-2.5 mb-2"},Z={class:"flex justify-start items-center relative gap-2.5",inert:""},ee={class:"size-12 my-auto"},te={class:"w-48 text-base font-semibold text-left"},se={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},re={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},ae=O({__name:"Tv",setup(oe){const h=y(),l=N();async function x(s){_(s),await M().get("libraries").then(({data:a})=>{B(a.data),G.value=!0,w.value=!0,setTimeout(async()=>{v.value==="/setup/select-servers"?await u.replace({name:"Home"}):await u.replace(v.value)},50)}).catch(async()=>{await u.replace({name:"Server offline"})})}return Q(()=>{_(null),K(),h.removeQueries(),U.value?.stop(),T.value?.stop(),J.value?.stop()}),H(()=>{$()}),A(()=>{setTimeout(()=>{l.value?.querySelector("button")?.focus()},100)}),k(l,s=>{setTimeout(()=>{s?.querySelector("button")?.focus()},100)}),(s,a)=>{const f=R("MoooomIcon");return c(),d(t(b),null,{default:n(()=>[r(t(z),{fullscreen:!0},{default:n(()=>[e("div",W,[e("div",X,[e("div",Y,[e("div",Z,[e("div",ee,[r(F,{size:40,user:t(m)},null,8,["user"])]),e("p",te,i(t(m).name),1)]),D(e("button",{class:"flex justify-center items-center ml-auto relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",tabindex:"0",onClick:a[0]||(a[0]=o=>p.value=!t(p))},[r(f,{class:"",icon:"doorOut"}),e("span",se,i(s.$t("Exit TV mode")),1)],512),[[L,!t(I)]]),r(t(C),{class:"flex justify-center items-center relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",to:"/logout"},{default:n(()=>[r(f,{class:"",icon:"doorOut"}),e("span",re,i(s.$t("Logout")),1)]),_:1})]),e("div",{ref_key:"serverList",ref:l,class:"tv:children:w-[30%] tv:mt-0 -mt-24 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4"},[(c(!0),S(g,null,E(t(q),o=>(c(),d(P,{key:o.id,onclick:()=>x(o),server:o},null,8,["onclick","server"]))),128))],512)])])]),_:1})]),_:1})}}}),me=ae;export{me as default};
