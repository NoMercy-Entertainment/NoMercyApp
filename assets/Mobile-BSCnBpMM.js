import"./useBaseQuery-BD2bvG9f.js";import"./useInfiniteServerClient-DsIFlj9d.js";import"./useQueryClient-D6q0hgG8.js";import"./useQuery-CBoq9typ.js";import{Ai as U,Ao as V,Bs as W,Fc as F,Fo as E,Ic as C,Is as K,Ki as I,Ks as N,Ls as s,Mc as t,Po as q,Rs as l,Tc as u,Ws as x,_c as k,cr as S,er as G,fi as $,i as O,ic as J,jo as Q,ki as X,kr as Y,lr as B,mi as Z,mo as ee,oc as r,oo as te,sr as L,ti as ae,ur as M,vr as re,ws as le,xo as j,yc as f,zs as o}from"./index-DO6J_9Tp.js";import"./basecomponent-CpqndFv6.js";import"./classnames-D1foEy1e.js";import"./button-CFDRyzJl.js";import"./baseicon-ZnDxD8ou.js";import{t as oe}from"./_plugin-vue_export-helper-CEc1WwrB.js";import"./Select-D6K4I0rW.js";import"./use-text-value-CU8t7vyJ.js";import"./render-DXuRPkyW.js";import"./imageModal-B_6nwhoD.js";import"./AppLogoSquare-DsJ0G2n6.js";import"./TMDBImage-J_HJdqlI.js";import"./MoooomIcon-c5XNQtse.js";import"./dist-DVAuqLsO.js";import{t as se}from"./useServerClient-BHDPuUSe.js";import"./sidebar-BasI0wOO.js";import"./MusicButton-CJezCNlr.js";import"./BannerButton-1Tf37D_7.js";import"./MediaLikeButton-BRZHcAAx.js";import"./swiper-vue-D0_B2Jgq.js";import"./CardIndicator-CdI0NfIy.js";import"./swiper-config-C_WcxwMn.js";import"./CardShadow-DNhNfUjg.js";import{n as H,t as P}from"./ImageCarousel-iRxtEhZC.js";import{t as ie}from"./ContentRating-DIWrwBUZ.js";import"./ShareButton-CuN2Bnua.js";import"./Carousel-BrPN60YO.js";import"./PersonCard-CLn7sbQU.js";import{t as d}from"./InfoItem-CJLXQco0.js";import{n as g,t as ne}from"./Collapsible-cVtnnIem.js";import{t as ue}from"./MobileInfoCard-DoddREfR.js";import{n as de,t as ce}from"./Trailer-DaUfXoqr.js";import{t as z}from"./MediaCarousel-8YsL8I2o.js";import"./VideoPlayer-DyE3_3qC.js";import"./buttons-Dz19tni1.js";le();q();var pe={class:"flex flex-col justify-start items-center self-stretch flex-grow h-auto gap-4 will-change-auto text-surface-12 z-0",style:{"box-shadow":"0 2px 2px 0 rgba(0, 0, 0, 0.16)"}},me={class:"flex bg-surface-3 dark:bg-surface-1 flex-col justify-start items-start self-stretch flex-grow-0 flex-shrink-0 gap-3 pt-16 pb-5 will-change-auto w-inherit px-6"},fe=["innerHTML"],ge={key:1,class:"flex justify-start items-center self-stretch flex-grow-0 flex-shrink-0 relative gap-2 flex-wrap"},ve={class:"whitespace-nowrap"},xe={class:"whitespace-nowrap"},ke=N({__name:"Mobile",setup(_e){const D=E(),A=u(!1),R=u(!1),c=u(!1),p=u("loading"),n=u(-1),_=u(null),h=u(null),m=u(),{data:e}=se({keepForever:!0,path:D?.fullPath});k(e,a=>{m.value?.$el?.scrollToTop(window.innerHeight),A.value=!0,n.value=0,$(a?.title??a?.name),a?.backdrop&&L(a?.backdrop),a?.poster&&M(a?.poster),a?.logo&&B(a?.logo),a?.color_palette?.poster&&S(a?.color_palette?.poster),T(a)});const v=K(()=>`${U.value?.serverBaseUrl}/images/original${e.value?.backdrop??G.value}`);V(()=>{m.value?.$el?.scrollToTop(window.innerHeight),$(e?.value?.name),e?.value?.backdrop&&L(e?.value?.backdrop),e?.value?.poster&&M(e?.value?.poster),e?.value?.logo&&B(e?.value?.logo),e?.value?.color_palette?.poster&&S(e?.value?.color_palette?.poster)}),Q(()=>{m.value?.$el?.scrollToTop(window.innerHeight)}),O.afterEach(()=>{setTimeout(()=>{m.value?.$el?.scrollToTop(window.innerHeight)},100)});const w=u();k(R,a=>{a?w.value?.$el?.classList.remove("line-clamp-3"):setTimeout(()=>{w.value?.$el?.classList.add("line-clamp-3")},300)});function y(){if(!e?.value?.videos)return;c.value=!c.value;const a=document.querySelector("#main");a&&(a.style.overflow=c.value?"hidden":"auto")}function b(){!e?.value||e?.value?.videos?.length===0||(n.value===e?.value?.videos.length-1?n.value=0:n.value++)}function T(a){if(p.value="loading",!a||a.videos?.length===0||!a.videos?.[n.value]){p.value=!1;return}_.value=a.duration&&new Date(new Date().getTime()+a.duration*60*1e3).toLocaleTimeString(I.language??"en-US",{hour:"2-digit",minute:"2-digit"}),h.value=setInterval(()=>{_.value=a.duration&&new Date(new Date().getTime()+a.duration*60*1e3).toLocaleTimeString(I.language??"en-US",{hour:"2-digit",minute:"2-digit"})},1e3),X().head(`trailer/${a.videos[n.value]?.src}`,{withCredentials:!1}).then(()=>{p.value=!0}).catch(()=>{b(),p.value=!1})}return k(n,(a,i)=>{!a||a===i||T(e?.value)}),J(()=>{clearInterval(h.value??void 0)}),(a,i)=>(r(),l(t(ee),null,{default:f(()=>[x(t(te),{ref_key:"content",ref:m,fullscreen:!0,style:F(`--background-image: ${v.value&&!v.value.includes("null")?`url(${v.value})`:""};`)},{default:f(()=>[s("div",pe,[i[3]||(i[3]=s("div",{class:"flex justify-start items-end -mx-4 w-available h-[410px] relative gap-2"},[s("div",{class:"absolute flex flex-col justify-start items-end flex-grow w-available -mx-20 h-[410px] bg-cover bg-top",style:{background:`linear-gradient(
                  0deg,
                  rgba(0, 0, 0, 0.5) 0%,
                  rgba(0, 0, 0, 0.5) 100%
                ),
                var(--background-image) lightgray 50% / cover no-repeat`}}),s("div",{class:"absolute flex flex-col justify-start items-end flex-grow w-available -mx-20 h-[410px] bg-cover dark:bg-black/50"})],-1)),s("div",me,[s("p",{class:"self-stretch flex-grow-0 flex-shrink-0 w-[351px] text-2xl font-bold text-left z-10",innerHTML:t(ae)(t(e)?.title||t(re)||"","text-lg line-clamp-2")},null,8,fe),t(e)?.overview?(r(),l(ne,{key:0,"max-lines":3,text:t(e)?.overview},null,8,["text"])):o("",!0),t(e)?(r(),W("div",ge,[t(e)?.year?(r(),l(g,{key:0,data:t(e)?.year.toString(),title:""},null,8,["data"])):o("",!0),t(e)?.content_ratings.length?(r(),l(g,{key:1,title:""},{default:f(()=>[x(ie,{ratings:t(e)?.content_ratings,size:4,class:"h-full object-scale-down rounded-lg overflow-clip"},null,8,["ratings"])]),_:1})):o("",!0),t(e)?.have_items?(r(),l(g,{key:2,data:`${t(e)?.have_items}/${t(e)?.number_of_items}`,title:""},null,8,["data"])):o("",!0),t(e)?.duration?(r(),l(g,{key:3,title:""},{default:f(()=>[s("span",ve,C(t(Y)(a.$t,t(e).duration,!0)),1)]),_:1})):o("",!0),t(e)?.voteAverage?(r(),l(g,{key:4,title:""},{default:f(()=>[s("span",xe,"⭐ ️"+C(t(e)?.voteAverage?.toFixed(0))+"/10",1)]),_:1})):o("",!0)])):(r(),l(t(j),{key:2,animated:!0,class:"h-6 will-change-auto"})),i[0]||(i[0]=s("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-surface-7/[0.1] dark:bg-surface-11/[0.1]"},null,-1)),t(e)?.genres?(r(),l(d,{key:3,data:t(e),"key-name":"genres",prefix:"genres",title:"Genres"},null,8,["data"])):(r(),l(t(j),{key:4,animated:!0,class:"h-12 will-change-auto"})),i[1]||(i[1]=s("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-surface-7/[0.1] dark:bg-surface-11/[0.1]"},null,-1)),t(e)?.writer?(r(),l(d,{key:5,data:{writer:[t(e)?.writer]},"key-name":"writer",prefix:"person",title:"Writer"},null,8,["data"])):o("",!0),t(e)?.creator?(r(),l(d,{key:6,data:{creator:[t(e)?.creator]},"key-name":"creator",prefix:"person",title:"Creator"},null,8,["data"])):o("",!0),t(e)?.director?(r(),l(d,{key:7,data:{director:[t(e)?.director]},"key-name":"director",prefix:"person",title:"Director"},null,8,["data"])):o("",!0),t(e)?.creators?(r(),l(d,{key:8,data:t(e),"key-name":"creators",prefix:"person",title:"Creators"},null,8,["data"])):o("",!0),t(e)?.directors?(r(),l(d,{key:9,data:t(e),"key-name":"directors",prefix:"person",title:"Directors"},null,8,["data"])):o("",!0),t(e)?.writers?(r(),l(d,{key:10,data:t(e),"key-name":"writers",prefix:"person",title:"Writers"},null,8,["data"])):o("",!0),t(e)?.keywords?(r(),l(d,{key:11,data:t(e),"key-name":"keywords",title:"Keywords"},null,8,["data"])):o("",!0),i[2]||(i[2]=s("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-surface-7/[0.1] dark:bg-surface-11/[0.1]"},null,-1)),t(e)?.seasons&&t(e)?.seasons?.length>0?(r(),l(de,{key:12,data:t(e)?.seasons,"limit-card-count-by":0,class:"-mx-6",type:"backdrop"},null,8,["data"])):o("",!0),t(e)?.cast&&t(e)?.cast?.length>0?(r(),l(H,{key:13,data:t(e)?.cast,class:"-mx-6",title:"Cast"},null,8,["data"])):o("",!0),t(e)?.crew&&t(e)?.crew?.length>0?(r(),l(H,{key:14,data:t(Z)(t(e)?.crew,"profile","id"),class:"-mx-6",title:"Crew"},null,8,["data"])):o("",!0),t(e)?.posters&&t(e)?.posters?.length>0?(r(),l(P,{key:15,data:t(e)?.posters,class:"-mx-6",title:"Poster",type:"poster"},null,8,["data"])):o("",!0),t(e)?.backdrops&&t(e)?.backdrops?.length>0?(r(),l(P,{key:16,"color-palette":t(e)?.color_palette?.poster,data:t(e)?.backdrops,class:"-mx-6",title:"Backdrop",type:"backdrop"},null,8,["color-palette","data"])):o("",!0),t(e)?.recommendations&&t(e)?.recommendations?.length>0?(r(),l(z,{key:17,"color-palette":t(e)?.color_palette,data:t(e)?.recommendations,class:"-mx-6",title:"Recommendations",type:"poster"},null,8,["color-palette","data"])):o("",!0),t(e)?.similar&&t(e)?.similar?.length>0?(r(),l(z,{key:18,"color-palette":t(e)?.color_palette,data:t(e)?.similar,class:"-mx-6",title:"Similar",type:"poster"},null,8,["color-palette","data"])):o("",!0)])]),x(ue,{data:t(e),"toggle-trailer":y,"trailer-state":p.value},null,8,["data","trailer-state"]),t(e)?.videos&&t(e)?.videos?.length>0&&c.value?(r(),l(ce,{key:n.value,"increment-trailer-index":b,index:n.value,open:c.value,title:t(e)?.title??t(e)?.name,toggle:y,videos:t(e)?.videos,class:"inset-0 h-full w-available z-999"},null,8,["index","open","title","videos"])):o("",!0)]),_:1},8,["style"])]),_:1}))}}),ot=oe(ke,[["__scopeId","data-v-02349b01"]]);export{ot as default};
