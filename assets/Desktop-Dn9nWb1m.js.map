{"version":3,"mappings":"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","names":["inlineStyles","classes","ChartStyle","BaseStyle","script$1","BaseComponent","script","_this","__vitePreload","module","event","element","dataset","_typeof","o","ownKeys","e","r","t","_objectSpread","_defineProperty","_toPropertyKey","i","_toPrimitive","_hoisted_1","render","_ctx","_cache","$props","$setup","$data","$options","openBlock","createElementBlock","mergeProps","createElementVNode","$event","props","__props","color","computed","usePercentageColors","getColorFromPercent","greenToRed","hexOpacity","purple","orange","green","halfCircumference","strokeDashoffset","MAX_DATA_POINTS","serverInfo","useServerClient","_a","currentServer","resources","ref","display","lableGraph","cpuGraph","memoryGraph","gpuGraph","handleResourceUpdate","data","cpuUsage","memoryUsage","gpuCores","useMounted","connection","useHubListener","connected","onMounted","socket","useSocket","cpuCores","_c","_b","a","b","gpu","_d","gpuUsage","result","size","generateOpacityValues","gpus","getGpuColor","step","opacityValues","opacity","chartData","core","index","c","g","legendPosition","useLocalStorage","chartOptions","documentStyle","textColor","darkMode","surfaceBorder","positionOptions","chartHeight","serverActivity","devices","showing","watch","value","storage"],"ignoreList":[0,1],"sources":["../../node_modules/primevue/chart/style/index.mjs","../../node_modules/primevue/chart/index.mjs","../../src/views/Dashboard/System/System/Components/ServerResouceCard/ResourceBar.vue","../../src/views/Dashboard/System/System/Components/ServerResouceCard/ResourceCircle.vue","../../src/views/Dashboard/System/System/Components/ServerResouceCard/ServerResourceCard.vue","../../src/views/Dashboard/System/System/Components/ServerActivityCard/ServerActivityCard.vue","../../src/views/Dashboard/System/System/Desktop.vue"],"sourcesContent":["import BaseStyle from '@primevue/core/base/style';\n\nvar inlineStyles = {\n  root: {\n    position: 'relative'\n  }\n};\nvar classes = {\n  root: 'p-chart'\n};\nvar ChartStyle = BaseStyle.extend({\n  name: 'chart',\n  classes: classes,\n  inlineStyles: inlineStyles\n});\n\nexport { ChartStyle as default };\n//# sourceMappingURL=index.mjs.map\n","import BaseComponent from '@primevue/core/basecomponent';\nimport ChartStyle from 'primevue/chart/style';\nimport { createElementBlock, openBlock, mergeProps, createElementVNode } from 'vue';\n\nvar script$1 = {\n  name: 'BaseChart',\n  \"extends\": BaseComponent,\n  props: {\n    type: String,\n    data: null,\n    options: null,\n    plugins: null,\n    width: {\n      type: Number,\n      \"default\": 300\n    },\n    height: {\n      type: Number,\n      \"default\": 150\n    },\n    canvasProps: {\n      type: null,\n      \"default\": null\n    }\n  },\n  style: ChartStyle,\n  provide: function provide() {\n    return {\n      $pcChart: this,\n      $parentInstance: this\n    };\n  }\n};\n\nvar script = {\n  name: 'Chart',\n  \"extends\": script$1,\n  inheritAttrs: false,\n  emits: ['select', 'loaded'],\n  chart: null,\n  watch: {\n    /*\n     * Use deep watch to enable triggering watch for changes within structure\n     * otherwise the entire data object needs to be replaced to trigger watch\n     */\n    data: {\n      handler: function handler() {\n        this.reinit();\n      },\n      deep: true\n    },\n    type: function type() {\n      this.reinit();\n    },\n    options: function options() {\n      this.reinit();\n    }\n  },\n  mounted: function mounted() {\n    this.initChart();\n  },\n  beforeUnmount: function beforeUnmount() {\n    if (this.chart) {\n      this.chart.destroy();\n      this.chart = null;\n    }\n  },\n  methods: {\n    initChart: function initChart() {\n      var _this = this;\n      import('chart.js/auto').then(function (module) {\n        if (_this.chart) {\n          _this.chart.destroy();\n          _this.chart = null;\n        }\n        if (module && module[\"default\"]) {\n          _this.chart = new module[\"default\"](_this.$refs.canvas, {\n            type: _this.type,\n            data: _this.data,\n            options: _this.options,\n            plugins: _this.plugins\n          });\n        }\n        _this.$emit('loaded', _this.chart);\n      });\n    },\n    getCanvas: function getCanvas() {\n      return this.$canvas;\n    },\n    getChart: function getChart() {\n      return this.chart;\n    },\n    getBase64Image: function getBase64Image() {\n      return this.chart.toBase64Image();\n    },\n    refresh: function refresh() {\n      if (this.chart) {\n        this.chart.update();\n      }\n    },\n    reinit: function reinit() {\n      this.initChart();\n    },\n    onCanvasClick: function onCanvasClick(event) {\n      if (this.chart) {\n        var element = this.chart.getElementsAtEventForMode(event, 'nearest', {\n          intersect: true\n        }, false);\n        var dataset = this.chart.getElementsAtEventForMode(event, 'dataset', {\n          intersect: true\n        }, false);\n        if (element && element[0] && dataset) {\n          this.$emit('select', {\n            originalEvent: event,\n            element: element[0],\n            dataset: dataset\n          });\n        }\n      }\n    },\n    generateLegend: function generateLegend() {\n      if (this.chart) {\n        return this.chart.generateLegend();\n      }\n    }\n  }\n};\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), true).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: true, configurable: true, writable: true }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar _hoisted_1 = [\"width\", \"height\"];\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", mergeProps({\n    \"class\": _ctx.cx('root'),\n    style: _ctx.sx('root')\n  }, _ctx.ptmi('root')), [createElementVNode(\"canvas\", mergeProps({\n    ref: \"canvas\",\n    width: _ctx.width,\n    height: _ctx.height,\n    onClick: _cache[0] || (_cache[0] = function ($event) {\n      return $options.onCanvasClick($event);\n    })\n  }, _objectSpread(_objectSpread({}, _ctx.canvasProps), _ctx.ptm('canvas'))), null, 16, _hoisted_1)], 16);\n}\n\nscript.render = render;\n\nexport { script as default };\n//# sourceMappingURL=index.mjs.map\n","<script setup lang=\"ts\">\nimport { computed } from \"vue\";\n\nimport { getColorFromPercent, greenToRed } from \"@/lib/colorHelper\";\nimport { usePercentageColors } from '@/store/preferences';\n\nconst props = defineProps({\n\tcpu: {\n\t\ttype: Number,\n\t\trequired: true,\n\t\tdefault: 0,\n\t},\n\tvalue: {\n\t\ttype: Number,\n\t\trequired: true,\n\t\tdefault: 0,\n\t}\n});\n\nconst color = computed(() => {\n\tif (usePercentageColors.value)\n\t\treturn getColorFromPercent(props.value, greenToRed);\n\n\treturn 'rgb(var(--color-focus))';\n});\n\n</script>\n\n<template>\n\t<div\n\t\tclass=\"flex flex-shrink-0 flex-grow-0 items-start justify-start gap-4 self-stretch text-slate-light-11/80 dark:text-slate-dark-11/80\">\n\t\t<div class=\"flex flex-grow flex-col items-start justify-start gap-1 text-left\">\n\t\t\t<div class=\"relative flex flex-shrink-0 flex-grow-0 items-center justify-start self-stretch\">\n\t\t\t\t<p class=\"w-8 flex-shrink-0 flex-grow-0 text-sm\">\n\t\t\t\t\t{{ cpu }}\n\t\t\t\t</p>\n\t\t\t\t<div class=\"relative h-2 flex-grow rounded-lg\">\n\t\t\t\t\t<div class=\"absolute h-2 w-full rounded left-[-1px] top-[-1px] bg-auto-2 dark:bg-auto-1\"></div>\n\t\t\t\t\t<div class=\"absolute h-2 rounded transition-all duration-500 left-[-1px] top-[-1px]\" :style=\"{\n\t\t\t\t\t\twidth: `${value}%`,\n\t\t\t\t\t\tbackgroundImage: `linear-gradient(90deg, ${color} 0%, ${color} 100%)`,\n\t\t\t\t\t}\"></div>\n\t\t\t\t</div>\n\t\t\t\t<p class=\"w-10 flex-shrink-0 flex-grow-0 text-right text-sm\">\n\t\t\t\t\t{{ Math.floor(value) }}%\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n","<script setup lang=\"ts\">\nimport { computed } from \"vue\";\n\nimport { getColorFromPercent, greenToRed, hexOpacity } from \"@/lib/colorHelper\";\nimport { usePercentageColors } from '@/store/preferences';\nimport { green, orange, purple } from \"@/config/global\";\n\nconst props = defineProps({\n\tname: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tvalue: {\n\t\ttype: Number,\n\t\trequired: true,\n\t},\n\tsize: {\n\t\ttype: Number,\n\t\trequired: true,\n\t}\n});\n\nconst color = computed(() => {\n\tif (usePercentageColors.value)\n\t\treturn getColorFromPercent(props.value, greenToRed);\n\n\tswitch (props.name) {\n\t\tcase 'CPU':\n\t\t\treturn hexOpacity(purple, 50);\n\t\tcase 'Memory':\n\t\t\treturn hexOpacity(orange, 50);\n\t\tcase 'GPU':\n\t\t\treturn hexOpacity(green, 50);\n\t}\n});\n\nconst halfCircumference = computed(() => Math.PI * 72);\nconst strokeDashoffset = computed(() => (1 - (props.value == -1 ? 0 : props.value) / 100) * halfCircumference.value);\n\n</script>\n\n<template>\n\t<div\n\t\tclass=\"relative flex aspect-video h-auto w-full flex-1 flex-shrink-0 flex-col items-start justify-center gap-1 flex-grow-1\">\n\t\t<div class=\"relative h-full flex-1 flex-shrink-0 w-available\">\n\t\t\t<svg viewBox=\"0 0 152 148\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tclass=\"absolute inset-2 mx-auto rounded\" :style=\"{\n\t\t\t\t\twidth: size * 2,\n\t\t\t\t\theight: size * 2\n\t\t\t\t}\" preserveAspectRatio=\"xMidYMid meet\">\n\t\t\t\t<path\n\t\t\t\t\td=\"M148 76C148 66.5448 146.138 57.1822 142.519 48.4468C138.901 39.7114 133.598 31.7741 126.912 25.0883C120.226 18.4025 112.289 13.099 103.553 9.48068C94.8178 5.86234 85.4552 4 76 4C66.5448 3.99999 57.1823 5.86232 48.4468 9.48066C39.7114 13.099 31.7742 18.4025 25.0883 25.0883C18.4025 31.7741 13.099 39.7113 9.48069 48.4468C5.86234 57.1822 4 66.5448 4 76\"\n\t\t\t\t\tclass=\"stroke-auto-2 dark:stroke-auto-1\" stroke-width=\"8\" stroke-linecap=\"round\"\n\t\t\t\t\tstroke-linejoin=\"round\"></path>\n\t\t\t\t<path class=\"absolute -top-1 -left-1 h-2 rounded transition-all duration-500\"\n\t\t\t\t\td=\"M4 76C4 56.9044 11.5857 38.5909 25.0883 25.0883C38.5909 11.5857 56.9044 4 76 4C95.0956 4 113.409 11.5857 126.912 25.0883C140.414 38.5909 148 56.9044 148 76\"\n\t\t\t\t\t:style=\"{\n\t\t\t\t\t\tstroke: color,\n\t\t\t\t\t\tstrokeDasharray: halfCircumference,\n\t\t\t\t\t\tstrokeDashoffset: strokeDashoffset,\n\t\t\t\t\t}\" stroke-width=\"8\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\n\t\t\t</svg>\n\t\t\t<p\n\t\t\t\tclass=\"absolute top-2/3 left-1/2 -translate-x-1/2 text-center font-semibold text-[2.5vw] monospace sm:text-[1.5vw] md:text-[2vw] lg:text-[1.2vw] 2xl:text-[1vw] 5xl:text-[0.6vw]\">\n\t\t\t\t{{ value == -1 ? $t('') : Math.floor(value) }}{{ value == -1 ? '' : '%' }}\n\t\t\t</p>\n\t\t</div>\n\t\t<p\n\t\t\tclass=\"flex-shrink-0 flex-grow-0 scale-75 self-stretch text-center text-sm font-semibold w-available text-[2.5vw] sm:text-[1.5vw] md:text-[2vw] lg:text-[1.2vw] 2xl:text-[1vw] 5xl:text-[0.7vw]\">\n\t\t\t{{ name }}\n\t\t</p>\n\t</div>\n</template>\n","<script setup lang=\"ts\">\nimport { computed, onMounted, ref, watch } from 'vue';\nimport Chart from 'primevue/chart';\n\nimport type { Resource } from '@/types/api/dashboard/resource';\nimport type { ServerInfo } from \"@/types/api/dashboard/server\";\n\nimport useMounted from '@/hooks/useMounted';\nimport useHubListener from '@/hooks/useHubListener';\nimport { connection } from '@/lib/clients/dashboardSocket';\nimport { useSocket } from '@/store/socket';\nimport { getCpuColor, getGpuColor, hexOpacity } from \"@/lib/colorHelper\";\nimport { orange, purple } from \"@/config/global\";\nimport useServerClient from \"@/lib/clients/useServerClient\";\nimport { currentServer } from \"@/store/currentServer\";\n\nimport SystemCard from '../ServerSystemCard.vue';\nimport ResourceBar from './ResourceBar.vue';\nimport ResourceCircle from './ResourceCircle.vue';\nimport { darkMode } from \"@/store/colorScheme\";\nimport { ChartOptions, LineController } from \"chart.js\";\nimport { useLocalStorage } from \"@vueuse/core\";\n\nconst { data: serverInfo } = useServerClient<ServerInfo>({\n  path: 'dashboard/server/info',\n  queryKey: ['serverInfo', currentServer.value?.serverBaseUrl],\n});\n\nconst resources = ref<Resource>();\n\nconst display = ref<'bar' | 'graph'>('graph');\n\nconst MAX_DATA_POINTS = 40;\nconst lableGraph = ref<string[]>(Array(MAX_DATA_POINTS).fill(''));\nconst cpuGraph = ref<number[]>(Array(MAX_DATA_POINTS).fill(null));\nconst memoryGraph = ref<number[]>(Array(MAX_DATA_POINTS).fill(null));\nconst gpuGraph = ref<number[][]>(Array(MAX_DATA_POINTS).fill([null]));\n\nconst handleResourceUpdate = (data: Resource) => {\n  if (!data) return;\n  resources.value = data;\n\n  // lableGraph.value = [...lableGraph.value.slice(-MAX_DATA_POINTS), new Date().toLocaleTimeString()];\n  cpuGraph.value = [...cpuGraph.value.slice(-MAX_DATA_POINTS), cpuUsage.value];\n  memoryGraph.value = [...memoryGraph.value.slice(-MAX_DATA_POINTS), memoryUsage.value];\n  gpuGraph.value = [...gpuGraph.value.slice(-MAX_DATA_POINTS), gpuCores.value];\n};\n\nuseMounted(\n  () => connection.value?.invoke('StartResources'),\n  () => connection.value?.invoke('StopResources').catch(),\n);\n\nuseHubListener(connection, 'ResourceUpdate', handleResourceUpdate);\n\nconst connected = () => {\n  connection.value?.invoke('StartResources');\n};\n\nonMounted(() => {\n  const socket = useSocket();\n  socket?.onreconnected(connected);\n});\n\nconst cpuCores = computed(() => {\n  return resources.value?.cpu?.core\n    // .filter(c => !Number.isNaN(c))\n    ?.toSorted((a, b) => a.index - b.index) ?? [];\n});\n\nconst gpuCores = computed(() => {\n  return resources.value?.gpu\n    // ?.filter(c => !Number.isNaN(c))\n    ?.toSorted((a, b) => a.index - b.index)\n    .map(gpu => gpu.encode) ?? [];\n});\n\nconst cpuUsage = computed(() => {\n  if (!resources.value?.cpu?.core?.length) return -1;\n\n  return Math.floor(cpuCores.value?.reduce((a, b) => a + b.utilization, 0) / cpuCores.value.length);\n});\n\nconst memoryUsage = computed(() => {\n  if (resources.value?.memory?.percentage == 'NaN') return -1;\n\n  return resources.value?.memory?.percentage ?? -1;\n});\n\nconst gpuUsage = computed(() => {\n  if (resources.value?.gpu?.length == 0) return -1;\n\n  const result = Math.floor(gpuCores.value?.reduce((a, b) => a + b, 0) / gpuCores.value.length);\n\n  if (Number.isNaN(result)) return -1;\n\n  return result;\n});\n\nconst size = computed(() => {\n  return (window.innerWidth - 5000) / 3;\n});\n\nconst generateOpacityValues = (gpus: string[]) => {\n  const minOpacity = 25;\n  const maxOpacity = 75;\n  const maxOpacitiesPerColor = 3;\n\n  if (gpus.length === 1) {\n    return [{ color: getGpuColor(gpus[0]), opacity: 50 }];\n  }\n\n  const step = (maxOpacity - minOpacity) / (maxOpacitiesPerColor - 1);\n  const opacityValues = [];\n\n  for (let i = 0; i < gpus.length; i++) {\n    const opacity = minOpacity + (i % maxOpacitiesPerColor) * step;\n    opacityValues.push({ color: getGpuColor(gpus[i]), opacity });\n  }\n\n  return opacityValues;\n};\n\nconst chartData = computed(() => {\n  return {\n    labels: lableGraph.value,\n    datasets: [\n      ...serverInfo.value?.cpu?.map((core, index) => {\n        const color = purple ?? getCpuColor(core);\n        return {\n          label: `CPU ${serverInfo.value?.cpu.length > 1 ? index : ''}`,\n          data: cpuGraph.value,\n          yAxisID: 'y',\n          borderColor: hexOpacity(color, 50),\n        };\n      }) ?? [],\n      {\n        label: 'Memory',\n        data: memoryGraph.value,\n        yAxisID: 'y',\n        borderColor: hexOpacity(orange, 50),\n      },\n      ...serverInfo.value?.gpu?.map((core, index) => {\n\n        const c = generateOpacityValues(serverInfo.value?.gpu)[index]\n        const color = hexOpacity(c.color, c.opacity);\n\n        return {\n          label: `GPU ${serverInfo.value?.gpu.length > 1 ? index : ''}`,\n          data: gpuGraph.value.map(g => g[index]),\n          yAxisID: 'y',\n          borderColor: color,\n        };\n      }) ?? [],\n    ],\n  };\n});\n\nconst legendPosition = useLocalStorage<\"left\" | \"top\" | \"right\" | \"bottom\">('legendPosition', 'bottom');\n\nconst chartOptions = computed(() => {\n  const documentStyle = getComputedStyle(document.documentElement);\n  const textColor = darkMode.value\n    ? `rgb(${documentStyle.getPropertyValue('--color-slate-12')})`\n    : `rgb(${documentStyle.getPropertyValue('--color-slate-1')})`;\n\n  const surfaceBorder = documentStyle.getPropertyValue('--p-content-border-color');\n  const positionOptions: Array<\"left\" | \"top\" | \"right\" | \"bottom\"> = [\"left\", \"top\", \"right\", \"bottom\"];\n\n  const options: ChartOptions<\"line\"> = {\n    indexAxis: 'x',\n    maintainAspectRatio: false,\n    animation: false,\n    plugins: {\n      legend: {\n        labels: {\n          color: textColor,\n        },\n        position: legendPosition.value,\n        onClick() {\n          legendPosition.value = positionOptions[(positionOptions.indexOf(legendPosition.value) + 1) % positionOptions.length];\n        },\n      }\n    },\n    elements: {\n      line: {\n        tension: 0.2,\n\n      },\n      point: {\n        pointStyle: false,\n      },\n    },\n    scales: {\n      x: {\n        ticks: {\n          color: \"transparent\"\n        },\n        grid: {\n          color: \"transparent\"\n        },\n      },\n      y: {\n        min: 0,\n        max: 100,\n        beginAtZero: true,\n        clip: true,\n        ticks: {\n          color: textColor\n        },\n        grid: {\n          color: surfaceBorder\n        },\n      }\n    }\n  };\n  return options;\n});\n\nconst chartHeight = computed(() => {\n  const number = serverInfo.value?.gpu?.length ?? 0;\n  const baseHeight = 120;\n  const additionalHeightPerGpu = 40;\n  const additionalHeight = ((number * additionalHeightPerGpu) + baseHeight);\n  return `${additionalHeight}px`;\n});\n\n</script>\n\n<template>\n  <SystemCard title=\"Resources monitor\">\n\n    <template v-slot:cta>\n\n    </template>\n\n    <div\n      class=\"flex items-start justify-between gap-2 overflow-clip w-available text-slate-light-12/80 dark:text-slate-dark-12/80\">\n      <ResourceCircle name=\"CPU\" :value=\"cpuUsage\" :size=\"size\" />\n\n      <div class=\"w-px flex-shrink-0 flex-grow-0 self-stretch bg-white/10\"></div>\n\n      <ResourceCircle name=\"Memory\" :value=\"memoryUsage\" :size=\"size\" />\n\n      <div class=\"w-px flex-shrink-0 flex-grow-0 self-stretch bg-white/10\"></div>\n\n      <ResourceCircle name=\"GPU\" :value=\"gpuUsage\" :size=\"size\" />\n    </div>\n    <div class=\"flex flex-shrink-0 flex-grow-0 flex-col items-start justify-start self-stretch\">\n      <template v-if=\"display == 'bar'\">\n        <template v-for=\"(core, index) in resources?.cpu?.core ?? []\" :key=\"core.index\">\n          <ResourceBar :cpu=\"index\" :value=\"core.utilization\" v-if=\"!Number.isNaN(core.utilization)\" />\n        </template>\n      </template>\n\n      <template v-if=\"display == 'graph'\">\n        <Chart type=\"line\" :data=\"chartData\" :options=\"chartOptions\" :style=\"`height: ${chartHeight}`\"\n          class=\"w-available\" />\n      </template>\n    </div>\n  </SystemCard>\n</template>\n","<script setup lang=\"ts\">\n\nimport type { ActivityLog, Device } from '@/types/server';\n\nimport useServerClient from '@/lib/clients/useServerClient';\n\nimport SystemCard from '../ServerSystemCard.vue';\nimport ActivityCard from './ActivityCard.vue';\nimport { dashboardSocketIsConnected } from \"@/lib/clients/dashboardSocket\";\n\nconst { data: serverActivity } = useServerClient<ActivityLog[]>({\n  path: 'dashboard/activity',\n  refetchInterval: 10000,\n  data: {\n    take: 999,\n  },\n  queryKey: ['server', 'activity'],\n});\n\nconst { data: devices } = useServerClient<Device[]>({\n  path: 'dashboard/devices',\n  refetchInterval: 10000,\n  queryKey: ['devices'],\n});\n\n\n</script>\n\n<template>\n  <SystemCard v-if=\"dashboardSocketIsConnected\" title=\"Activity\" :background=\"false\">\n\n    <template v-slot:cta>\n\n    </template>\n\n    <ActivityCard v-for=\"activity in serverActivity?.slice(0, 5) ?? []\" :devices=\"devices ?? []\" :key=\"activity?.id\"\n      :activity=\"activity\" />\n  </SystemCard>\n</template>\n","<script setup lang=\"ts\">\nimport { onMounted, ref, watch } from 'vue';\nimport { IonPage, IonContent } from '@ionic/vue';\n\nimport { connection, dashboardSocketIsConnected } from '@/lib/clients/dashboardSocket';\n\nimport DashboardLayout from '@/Layout/Desktop/DashboardLayout.vue';\n\nimport ServerResourceCard from './Components/ServerResouceCard/ServerResourceCard.vue';\nimport ServerSystemCard from './Components/ServerSystemCard.vue';\nimport ServerTasksCard from './Components/ServerTasksCard/ServerTasksCard.vue';\nimport ServerActivityCard from './Components/ServerActivityCard/ServerActivityCard.vue';\nimport ServerSystemInfoCard from '@/views/Dashboard/System/System/Components/ServerSystemInfoCard.vue';\nimport useServerClient from \"@/lib/clients/useServerClient\";\nimport { currentServer } from \"@/store/currentServer\";\n\nconst showing = ref(true);\n\nwatch(connection, (value) => {\n  showing.value = !!value;\n});\n\nonMounted(() => {\n  setTimeout(() => {\n    showing.value = !!connection.value;\n  }, 1000);\n});\n\nconst { data: storage, error } = useServerClient({\n  path: 'dashboard/server/storage',\n  queryKey: ['dashboard', 'storage', currentServer.value?.serverBaseUrl],\n});\n\nonMounted(() => {\n  console.raw(storage.value);\n});\n\n</script>\n\n<template>\n  <ion-page>\n    <ion-content :fullscreen=\"true\">\n\n      <DashboardLayout title=\"Dashboard overview\" :gridStyle=\"2\">\n        <template v-slot:cta>\n\n        </template>\n\n        <div\n          class=\"col-span-3 col-start-1 flex flex-col gap-4 lg:col-span-2 xl:col-span-2 xl:col-start-1 xl:row-start-1\">\n          <ServerSystemInfoCard />\n\n          <ServerResourceCard v-if=\"dashboardSocketIsConnected\" />\n          <ServerSystemCard title=\"Resources monitor\" v-else class=\"animate-pulse\">\n            <template v-slot:cta>\n            </template>\n            <div class=\"min-h-80\"></div>\n          </ServerSystemCard>\n          <!--          <ServerPathsCard  class=\"flex lg:hidden xl:flex\"/>-->\n        </div>\n\n        <div\n          class=\"col-span-3 col-start-1 flex flex-col gap-4 lg:col-span-2 xl:col-span-2 xl:col-start-3 xl:row-start-1\">\n          <ServerTasksCard />\n        </div>\n\n        <div\n          class=\"col-span-3 col-start-1 flex flex-col gap-4 lg:col-span-2 lg:col-start-1 lg:row-start-2 2xl:col-span-2 2xl:col-start-5 2xl:row-start-1 2xl:flex\">\n\n          <ServerActivityCard />\n          <!--          <ServerPathsCard  class=\"hidden lg:flex xl:hidden\"/>-->\n        </div>\n      </DashboardLayout>\n    </ion-content>\n  </ion-page>\n</template>\n"],"file":"assets/Desktop-Dn9nWb1m.js"}