import{Wn as _f}from"./index-C8wrpkyN.js";var k=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,F=globalThis,Bn="10.11.0";function pt(){return $n(F),F}function $n(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||"10.11.0",t[Bn]=t["10.11.0"]||{}}function Gn(e,t,n=F){const r=n.__SENTRY__=n.__SENTRY__||{},o=r[Bn]=r["10.11.0"]||{};return o[e]||(o[e]=t())}var Xi=["debug","info","warn","error","log","assert","trace"],yf="Sentry Logger ",Gr={};function Je(e){if(!("console"in F))return e();const t=F.console,n={},r=Object.keys(Gr);r.forEach(o=>{const i=Gr[o];n[o]=t[o],t[o]=i});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function vf(){Zi().enabled=!0}function Sf(){Zi().enabled=!1}function au(){return Zi().enabled}function bf(...e){Ji("log",...e)}function Ef(...e){Ji("warn",...e)}function wf(...e){Ji("error",...e)}function Ji(e,...t){k&&au()&&Je(()=>{F.console[e](`${yf}[${e}]:`,...t)})}function Zi(){return k?Gn("loggerSettings",()=>({enabled:!1})):{enabled:!1}}var g={enable:vf,disable:Sf,isEnabled:au,log:bf,warn:Ef,error:wf};var Zs=/\(error: (.*)\)/,Qs=/captureMessage|captureException/;function cu(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,o=0)=>{const i=[],s=n.split(`
`);for(let a=r;a<s.length;a++){let c=s[a];c.length>1024&&(c=c.slice(0,1024));const u=Zs.test(c)?c.replace(Zs,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const l=d(u);if(l){i.push(l);break}}if(i.length>=50+o)break}}return If(i.slice(o))}}function Tf(e){return Array.isArray(e)?cu(...e):e}function If(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(fr(t).function||"")&&t.pop(),t.reverse(),Qs.test(fr(t).function||"")&&(t.pop(),Qs.test(fr(t).function||"")&&t.pop()),t.slice(0,50).map(n=>({...n,filename:n.filename||fr(t).filename,function:n.function||"?"}))}function fr(e){return e[e.length-1]||{}}var ea="<anonymous>";function ot(e){try{return!e||typeof e!="function"?ea:e.name||"<anonymous>"}catch{return ea}}function ui(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}var Rr={},ta={};function Ct(e,t){Rr[e]=Rr[e]||[],Rr[e].push(t)}function Rt(e,t){if(!ta[e]){ta[e]=!0;try{t()}catch(n){k&&g.error(`Error while instrumenting ${e}`,n)}}}function Fe(e,t){const n=e&&Rr[e];if(n)for(const r of n)try{r(t)}catch(o){k&&g.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ot(r)}
Error:`,o)}}var Po=null;function uu(e){const t="error";Ct(t,e),Rt(t,kf)}function kf(){Po=F.onerror,F.onerror=function(e,t,n,r,o){return Fe("error",{column:r,error:o,line:n,msg:e,url:t}),Po?Po.apply(this,arguments):!1},F.onerror.__SENTRY_INSTRUMENTED__=!0}var Fo=null;function lu(e){const t="unhandledrejection";Ct(t,e),Rt(t,Cf)}function Cf(){Fo=F.onunhandledrejection,F.onunhandledrejection=function(e){return Fe("unhandledrejection",e),Fo?Fo.apply(this,arguments):!0},F.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var du=Object.prototype.toString;function Et(e){switch(du.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return st(e,Error)}}function wn(e,t){return du.call(e)===`[object ${t}]`}function fu(e){return wn(e,"ErrorEvent")}function na(e){return wn(e,"DOMError")}function Rf(e){return wn(e,"DOMException")}function je(e){return wn(e,"String")}function _o(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function sn(e){return e===null||_o(e)||typeof e!="object"&&typeof e!="function"}function it(e){return wn(e,"Object")}function yo(e){return typeof Event<"u"&&st(e,Event)}function xf(e){return typeof Element<"u"&&st(e,Element)}function Mf(e){return wn(e,"RegExp")}function Vn(e){return!!(e?.then&&typeof e.then=="function")}function Af(e){return it(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function st(e,t){try{return e instanceof t}catch{return!1}}function pu(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function hu(e){return typeof Request<"u"&&st(e,Request)}var Qi=F;function Be(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let i=0,s=0;const a=" > ",c=3;let u;const d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(u=Nf(n,d),!(u==="html"||i>1&&s+o.length*c+u.length>=l));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function Nf(e,t){const n=e,r=[];if(!n?.tagName)return"";if(Qi.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const o=t?.length?t.filter(i=>n.getAttribute(i)).map(i=>[i,n.getAttribute(i)]):null;if(o?.length)o.forEach(i=>{r.push(`[${i[0]}="${i[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const i=n.className;if(i&&je(i)){const s=i.split(/\s+/);for(const a of s)r.push(`.${a}`)}}for(const i of["aria-label","type","name","title","alt"]){const s=n.getAttribute(i);s&&r.push(`[${i}="${s}"]`)}return r.join("")}function qt(){try{return Qi.document.location.href}catch{return""}}function mu(e){if(!Qi.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function an(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Bo(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function Vr(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const o=e[r];try{pu(o)?n.push("[VueViewModel]"):n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function xr(e,t,n=!1){return je(e)?Mf(t)?t.test(e):je(t)?n?e===t:e.includes(t):!1:!1}function qe(e,t=[],n=!1){return t.some(r=>xr(e,r,n))}function ke(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const o=n(r);typeof o=="function"&&gu(o,r);try{e[t]=o}catch{k&&g.log(`Failed to replace method "${t}" in object`,e)}}function Re(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{k&&g.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function gu(e,t){try{e.prototype=t.prototype=t.prototype||{},Re(e,"__sentry_original__",t)}catch{}}function es(e){return e.__sentry_original__}function _u(e){if(Et(e))return{message:e.message,name:e.name,stack:e.stack,...oa(e)};if(yo(e)){const t={type:e.type,target:ra(e.target),currentTarget:ra(e.currentTarget),...oa(e)};return typeof CustomEvent<"u"&&st(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function ra(e){try{return xf(e)?Be(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function oa(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Of(e,t=40){const n=Object.keys(_u(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return an(r,t);for(let o=n.length;o>0;o--){const i=n.slice(0,o).join(", ");if(!(i.length>t))return o===n.length?i:an(i,t)}return""}function Lf(){const e=F;return e.crypto||e.msCrypto}function Ce(e=Lf()){let t=()=>Math.random()*16;try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{const n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return"10000000100040008000100000000000".replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function yu(e){return e.exception?.values?.[0]}function Nt(e){const{message:t,event_id:n}=e;if(t)return t;const r=yu(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function li(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function at(e,t){const n=yu(e);if(!n)return;const r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism={...r,...o,...t},t&&"data"in t){const i={...o?.data,...t.data};n.mechanism.data=i}}function Df(e,t,n=5){if(t.lineno===void 0)return;const r=e.length,o=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map(s=>Bo(s,0));const i=Math.min(r-1,o);t.context_line=Bo(e[i],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map(s=>Bo(s,0))}function ia(e){if(Pf(e))return!0;try{Re(e,"__sentry_captured__",!0)}catch{}return!1}function Pf(e){try{return e.__sentry_captured__}catch{}}var vu=1e3;function $t(){return Date.now()/vu}function Ff(){const{performance:e}=F;if(!e?.now||!e.timeOrigin)return $t;const t=e.timeOrigin;return()=>(t+e.now())/vu}var sa;function ue(){return(sa??(sa=Ff()))()}var Uo;function Bf(){const{performance:e}=F;if(!e?.now)return[void 0,"none"];const t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,s=e.timing?.navigationStart,a=typeof s=="number"?Math.abs(s+n-r):t;return i||a<t?o<=a?[e.timeOrigin,"timeOrigin"]:[s,"navigationStart"]:[r,"dateNow"]}function xe(){return Uo||(Uo=Bf()),Uo[0]}function Uf(e){const t=ue(),n={sid:Ce(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Wf(n)};return e&&cn(n,e),n}function cn(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ue(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Ce()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Hf(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),cn(e,n)}function Wf(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function Yn(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=Yn(r[o],t[o],n-1));return r}function ct(){return Ce()}function Kn(){return Ce().substring(16)}var di="_sentrySpan";function Ut(e,t){t?Re(e,di,t):delete e[di]}function Un(e){return e[di]}var Ht=class fi{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ct(),sampleRand:Math.random()}}clone(){const t=new fi;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Ut(t,Un(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&cn(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,{tags:r,extra:o,user:i,contexts:s,level:a,fingerprint:c=[],propagationContext:u}=(n instanceof fi?n.getScopeData():it(n)?t:void 0)||{};return this._tags={...this._tags,...r},this._extra={...this._extra,...o},this._contexts={...this._contexts,...s},i&&Object.keys(i).length&&(this._user=i),a&&(this._level=a),c.length&&(this._fingerprint=c),u&&(this._propagationContext=u),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Ut(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ct(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:100;if(r<=0)return this;const o={timestamp:$t(),...t,message:t.message?an(t.message,2048):t.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Un(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Yn(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n?.event_id||Ce();if(!this._client)return k&&g.warn("No client configured on scope - will not capture exception!"),r;const o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureMessage(t,n,r){const o=r?.event_id||Ce();if(!this._client)return k&&g.warn("No client configured on scope - will not capture message!"),o;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:o},this),o}captureEvent(t,n){const r=n?.event_id||Ce();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(k&&g.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function zf(){return Gn("defaultCurrentScope",()=>new Ht)}function jf(){return Gn("defaultIsolationScope",()=>new Ht)}var qf=class{constructor(e,t){let n;e?n=e:n=new Ht;let r;t?r=t:r=new Ht,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(r){throw this._popScope(),r}return Vn(n)?n.then(r=>(this._popScope(),r),r=>{throw this._popScope(),r}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function un(){const e=pt(),t=$n(e);return t.stack=t.stack||new qf(zf(),jf())}function $f(e){return un().withScope(e)}function Gf(e,t){const n=un();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function aa(e){return un().withScope(()=>e(un().getIsolationScope()))}function Vf(){return{withIsolationScope:aa,withScope:$f,withSetScope:Gf,withSetIsolationScope:(e,t)=>aa(t),getCurrentScope:()=>un().getScope(),getIsolationScope:()=>un().getIsolationScope()}}function xt(e){const t=$n(e);return t.acs?t.acs:Vf()}function $(){const e=pt();return xt(e).getCurrentScope()}function ve(){const e=pt();return xt(e).getIsolationScope()}function vo(){return Gn("globalScope",()=>new Ht)}function Ve(...e){const t=pt(),n=xt(t);if(e.length===2){const[r,o]=e;return r?n.withSetScope(r,o):n.withScope(o)}return n.withScope(e[0])}function o1(...e){const t=pt(),n=xt(t);if(e.length===2){const[r,o]=e;return r?n.withSetIsolationScope(r,o):n.withIsolationScope(o)}return n.withIsolationScope(e[0])}function x(){return $().getClient()}function Su(e){const{traceId:t,parentSpanId:n,propagationSpanId:r}=e.getPropagationContext(),o={trace_id:t,span_id:r||Kn()};return n&&(o.parent_span_id=n),o}var Ae="sentry.source",Yf="sentry.sample_rate",Kf="sentry.previous_trace_sample_rate",$e="sentry.op",ce="sentry.origin",ts="sentry.idle_span_finish_reason",Xn="sentry.measurement_unit",Jn="sentry.measurement_value",pi="sentry.custom_span_name",bu="sentry.profile_id",Zn="sentry.exclusive_time";var Xf="sentry.link.type";function Jf(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function Yr(e,t){e.setAttribute("http.response.status_code",t);const n=Jf(t);n.message!=="unknown_error"&&e.setStatus(n)}var Eu="_sentryScope",wu="_sentryIsolationScope";function Zf(e,t,n){e&&(Re(e,wu,n),Re(e,Eu,t))}function Kr(e){return{scope:e[Eu],isolationScope:e[wu]}}var Tu="sentry-",Qf=/^sentry-/;function ns(e){const t=ep(e);if(!t)return;const n=Object.entries(t).reduce((r,[o,i])=>{if(o.match(Qf)){const s=o.slice(7);r[s]=i}return r},{});if(Object.keys(n).length>0)return n}function Iu(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,o])=>(o&&(n[`${Tu}${r}`]=o),n),{});return tp(t)}function ep(e){if(!(!e||!je(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=ca(n);return Object.entries(r).forEach(([o,i])=>{t[o]=i}),t},{}):ca(e)}function ca(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function tp(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],o)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=o===0?i:`${t},${i}`;return s.length>8192?(k&&g.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}var np=/^o(\d+)\./,rp=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function op(e){return e==="http"||e==="https"}function Gt(e,t=!1){const{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function ku(e){const t=rp.exec(e);if(!t){Je(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,o="",i="",s="",a=""]=t.slice(1);let c="",u=a;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const l=u.match(/^\d+/);l&&(u=l[0])}return Cu({host:i,pass:o,path:c,projectId:u,port:s,protocol:n,publicKey:r})}function Cu(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function ip(e){if(!k)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(g.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?op(r)?t&&isNaN(parseInt(t,10))?(g.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(g.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(g.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function sp(e){return e.match(np)?.[1]}function Ru(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=sp(n)),r}function xu(e){const t=typeof e=="string"?ku(e):Cu(e);if(!(!t||!ip(t)))return t}function Wt(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}var Mu=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Au(e){if(!e)return;const t=e.match(Mu);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Nu(e,t){const n=Au(e),r=ns(t);if(!n?.traceId)return{traceId:ct(),sampleRand:Math.random()};const o=ap(n,r);r&&(r.sample_rand=o.toString());const{traceId:i,parentSpanId:s,parentSampled:a}=n;return{traceId:i,parentSpanId:s,sampled:a,dsc:r||{},sampleRand:o}}function Ou(e=ct(),t=Kn(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function ap(e,t){const n=Wt(t?.sample_rand);if(n!==void 0)return n;const r=Wt(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}function cp(e,t){const n=Ru(e);return t&&n&&t!==n?(g.log(`Won't continue trace because org IDs don't match (incoming baggage: ${t}, SDK options: ${n})`),!1):e.getOptions().strictTraceContinuation&&(t&&!n||!t&&n)?(g.log(`Starting a new trace because strict trace continuation is enabled but one org ID is missing (incoming baggage: ${t}, Sentry client: ${n})`),!1):!0}var ua=!1;function up(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:s,origin:a,links:c}=W(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:o,status:s,origin:a,links:c}}function Lu(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),o=r?t:W(e).parent_span_id,i=Kr(e).scope,s=r?i?.getPropagationContext().propagationSpanId||Kn():t;return{parent_span_id:o,span_id:s,trace_id:n}}function lp(e){const{traceId:t,spanId:n}=e.spanContext(),r=Vt(e);return Ou(t,n,r)}function Du(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...o},attributes:i})=>({span_id:t,trace_id:n,sampled:r===1,attributes:i,...o}))}function Ft(e){return typeof e=="number"?la(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?la(e.getTime()):ue()}function la(e){return e>9999999999?e/1e3:e}function W(e){if(fp(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(dp(e)){const{attributes:r,startTime:o,name:i,endTime:s,status:a,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:i,parent_span_id:u,start_timestamp:Ft(o),timestamp:Ft(s)||void 0,status:Pu(a),op:r[$e],origin:r[ce],links:Du(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function dp(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function fp(e){return typeof e.getSpanJSON=="function"}function Vt(e){const{traceFlags:t}=e.spanContext();return t===1}function Pu(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var Xr="_sentryChildSpans",pp="_sentryRootSpan";function Fu(e,t){const n=e._sentryRootSpan||e;Re(t,pp,n),e._sentryChildSpans?e[Xr].add(t):Re(e,Xr,new Set([t]))}function hp(e,t){e._sentryChildSpans&&e[Xr].delete(t)}function Mr(e){const t=new Set;function n(r){if(!t.has(r)&&Vt(r)){t.add(r);const o=r._sentryChildSpans?Array.from(r[Xr]):[];for(const i of o)n(i)}}return n(e),Array.from(t)}function ye(e){return e._sentryRootSpan||e}function ge(){const e=pt(),t=xt(e);return t.getActiveSpan?t.getActiveSpan():Un($())}function hi(){ua||(Je(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),ua=!0)}function i1(e,t){e.updateName(t),e.setAttributes({[Ae]:"custom",[pi]:t})}var da=!1;function mp(){if(da)return;function e(){const t=ge(),n=t&&ye(t);if(n){const r="internal_error";k&&g.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:2,message:r})}}e.tag="sentry_tracingErrorCallback",da=!0,uu(e),lu(e)}function ut(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||x()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}var gp="production",Bu="_frozenDsc";function Ar(e,t){Re(e,Bu,t)}function Uu(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},o={environment:n.environment||"production",release:n.release,public_key:r,trace_id:e,org_id:Ru(t)};return t.emit("createDsc",o),o}function rs(e,t){const n=t.getPropagationContext();return n.dsc||Uu(n.traceId,e)}function Ge(e){const t=x();if(!t)return{};const n=ye(e),r=W(n),o=r.data,i=n.spanContext().traceState,s=i?.get("sentry.sample_rate")??o["sentry.sample_rate"]??o["sentry.previous_trace_sample_rate"];function a(h){return(typeof s=="number"||typeof s=="string")&&(h.sample_rate=`${s}`),h}const c=n[Bu];if(c)return a(c);const u=i?.get("sentry.dsc"),d=u&&ns(u);if(d)return a(d);const l=Uu(e.spanContext().traceId,t),f=o[Ae],p=r.description;return f!=="url"&&p&&(l.transaction=p),ut()&&(l.sampled=String(Vt(n)),l.sample_rand=i?.get("sentry.sample_rand")??Kr(n).scope?.getPropagationContext().sampleRand.toString()),a(l),t.emit("createDsc",l,n),l}function s1(e){const t=Ge(e);return Iu(t)}var lt=class{constructor(e={}){this._traceId=e.traceId||ct(),this._spanId=e.spanId||Kn()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}};function Oe(e,t=100,n=1/0){try{return mi("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Hu(e,t=3,n=100*1024){const r=Oe(e,t);return Sp(r)>n?Hu(e,t-1,n):r}function mi(e,t,n=1/0,r=1/0,o=bp()){const[i,s]=o;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=_p(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const p=u.toJSON();return mi("",p,c-1,r,o)}catch{}const d=Array.isArray(t)?[]:{};let l=0;const f=_u(t);for(const p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(l>=r){d[p]="[MaxProperties ~]";break}const h=f[p];d[p]=mi(p,h,c-1,r,o),l++}return s(t),d}function _p(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(pu(t))return"[VueViewModel]";if(Af(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${ot(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=yp(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function yp(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function vp(e){return~-encodeURI(e).split(/%..|./).length}function Sp(e){return vp(JSON.stringify(e))}function bp(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function ht(e,t=[]){return[e,t]}function Ep(e,t){const[n,r]=e;return[n,[...r,t]]}function zt(e,t){const n=e[1];for(const r of n){const o=r[0].type;if(t(r,o))return!0}return!1}function fa(e,t){return zt(e,(n,r)=>t.includes(r))}function Jr(e){const t=$n(F);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function wp(e){const t=$n(F);return t.decodePolyfill?t.decodePolyfill(e):new TextDecoder().decode(e)}function Zr(e){const[t,n]=e;let r=JSON.stringify(t);function o(i){typeof r=="string"?r=typeof i=="string"?r+i:[Jr(r),i]:r.push(typeof i=="string"?Jr(i):i)}for(const i of n){const[s,a]=i;if(o(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)o(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(Oe(a))}o(c)}}return typeof r=="string"?r:Tp(r)}function Tp(e){const t=e.reduce((o,i)=>o+i.length,0),n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}function Ip(e){let t=typeof e=="string"?Jr(e):e;function n(s){const a=t.subarray(0,s);return t=t.subarray(s+1),a}function r(){let s=t.indexOf(10);return s<0&&(s=t.length),JSON.parse(wp(n(s)))}const o=r(),i=[];for(;t.length;){const s=r(),a=typeof s.length=="number"?s.length:void 0;i.push([s,a?n(a):r()])}return[o,i]}function kp(e){return[{type:"span"},e]}function Cp(e){const t=typeof e.data=="string"?Jr(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}var Rp={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function pa(e){return Rp[e]}function os(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Wu(e,t,n,r){const o=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Gt(r)},...o&&{trace:o}}}function gi(e,t){if(!t?.length||!e.description)return!1;for(const n of t){if(Mp(n)){if(xr(e.description,n))return!0;continue}if(!n.name&&!n.op)continue;const r=n.name?xr(e.description,n.name):!0,o=n.op?e.op&&xr(e.op,n.op):!0;if(r&&o)return!0}return!1}function xp(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const o of e)o.parent_span_id===r&&(o.parent_span_id=n)}function Mp(e){return typeof e=="string"||e instanceof RegExp}function Ap(e,t){if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...e.sdk?.integrations||[],...t.integrations||[]],packages:[...e.sdk?.packages||[],...t.packages||[]],settings:e.sdk?.settings||t.settings?{...e.sdk?.settings,...t.settings}:void 0},e}function Np(e,t,n,r){const o=os(n),i={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:Gt(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return ht(i,[s])}function Op(e,t,n,r){const o=os(n),i=e.type&&e.type!=="replay_event"?e.type:"event";Ap(e,n?.sdk);const s=Wu(e,o,r,t);return delete e.sdkProcessingMetadata,ht(s,[[{type:i},e]])}function Lp(e,t){function n(p){return!!p.trace_id&&!!p.public_key}const r=Ge(e[0]),o=t?.getDsn(),i=t?.getOptions().tunnel,s={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&o&&{dsn:Gt(o)}},{beforeSendSpan:a,ignoreSpans:c}=t?.getOptions()||{},u=c?.length?e.filter(p=>!gi(W(p),c)):e,d=e.length-u.length;d&&t?.recordDroppedEvent("before_send","span",d);const l=a?p=>{const h=W(p),m=a(h);return m||(hi(),h)}:W,f=[];for(const p of u){const h=l(p);h&&f.push(kp(h))}return ht(s,f)}function Dp(e){if(!k)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=W(e),{spanId:o}=e.spanContext(),i=Vt(e),s=ye(e),a=s===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${o}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:d,description:l}=W(s);u.push(`root ID: ${s.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}g.log(`${c}
  ${u.join(`
  `)}`)}function Pp(e){if(!k)return;const{description:t="< unknown name >",op:n="< unknown op >"}=W(e),{spanId:r}=e.spanContext(),o=ye(e)===e,i=`[Tracing] Finishing "${n}" ${o?"root ":""}span "${t}" with ID ${r}`;g.log(i)}function Fp(e,t,n,r=ge()){const o=r&&ye(r);o&&(k&&g.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),o.addEvent(e,{[Jn]:t,[Xn]:n}))}function ha(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},o=r[Xn],i=r[Jn];typeof o=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:o})}),t}var Bp=1e3,So=class{constructor(e={}){this._traceId=e.traceId||ct(),this._spanId=e.spanId||Kn(),this._startTime=e.startTimestamp||ue(),this._links=e.links,this._attributes={},this.setAttributes({[ce]:"manual",[$e]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,t){}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?1:0}}setAttribute(e,t){return t===void 0?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach(t=>this.setAttribute(t,e[t])),this}updateStartTime(e){this._startTime=Ft(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Ae,"custom"),this}end(e){this._endTime||(this._endTime=Ft(e),Pp(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[$e],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Pu(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[ce],profile_id:this._attributes[bu],exclusive_time:this._attributes[Zn],measurements:ha(this._events),is_segment:this._isStandaloneSpan&&ye(this)===this||void 0,segment_id:this._isStandaloneSpan?ye(this).spanContext().spanId:void 0,links:Du(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){k&&g.log("[Tracing] Adding an event to span:",e);const r=ma(t)?t:n||ue(),o=ma(t)?{}:t||{},i={name:e,time:Ft(r),attributes:o};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=x();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===ye(this)))return;if(this._isStandaloneSpan){this._sampled?Hp(Lp([this],e)):(k&&g.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}const t=this._convertSpanToTransaction();t&&(Kr(this).scope||$()).captureEvent(t)}_convertSpanToTransaction(){if(!ga(W(this)))return;this._name||(k&&g.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:t}=Kr(this),n=e?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const r=Mr(this).filter(a=>a!==this&&!Up(a)).map(a=>W(a)).filter(ga),o=this._attributes[Ae];delete this._attributes[pi],r.forEach(a=>{delete a.data[pi]});const i={contexts:{trace:up(this)},spans:r.length>1e3?r.sort((a,c)=>a.start_timestamp-c.start_timestamp).slice(0,Bp):r,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,dynamicSamplingContext:Ge(this)},request:n,...o&&{transaction_info:{source:o}}},s=ha(this._events);return s&&Object.keys(s).length&&(k&&g.log("[Measurements] Adding measurements to transaction event",JSON.stringify(s,void 0,2)),i.measurements=s),i}};function ma(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function ga(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Up(e){return e instanceof So&&e.isStandaloneSpan()}function Hp(e){const t=x();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function zu(e,t,n=()=>{}){let r;try{r=e()}catch(o){throw t(o),n(),o}return Wp(r,t,n)}function Wp(e,t,n){return Vn(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function zp(e,t,n){if(!ut(e))return[!1];let r,o;typeof e.tracesSampler=="function"?(o=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?o=t.parentSampled:typeof e.tracesSampleRate<"u"&&(o=e.tracesSampleRate,r=!0);const i=Wt(o);if(i===void 0)return k&&g.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),[!1];if(!i)return k&&g.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];const s=n<i;return s||k&&g.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),[s,i,r]}var _a="__SENTRY_SUPPRESS_TRACING__";function is(e,t){const n=Qn();if(n.startSpan)return n.startSpan(e,t);const r=as(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return Ve(a,()=>ju(i)(()=>{const c=$(),u=cs(c,i),d=e.onlyIfParent&&!u?new lt:ss({parentSpan:u,spanArguments:r,forceTransaction:o,scope:c});return Ut(c,d),zu(()=>t(d),()=>{const{status:l}=W(d);d.isRecording()&&(!l||l==="ok")&&d.setStatus({code:2,message:"internal_error"})},()=>{d.end()})}))}function a1(e,t){const n=Qn();if(n.startSpanManual)return n.startSpanManual(e,t);const r=as(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return Ve(a,()=>ju(i)(()=>{const c=$(),u=cs(c,i),d=e.onlyIfParent&&!u?new lt:ss({parentSpan:u,spanArguments:r,forceTransaction:o,scope:c});return Ut(c,d),zu(()=>t(d,()=>d.end()),()=>{const{status:l}=W(d);d.isRecording()&&(!l||l==="ok")&&d.setStatus({code:2,message:"internal_error"})})}))}function Tt(e){const t=Qn();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=as(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?i=>Ve(e.scope,i):o!==void 0?i=>bo(o,i):i=>i())(()=>{const i=$(),s=cs(i,o);return e.onlyIfParent&&!s?new lt:ss({parentSpan:s,spanArguments:n,forceTransaction:r,scope:i})})}var c1=(e,t)=>{const n=pt(),r=xt(n);if(r.continueTrace)return r.continueTrace(e,t);const{sentryTrace:o,baggage:i}=e,s=x(),a=ns(i);return s&&!cp(s,a?.org_id)?qp(t):Ve(c=>{const u=Nu(o,i);return c.setPropagationContext(u),t()})};function bo(e,t){const n=Qn();return n.withActiveSpan?n.withActiveSpan(e,t):Ve(r=>(Ut(r,e||void 0),t(r)))}function jp(e){const t=Qn();return t.suppressTracing?t.suppressTracing(e):Ve(n=>{n.setSDKProcessingMetadata({[_a]:!0});const r=e();return n.setSDKProcessingMetadata({[_a]:void 0}),r})}function qp(e){return Ve(t=>(t.setPropagationContext({traceId:ct(),sampleRand:Math.random()}),k&&g.log(`Starting a new trace with id ${t.getPropagationContext().traceId}`),bo(null,e)))}function ss({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!ut()){const s=new lt;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...Ge(s)};Ar(s,a)}return s}const o=ve();let i;if(e&&!n)i=$p(e,r,t),Fu(e,i);else if(e){const s=Ge(e),{traceId:a,spanId:c}=e.spanContext(),u=Vt(e);i=ya({traceId:a,parentSpanId:c,...t},r,u),Ar(i,s)}else{const{traceId:s,dsc:a,parentSpanId:c,sampled:u}={...o.getPropagationContext(),...r.getPropagationContext()};i=ya({traceId:s,parentSpanId:c,...t},r,u),a&&Ar(i,a)}return Dp(i),Zf(i,r,o),i}function as(e){const t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const n={...t};return n.startTimestamp=Ft(e.startTime),delete n.startTime,n}return t}function Qn(){const e=pt();return xt(e)}function ya(e,t,n){const r=x(),o=r?.getOptions()||{},{name:i=""}=e,s={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r?.emit("beforeSampling",s,{decision:!1});const a=s.parentSampled??n,c=s.spanAttributes,u=t.getPropagationContext(),[d,l,f]=t.getScopeData().sdkProcessingMetadata.__SENTRY_SUPPRESS_TRACING__?[!1]:zp(o,{name:i,parentSampled:a,attributes:c,parentSampleRate:Wt(u.dsc?.sample_rate)},u.sampleRand),p=new So({...e,attributes:{[Ae]:"custom",[Yf]:l!==void 0&&f?l:void 0,...c},sampled:d});return!d&&r&&(k&&g.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",p),p}function $p(e,t,n){const{spanId:r,traceId:o}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata.__SENTRY_SUPPRESS_TRACING__?!1:Vt(e),s=i?new So({...n,parentSpanId:r,traceId:o,sampled:i}):new lt({traceId:o});Fu(e,s);const a=x();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}function cs(e,t){if(t)return t;if(t===null)return;const n=Un(e);if(!n)return;const r=x();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?ye(n):n}function ju(e){return e!==void 0?t=>bo(e,t):t=>t()}var Nr={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Gp="heartbeatFailed",Vp="idleTimeout",Yp="finalTimeout",Kp="externalFinish";function qu(e,t={}){const n=new Map;let r=!1,o,i=Kp,s=!t.disableAutoFinish;const a=[],{idleTimeout:c=Nr.idleTimeout,finalTimeout:u=Nr.finalTimeout,childSpanTimeout:d=Nr.childSpanTimeout,beforeSpanEnd:l}=t,f=x();if(!f||!ut()){const _=new lt,w={sample_rate:"0",sampled:"false",...Ge(_)};return Ar(_,w),_}const p=$(),h=ge(),m=Xp(e);m.end=new Proxy(m.end,{apply(_,w,H){if(l&&l(m),w instanceof lt)return;const[S,...I]=H,A=S||ue(),T=Ft(A),N=Mr(m).filter(G=>G!==m);if(!N.length)return M(T),Reflect.apply(_,w,[T,...I]);const V=N.map(G=>W(G).timestamp).filter(G=>!!G),O=V.length?Math.max(...V):void 0,j=W(m).start_timestamp,E=Math.min(j?j+u/1e3:1/0,Math.max(j||-1/0,Math.min(T,O||1/0)));return M(E),Reflect.apply(_,w,[E,...I])}});function v(){o&&(clearTimeout(o),o=void 0)}function y(_){v(),o=setTimeout(()=>{!r&&n.size===0&&s&&(i=Vp,m.end(_))},c)}function b(_){o=setTimeout(()=>{!r&&s&&(i=Gp,m.end(_))},d)}function C(_){v(),n.set(_,!0);const w=ue();b(w+d/1e3)}function R(_){if(n.has(_)&&n.delete(_),n.size===0){const w=ue();y(w+c/1e3)}}function M(_){r=!0,n.clear(),a.forEach(A=>A()),Ut(p,h);const w=W(m),{start_timestamp:H}=w;if(!H)return;w.data["sentry.idle_span_finish_reason"]||m.setAttribute(ts,i),g.log(`[Tracing] Idle span "${w.op}" finished`);const S=Mr(m).filter(A=>A!==m);let I=0;S.forEach(A=>{A.isRecording()&&(A.setStatus({code:2,message:"cancelled"}),A.end(_),k&&g.log("[Tracing] Cancelling span since span ended early",JSON.stringify(A,void 0,2)));const{timestamp:T=0,start_timestamp:N=0}=W(A),V=N<=_,O=(u+c)/1e3,j=T-N<=O;if(k){const E=JSON.stringify(A,void 0,2);V?j||g.log("[Tracing] Discarding span since it finished after idle span final timeout",E):g.log("[Tracing] Discarding span since it happened after idle span was finished",E)}(!j||!V)&&(hp(m,A),I++)}),I>0&&m.setAttribute("sentry.idle_span_discarded_spans",I)}return a.push(f.on("spanStart",_=>{r||_===m||W(_).timestamp||_ instanceof So&&_.isStandaloneSpan()||Mr(m).includes(_)&&C(_.spanContext().spanId)})),a.push(f.on("spanEnd",_=>{r||R(_.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",_=>{_===m&&(s=!0,y(),n.size&&b())})),t.disableAutoFinish||y(),setTimeout(()=>{r||(m.setStatus({code:2,message:"deadline_exceeded"}),i=Yp,m.end())},u),m}function Xp(e){const t=Tt(e);return Ut($(),t),k&&g.log("[Tracing] Started span is an idle span"),t}function dt(e){return new er(t=>{t(e)})}function Qr(e){return new er((t,n)=>{n(e)})}var er=class _i{constructor(t){this._state=0,this._handlers=[],this._runExecutor(t)}then(t,n){return new _i((r,o)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(s){o(s)}},i=>{if(!n)o(i);else try{r(n(i))}catch(s){o(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new _i((n,r)=>{let o,i;return this.then(s=>{i=!1,o=s,t&&t()},s=>{i=!0,o=s,t&&t()}).then(()=>{if(i){r(o);return}n(o)})})}_executeHandlers(){if(this._state===0)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===1&&n[1](this._value),this._state===2&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(i,s)=>{if(this._state===0){if(Vn(s)){s.then(r,o);return}this._state=i,this._value=s,this._executeHandlers()}},r=i=>{n(1,i)},o=i=>{n(2,i)};try{t(r,o)}catch(i){o(i)}}};function yi(e,t,n,r=0){return new er((o,i)=>{const s=e[r];if(t===null||typeof s!="function")o(t);else{const a=s({...t},n);k&&s.id&&a===null&&g.log(`Event processor "${s.id}" dropped event`),Vn(a)?a.then(c=>yi(e,c,n,r+1).then(o)).then(null,i):yi(e,a,n,r+1).then(o).then(null,i)}})}function Jp(e,t){const{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;Zp(e,t),r&&th(e,r),nh(e,n),Qp(e,o),eh(e,i)}function eo(e,t){const{extra:n,tags:r,user:o,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:f,transactionName:p,span:h}=t;pr(e,"extra",n),pr(e,"tags",r),pr(e,"user",o),pr(e,"contexts",i),e.sdkProcessingMetadata=Yn(e.sdkProcessingMetadata,a,2),s&&(e.level=s),p&&(e.transactionName=p),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...f}}function pr(e,t,n){e[t]=Yn(e[t],n,1)}function Zp(e,t){const{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(o).length&&(e.user={...o,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),s&&(e.level=s),a&&e.type!=="transaction"&&(e.transaction=a)}function Qp(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function eh(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function th(e,t){e.contexts={trace:Lu(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Ge(t),...e.sdkProcessingMetadata};const n=ye(t),r=W(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function nh(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}var hr,va,mr;function $u(e){const t=F._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return mr&&n.length===va||(va=n.length,mr=n.reduce((r,o)=>{hr||(hr={});const i=hr[o];if(i)r[i[0]]=i[1];else{const s=e(o);for(let a=s.length-1;a>=0;a--){const c=s[a]?.filename,u=t[o];if(c&&u){r[c]=u,hr[o]=[c,u];break}}}return r},{})),mr}function rh(e,t){const n=$u(e);if(!n)return[];const r=[];for(const o of t)o&&n[o]&&r.push({type:"sourcemap",code_file:o,debug_id:n[o]});return r}function Gu(e,t,n,r,o,i){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Ce(),timestamp:t.timestamp||$t()},u=n.integrations||e.integrations.map(m=>m.name);oh(c,e),ah(c,u),o&&o.emit("applyFrameMetadata",t),t.type===void 0&&ih(c,e.stackParser);const d=uh(r,n.captureContext);n.mechanism&&at(c,n.mechanism);const l=o?o.getEventProcessors():[],f=vo().getScopeData();if(i){const m=i.getScopeData();eo(f,m)}if(d){const m=d.getScopeData();eo(f,m)}const p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),Jp(c,f);const h=[...l,...f.eventProcessors];return yi(h,c,n).then(m=>(m&&sh(m),typeof s=="number"&&s>0?ch(m,s,a):m))}function oh(e,t){const{environment:n,release:r,dist:o,maxValueLength:i=250}=t;e.environment=e.environment||n||"production",!e.release&&r&&(e.release=r),!e.dist&&o&&(e.dist=o);const s=e.request;s?.url&&(s.url=an(s.url,i))}function ih(e,t){const n=$u(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.filename&&(o.debug_id=n[o.filename])})})}function sh(e){const t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,o])=>{n.push({type:"sourcemap",code_file:r,debug_id:o})})}function ah(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function ch(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:Oe(o.data,t,n)}}))},...e.user&&{user:Oe(e.user,t,n)},...e.contexts&&{contexts:Oe(e.contexts,t,n)},...e.extra&&{extra:Oe(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Oe(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:Oe(o.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=Oe(e.contexts.flags,3,n)),r}function uh(e,t){if(!t)return e;const n=e?e.clone():new Ht;return n.update(t),n}function lh(e){if(e)return dh(e)?{captureContext:e}:ph(e)?{captureContext:e}:e}function dh(e){return e instanceof Ht||typeof e=="function"}var fh=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function ph(e){return Object.keys(e).some(t=>fh.includes(t))}function It(e,t){return $().captureException(e,lh(t))}function vi(e,t){const n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return $().captureMessage(e,n,r)}function Eo(e,t){return $().captureEvent(e,t)}function hh(e,t){ve().setContext(e,t)}function u1(e){ve().setExtras(e)}function l1(e,t){ve().setExtra(e,t)}function d1(e){ve().setTags(e)}function f1(e,t){ve().setTag(e,t)}function p1(e){ve().setUser(e)}function mh(){return ve().lastEventId()}async function h1(e){const t=x();return t?t.flush(e):(k&&g.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function m1(e){const t=x();return t?t.close(e):(k&&g.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function g1(){return!!x()}function gh(){const e=x();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function _h(e){ve().addEventProcessor(e)}function Sa(e){const t=ve(),n=$(),{userAgent:r}=F.navigator||{},o=Uf({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return i?.status==="ok"&&cn(i,{status:"exited"}),Vu(),t.setSession(o),o}function Vu(){const e=ve(),t=$().getSession()||e.getSession();t&&Hf(t),Yu(),e.setSession()}function Yu(){const e=ve(),t=x(),n=e.getSession();n&&t&&t.captureSession(n)}function ba(e=!1){if(e){Vu();return}Yu()}function Ku(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function yh(e){return`${Ku(e)}${e.projectId}/envelope/`}function vh(e,t){const n={sentry_version:"7"};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Xu(e,t,n){return t||`${yh(e)}?${vh(e,n)}`}function Sh(e,t){const n=xu(e);if(!n)return"";const r=`${Ku(n)}embed/error-page/`;let o=`dsn=${Gt(n)}`;for(const i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){const s=t.user;if(!s)continue;s.name&&(o+=`&name=${encodeURIComponent(s.name)}`),s.email&&(o+=`&email=${encodeURIComponent(s.email)}`)}else o+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${o}`}var Ea=[];function bh(e){const t={};return e.forEach(n=>{const{name:r}=n,o=t[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Eh(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const o=n(t);r=Array.isArray(o)?o:[o]}else r=t;return bh(r)}function wh(e,t){const n={};return t.forEach(r=>{r&&Ju(e,r,n)}),n}function wa(e,t){for(const n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function Ju(e,t,n){if(n[t.name]){k&&g.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Ea.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Ea.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,i)=>r(o,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),o=Object.assign((i,s)=>r(i,s,e),{id:t.name});e.addEventProcessor(o)}k&&g.log(`Integration installed: ${t.name}`)}function Ta(e){const t=x();if(!t){k&&g.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function Th(e,t,n){const r=[{type:"client_report"},{timestamp:n||$t(),discarded_events:e}];return ht(t?{dsn:t}:{},[r])}function Zu(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function Ih(e){const{trace_id:t,parent_span_id:n,span_id:r,status:o,origin:i,data:s,op:a}=e.contexts?.trace??{};return{data:s??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:o,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:s?.[bu],exclusive_time:s?.[Zn],measurements:e.measurements,is_segment:!0}}function kh(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{"sentry.profile_id":e.profile_id},...e.exclusive_time&&{"sentry.exclusive_time":e.exclusive_time}}}},measurements:e.measurements}}var Qu=Symbol.for("SentryInternalError"),el=Symbol.for("SentryDoNotSendEventError");function Or(e){return{message:e,[Qu]:!0}}function Ho(e){return{message:e,[el]:!0}}function Ia(e){return!!e&&typeof e=="object"&&Qu in e}function ka(e){return!!e&&typeof e=="object"&&el in e}var Ch=class{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=xu(e.dsn):k&&g.warn("No DSN provided, client will not send events."),this._dsn){const t=Xu(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){const r=Ce();if(ia(e))return k&&g.log("Not capturing exception because it's already been captured."),r;const o={event_id:r,...t};return this._process(this.eventFromException(e,o).then(i=>this._captureEvent(i,o,n))),o.event_id}captureMessage(e,t,n,r){const o={event_id:Ce(),...n},i=_o(e)?e:String(e),s=sn(e)?this.eventFromMessage(i,t,o):this.eventFromException(e,o);return this._process(s.then(a=>this._captureEvent(a,o,r))),o.event_id}captureEvent(e,t,n){const r=Ce();if(t?.originalException&&ia(t.originalException))return k&&g.log("Not capturing exception because it's already been captured."),r;const o={event_id:r,...t},i=e.sdkProcessingMetadata||{},s=i.capturedSpanScope,a=i.capturedSpanIsolationScope;return this._process(this._captureEvent(e,o,s||n,a)),o.event_id}captureSession(e){this.sendSession(e),cn(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>t.flush(e).then(r=>n&&r))):dt(!0)}close(e){return this.flush(e).then(t=>(this.getOptions().enabled=!1,this.emit("close"),t))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];Ju(this,e,this._integrations),t||wa(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=Op(e,this._dsn,this._options._metadata,this._options.tunnel);for(const o of t.attachments||[])n=Ep(n,Cp(o));const r=this.sendEnvelope(n);r&&r.then(o=>this.emit("afterSendEvent",e,o),null)}sendSession(e){const{release:t,environment:n=gp}=this._options;if("aggregates"in e){const o=e.attrs||{};if(!o.release&&!t){k&&g.warn("Discarded session because of missing or non-string release");return}o.release=o.release||t,o.environment=o.environment||n,e.attrs=o}else{if(!e.release&&!t){k&&g.warn("Discarded session because of missing or non-string release");return}e.release=e.release||t,e.environment=e.environment||n}this.emit("beforeSendSession",e);const r=Np(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,t,n=1){if(this._options.sendClientReports){const r=`${e}:${t}`;k&&g.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(e,t){const n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{const r=n.indexOf(t);r>-1&&n.splice(r,1)}}emit(e,...t){const n=this._hooks[e];n&&n.forEach(r=>r(...t))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,t=>(k&&g.error("Error while sending envelope:",t),t)):(k&&g.error("Transport disabled"),dt({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=wh(this,e),wa(this,e)}_updateSessionFromEvent(e,t){let n=t.level==="fatal",r=!1;const o=t.exception?.values;if(o){r=!0;for(const s of o)if(s.mechanism?.handled===!1){n=!0;break}}const i=e.status==="ok";(i&&e.errors===0||i&&n)&&(cn(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new er(t=>{let n=0;const r=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),t(!0)):(n+=r,e&&n>=e&&(clearInterval(o),t(!1)))},r)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,t,n,r){const o=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i?.length&&(t.integrations=i),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),Gu(o,e,t,n,this,r).then(s=>(s===null||(this.emit("postprocessEvent",s,t),s.contexts={trace:Su(n),...s.contexts},s.sdkProcessingMetadata={dynamicSamplingContext:rs(this,n),...s.sdkProcessingMetadata}),s))}_captureEvent(e,t={},n=$(),r=ve()){return k&&Si(e)&&g.log(`Captured error event \`${Zu(e)[0]||"<unknown>"}\``),this._processEvent(e,t,n,r).then(o=>o.event_id,o=>{k&&(ka(o)?g.log(o.message):Ia(o)?g.warn(o.message):g.warn(o))})}_processEvent(e,t,n,r){const o=this.getOptions(),{sampleRate:i}=o,s=tl(e),a=Si(e),c=e.type||"error",u=`before send for type \`${c}\``,d=typeof i>"u"?void 0:Wt(i);if(a&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error"),Qr(Ho(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));const l=c==="replay_event"?"replay":c;return this._prepareEvent(e,t,n,r).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",l),Ho("An event processor returned `null`, will not send event.");if(t.data&&t.data.__sentry__===!0)return f;const p=xh(this,o,f,t);return Rh(p,u)}).then(f=>{if(f===null){if(this.recordDroppedEvent("before_send",l),s){const m=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",m)}throw Ho(`${u} returned \`null\`, will not send event.`)}const p=n.getSession()||r.getSession();if(a&&p&&this._updateSessionFromEvent(p,f),s){const m=f.sdkProcessingMetadata?.spanCountBeforeProcessing||0,v=f.spans?f.spans.length:0,y=m-v;y>0&&this.recordDroppedEvent("before_send","span",y)}const h=f.transaction_info;if(s&&h&&f.transaction!==e.transaction){const m="custom";f.transaction_info={...h,source:m}}return this.sendEvent(f,t),f}).then(null,f=>{throw ka(f)||Ia(f)?f:(this.captureException(f,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:f}),Or(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(e){this._numProcessing++,e.then(t=>(this._numProcessing--,t),t=>(this._numProcessing--,t))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([t,n])=>{const[r,o]=t.split(":");return{reason:r,category:o,quantity:n}})}_flushOutcomes(){k&&g.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){k&&g.log("No outcomes to send");return}if(!this._dsn){k&&g.log("No dsn provided, will not send outcomes");return}k&&g.log("Sending outcomes:",e);const t=Th(e,this._options.tunnel&&Gt(this._dsn));this.sendEnvelope(t)}};function Rh(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Vn(e))return e.then(r=>{if(!it(r)&&r!==null)throw Or(n);return r},r=>{throw Or(`${t} rejected with ${r}`)});if(!it(e)&&e!==null)throw Or(n);return e}function xh(e,t,n,r){const{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:s,ignoreSpans:a}=t;let c=n;if(Si(c)&&o)return o(c,r);if(tl(c)){if(s||a){const u=Ih(c);if(a?.length&&gi(u,a))return null;if(s){const d=s(u);d?c=Yn(n,kh(d)):hi()}if(c.spans){const d=[],l=c.spans;for(const p of l){if(a?.length&&gi(p,a)){xp(l,p);continue}if(s){const h=s(p);h?d.push(h):(hi(),d.push(p))}else d.push(p)}const f=c.spans.length-d.length;f&&e.recordDroppedEvent("before_send","span",f),c.spans=d}}if(i){if(c.spans){const u=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return i(c,r)}}return c}function Si(e){return e.type===void 0}function tl(e){return e.type==="transaction"}function Mh(e,t){return t?Ve(t,()=>{const n=ge(),r=n?Lu(n):Su(t);return[n?Ge(n):rs(e,t),r]}):[void 0,void 0]}var Ah={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function Nh(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function Oh(e,t,n,r){const o={};return t?.sdk&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(o.dsn=Gt(r)),ht(o,[Nh(e)])}function Lh(e){switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}function et(e,t,n,r=!0){n&&(!e[t]||r)&&(e[t]=n)}function Dh(e,t){const n=us(),r=nl(e);r===void 0?n.set(e,[t]):(n.set(e,[...r,t]),r.length>=100&&Lr(e,r))}function bi(e,t=x(),n=$(),r=Dh){if(!t){k&&g.warn("No client available to capture log.");return}const{release:o,environment:i,enableLogs:s=!1,beforeSendLog:a}=t.getOptions();if(!s){k&&g.warn("logging option not enabled, log will not be captured.");return}const[,c]=Mh(t,n),u={...e.attributes},{user:{id:d,email:l,username:f}}=Ph(n);et(u,"user.id",d,!1),et(u,"user.email",l,!1),et(u,"user.name",f,!1),et(u,"sentry.release",o),et(u,"sentry.environment",i);const{name:p,version:h}=t.getSdkMetadata()?.sdk??{};et(u,"sentry.sdk.name",p),et(u,"sentry.sdk.version",h);const m=t.getIntegrationByName("Replay");et(u,"sentry.replay_id",m?.getReplayId());const v=e.message;if(_o(v)){const{__sentry_template_string__:S,__sentry_template_values__:I=[]}=v;I?.length&&(u["sentry.message.template"]=S),I.forEach((A,T)=>{u[`sentry.message.parameter.${T}`]=A})}const y=Un(n);et(u,"sentry.trace.parent_span_id",y?.spanContext().spanId);const b={...e,attributes:u};t.emit("beforeCaptureLog",b);const C=a?Je(()=>a(b)):b;if(!C){t.recordDroppedEvent("before_send","log_item",1),k&&g.warn("beforeSendLog returned null, log will not be captured.");return}const{level:R,message:M,attributes:_={},severityNumber:w}=C,H={timestamp:ue(),level:R,body:M,trace_id:c?.trace_id,severity_number:w??Ah[R],attributes:Object.keys(_).reduce((S,I)=>(S[I]=Lh(_[I]),S),{})};r(t,H),t.emit("afterCaptureLog",C)}function Lr(e,t){const n=t??nl(e)??[];if(n.length===0)return;const r=e.getOptions(),o=Oh(n,r._metadata,r.tunnel,e.getDsn());us().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function nl(e){return us().get(e)}function Ph(e){const t=vo().getScopeData();return eo(t,ve().getScopeData()),eo(t,e.getScopeData()),t}function us(){return Gn("clientToLogBufferMap",()=>new WeakMap)}function Fh(e,t){t.debug===!0&&(k?g.enable():Je(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),$().update(t.initialScope);const n=new e(t);return Bh(n),n.init(),n}function Bh(e){$().setClient(e)}var rl=Symbol.for("SentryBufferFullError");function Uh(e){const t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]||Promise.resolve(void 0)}function o(s){if(!n())return Qr(rl);const a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(s){return new er((a,c)=>{let u=t.length;if(!u)return a(!0);const d=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(l=>{dt(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:o,drain:i}}var Hh=60*1e3;function ol(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?Hh:r-t}function Wh(e,t){return e[t]||e.all||0}function il(e,t,n=Date.now()){return Wh(e,t)>n}function sl(e,{statusCode:t,headers:n},r=Date.now()){const o={...e},i=n?.["x-sentry-rate-limits"],s=n?.["retry-after"];if(i)for(const a of i.trim().split(",")){const[c,u,,,d]=a.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)o.all=r+f;else for(const p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(o[p]=r+f):o[p]=r+f}else s?o.all=r+ol(s,r):t===429&&(o.all=r+60*1e3);return o}function zh(e,t,n=Uh(e.bufferSize||64)){let r={};const o=s=>n.drain(s);function i(s){const a=[];if(zt(s,(l,f)=>{const p=pa(f);il(r,p)?e.recordDroppedEvent("ratelimit_backoff",p):a.push(l)}),a.length===0)return dt({});const c=ht(s[0],a),u=l=>{zt(c,(f,p)=>{e.recordDroppedEvent(l,pa(p))})},d=()=>t({body:Zr(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&k&&g.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=sl(r,l),l),l=>{throw u("network_error"),k&&g.error("Encountered error running transport request:",l),l});return n.add(d).then(l=>l,l=>{if(l===rl)return k&&g.error("Skipped sending event because buffer is full."),u("queue_overflow"),dt({});throw l})}return{send:i,flush:o}}var Wo=5e3,jh=36e5;function qh(e){function t(...n){k&&g.log("[Offline]:",...n)}return n=>{const r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");const o=n.createStore(n);let i=Wo,s;function a(l,f,p){return fa(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,f,p):!0}function c(l){s&&clearTimeout(s),s=setTimeout(async()=>{s=void 0;const f=await o.shift();f&&(t("Attempting to send previously queued event"),f[0].sent_at=new Date().toISOString(),d(f,!0).catch(p=>{t("Failed to retry sending",p)}))},l),typeof s!="number"&&s.unref&&s.unref()}function u(){s||(c(i),i=Math.min(i*2,jh))}async function d(l,f=!1){if(!f&&fa(l,["replay_event","replay_recording"]))return await o.push(l),c(100),{};try{if(n.shouldSend&&await n.shouldSend(l)===!1)throw new Error("Envelope not sent because `shouldSend` callback returned false");const p=await r.send(l);let h=100;if(p){if(p.headers?.["retry-after"])h=ol(p.headers["retry-after"]);else if(p.headers?.["x-sentry-rate-limits"])h=6e4;else if((p.statusCode||0)>=400)return p}return c(h),i=Wo,p}catch(p){if(await a(l,p,i))return f?await o.unshift(l):await o.push(l),u(),t("Error sending. Event queued.",p),{};throw p}}return n.flushAtStartup&&u(),{send:d,flush:l=>(l===void 0&&(i=Wo,c(100)),r.flush(l))}}}function al(e,t){let n;return zt(e,(r,o)=>(t.includes(o)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function $h(e,t){return n=>{const r=e(n);return{...r,send:async o=>{const i=al(o,["event","transaction","profile","replay_event"]);return i&&(i.release=t),r.send(o)}}}}function Gh(e,t){return ht(t?{...e[0],dsn:t}:e[0],e[1])}function _1(e,t){return n=>{const r=e(n),o=new Map;function i(c,u){const d=u?`${c}:${u}`:c;let l=o.get(d);if(!l){const f=ku(c);if(!f)return;const p=Xu(f,n.tunnel);l=u?$h(e,u)({...n,url:p}):e({...n,url:p}),o.set(d,l)}return[c,l]}async function s(c){function u(f){const p=f?.length?f:["event"];return al(c,p)}const d=t({envelope:c,getEvent:u}).map(f=>typeof f=="string"?i(f,void 0):i(f.dsn,f.release)).filter(f=>!!f),l=d.length?d:[["",r]];return(await Promise.all(l.map(([f,p])=>p.send(Gh(c,f)))))[0]}async function a(c){const u=[...o.values(),r];return(await Promise.all(u.map(d=>d.flush(c)))).every(d=>d)}return{send:s,flush:a}}}function ls(e){return"isRelative"in e}function ds(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=t??(n?"thismessage:/":void 0);try{if("canParse"in URL&&!URL.canParse(e,r))return;const o=new URL(e,r);return n?{isRelative:n,pathname:o.pathname,search:o.search,hash:o.hash}:o}catch{}}function Vh(e){if(ls(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Bt(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function cl(e){return e.split(/[?#]/,1)[0]}function ul(e,t){const n=t?.getDsn(),r=t?.getOptions().tunnel;return Kh(e,n)||Yh(e,r)}function Yh(e,t){return t?Ca(e)===Ca(t):!1}function Kh(e,t){const n=ds(e);return!n||ls(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function Ca(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Xh(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}var Jh=Xh;function Zh(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function ll(e,t,n=[t],r="npm"){const o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:Bn})),version:Bn}),e._metadata=o}function dl(e={}){const t=e.client||x();if(!gh()||!t)return{};const n=pt(),r=xt(n);if(r.getTraceData)return r.getTraceData(e);const o=e.scope||$(),i=e.span||ge(),s=i?lp(i):Qh(o),a=i?Ge(i):rs(t,o),c=Iu(a);if(!Mu.test(s))return g.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const u={"sentry-trace":s,baggage:c};if(e.propagateTraceparent){const d=em(s);d&&(u.traceparent=d)}return u}function Qh(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Ou(t,r,n)}function em(e){const{traceId:t,parentSpanId:n,parentSampled:r}=Au(e)||{};if(!(!t||!n))return`00-${t}-${n}-${r?"01":"00"}`}function tm(e,t,n){let r,o,i;const s=n?.maxWait?Math.max(n.maxWait,t):0,a=n?.setTimeoutImpl||setTimeout;function c(){return u(),r=e(),r}function u(){o!==void 0&&clearTimeout(o),i!==void 0&&clearTimeout(i),o=i=void 0}function d(){return o!==void 0||i!==void 0?c():r}function l(){return o&&clearTimeout(o),o=a(c,t),s&&i===void 0&&(i=a(c,s)),r}return l.cancel=u,l.flush=d,l}function Xe(e,t){const n=x(),r=ve();if(!n)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=100}=n.getOptions();if(i<=0)return;const s={timestamp:$t(),...e},a=o?Je(()=>o(s,t)):s;a!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,i))}var Ra,nm="FunctionToString",xa=new WeakMap,rm=()=>({name:nm,setupOnce(){Ra=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=es(this),n=xa.has(x())&&t!==void 0?t:this;return Ra.apply(n,e)}}catch{}},setup(e){xa.set(e,!0)}}),om=rm,im=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],sm="EventFilters",am=(e={})=>{let t;return{name:sm,setup(n){const r=n.getOptions();t=Ma(e,r)},processEvent(n,r,o){if(!t){const i=o.getOptions();t=Ma(e,i)}return um(n,t)?null:n}}},cm=(e={})=>({...am(e),name:"InboundFilters"});function Ma(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:im],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function um(e,t){if(e.type){if(e.type==="transaction"&&dm(e,t.ignoreTransactions))return k&&g.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Nt(e)}`),!0}else{if(lm(e,t.ignoreErrors))return k&&g.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Nt(e)}`),!0;if(mm(e))return k&&g.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Nt(e)}`),!0;if(fm(e,t.denyUrls))return k&&g.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Nt(e)}.
Url: ${to(e)}`),!0;if(!pm(e,t.allowUrls))return k&&g.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Nt(e)}.
Url: ${to(e)}`),!0}return!1}function lm(e,t){return t?.length?Zu(e).some(n=>qe(n,t)):!1}function dm(e,t){if(!t?.length)return!1;const n=e.transaction;return n?qe(n,t):!1}function fm(e,t){if(!t?.length)return!1;const n=to(e);return n?qe(n,t):!1}function pm(e,t){if(!t?.length)return!0;const n=to(e);return n?qe(n,t):!0}function hm(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function to(e){try{const t=[...e.exception?.values??[]].reverse().find(n=>n.mechanism?.parent_id===void 0&&n.stacktrace?.frames?.length)?.stacktrace?.frames;return t?hm(t):null}catch{return k&&g.error(`Cannot extract url for event ${Nt(e)}`),null}}function mm(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function gm(e,t,n,r,o,i){if(!o.exception?.values||!i||!st(i.originalException,Error))return;const s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;s&&(o.exception.values=Ei(e,t,r,i.originalException,n,o.exception.values,s,0))}function Ei(e,t,n,r,o,i,s,a){if(i.length>=n+1)return i;let c=[...i];if(st(r[o],Error)){Aa(s,a);const u=e(t,r[o]),d=c.length;Na(u,o,d,a),c=Ei(e,t,n,r[o],o,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(st(u,Error)){Aa(s,a);const l=e(t,u),f=c.length;Na(l,`errors[${d}]`,f,a),c=Ei(e,t,n,u,o,[l,...c],l,f)}}),c}function Aa(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Na(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}var fl=new Map,Oa=new Set;function _m(e){if(F._sentryModuleMetadata)for(const t of Object.keys(F._sentryModuleMetadata)){const n=F._sentryModuleMetadata[t];if(Oa.has(t))continue;Oa.add(t);const r=e(t);for(const o of r.reverse())if(o.filename){fl.set(o.filename,n);break}}}function ym(e,t){return _m(e),fl.get(t)}function pl(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;const o=ym(e,r.filename);o&&(r.module_metadata=o)}})}catch{}}function hl(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}var y1=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{zt(t,(n,r)=>{if(r==="event"){const o=Array.isArray(n)?n[1]:void 0;o&&(hl(o),n[1]=o)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;const n=e.getOptions().stackParser;pl(n,t)})}});function fs(e){const t="console";Ct(t,e),Rt(t,vm)}function vm(){"console"in F&&Xi.forEach(function(e){e in F.console&&ke(F.console,e,function(t){return Gr[e]=t,function(...n){Fe("console",{args:n,level:e}),Gr[e]?.apply(F.console,n)}})})}function ps(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}var Sm="CaptureConsole",bm=(e={})=>{const t=e.levels||Xi,n=e.handled??!0;return{name:Sm,setup(r){"console"in F&&fs(({args:o,level:i})=>{x()!==r||!t.includes(i)||Em(o,i,n)})}}},v1=bm;function Em(e,t,n){const r={level:ps(t),extra:{arguments:e}};Ve(o=>{if(o.addEventProcessor(a=>(a.logger="console",at(a,{handled:n,type:"console"}),a)),t==="assert"){if(!e[0]){const a=`Assertion failed: ${Vr(e.slice(1)," ")||"console.assert"}`;o.setExtra("arguments",e.slice(1)),vi(a,r)}return}const i=e.find(a=>a instanceof Error);if(i){It(i,r);return}const s=Vr(e," ");vi(s,r)})}var wm="Dedupe",Tm=()=>{let e;return{name:wm,processEvent(t){if(t.type)return t;try{if(km(t,e))return k&&g.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},Im=Tm;function km(e,t){return t?!!(Cm(e,t)||Rm(e,t)):!1}function Cm(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!gl(e,t)||!ml(e,t))}function Rm(e,t){const n=La(t),r=La(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!gl(e,t)||!ml(e,t))}function ml(e,t){let n=ui(e),r=ui(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){const i=r[o],s=n[o];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function gl(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function La(e){return e.exception?.values?.[0]}var xm="ExtraErrorData",Mm=(e={})=>{const{depth:t=3,captureErrorCause:n=!0}=e;return{name:xm,processEvent(r,o,i){const{maxValueLength:s=250}=i.getOptions();return Am(r,o,t,n,s)}}},S1=Mm;function Am(e,t={},n,r,o){if(!t.originalException||!Et(t.originalException))return e;const i=t.originalException.name||t.originalException.constructor.name,s=_l(t.originalException,r,o);if(s){const a={...e.contexts},c=Oe(s,n);return it(c)&&(Re(c,"__sentry_skip_normalization__",!0),a[i]=c),{...e,contexts:a}}return e}function _l(e,t,n){try{const r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};for(const i of Object.keys(e)){if(r.indexOf(i)!==-1)continue;const s=e[i];o[i]=Et(s)||typeof s=="string"?an(`${s}`,n):s}if(t&&e.cause!==void 0&&(Et(e.cause)?o.cause={[e.cause.name||e.cause.constructor.name]:_l(e.cause,!1,n)}:o.cause=e.cause),typeof e.toJSON=="function"){const i=e.toJSON();for(const s of Object.keys(i)){const a=i[s];o[s]=Et(a)?a.toString():a}}return o}catch(r){k&&g.error("Unable to extract extra data from the Error object:",r)}return null}function Nm(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const o=e[r];o==="."?e.splice(r,1):o===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;)e.unshift("..");return e}var Om=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function Lm(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=Om.exec(t);return n?n.slice(1):[]}function Da(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const o=r>=0?e[r]:"/";o&&(t=`${o}/${t}`,n=o.charAt(0)==="/")}return t=Nm(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function Pa(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function Dm(e,t){e=Da(e).slice(1),t=Da(t).slice(1);const n=Pa(e.split("/")),r=Pa(t.split("/")),o=Math.min(n.length,r.length);let i=o;for(let a=0;a<o;a++)if(n[a]!==r[a]){i=a;break}let s=[];for(let a=i;a<n.length;a++)s.push("..");return s=s.concat(r.slice(i)),s.join("/")}function Pm(e,t){let n=Lm(e)[2]||"";return t&&n.slice(t.length*-1)===t&&(n=n.slice(0,n.length-t.length)),n}var Fm="RewriteFrames",b1=(e={})=>{const t=e.root,n=e.prefix||"app:///",r="window"in F&&!!F.window,o=e.iteratee||Bm({isBrowser:r,root:t,prefix:n});function i(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:s(c.stacktrace)}}))}}}catch{return a}}function s(a){return{...a,frames:a?.frames?.map(c=>o(c))}}return{name:Fm,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=i(c)),c}}};function Bm({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;const o=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),i=/^\//.test(r.filename);if(e){if(t){const s=r.filename;s.indexOf(t)===0&&(r.filename=s.replace(t,n))}}else if(o||i){const s=o?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?Dm(t,s):Pm(s);r.filename=`${n}${a}`}return r}}var Um=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],Hm=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],Wm={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},yl=["select","insert","upsert","update","delete"];function wo(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch{}}function To(e){try{return e.__SENTRY_INSTRUMENTED__}catch{return!1}}function zm(e,t={}){switch(e){case"GET":return"select";case"POST":return t.Prefer?.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}function jm(e,t){if(t===""||t==="*")return"select(*)";if(e==="select")return`select(${t})`;if(e==="or"||e.endsWith(".or"))return`${e}${t}`;const[n,...r]=t.split(".");let o;return n?.startsWith("fts")?o="textSearch":n?.startsWith("plfts")?o="textSearch[plain]":n?.startsWith("phfts")?o="textSearch[phrase]":n?.startsWith("wfts")?o="textSearch[websearch]":o=n&&Wm[n]||"filter",`${o}(${e}, ${r.join(".")})`}function Fa(e,t=!1){return new Proxy(e,{apply(n,r,o){return is({name:`auth ${t?"(admin) ":""}${e.name}`,attributes:{[ce]:"auto.db.supabase",[$e]:"db","db.system":"postgresql","db.operation":`auth.${t?"admin.":""}${e.name}`}},i=>Reflect.apply(n,r,o).then(s=>(s&&typeof s=="object"&&"error"in s&&s.error?(i.setStatus({code:2}),It(s.error,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}})):i.setStatus({code:1}),i.end(),s)).catch(s=>{throw i.setStatus({code:2}),i.end(),It(s,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}}),s}).then(...o))}})}function qm(e){const t=e.auth;if(!(!t||To(e.auth))){for(const n of Um){const r=t[n];r&&typeof e.auth[n]=="function"&&(e.auth[n]=Fa(r))}for(const n of Hm){const r=t.admin[n];r&&typeof e.auth.admin[n]=="function"&&(e.auth.admin[n]=Fa(r,!0))}wo(e.auth)}}function $m(e){To(e.prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(t,n,r){const o=Reflect.apply(t,n,r),i=o.constructor;return Vm(i),o}}),wo(e.prototype.from))}function Gm(e){To(e.prototype.then)||(e.prototype.then=new Proxy(e.prototype.then,{apply(t,n,r){const o=yl,i=n,s=zm(i.method,i.headers);if(!o.includes(s)||!i?.url?.pathname||typeof i.url.pathname!="string")return Reflect.apply(t,n,r);const a=i.url.pathname.split("/"),c=a.length>0?a[a.length-1]:"",u=[];for(const[p,h]of i.url.searchParams.entries())u.push(jm(p,h));const d=Object.create(null);if(it(i.body))for(const[p,h]of Object.entries(i.body))d[p]=h;const l=`${s==="select"?"":`${s}${d?"(...) ":""}`}${u.join(" ")} from(${c})`,f={"db.table":c,"db.schema":i.schema,"db.url":i.url.origin,"db.sdk":i.headers["X-Client-Info"],"db.system":"postgresql","db.operation":s,[ce]:"auto.db.supabase",[$e]:"db"};return u.length&&(f["db.query"]=u),Object.keys(d).length&&(f["db.body"]=d),is({name:l,attributes:f},p=>Reflect.apply(t,n,[]).then(h=>{if(p&&(h&&typeof h=="object"&&"status"in h&&Yr(p,h.status||500),p.end()),h.error){const y=new Error(h.error.message);h.error.code&&(y.code=h.error.code),h.error.details&&(y.details=h.error.details);const b={};u.length&&(b.query=u),Object.keys(d).length&&(b.body=d),It(y,C=>(C.addEventProcessor(R=>(at(R,{handled:!1,type:"auto.db.supabase.postgres"}),R)),C.setContext("supabase",b),C))}const m={type:"supabase",category:`db.${s}`,message:l},v={};return u.length&&(v.query=u),Object.keys(d).length&&(v.body=d),Object.keys(v).length&&(m.data=v),Xe(m),h},h=>{throw p&&(Yr(p,500),p.end()),h}).then(...r))}}),wo(e.prototype.then))}function Vm(e){for(const t of yl)To(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(n,r,o){const i=Reflect.apply(n,r,o),s=i.constructor;return k&&g.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),Gm(s),i}}),wo(e.prototype[t]))}var Ym=e=>{if(!e){k&&g.warn("Supabase integration was not installed because no Supabase client was provided.");return}const t=e.constructor===Function?e:e.constructor;$m(t),qm(e)},Km="Supabase",Xm=e=>({setupOnce(){Ym(e)},name:Km}),E1=e=>Xm(e.supabaseClient);var Jm="ZodErrors";function Zm(e){return Et(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function Qm(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function eg(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function tg(e){const t=new Set;for(const r of e.issues){const o=eg(r.path);o.length>0&&t.add(o)}const n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){const o=e.issues[0];o!==void 0&&"expected"in o&&typeof o.expected=="string"&&(r=o.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${an(n.join(", "),100)}`}function ng(e,t=!1,n,r){if(!n.exception?.values||!r.originalException||!Zm(r.originalException)||r.originalException.issues.length===0)return n;try{const o=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(Qm);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:o})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:tg(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":o.slice(0,e)}}}catch(o){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:o instanceof Error?`${o.name}: ${o.message}
${o.stack}`:"unknown"}}}}}var rg=(e={})=>{const t=e.limit??10;return{name:Jm,processEvent(n,r){return ng(t,e.saveZodIssuesAsAttachment,n,r)}}},w1=rg,T1=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{zt(n,(r,o)=>{if(o==="event"){const i=Array.isArray(r)?r[1]:void 0;i&&(hl(i),r[1]=i)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;const r=t.getOptions().stackParser;pl(r,n)})},processEvent(t){const n=og(t);if(n){const r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](o=>!o.some(i=>e.filterKeys.includes(i)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function og(e){const t=ui(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(Ba)).map(r=>r.slice(Ba.length)):[])}var Ba="_sentryBundlerPluginAppKey:";var Ua="flag.evaluation.";function tr(e){const t=$().getScopeData().contexts.flags,n=t?t.values:[];return n.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...n]}),e}function ln(e,t,n=100){const r=$().getScopeData().contexts;r.flags||(r.flags={values:[]});const o=r.flags.values;ig(o,e,t,n)}function ig(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){k&&g.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}const o=e.findIndex(i=>i.flag===t);o!==-1&&e.splice(o,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}function dn(e,t,n=10){if(typeof t!="boolean")return;const r=ge();if(!r)return;const o=W(r).data;if(`flag.evaluation.${e}`in o){r.setAttribute(`${Ua}${e}`,t);return}Object.keys(o).filter(i=>i.startsWith("flag.evaluation.")).length<n&&r.setAttribute(`${Ua}${e}`,t)}var I1=()=>({name:"FeatureFlags",processEvent(e,t,n){return tr(e)},addFeatureFlag(e,t){ln(e,t),dn(e,t)}});function sg(e,t,n,r,o){if(!e.fetchData)return;const{method:i,url:s}=e.fetchData,a=ut()&&t(s);if(e.endTimestamp&&a){const p=e.fetchData.__span;if(!p)return;const h=r[p];h&&(cg(h,e),delete r[p]);return}const{spanOrigin:c="auto.http.browser",propagateTraceparent:u=!1}=typeof o=="object"?o:{spanOrigin:o},d=!!ge(),l=a&&d?Tt(lg(s,i,c)):new lt;if(e.fetchData.__span=l.spanContext().spanId,r[l.spanContext().spanId]=l,n(e.fetchData.url)){const p=e.args[0],h=e.args[1]||{},m=ag(p,h,ut()&&d?l:void 0,u);m&&(e.args[1]=h,h.headers=m)}const f=x();if(f){const p={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};f.emit("beforeOutgoingRequestSpan",l,p)}return l}function ag(e,t,n,r){const o=dl({span:n,propagateTraceparent:r}),i=o["sentry-trace"],s=o.baggage,a=o.traceparent;if(!i)return;const c=t.headers||(hu(e)?e.headers:void 0);if(c)if(ug(c)){const u=new Headers(c);if(u.get("sentry-trace")||u.set("sentry-trace",i),r&&a&&!u.get("traceparent")&&u.set("traceparent",a),s){const d=u.get("baggage");d?gr(d)||u.set("baggage",`${d},${s}`):u.set("baggage",s)}return u}else if(Array.isArray(c)){const u=[...c];c.find(l=>l[0]==="sentry-trace")||u.push(["sentry-trace",i]),r&&a&&!c.find(l=>l[0]==="traceparent")&&u.push(["traceparent",a]);const d=c.find(l=>l[0]==="baggage"&&gr(l[1]));return s&&!d&&u.push(["baggage",s]),u}else{const u="sentry-trace"in c?c["sentry-trace"]:void 0,d="traceparent"in c?c.traceparent:void 0,l="baggage"in c?c.baggage:void 0,f=l?Array.isArray(l)?[...l]:[l]:[],p=l&&(Array.isArray(l)?l.find(m=>gr(m)):gr(l));s&&!p&&f.push(s);const h={...c,"sentry-trace":u??i,baggage:f.length>0?f.join(","):void 0};return r&&a&&!d&&(h.traceparent=a),h}else return{...o}}function cg(e,t){if(t.response){Yr(e,t.response.status);const n=t.response?.headers?.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}function gr(e){return e.split(",").some(t=>t.trim().startsWith(Tu))}function ug(e){return typeof Headers<"u"&&st(e,Headers)}function lg(e,t,n){const r=ds(e);return{name:r?`${t} ${Vh(r)}`:t,attributes:dg(e,r,t,n)}}function dg(e,t,n,r){const o={url:e,type:"fetch","http.method":n,[ce]:r,[$e]:"http.client"};return t&&(ls(t)||(o["http.url"]=t.href,o["server.address"]=t.host),t.search&&(o["http.query"]=t.search),t.hash&&(o["http.fragment"]=t.hash)),o}function fg(e,t={},n=$()){const{message:r,name:o,email:i,url:s,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:{contact_email:i,name:o,message:r,url:s,source:a,associated_event_id:c}},type:"feedback",level:"info",tags:u},l=n?.getClient()||x();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}var pg="ConsoleLogs",Ha={[ce]:"auto.console.logging"},hg=(e={})=>{const t=e.levels||Xi;return{name:pg,setup(n){const{enableLogs:r,normalizeDepth:o=3,normalizeMaxBreadth:i=1e3}=n.getOptions();if(!r){k&&g.warn("`enableLogs` is not enabled, ConsoleLogs integration disabled");return}fs(({args:s,level:a})=>{if(x()!==n||!t.includes(a))return;if(a==="assert"){if(!s[0]){const u=s.slice(1),d=u.length>0?`Assertion failed: ${Wa(u,o,i)}`:"Assertion failed";bi({level:"error",message:d,attributes:Ha})}return}const c=a==="log";bi({level:c?"info":a,message:Wa(s,o,i),severityNumber:c?10:void 0,attributes:Ha})})}}},k1=hg;function Wa(e,t,n){return"util"in F&&typeof F.util.format=="function"?F.util.format(...e):mg(e,t,n)}function mg(e,t,n){return e.map(r=>sn(r)?String(r):JSON.stringify(Oe(r,t,n))).join(" ")}function vl(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}var fn=F;function gg(){return"history"in fn&&!!fn.history}function _g(){if(!("fetch"in fn))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function wi(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Sl(){if(typeof EdgeRuntime=="string")return!0;if(!_g())return!1;if(wi(fn.fetch))return!0;let e=!1;const t=fn.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=wi(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){k&&g.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function yg(){return"ReportingObserver"in fn}function hs(e,t){const n="fetch";Ct(n,e),Rt(n,()=>bl(void 0,t))}function vg(e){const t="fetch-body-resolved";Ct(t,e),Rt(t,()=>bl(bg))}function bl(e,t=!1){t&&!Sl()||ke(F,"fetch",function(n){return function(...r){const o=new Error,{method:i,url:s}=Eg(r),a={args:r,fetchData:{method:i,url:s},startTimestamp:ue()*1e3,virtualError:o,headers:wg(r)};return e||Fe("fetch",{...a}),n.apply(F,r).then(async c=>(e?e(c):Fe("fetch",{...a,endTimestamp:ue()*1e3,response:c}),c),c=>{if(Fe("fetch",{...a,endTimestamp:ue()*1e3,error:c}),Et(c)&&c.stack===void 0&&(c.stack=o.stack,Re(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function Sg(e,t){if(e?.body){const n=e.body,r=n.getReader(),o=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let i=!0;for(;i;){let s;try{s=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(s),a&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(s)}}clearTimeout(o),r.releaseLock(),n.cancel().then(null,()=>{})}}function bg(e){let t;try{t=e.clone()}catch{return}Sg(t,()=>{Fe("fetch-body-resolved",{endTimestamp:ue()*1e3,response:e})})}function Ti(e,t){return!!e&&typeof e=="object"&&!!e[t]}function za(e){return typeof e=="string"?e:e?Ti(e,"url")?e.url:e.toString?e.toString():"":""}function Eg(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:za(n),method:Ti(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:za(t),method:Ti(t,"method")?String(t.method).toUpperCase():"GET"}}function wg(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(hu(t))return new Headers(t.headers)}catch{}}function Tg(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Ig(){return"npm"}function kg(){return!Tg()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Ii(){return typeof window<"u"&&(!kg()||Cg())}function Cg(){return F.process?.type==="renderer"}var ze=F,re=ze.document,An=ze.navigator,Rg="Report a Bug",xg="Cancel",Mg="Send Bug Report",Ag="Confirm",Ng="Report a Bug",Og="your.email@example.org",Lg="Email",Dg="What's the bug? What did you expect?",Pg="Description",Fg="Your Name",Bg="Name",Ug="Thank you for your report!",Hg="(required)",Wg="Add a screenshot",zg="Remove screenshot",jg="Highlight",qg="Hide",$g="Remove",Gg="widget";var Vg=5e3,Yg=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");const n=x();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&$().setTags(e.tags);const r=fg({source:"api",url:qt(),...e},t);return new Promise((o,i)=>{const s=setTimeout(()=>i("Unable to determine if Feedback was correctly sent."),3e4),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(s),a(),u?.statusCode&&u.statusCode>=200&&u.statusCode<300?o(r):u?.statusCode===403?i("Unable to send feedback. This could be because this domain is not in your list of allowed domains."):i("Unable to send feedback. This could be because of network issues, or because you are using an ad-blocker.")})})},Dr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Kg(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(An.userAgent)||/Macintosh/i.test(An.userAgent)&&An.maxTouchPoints&&An.maxTouchPoints>1||!isSecureContext)}function _r(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen?.(),e.onFormOpen?.()},onFormClose:()=>{t.onFormClose?.(),e.onFormClose?.()},onSubmitSuccess:(n,r)=>{t.onSubmitSuccess?.(n,r),e.onSubmitSuccess?.(n,r)},onSubmitError:n=>{t.onSubmitError?.(n),e.onSubmitError?.(n)},onFormSubmitted:()=>{t.onFormSubmitted?.(),e.onFormSubmitted?.()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function Xg(e){const t=re.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function De(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}var Jg="http://www.w3.org/2000/svg";function Zg(){const e=a=>ze.document.createElementNS(Jg,a),t=De(e("svg"),{width:"20",height:"20",viewBox:"0 0 20 20",fill:"var(--actor-color, var(--foreground))"}),n=De(e("g"),{clipPath:"url(#clip0_57_80)"}),r=De(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const o=e("defs"),i=De(e("clipPath"),{id:"clip0_57_80"}),s=De(e("rect"),{width:"20",height:"20",fill:"white"});return i.appendChild(s),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(s),t}function Qg({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){const o=re.createElement("button");if(o.type="button",o.className="widget__actor",o.ariaHidden="false",o.ariaLabel=t||e||"Report a Bug",o.appendChild(Zg()),e){const s=re.createElement("span");s.appendChild(re.createTextNode(e)),o.appendChild(s)}const i=Xg(r);return{el:o,appendToDom(){n.appendChild(i),n.appendChild(o)},removeFromDom(){o.remove(),i.remove()},show(){o.ariaHidden="false"},hide(){o.ariaHidden="true"}}}var El="rgba(88, 74, 192, 1)",e_={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:El,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},ja={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:El,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function qa(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function t_({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){const o=re.createElement("style");return o.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${qa(e==="dark"?{...ja,...t}:{...e_,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${qa({...ja,...t})}
  }
}`:""}
}
`,r&&o.setAttribute("nonce",r),o}var wl=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:o="sentry-feedback",autoInject:i=!0,showBranding:s=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:f={email:"email",name:"username"},tags:p,styleNonce:h,scriptNonce:m,colorScheme:v="system",themeLight:y={},themeDark:b={},addScreenshotButtonLabel:C=Wg,cancelButtonLabel:R=xg,confirmButtonLabel:M=Ag,emailLabel:_=Lg,emailPlaceholder:w=Og,formTitle:H=Ng,isRequiredLabel:S=Hg,messageLabel:I=Pg,messagePlaceholder:A=Dg,nameLabel:T=Bg,namePlaceholder:N=Fg,removeScreenshotButtonLabel:V=zg,submitButtonLabel:O=Mg,successMessageText:j=Ug,triggerLabel:E=Rg,triggerAriaLabel:G="",highlightToolText:B=jg,hideToolText:q=qg,removeHighlightText:ee=$g,onFormOpen:he,onFormClose:Ee,onSubmitSuccess:_e,onSubmitError:mt,onFormSubmitted:Mt}={})=>{const Ze={id:o,autoInject:i,showBranding:s,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:f,tags:p,styleNonce:h,scriptNonce:m,colorScheme:v,themeDark:b,themeLight:y,triggerLabel:E,triggerAriaLabel:G,cancelButtonLabel:R,submitButtonLabel:O,confirmButtonLabel:M,formTitle:H,emailLabel:_,emailPlaceholder:w,messageLabel:I,messagePlaceholder:A,nameLabel:T,namePlaceholder:N,successMessageText:j,isRequiredLabel:S,addScreenshotButtonLabel:C,removeScreenshotButtonLabel:V,highlightToolText:B,hideToolText:q,removeHighlightText:ee,onFormClose:Ee,onFormOpen:he,onSubmitError:mt,onSubmitSuccess:_e,onFormSubmitted:Mt};let Ue=null,gt=[];const _t=ne=>{if(!Ue){const le=re.createElement("div");le.id=String(ne.id),re.body.appendChild(le),Ue=le.attachShadow({mode:"open"}),Ue.appendChild(t_(ne))}return Ue},Cn=async ne=>{const le=ne.enableScreenshot&&Kg();let Pe,Se;try{Pe=(t?t():await e("feedbackModalIntegration",m))(),Ta(Pe)}catch{throw Dr&&g.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{const Qe=le?n?n():await e("feedbackScreenshotIntegration",m):void 0;Qe&&(Se=Qe(),Ta(Se))}catch{Dr&&g.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}const we=Pe.createDialog({options:{...ne,onFormClose:()=>{we?.close(),ne.onFormClose?.()},onFormSubmitted:()=>{we?.close(),ne.onFormSubmitted?.()}},screenshotIntegration:Se,sendFeedback:Yg,shadow:_t(ne)});return we},dr=(ne,le={})=>{const Pe=_r(Ze,le),Se=typeof ne=="string"?re.querySelector(ne):typeof ne.addEventListener=="function"?ne:null;if(!Se)throw Dr&&g.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let we=null;const Qe=async()=>{we||(we=await Cn({...Pe,onFormSubmitted:()=>{we?.removeFromDom(),Pe.onFormSubmitted?.()}})),we.appendToDom(),we.open()};Se.addEventListener("click",Qe);const J=()=>{gt=gt.filter(Ne=>Ne!==J),we?.removeFromDom(),we=null,Se.removeEventListener("click",Qe)};return gt.push(J),J},Rn=(ne={})=>{const le=_r(Ze,ne),Pe=_t(le),Se=Qg({triggerLabel:le.triggerLabel,triggerAriaLabel:le.triggerAriaLabel,shadow:Pe,styleNonce:h});return dr(Se.el,{...le,onFormOpen(){Se.hide()},onFormClose(){Se.show()},onFormSubmitted(){Se.show()}}),Se};return{name:"Feedback",setupOnce(){!Ii()||!Ze.autoInject||(re.readyState==="loading"?re.addEventListener("DOMContentLoaded",()=>Rn().appendToDom()):Rn().appendToDom())},attachTo:dr,createWidget(ne={}){const le=Rn(_r(Ze,ne));return le.appendToDom(),le},async createForm(ne={}){return Cn(_r(Ze,ne))},remove(){Ue&&(Ue.parentElement?.remove(),Ue=null),gt.forEach(ne=>ne()),gt=[]}}};function C1(){return x()?.getIntegrationByName("Feedback")}var Io,ie,Tl,Ot,$a,Il,ki,Hn={},ms=[],n_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,gs=Array.isArray;function bt(e,t){for(var n in t)e[n]=t[n];return e}function kl(e){var t=e.parentNode;t&&t.removeChild(e)}function K(e,t,n){var r,o,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?Io.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return Pr(e,s,r,o,null)}function Pr(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++Tl,__i:-1,__u:0};return o==null&&ie.vnode!=null&&ie.vnode(i),i}function nr(e){return e.children}function Fr(e,t){this.props=e,this.context=t}function pn(e,t){if(t==null)return e.__?pn(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?pn(e):null}function r_(e,t,n){var r,o=e.__v,i=o.__e,s=e.__P;if(s)return(r=bt({},o)).__v=o.__v+1,ie.vnode&&ie.vnode(r),_s(s,r,o,e.__n,s.ownerSVGElement!==void 0,32&o.__u?[i]:null,t,i??pn(o),!!(32&o.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=i&&Cl(r),r}function Cl(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Cl(e)}}function Ga(e){(!e.__d&&(e.__d=!0)&&Ot.push(e)&&!no.__r++||$a!==ie.debounceRendering)&&(($a=ie.debounceRendering)||Il)(no)}function no(){var e,t,n,r=[],o=[];for(Ot.sort(ki);e=Ot.shift();)e.__d&&(n=Ot.length,t=r_(e,r,o)||t,n===0||Ot.length>n?(Ci(r,t,o),o.length=r.length=0,t=void 0,Ot.sort(ki)):t&&ie.__c&&ie.__c(t,ms));t&&Ci(r,t,o),no.__r=0}function Rl(e,t,n,r,o,i,s,a,c,u,d){var l,f,p,h,m,v=r&&r.__k||ms,y=t.length;for(n.__d=c,o_(n,t,v),c=n.__d,l=0;l<y;l++)(p=n.__k[l])!=null&&typeof p!="boolean"&&typeof p!="function"&&(f=p.__i===-1?Hn:v[p.__i]||Hn,p.__i=l,_s(e,p,f,o,i,s,a,c,u,d),h=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&ys(f.ref,null,p),d.push(p.ref,p.__c||h,p)),m==null&&h!=null&&(m=h),65536&p.__u||f.__k===p.__k?c=xl(p,c,e):typeof p.type=="function"&&p.__d!==void 0?c=p.__d:h&&(c=h.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=m}function o_(e,t,n){var r,o,i,s,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Pr(null,o,null,null,o):gs(o)?Pr(nr,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?Pr(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,a=i_(o,n,s=r+l,d),o.__i=a,i=null,a!==-1&&(d--,(i=n[a])&&(i.__u|=131072)),i==null||i.__v===null?(a==-1&&l--,typeof o.type!="function"&&(o.__u|=65536)):a!==s&&(a===s+1?l++:a>s?d>c-s?l+=a-s:l--:l=a<s&&a==s-1?a-s:0,a!==r+l&&(o.__u|=65536))):(i=n[r])&&i.key==null&&i.__e&&(i.__e==e.__d&&(e.__d=pn(i)),Ri(i,i,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(i=n[r])!=null&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=pn(i)),Ri(i,i))}function xl(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=xl(r[o],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function i_(e,t,n,r){var o=e.key,i=e.type,s=n-1,a=n+1,c=t[n];if(c===null||c&&o==c.key&&i===c.type)return n;if(r>(c!=null&&!(131072&c.__u)?1:0))for(;s>=0||a<t.length;){if(s>=0){if((c=t[s])&&!(131072&c.__u)&&o==c.key&&i===c.type)return s;s--}if(a<t.length){if((c=t[a])&&!(131072&c.__u)&&o==c.key&&i===c.type)return a;a++}}return-1}function Va(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||n_.test(t)?n:n+"px"}function yr(e,t,n,r,o){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Va(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Va(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?Ka:Ya,i)):e.removeEventListener(t,i?Ka:Ya,i);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function Ya(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(ie.event?ie.event(e):e)}}function Ka(e){if(this.l)return this.l[e.type+!0](ie.event?ie.event(e):e)}function _s(e,t,n,r,o,i,s,a,c,u){var d,l,f,p,h,m,v,y,b,C,R,M,_,w,H,S=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),i=[a=t.__e=n.__e]),(d=ie.__b)&&d(t);e:if(typeof S=="function")try{if(y=t.props,b=(d=S.contextType)&&r[d.__c],C=d?b?b.props.value:d.__:r,n.__c?v=(l=t.__c=n.__c).__=l.__E:("prototype"in S&&S.prototype.render?t.__c=l=new S(y,C):(t.__c=l=new Fr(y,C),l.constructor=S,l.render=a_),b&&b.sub(l),l.props=y,l.state||(l.state={}),l.context=C,l.__n=r,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s??=l.state,S.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=bt({},l.__s)),bt(l.__s,S.getDerivedStateFromProps(y,l.__s))),p=l.props,h=l.state,l.__v=t,f)S.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(S.getDerivedStateFromProps==null&&y!==p&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(y,C),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(y,l.__s,C)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=y,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(I){I&&(I.__=t)}),R=0;R<l._sb.length;R++)l.__h.push(l._sb[R]);l._sb=[],l.__h.length&&s.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(y,l.__s,C),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(p,h,m)})}if(l.context=C,l.props=y,l.__P=e,l.__e=!1,M=ie.__r,_=0,"prototype"in S&&S.prototype.render){for(l.state=l.__s,l.__d=!1,M&&M(t),d=l.render(l.props,l.state,l.context),w=0;w<l._sb.length;w++)l.__h.push(l._sb[w]);l._sb=[]}else do l.__d=!1,M&&M(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++_<25);l.state=l.__s,l.getChildContext!=null&&(r=bt(bt({},r),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(m=l.getSnapshotBeforeUpdate(p,h)),Rl(e,gs(H=d!=null&&d.type===nr&&d.key==null?d.props.children:d)?H:[H],t,n,r,o,i,s,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&s.push(l),v&&(l.__E=l.__=null)}catch(I){t.__v=null,c||i!=null?(t.__e=a,t.__u|=c?160:32,i[i.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),ie.__e(I,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=s_(n.__e,t,n,r,o,i,s,c,u);(d=ie.diffed)&&d(t)}function Ci(e,t,n){for(var r=0;r<n.length;r++)ys(n[r],n[++r],n[++r]);ie.__c&&ie.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){ie.__e(i,o.__v)}})}function s_(e,t,n,r,o,i,s,a,c){var u,d,l,f,p,h,m,v=n.props,y=t.props,b=t.type;if(b==="svg"&&(o=!0),i!=null){for(u=0;u<i.length;u++)if((p=i[u])&&"setAttribute"in p==!!b&&(b?p.localName===b:p.nodeType===3)){e=p,i[u]=null;break}}if(e==null){if(b===null)return document.createTextNode(y);e=o?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,y.is&&y),i=null,a=!1}if(b===null)v===y||a&&e.data===y||(e.data=y);else{if(i=i&&Io.call(e.childNodes),v=n.props||Hn,!a&&i!=null)for(v={},u=0;u<e.attributes.length;u++)v[(p=e.attributes[u]).name]=p.value;for(u in v)p=v[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=p:u==="key"||u in y||yr(e,u,null,p,o));for(u in y)p=y[u],u=="children"?f=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?h=p:u=="checked"?m=p:u==="key"||a&&typeof p!="function"||v[u]===p||yr(e,u,p,v[u],o);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),Rl(e,gs(f)?f:[f],t,n,r,o&&b!=="foreignObject",i,s,i?i[0]:n.__k&&pn(n,0),a,c),i!=null)for(u=i.length;u--;)i[u]!=null&&kl(i[u]);a||(u="value",h!==void 0&&(h!==e[u]||b==="progress"&&!h||b==="option"&&h!==v[u])&&yr(e,u,h,v[u],!1),u="checked",m!==void 0&&m!==e[u]&&yr(e,u,m,v[u],!1))}return e}function ys(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){ie.__e(r,n)}}function Ri(e,t,n){var r,o;if(ie.unmount&&ie.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||ys(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){ie.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&Ri(r[o],t,n||typeof e.type!="function");n||e.__e==null||kl(e.__e),e.__=e.__e=e.__d=void 0}function a_(e,t,n){return this.constructor(e,n)}function c_(e,t,n){var r,o,i,s;ie.__&&ie.__(e,t),o=(r=!1)?null:t.__k,i=[],s=[],_s(t,e=t.__k=K(nr,null,[e]),o||Hn,Hn,t.ownerSVGElement!==void 0,o?null:t.firstChild?Io.call(t.childNodes):null,i,o?o.__e:t.firstChild,r,s),e.__d=void 0,Ci(i,e,s)}Io=ms.slice,ie={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(a){e=a}throw e}},Tl=0,Fr.prototype.setState=function(e,t){var n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=bt({},this.state);typeof e=="function"&&(e=e(bt({},n),this.props)),e&&bt(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Ga(this))},Fr.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Ga(this))},Fr.prototype.render=nr,Ot=[],Il=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ki=function(e,t){return e.__v.__b-t.__v.__b},no.__r=0;var ft,oe,zo,Xa,hn=0,Ml=[],Br=[],de=ie,Ja=de.__b,Za=de.__r,Qa=de.diffed,ec=de.__c,tc=de.unmount,nc=de.__;function Yt(e,t){de.__h&&de.__h(oe,e,hn||t),hn=0;var n=oe.__H||(oe.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Br}),n.__[e]}function Lt(e){return hn=1,Al(Ol,e)}function Al(e,t,n){var r=Yt(ft++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Ol(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=oe,!oe.u)){var o=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!i||i.call(this,a,c,u);var l=!1;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!i||i.call(this,a,c,u))};oe.u=!0;var i=oe.shouldComponentUpdate,s=oe.componentWillUpdate;oe.componentWillUpdate=function(a,c,u){if(this.__e){var d=i;i=void 0,o(a,c,u),i=d}s&&s.call(this,a,c,u)},oe.shouldComponentUpdate=o}return r.__N||r.__}function u_(e,t){var n=Yt(ft++,3);!de.__s&&vs(n.__H,t)&&(n.__=e,n.i=t,oe.__H.__h.push(n))}function Nl(e,t){var n=Yt(ft++,4);!de.__s&&vs(n.__H,t)&&(n.__=e,n.i=t,oe.__h.push(n))}function l_(e){return hn=5,rr(function(){return{current:e}},[])}function d_(e,t,n){hn=6,Nl(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function rr(e,t){var n=Yt(ft++,7);return vs(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function on(e,t){return hn=8,rr(function(){return e},t)}function f_(e){var t=oe.context[e.__c],n=Yt(ft++,9);return n.c=e,t?(n.__??(n.__=!0,t.sub(oe)),t.props.value):e.__}function p_(e,t){de.useDebugValue&&de.useDebugValue(t?t(e):e)}function h_(e){var t=Yt(ft++,10),n=Lt();return t.__=e,oe.componentDidCatch||(oe.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function m_(){var e=Yt(ft++,11);if(!e.__){for(var t=oe.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function g_(){for(var e;e=Ml.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Ur),e.__H.__h.forEach(xi),e.__H.__h=[]}catch(t){e.__H.__h=[],de.__e(t,e.__v)}}de.__b=function(e){oe=null,Ja&&Ja(e)},de.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),nc&&nc(e,t)},de.__r=function(e){Za&&Za(e),ft=0;var t=(oe=e.__c).__H;t&&(zo===oe?(t.__h=[],oe.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Br,n.__N=n.i=void 0})):(t.__h.forEach(Ur),t.__h.forEach(xi),t.__h=[],ft=0)),zo=oe},de.diffed=function(e){Qa&&Qa(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Ml.push(t)!==1&&Xa===de.requestAnimationFrame||((Xa=de.requestAnimationFrame)||__)(g_)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Br&&(n.__=n.__V),n.i=void 0,n.__V=Br})),zo=oe=null},de.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Ur),n.__h=n.__h.filter(function(r){return!r.__||xi(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],de.__e(r,n.__v)}}),ec&&ec(e,t)},de.unmount=function(e){tc&&tc(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Ur(r)}catch(o){t=o}}),n.__H=void 0,t&&de.__e(t,n.__v))};var rc=typeof requestAnimationFrame=="function";function __(e){var t,n=function(){clearTimeout(r),rc&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);rc&&(t=requestAnimationFrame(n))}function Ur(e){var t=oe,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),oe=t}function xi(e){var t=oe;e.__c=e.__(),oe=t}function vs(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Ol(e,t){return typeof t=="function"?t(e):t}var y_=Object.defineProperty({__proto__:null,useCallback:on,useContext:f_,useDebugValue:p_,useEffect:u_,useErrorBoundary:h_,useId:m_,useImperativeHandle:d_,useLayoutEffect:Nl,useMemo:rr,useReducer:Al,useRef:l_,useState:Lt},Symbol.toStringTag,{value:"Module"}),v_="http://www.w3.org/2000/svg";function S_(){const e=r=>re.createElementNS(v_,r),t=De(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=De(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function b_({options:e}){const t=rr(()=>({__html:S_().outerHTML}),[]);return K("h2",{class:"dialog__header"},K("span",{class:"dialog__title"},e.formTitle),e.showBranding?K("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function E_(e,t){const n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function jo(e,t){const n=e.get(t);return typeof n=="string"?n.trim():""}function w_({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:o,onSubmitSuccess:i,onSubmitError:s,showEmail:a,showName:c,screenshotInput:u}){const{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:f,cancelButtonLabel:p,emailLabel:h,emailPlaceholder:m,isEmailRequired:v,isNameRequired:y,messageLabel:b,messagePlaceholder:C,nameLabel:R,namePlaceholder:M,submitButtonLabel:_,isRequiredLabel:w}=e,[H,S]=Lt(!1),[I,A]=Lt(null),[T,N]=Lt(!1),V=u?.input,[O,j]=Lt(null),E=on(q=>{j(q),N(!1)},[]),G=on(q=>{const ee=E_(q,{emailLabel:h,isEmailRequired:v,isNameRequired:y,messageLabel:b,nameLabel:R});return ee.length>0?A(`Please enter in the following required fields: ${ee.join(", ")}`):A(null),ee.length===0},[h,v,y,b,R]),B=on(async q=>{S(!0);try{if(q.preventDefault(),!(q.target instanceof HTMLFormElement))return;const ee=new FormData(q.target),he=await(u&&T?u.value():void 0),Ee={name:jo(ee,"name"),email:jo(ee,"email"),message:jo(ee,"message"),attachments:he?[he]:void 0};if(!G(Ee))return;try{const _e=await o({name:Ee.name,email:Ee.email,message:Ee.message,source:Gg,tags:d},{attachments:Ee.attachments});i(Ee,_e)}catch(_e){Dr&&g.error(_e),A(_e),s(_e)}}finally{S(!1)}},[u&&T,i,s]);return K("form",{class:"form",onSubmit:B},V&&T?K(V,{onError:E}):null,K("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:H},K("div",{class:"form__top"},I?K("div",{class:"form__error-container"},I):null,c?K("label",{for:"name",class:"form__label"},K(qo,{label:R,isRequiredLabel:w,isRequired:y}),K("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:M,required:y,type:"text"})):K("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?K("label",{for:"email",class:"form__label"},K(qo,{label:h,isRequiredLabel:w,isRequired:v}),K("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:m,required:v,type:"email"})):K("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),K("label",{for:"message",class:"form__label"},K(qo,{label:b,isRequiredLabel:w,isRequired:!0}),K("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:C,required:!0,rows:5})),V?K("label",{for:"screenshot",class:"form__label"},K("button",{class:"btn btn--default",disabled:H,type:"button",onClick:()=>{j(null),N(q=>!q)}},T?f:l),O?K("div",{class:"form__error-container"},O.message):null):null),K("div",{class:"btn-group"},K("button",{class:"btn btn--primary",disabled:H,type:"submit"},_),K("button",{class:"btn btn--default",disabled:H,type:"button",onClick:r},p))))}function qo({label:e,isRequired:t,isRequiredLabel:n}){return K("span",{class:"form__label__text"},e,t&&K("span",{class:"form__label__text--required"},n))}var T_="http://www.w3.org/2000/svg";function I_(){const e=c=>ze.document.createElementNS(T_,c),t=De(e("svg"),{width:"16",height:"17",viewBox:"0 0 16 17",fill:"inherit"}),n=De(e("g"),{clipPath:"url(#clip0_57_156)"}),r=De(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=De(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);const i=e("defs"),s=De(e("clipPath"),{id:"clip0_57_156"}),a=De(e("rect"),{width:"16",height:"16",fill:"white",transform:"translate(0 0.5)"});return s.appendChild(a),i.appendChild(s),t.appendChild(i).appendChild(s).appendChild(a),t}function k_({open:e,onFormSubmitted:t,...n}){const r=n.options,o=rr(()=>({__html:I_().outerHTML}),[]),[i,s]=Lt(null),a=on(()=>{i&&(clearTimeout(i),s(null)),t()},[i]),c=on((u,d)=>{n.onSubmitSuccess(u,d),s(setTimeout(()=>{t(),s(null)},Vg))},[t]);return K(nr,null,i?K("div",{class:"success__position",onClick:a},K("div",{class:"success__content"},r.successMessageText,K("span",{class:"success__icon",dangerouslySetInnerHTML:o}))):K("dialog",{class:"dialog",onClick:r.onFormClose,open:e},K("div",{class:"dialog__position"},K("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},K(b_,{options:r}),K(w_,{...n,onSubmitSuccess:c})))))}var C_=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,R_=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,x_=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,M_=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,A_=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function N_(e){const t=re.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${C_}
${R_}
${x_}
${M_}
${A_}
`,e&&t.setAttribute("nonce",e),t}function O_(){const e=$().getUser(),t=ve().getUser(),n=vo().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}var L_=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{const o=r,i=e.useSentryUser,s=O_(),a=re.createElement("div"),c=N_(e.styleNonce);let u="";const d={get el(){return a},appendToDom(){!o.contains(c)&&!o.contains(a)&&(o.appendChild(c),o.appendChild(a))},removeFromDom(){a.remove(),c.remove(),re.body.style.overflow=u},open(){f(!0),e.onFormOpen?.(),x()?.emit("openFeedbackWidget"),u=re.body.style.overflow,re.body.style.overflow="hidden"},close(){f(!1),re.body.style.overflow=u}},l=t?.createInput({h:K,hooks:y_,dialog:d,options:e}),f=p=>{c_(K(k_,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:i&&s?.[i.name]||"",defaultEmail:i&&s?.[i.email]||"",onFormClose:()=>{f(!1),e.onFormClose?.()},onSubmit:n,onSubmitSuccess:(h,m)=>{f(!1),e.onSubmitSuccess?.(h,m)},onSubmitError:h=>{e.onSubmitError?.(h)},onFormSubmitted:()=>{e.onFormSubmitted?.()},open:p}),a)};return d}});function D_({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}function P_(e){const t=re.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,e&&t.setAttribute("nonce",e),t}function F_({h:e}){return function({action:n,setAction:r,options:o}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:`editor__tool ${n==="highlight"?"editor__tool--active":""}`,onClick:()=>{r(n==="highlight"?"":"highlight")}},o.highlightToolText),e("button",{type:"button",class:`editor__tool ${n==="hide"?"editor__tool--active":""}`,onClick:()=>{r(n==="hide"?"":"hide")}},o.hideToolText)))}}function B_({hooks:e}){function t(){const[n,r]=e.useState(ze.devicePixelRatio??1);return e.useEffect(()=>{const o=()=>{r(ze.devicePixelRatio)},i=matchMedia(`(resolution: ${ze.devicePixelRatio}dppx)`);return i.addEventListener("change",o),()=>{i.removeEventListener("change",o)}},[]),n}return function({onBeforeScreenshot:r,onScreenshot:o,onAfterScreenshot:i,onError:s}){const a=t();e.useEffect(()=>{(async()=>{r();const u=await An.mediaDevices.getDisplayMedia({video:{width:ze.innerWidth*a,height:ze.innerHeight*a},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),d=re.createElement("video");await new Promise((l,f)=>{d.srcObject=u,d.onloadedmetadata=()=>{o(d,a),u.getTracks().forEach(p=>p.stop()),l()},d.play().catch(f)}),i()})().catch(s)},[])}}function U_(e,t,n){switch(e.type){case"highlight":t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break;case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h);break}}function yt(e,t,n){if(!e)return;const r=e.getContext("2d",t);r&&n(e,r)}function $o(e,t){yt(e,{alpha:!0},(n,r)=>{r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height)})}function Go(e,t,n){yt(e,{alpha:!0},(r,o)=>{n.length&&(o.fillStyle="rgba(0, 0, 0, 0.25)",o.fillRect(0,0,r.width,r.height)),n.forEach(i=>{U_(i,o,t)})})}function H_({h:e,hooks:t,outputBuffer:n,dialog:r,options:o}){const i=B_({hooks:t}),s=F_({h:e}),a=D_({h:e}),c={__html:P_(o.styleNonce).innerText},u=r.el.style,d=({screenshot:l})=>{const[f,p]=t.useState("highlight"),[h,m]=t.useState([]),v=t.useRef(null),y=t.useRef(null),b=t.useRef(null),C=t.useRef(null),[R,M]=t.useState(1),_=t.useMemo(()=>{const T=re.getElementById(o.id);if(!T)return"white";const N=getComputedStyle(T);return N.getPropertyValue("--button-primary-background")||N.getPropertyValue("--accent-background")},[o.id]);t.useLayoutEffect(()=>{const T=()=>{const N=v.current;N&&(yt(l.canvas,{alpha:!1},V=>{const O=Math.min(N.clientWidth/V.width,N.clientHeight/V.height);M(O)}),(N.clientHeight===0||N.clientWidth===0)&&setTimeout(T,0))};return T(),ze.addEventListener("resize",T),()=>{ze.removeEventListener("resize",T)}},[l]);const w=t.useCallback((T,N)=>{yt(T,{alpha:!0},(V,O)=>{O.scale(N,N),V.width=l.canvas.width,V.height=l.canvas.height})},[l]);t.useEffect(()=>{w(y.current,l.dpi),$o(y.current,l.canvas)},[l]),t.useEffect(()=>{w(b.current,l.dpi),yt(b.current,{alpha:!0},(T,N)=>{N.clearRect(0,0,T.width,T.height)}),Go(b.current,_,h)},[h,_]),t.useEffect(()=>{w(n,l.dpi),$o(n,l.canvas),yt(re.createElement("canvas"),{alpha:!0},(T,N)=>{N.scale(l.dpi,l.dpi),T.width=l.canvas.width,T.height=l.canvas.height,Go(T,_,h),$o(n,T)})},[h,l,_]);const H=T=>{if(!f||!C.current)return;const N=C.current.getBoundingClientRect(),V={type:f,x:T.offsetX/R,y:T.offsetY/R},O=(G,B)=>{const q=(B.clientX-N.x)/R,ee=(B.clientY-N.y)/R;return{type:G.type,x:Math.min(G.x,q),y:Math.min(G.y,ee),w:Math.abs(q-G.x),h:Math.abs(ee-G.y)}},j=G=>{yt(b.current,{alpha:!0},(B,q)=>{q.clearRect(0,0,B.width,B.height)}),Go(b.current,_,[...h,O(V,G)])},E=G=>{const B=O(V,G);B.w*R>=1&&B.h*R>=1&&m(q=>[...q,B]),re.removeEventListener("mousemove",j),re.removeEventListener("mouseup",E)};re.addEventListener("mousemove",j),re.addEventListener("mouseup",E)},S=t.useCallback(T=>N=>{N.preventDefault(),N.stopPropagation(),m(V=>{const O=[...V];return O.splice(T,1),O})},[]),I={width:`${l.canvas.width*R}px`,height:`${l.canvas.height*R}px`},A=T=>{T.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:o.styleNonce,dangerouslySetInnerHTML:c}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:v},e("canvas",{ref:y,id:"background",style:I}),e("canvas",{ref:b,id:"foreground",style:I}),e("div",{ref:C,onMouseDown:H,style:I},h.map((T,N)=>e("div",{key:N,class:"editor__rect",style:{top:`${T.y*R}px`,left:`${T.x*R}px`,width:`${T.w*R}px`,height:`${T.h*R}px`}},e("button",{"aria-label":o.removeHighlightText,onClick:S(N),onMouseDown:A,onMouseUp:A,type:"button"},e(a,null))))))),e(s,{options:o,action:f,setAction:p}))};return function({onError:f}){const[p,h]=t.useState();return i({onBeforeScreenshot:t.useCallback(()=>{u.display="none"},[]),onScreenshot:t.useCallback((m,v)=>{yt(re.createElement("canvas"),{alpha:!1},(y,b)=>{b.scale(v,v),y.width=m.videoWidth,y.height=m.videoHeight,b.drawImage(m,0,0,y.width,y.height),h({canvas:y,dpi:v})}),n.width=m.videoWidth,n.height=m.videoHeight},[]),onAfterScreenshot:t.useCallback(()=>{u.display="block"},[]),onError:t.useCallback(m=>{u.display="block",f(m)},[])}),p?e(d,{screenshot:p}):e("div",null)}}var W_=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{const o=re.createElement("canvas");return{input:H_({h:e,hooks:t,outputBuffer:o,dialog:n,options:r}),value:async()=>{const i=await new Promise(s=>{o.toBlob(s,"image/png")});if(i)return{data:new Uint8Array(await i.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}),L=F,Mi=0;function Ll(){return Mi>0}function z_(){Mi++,setTimeout(()=>{Mi--})}function mn(e,t={}){function n(o){return typeof o=="function"}if(!n(e))return e;try{const o=e.__sentry_wrapped__;if(o)return typeof o=="function"?o:e;if(es(e))return e}catch{return e}const r=function(...o){try{const i=o.map(s=>mn(s,t));return e.apply(this,i)}catch(i){throw z_(),Ve(s=>{s.addEventProcessor(a=>(t.mechanism&&(li(a,void 0,void 0),at(a,t.mechanism)),a.extra={...a.extra,arguments:o},a)),It(i)}),i}};try{for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch{}gu(r,e),Re(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function Ss(){const e=qt(),{referrer:t}=L.document||{},{userAgent:n}=L.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}var j_={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},oc=L;async function q_(e,t){const n=j_[e],r=oc.Sentry=oc.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);const o=r[e];if(typeof o=="function"&&!("_isShim"in o))return o;const i=$_(n),s=L.document.createElement("script");s.src=i,s.crossOrigin="anonymous",s.referrerPolicy="strict-origin",t&&s.setAttribute("nonce",t);const a=new Promise((l,f)=>{s.addEventListener("load",()=>l()),s.addEventListener("error",f)}),c=L.document.currentScript,u=L.document.body||L.document.head||c?.parentElement;if(u)u.appendChild(s);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}const d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d}function $_(e){const t=x()?.getOptions()?.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${Bn}/${e}.min.js`,t).toString()}var R1=wl({lazyLoadIntegration:q_}),x1=wl({getModalIntegration:()=>L_,getScreenshotIntegration:()=>W_}),M1=_f({debug:()=>V_,error:()=>X_,fatal:()=>J_,fmt:()=>Jh,info:()=>Y_,trace:()=>G_,warn:()=>K_});function Tn(e,t,n,r){bi({level:e,message:t,attributes:n,severityNumber:r})}function G_(e,t){Tn("trace",e,t)}function V_(e,t){Tn("debug",e,t)}function Y_(e,t){Tn("info",e,t)}function K_(e,t){Tn("warn",e,t)}function X_(e,t){Tn("error",e,t)}function J_(e,t){Tn("fatal",e,t)}function bs(e,t){const n=Es(e,t),r={type:ny(t),value:ry(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Z_(e,t,n,r){const o=x()?.getOptions().normalizeDepth,i=cy(t),s={__serialized__:Hu(t,o)};if(i)return{exception:{values:[bs(e,i)]},extra:s};const a={exception:{values:[{type:yo(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:sy(t,{isUnhandledRejection:r})}]},extra:s};if(n){const c=Es(e,n);c.length&&(a.exception.values[0].stacktrace={frames:c})}return a}function Vo(e,t){return{exception:{values:[bs(e,t)]}}}function Es(e,t){const n=t.stacktrace||t.stack||"",r=ey(t),o=ty(t);try{return e(n,r,o)}catch{}return[]}var Q_=/Minified React error #\d+;/i;function ey(e){return e&&Q_.test(e.message)?1:0}function ty(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function Dl(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function ny(e){const t=e?.name;return!t&&Dl(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function ry(e){const t=e?.message;return Dl(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function oy(e,t,n,r){const o=n?.syntheticException||void 0,i=ws(e,t,o,r);return at(i),i.level="error",n?.event_id&&(i.event_id=n.event_id),dt(i)}function iy(e,t,n="info",r,o){const i=r?.syntheticException||void 0,s=Ai(e,t,i,o);return s.level=n,r?.event_id&&(s.event_id=r.event_id),dt(s)}function ws(e,t,n,r,o){let i;if(fu(t)&&t.error)return Vo(e,t.error);if(na(t)||Rf(t)){const s=t;if("stack"in t)i=Vo(e,t);else{const a=s.name||(na(s)?"DOMError":"DOMException"),c=s.message?`${a}: ${s.message}`:a;i=Ai(e,c,n,r),li(i,c)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return Et(t)?Vo(e,t):it(t)||yo(t)?(i=Z_(e,t,n,o),at(i,{synthetic:!0}),i):(i=Ai(e,t,n,r),li(i,`${t}`,void 0),at(i,{synthetic:!0}),i)}function Ai(e,t,n,r){const o={};if(r&&n){const i=Es(e,n);i.length&&(o.exception={values:[{value:t,stacktrace:{frames:i}}]}),at(o,{synthetic:!0})}if(_o(t)){const{__sentry_template_string__:i,__sentry_template_values__:s}=t;return o.logentry={message:i,params:s},o}return o.message=t,o}function sy(e,{isUnhandledRejection:t}){const n=Of(e),r=t?"promise rejection":"exception";return fu(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:yo(e)?`Event \`${ay(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function ay(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function cy(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}var uy=5e3,ly=class extends Ch{constructor(e){const t=dy(e),n=L.SENTRY_SDK_SOURCE||Ig();ll(t,"browser",["browser"],n),t._metadata?.sdk&&(t._metadata.sdk.settings={infer_ip:t.sendDefaultPii?"auto":"never",...t._metadata.sdk.settings}),super(t);const{sendDefaultPii:r,sendClientReports:o,enableLogs:i}=this._options;L.document&&(o||i)&&L.document.addEventListener("visibilitychange",()=>{L.document.visibilityState==="hidden"&&(o&&this._flushOutcomes(),i&&Lr(this))}),i&&(this.on("flush",()=>{Lr(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{Lr(this)},uy)})),r&&this.on("beforeSendSession",Zh)}eventFromException(e,t){return oy(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return iy(this._options.stackParser,e,t,n,this._options.attachStacktrace)}_prepareEvent(e,t,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n,r)}};function dy(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:L.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}var gn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,z=F,fy=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",or=(e,t,n,r)=>{let o,i;return s=>{t.value>=0&&(s||r)&&(i=t.value-(o??0),(i||o===void 0)&&(o=t.value,t.delta=i,t.rating=fy(t.value,n),e(t)))}},py=()=>`v5-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`,ir=(e=!0)=>{const t=z.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},In=()=>ir()?.activationStart??0,sr=(e,t=-1)=>{const n=ir();let r="navigate";return n&&(z.document?.prerendering||In()>0?r="prerender":z.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:py(),navigationType:r}},Yo=new WeakMap;function Ts(e,t){return Yo.get(e)||Yo.set(e,new t),Yo.get(e)}var hy=class Ni{constructor(){Ni.prototype.__init.call(this),Ni.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}},kn=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(o=>{Promise.resolve().then(()=>{t(o.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},Is=e=>{let t=!1;return()=>{t||(e(),t=!0)}},Nn=-1,my=()=>z.document?.visibilityState==="hidden"&&!z.document?.prerendering?0:1/0,ro=e=>{z.document.visibilityState==="hidden"&&Nn>-1&&(Nn=e.type==="visibilitychange"?e.timeStamp:0,_y())},gy=()=>{addEventListener("visibilitychange",ro,!0),addEventListener("prerenderingchange",ro,!0)},_y=()=>{removeEventListener("visibilitychange",ro,!0),removeEventListener("prerenderingchange",ro,!0)},ks=()=>{if(z.document&&Nn<0){const e=In();Nn=(z.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(t=>t.name==="hidden"&&t.startTime>e)[0]?.startTime)??my(),gy()}return{get firstHiddenTime(){return Nn}}},ko=e=>{z.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},yy=[1800,3e3],vy=(e,t={})=>{ko(()=>{const n=ks(),r=sr("FCP");let o;const s=kn("paint",a=>{for(const c of a)c.name==="first-contentful-paint"&&(s.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-In(),0),r.entries.push(c),o(!0)))});s&&(o=or(e,r,yy,t.reportAllChanges))})},Sy=[.1,.25],by=(e,t={})=>{vy(Is(()=>{const n=sr("CLS",0);let r;const o=Ts(t,hy),i=a=>{for(const c of a)o._processEntry(c);o._sessionValue>n.value&&(n.value=o._sessionValue,n.entries=o._sessionEntries,r())},s=kn("layout-shift",i);s&&(r=or(e,n,Sy,t.reportAllChanges),z.document?.addEventListener("visibilitychange",()=>{z.document?.visibilityState==="hidden"&&(i(s.takeRecords()),r(!0))}),z?.setTimeout?.(r))}))},Pl=0,Ko=1/0,vr=0,Ey=e=>{e.forEach(t=>{t.interactionId&&(Ko=Math.min(Ko,t.interactionId),vr=Math.max(vr,t.interactionId),Pl=vr?(vr-Ko)/7+1:0)})},Oi,Fl=()=>Oi?Pl:performance.interactionCount||0,wy=()=>{"interactionCount"in performance||Oi||(Oi=kn("event",Ey,{type:"event",buffered:!0,durationThreshold:0}))};var Bl=0,Ty=()=>Fl()-Bl,Iy=class Li{constructor(){Li.prototype.__init.call(this),Li.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){Bl=Fl(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(Ty()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<10||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((o,i)=>i._latency-o._latency),this._longestInteractionList.length>10){const o=this._longestInteractionList.splice(10);for(const i of o)this._longestInteractionMap.delete(i.id)}this._onAfterProcessingINPCandidate?.(r)}}},Cs=e=>{const t=n=>{(n.type==="pagehide"||z.document?.visibilityState==="hidden")&&e(n)};z.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},Ul=e=>{const t=z.requestIdleCallback||z.setTimeout;z.document?.visibilityState==="hidden"?e():(e=Is(e),t(e),Cs(e))},ky=[200,500];var Cy=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&ko(()=>{wy();const n=sr("INP");let r;const o=Ts(t,Iy),i=a=>{Ul(()=>{for(const u of a)o._processEntry(u);const c=o._estimateP98LongestInteraction();c&&c._latency!==n.value&&(n.value=c._latency,n.entries=c.entries,r())})},s=kn("event",i,{durationThreshold:t.durationThreshold??40});r=or(e,n,ky,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),Cs(()=>{i(s.takeRecords()),r(!0)}))})},Ry=class{_processEntry(e){this._onBeforeProcessingEntry?.(e)}},xy=[2500,4e3],My=(e,t={})=>{ko(()=>{const n=ks(),r=sr("LCP");let o;const i=Ts(t,Ry),s=c=>{t.reportAllChanges||(c=c.slice(-1));for(const u of c)i._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-In(),0),r.entries=[u],o())},a=kn("largest-contentful-paint",s);if(a){o=or(e,r,xy,t.reportAllChanges);const c=Is(()=>{s(a.takeRecords()),a.disconnect(),o(!0)});for(const u of["keydown","click","visibilitychange"])z.document&&addEventListener(u,()=>Ul(c),{capture:!0,once:!0})}})},Ay=[800,1800],Di=e=>{z.document?.prerendering?ko(()=>Di(e)):z.document?.readyState!=="complete"?addEventListener("load",()=>Di(e),!0):setTimeout(e)},Ny=(e,t={})=>{const n=sr("TTFB"),r=or(e,n,Ay,t.reportAllChanges);Di(()=>{const o=ir();o&&(n.value=Math.max(o.responseStart-In(),0),n.entries=[o],r(!0))})},On={},oo={},Hl,Wl,zl,jl;function Rs(e,t=!1){return Co("cls",e,Ly,Hl,t)}function xs(e,t=!1){return Co("lcp",e,Dy,Wl,t)}function Oy(e){return Co("ttfb",e,Py,zl)}function ql(e){return Co("inp",e,Fy,jl)}function jt(e,t){return $l(e,t),oo[e]||(By(e),oo[e]=!0),Gl(e,t)}function ar(e,t){const n=On[e];if(n?.length)for(const r of n)try{r(t)}catch(o){gn&&g.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ot(r)}
Error:`,o)}}function Ly(){return by(e=>{ar("cls",{metric:e}),Hl=e},{reportAllChanges:!0})}function Dy(){return My(e=>{ar("lcp",{metric:e}),Wl=e},{reportAllChanges:!0})}function Py(){return Ny(e=>{ar("ttfb",{metric:e}),zl=e})}function Fy(){return Cy(e=>{ar("inp",{metric:e}),jl=e})}function Co(e,t,n,r,o=!1){$l(e,t);let i;return oo[e]||(i=n(),oo[e]=!0),r&&t({metric:r}),Gl(e,t,o?i:void 0)}function By(e){const t={};e==="event"&&(t.durationThreshold=0),kn(e,n=>{ar(e,{entries:n})},t)}function $l(e,t){On[e]=On[e]||[],On[e].push(t)}function Gl(e,t,n){return()=>{n&&n();const r=On[e];if(!r)return;const o=r.indexOf(t);o!==-1&&r.splice(o,1)}}function Uy(e){return"duration"in e}function Xo(e){return typeof e=="number"&&isFinite(e)}function kt(e,t,n,{...r}){const o=W(e).start_timestamp;return o&&o>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),bo(e,()=>{const i=Tt({startTime:t,...r});return i&&i.end(n),i})}function Ms(e){const t=x();if(!t)return;const{name:n,transaction:r,attributes:o,startTime:i}=e,{release:s,environment:a,sendDefaultPii:c}=t.getOptions(),u=t.getIntegrationByName("Replay")?.getReplayId(),d=$(),l=d.getUser(),f=l!==void 0?l.email||l.id||l.ip_address:void 0;let p;try{p=d.getScopeData().contexts.profile.profile_id}catch{}const h={release:s,environment:a,user:f||void 0,profile_id:p||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":z.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...o};return Tt({name:n,attributes:h,startTime:i,experimental:{standalone:!0}})}function Ro(){return z.addEventListener&&z.performance}function pe(e){return e/1e3}function Vl(e){let t="unknown",n="unknown",r="";for(const o of e){if(o==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=o}return r===e&&(t=r),{name:t,version:n}}function Yl(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function Kl(e,t){let n,r=!1;function o(a){!r&&n&&t(a,n),r=!0}Cs(()=>{o("pagehide")});const i=e.on("beforeStartNavigationSpan",(a,c)=>{c?.isRedirect||(o("navigation"),ic(i,s))}),s=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,ic(s)})}function ic(...e){e.forEach(t=>t&&setTimeout(t,0))}function Hy(e){let t=0,n;if(!Yl("layout-shift"))return;const r=Rs(({metric:o})=>{const i=o.entries[o.entries.length-1];i&&(t=o.value,n=i)},!0);Kl(e,(o,i)=>{Wy(t,n,i,o),r()})}function Wy(e,t,n,r){gn&&g.log(`Sending CLS span (${e})`);const o=pe((xe()||0)+(t?.startTime||0)),i=$().getScopeData().transactionName,s=t?Be(t.sources[0]?.node):"Layout shift",a={[ce]:"auto.http.browser.cls",[$e]:"ui.webvital.cls",[Zn]:t?.duration||0,"sentry.pageload.span_id":n,"sentry.report_event":r};t?.sources&&t.sources.forEach((u,d)=>{a[`cls.source.${d+1}`]=Be(u.node)});const c=Ms({name:s,transaction:i,attributes:a,startTime:o});c&&(c.addEvent("cls",{[Xn]:"",[Jn]:e}),c.end(o))}function zy(e){let t=0,n;if(!Yl("largest-contentful-paint"))return;const r=xs(({metric:o})=>{const i=o.entries[o.entries.length-1];i&&(t=o.value,n=i)},!0);Kl(e,(o,i)=>{jy(t,n,i,o),r()})}function jy(e,t,n,r){gn&&g.log(`Sending LCP span (${e})`);const o=pe((xe()||0)+(t?.startTime||0)),i=$().getScopeData().transactionName,s=t?Be(t.element):"Largest contentful paint",a={[ce]:"auto.http.browser.lcp",[$e]:"ui.webvital.lcp",[Zn]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=Be(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url.trim().slice(0,200)),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));const c=Ms({name:s,transaction:i,attributes:a,startTime:o});c&&(c.addEvent("lcp",{[Xn]:"millisecond",[Jn]:e}),c.end(o))}var sc=0,We={},Me,io;function qy({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=Ro();if(r&&xe()){r.mark&&z.performance.mark("sentry-tracing-init");const o=t?zy(n):Ky(),i=Xy(),s=e?Hy(n):Yy();return()=>{o?.(),i(),s?.()}}return()=>{}}function $y(){jt("longtask",({entries:e})=>{const t=ge();if(!t)return;const{op:n,start_timestamp:r}=W(t);for(const o of e){const i=pe(xe()+o.startTime),s=pe(o.duration);n==="navigation"&&r&&i<r||kt(t,i,i+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[ce]:"auto.ui.browser.metrics"}})}})}function Gy(){new PerformanceObserver(e=>{const t=ge();if(t)for(const n of e.getEntries()){if(!n.scripts[0])continue;const r=pe(xe()+n.startTime),{start_timestamp:o,op:i}=W(t);if(i==="navigation"&&o&&r<o)continue;const s=pe(n.duration),a={[ce]:"auto.ui.browser.metrics"},{invoker:c,invokerType:u,sourceURL:d,sourceFunctionName:l,sourceCharPosition:f}=n.scripts[0];a["browser.script.invoker"]=c,a["browser.script.invoker_type"]=u,d&&(a["code.filepath"]=d),l&&(a["code.function"]=l),f!==-1&&(a["browser.script.source_char_position"]=f),kt(t,r,r+s,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:a})}}).observe({type:"long-animation-frame",buffered:!0})}function Vy(){jt("event",({entries:e})=>{const t=ge();if(t){for(const n of e)if(n.name==="click"){const r=pe(xe()+n.startTime),o=pe(n.duration),i={name:Be(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[ce]:"auto.ui.browser.metrics"}},s=mu(n.target);s&&(i.attributes["ui.component_name"]=s),kt(t,r,r+o,i)}}})}function Yy(){return Rs(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(We.cls={value:e.value,unit:""},io=t)},!0)}function Ky(){return xs(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(We.lcp={value:e.value,unit:"millisecond"},Me=t)},!0)}function Xy(){return Oy(({metric:e})=>{e.entries[e.entries.length-1]&&(We.ttfb={value:e.value,unit:"millisecond"})})}function Jy(e,t){const n=Ro(),r=xe();if(!n?.getEntries||!r)return;const o=pe(r),i=n.getEntries(),{op:s,start_timestamp:a}=W(e);i.slice(sc).forEach(c=>{const u=pe(c.startTime),d=pe(Math.max(0,c.duration));if(!(s==="navigation"&&a&&o+u<a))switch(c.entryType){case"navigation":ev(e,c,o);break;case"mark":case"paint":case"measure":{Zy(e,c,u,d,o,t.ignorePerformanceApiSpans);const l=ks(),f=c.startTime<l.firstHiddenTime;c.name==="first-paint"&&f&&(We.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&f&&(We.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":rv(e,c,c.name,u,d,o,t.ignoreResourceSpans);break}}),sc=Math.max(i.length-1,0),ov(e),s==="pageload"&&(sv(We),t.recordClsOnPageloadSpan||delete We.cls,t.recordLcpOnPageloadSpan||delete We.lcp,Object.entries(We).forEach(([c,u])=>{Fp(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",o),e.setAttribute("performance.activationStart",In()),iv(e,t)),Me=void 0,io=void 0,We={}}function Zy(e,t,n,r,o,i){if(["mark","measure"].includes(t.entryType)&&qe(t.name,i))return;const s=ir(!1),a=pe(s?s.requestStart:0),c=o+Math.max(n,a),u=o+n,d=u+r,l={[ce]:"auto.resource.browser.metrics"};c!==u&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=c),Qy(l,t),c<=d&&kt(e,c,d,{name:t.name,op:t.entryType,attributes:l})}function Qy(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,o]of Object.entries(n))if(o&&sn(o))e[`sentry.browser.measure.detail.${r}`]=o;else if(o!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(o)}catch{}return}if(sn(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function ev(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Sr(e,t,r,n)}),Sr(e,t,"secureConnection",n,"TLS/SSL"),Sr(e,t,"fetch",n,"cache"),Sr(e,t,"domainLookup",n,"DNS"),nv(e,t,n)}function Sr(e,t,n,r,o=n){const i=tv(n),s=t[i],a=t[`${n}Start`];!a||!s||kt(e,r+pe(a),r+pe(s),{op:`browser.${o}`,name:t.name,attributes:{[ce]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function tv(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function nv(e,t,n){const r=n+pe(t.requestStart),o=n+pe(t.responseEnd),i=n+pe(t.responseStart);t.responseEnd&&(kt(e,r,o,{op:"browser.request",name:t.name,attributes:{[ce]:"auto.ui.browser.metrics"}}),kt(e,i,o,{op:"browser.response",name:t.name,attributes:{[ce]:"auto.ui.browser.metrics"}}))}function rv(e,t,n,r,o,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(s?.includes(a))return;const c=Bt(n),u={[ce]:"auto.resource.browser.metrics"};Jo(u,t,"transferSize","http.response_transfer_size"),Jo(u,t,"encodedBodySize","http.response_content_length"),Jo(u,t,"decodedBodySize","http.decoded_response_content_length");const d=t.deliveryType;d!=null&&(u["http.response_delivery_type"]=d);const l=t.renderBlockingStatus;if(l&&(u["resource.render_blocking_status"]=l),c.protocol&&(u["url.scheme"]=c.protocol.split(":").pop()),c.host&&(u["server.address"]=c.host),u["url.same_origin"]=n.includes(z.location.origin),t.nextHopProtocol!=null){const{name:h,version:m}=Vl(t.nextHopProtocol);u["network.protocol.name"]=h,u["network.protocol.version"]=m}const f=i+r,p=f+o;kt(e,f,p,{name:n.replace(z.location.origin,""),op:a,attributes:u})}function ov(e){const t=z.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Xo(n.rtt)&&(We["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Xo(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Xo(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function iv(e,t){Me&&t.recordLcpOnPageloadSpan&&(Me.element&&e.setAttribute("lcp.element",Be(Me.element)),Me.id&&e.setAttribute("lcp.id",Me.id),Me.url&&e.setAttribute("lcp.url",Me.url.trim().slice(0,200)),Me.loadTime!=null&&e.setAttribute("lcp.loadTime",Me.loadTime),Me.renderTime!=null&&e.setAttribute("lcp.renderTime",Me.renderTime),e.setAttribute("lcp.size",Me.size)),io?.sources&&t.recordClsOnPageloadSpan&&io.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,Be(n.node)))}function Jo(e,t,n,r){const o=t[n];o!=null&&o<2147483647&&(e[r]=o)}function sv(e){const t=ir(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function av(){return Ro()&&xe()?jt("element",cv):()=>{}}var cv=({entries:e})=>{const t=ge(),n=t?ye(t):void 0,r=n?W(n).description:$().getScopeData().transactionName;e.forEach(o=>{const i=o;if(!i.identifier)return;const s=i.name,a=i.renderTime,c=i.loadTime,[u,d]=c?[pe(c),"load-time"]:a?[pe(a),"render-time"]:[ue(),"entry-emission"],l=s==="image-paint"?pe(Math.max(0,(a??0)-(c??0))):0,f={[ce]:"auto.ui.browser.elementtiming",[$e]:"ui.elementtiming",[Ae]:"component","sentry.span_start_time_source":d,"sentry.transaction_name":r,"element.id":i.id,"element.type":i.element?.tagName?.toLowerCase()||"unknown","element.size":i.naturalWidth&&i.naturalHeight?`${i.naturalWidth}x${i.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":i.url||void 0,"element.identifier":i.identifier,"element.paint_type":s};is({name:`element[${i.identifier}]`,attributes:f,startTime:u,onlyIfParent:!0},p=>{p.end(u+l)})})},uv=1e3,ac,Pi,Fi;function Xl(e){const t="dom";Ct(t,e),Rt(t,lv)}function lv(){if(!z.document)return;const e=Fe.bind(null,"dom"),t=cc(e,!0);z.document.addEventListener("click",t,!1),z.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=z[n]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(ke(r,"addEventListener",function(o){return function(i,s,a){if(i==="click"||i=="keypress")try{const c=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},u=c[i]=c[i]||{refCount:0};if(!u.handler){const d=cc(e);u.handler=d,o.call(this,i,d,a)}u.refCount++}catch{}return o.call(this,i,s,a)}}),ke(r,"removeEventListener",function(o){return function(i,s,a){if(i==="click"||i=="keypress")try{const c=this.__sentry_instrumentation_handlers__||{},u=c[i];u&&(u.refCount--,u.refCount<=0&&(o.call(this,i,u.handler,a),u.handler=void 0,delete c[i]),Object.keys(c).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return o.call(this,i,s,a)}}))})}function dv(e){if(e.type!==Pi)return!1;try{if(!e.target||e.target._sentryId!==Fi)return!1}catch{}return!0}function fv(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function cc(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=pv(n);if(fv(n.type,r))return;Re(n,"_sentryCaptured",!0),r&&!r._sentryId&&Re(r,"_sentryId",Ce());const o=n.type==="keypress"?"input":n.type;dv(n)||(e({event:n,name:o,global:t}),Pi=n.type,Fi=r?r._sentryId:void 0),clearTimeout(ac),ac=z.setTimeout(()=>{Fi=void 0,Pi=void 0},uv)}}function pv(e){try{return e.target}catch{return null}}var br;function xo(e){const t="history";Ct(t,e),Rt(t,hv)}function hv(){if(z.addEventListener("popstate",()=>{const t=z.location.href,n=br;br=t,n!==t&&Fe("history",{from:n,to:t})}),!gg())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const o=br,i=mv(String(r));if(br=i,o===i)return t.apply(this,n);Fe("history",{from:o,to:i})}return t.apply(this,n)}}ke(z.history,"pushState",e),ke(z.history,"replaceState",e)}function mv(e){try{return new URL(e,z.location.origin).toString()}catch{return e}}var Hr={};function As(e){const t=Hr[e];if(t)return t;let n=z[e];if(wi(n))return Hr[e]=n.bind(z);const r=z.document;if(r&&typeof r.createElement=="function")try{const o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);const i=o.contentWindow;i?.[e]&&(n=i[e]),r.head.removeChild(o)}catch(o){gn&&g.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,o)}return n&&(Hr[e]=n.bind(z))}function uc(e){Hr[e]=void 0}function cr(...e){return As("setTimeout")(...e)}var nt="__sentry_xhr_v3__";function Ns(e){const t="xhr";Ct(t,e),Rt(t,gv)}function gv(){if(!z.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const o=new Error,i=ue()*1e3,s=je(r[0])?r[0].toUpperCase():void 0,a=_v(r[1]);if(!s||!a)return t.apply(n,r);n[nt]={method:s,url:a,request_headers:{}},s==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[nt];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const d={endTimestamp:ue()*1e3,startTimestamp:i,xhr:n,virtualError:o};Fe("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){const[f,p]=l,h=d[nt];return h&&je(f)&&je(p)&&(h.request_headers[f.toLowerCase()]=p),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const o=n[nt];if(!o)return t.apply(n,r);r[0]!==void 0&&(o.body=r[0]);const i={startTimestamp:ue()*1e3,xhr:n};return Fe("xhr",i),t.apply(n,r)}})}function _v(e){if(je(e))return e;try{return e.toString()}catch{}}function Jl(e){return new URLSearchParams(e).toString()}function so(e,t=g){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Jl(e)];if(!e)return[void 0]}catch(n){return gn&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return gn&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Os(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}var Zo=[],Wr=new Map;function yv(){if(Ro()&&xe()){const e=vv();return()=>{e()}}return()=>{}}var lc={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function vv(){return ql(Sv)}var Sv=({metric:e})=>{if(e.value==null)return;const t=pe(e.value);if(t>60)return;const n=e.entries.find(p=>p.duration===e.value&&lc[p.name]);if(!n)return;const{interactionId:r}=n,o=lc[n.name],i=pe(xe()+n.startTime),s=ge(),a=s?ye(s):void 0,c=(r!=null?Wr.get(r):void 0)||a,u=c?W(c).description:$().getScopeData().transactionName,d=Be(n.target),l={[ce]:"auto.http.browser.inp",[$e]:`ui.interaction.${o}`,[Zn]:n.duration},f=Ms({name:d,transaction:u,attributes:l,startTime:i});f&&(f.addEvent("inp",{[Xn]:"millisecond",[Jn]:e.value}),f.end(i+t))};function bv(){const e=({entries:t})=>{const n=ge(),r=n&&ye(n);t.forEach(o=>{if(!Uy(o)||!r)return;const i=o.interactionId;if(i!=null&&!Wr.has(i)){if(Zo.length>10){const s=Zo.shift();Wr.delete(s)}Zo.push(i),Wr.set(i,r)}})};jt("event",e),jt("first-input",e)}function Zl(e,t=As("fetch")){let n=0,r=0;function o(i){const s=i.body.length;n+=s,r++;const a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return uc("fetch"),Qr("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=s,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return uc("fetch"),n-=s,r--,Qr(c)}}return zh(e,o)}function _n(e,t,n,r){const o={filename:e,function:t==="<anonymous>"?"?":t,in_app:!0};return n!==void 0&&(o.lineno=n),r!==void 0&&(o.colno=r),o}var Ev=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,wv=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Tv=/\((\S*)(?::(\d+))(?::(\d+))\)/,Iv=/at (.+?) ?\(data:(.+?),/,kv=e=>{const t=e.match(Iv);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=Ev.exec(e);if(n){const[,o,i,s]=n;return _n(o,"?",+i,+s)}const r=wv.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const s=Tv.exec(r[2]);s&&(r[2]=s[1],r[3]=s[2],r[4]=s[3])}const[o,i]=Ql(r[1]||"?",r[2]);return _n(i,o,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},Cv=[30,kv],Rv=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,xv=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Mv=e=>{const t=Rv.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=xv.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let n=t[3],r=t[1]||"?";return[r,n]=Ql(r,n),_n(n,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Av=[50,Mv],Nv=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Ov=e=>{const t=Nv.exec(e);return t?_n(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0},A1=[40,Ov],Lv=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Dv=e=>{const t=Lv.exec(e);return t?_n(t[2],t[3]||"?",+t[1]):void 0},N1=[10,Dv],Pv=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Fv=e=>{const t=Pv.exec(e);return t?_n(t[5],t[3]||t[4]||"?",+t[1],+t[2]):void 0},O1=[20,Fv],Bv=[Cv,Av],Uv=cu(...Bv),Ql=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:"?",n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function L1(e,{metadata:t,tunnel:n,dsn:r}){const o={event_id:e.event_id,sent_at:new Date().toISOString(),...t?.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Gt(r)}},i=Hv(e);return ht(o,[i])}function Hv(e){return[{type:"user_report"},e]}var X=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Wv=1024,zv="Breadcrumbs",jv=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:zv,setup(n){t.console&&fs(Vv(n)),t.dom&&Xl(Gv(n,t.dom)),t.xhr&&Ns(Yv(n)),t.fetch&&hs(Kv(n)),t.history&&xo(Xv(n)),t.sentry&&n.on("beforeSendEvent",$v(n))}}},qv=jv;function $v(e){return function(n){x()===e&&Xe({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Nt(n)},{event:n})}}function Gv(e,t){return function(r){if(x()!==e)return;let o,i,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>1024&&(X&&g.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=Wv),typeof s=="string"&&(s=[s]);try{const u=r.event,d=Jv(u)?u.target:u;o=Be(d,{keyAttrs:s,maxStringLength:a}),i=mu(d)}catch{o="<unknown>"}if(o.length===0)return;const c={category:`ui.${r.name}`,message:o};i&&(c.data={"ui.component_name":i}),Xe(c,{event:r.event,name:r.name,global:r.global})}}function Vv(e){return function(n){if(x()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:ps(n.level),message:Vr(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Vr(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Xe(r,{input:n.args,level:n.level})}}function Yv(e){return function(n){if(x()!==e)return;const{startTimestamp:r,endTimestamp:o}=n,i=n.xhr[nt];if(!r||!o||!i)return;const{method:s,url:a,status_code:c,body:u}=i,d={method:s,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:o},f={category:"xhr",data:d,type:"http",level:vl(c)};e.emit("beforeOutgoingRequestBreadcrumb",f,l),Xe(f,l)}}function Kv(e){return function(n){if(x()!==e)return;const{startTimestamp:r,endTimestamp:o}=n;if(o&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const i=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:o},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,s),Xe(a,s)}else{const i=n.response,s={...n.fetchData,status_code:i?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i?.status;const a={input:n.args,response:i,startTimestamp:r,endTimestamp:o},c={category:"fetch",data:s,type:"http",level:vl(s.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),Xe(c,a)}}}function Xv(e){return function(n){if(x()!==e)return;let r=n.from,o=n.to;const i=Bt(L.location.href);let s=r?Bt(r):void 0;const a=Bt(o);s?.path||(s=i),i.protocol===a.protocol&&i.host===a.host&&(o=a.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),Xe({category:"navigation",data:{from:r,to:o}})}}function Jv(e){return!!e&&!!e.target}var Zv=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Qv="BrowserApiErrors",eS=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:Qv,setupOnce(){t.setTimeout&&ke(L,"setTimeout",dc),t.setInterval&&ke(L,"setInterval",dc),t.requestAnimationFrame&&ke(L,"requestAnimationFrame",nS),t.XMLHttpRequest&&"XMLHttpRequest"in L&&ke(XMLHttpRequest.prototype,"send",rS);const n=t.eventTarget;n&&(Array.isArray(n)?n:Zv).forEach(r=>oS(r,t))}}},tS=eS;function dc(e){return function(...t){const n=t[0];return t[0]=mn(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${ot(e)}`}}),e.apply(this,t)}}function nS(e){return function(t){return e.apply(this,[mn(t,{mechanism:{data:{handler:ot(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function rS(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&ke(n,r,function(o){const i={mechanism:{data:{handler:ot(o)},handled:!1,type:`auto.browser.browserapierrors.xhr.${r}`}},s=es(o);return s&&(i.mechanism.data.handler=ot(s)),mn(o,i)})}),e.apply(this,t)}}function oS(e,t){const n=L[e]?.prototype;n?.hasOwnProperty?.("addEventListener")&&(ke(n,"addEventListener",function(r){return function(o,i,s){try{iS(i)&&(i.handleEvent=mn(i.handleEvent,{mechanism:{data:{handler:ot(i),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&sS(this,o,i),r.apply(this,[o,mn(i,{mechanism:{data:{handler:ot(i),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),s])}}),ke(n,"removeEventListener",function(r){return function(o,i,s){try{const a=i.__sentry_wrapped__;a&&r.call(this,o,a,s)}catch{}return r.call(this,o,i,s)}}))}function iS(e){return typeof e.handleEvent=="function"}function sS(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}var aS=()=>({name:"BrowserSession",setupOnce(){if(typeof L.document>"u"){X&&g.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Sa({ignoreDuration:!0}),ba(),xo(({from:e,to:t})=>{e!==void 0&&e!==t&&(Sa({ignoreDuration:!0}),ba())})}}),cS="GlobalHandlers",uS=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:cS,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(dS(n),fc("onerror")),t.onunhandledrejection&&(fS(n),fc("onunhandledrejection"))}}},lS=uS;function dS(e){uu(t=>{const{stackParser:n,attachStacktrace:r}=ed();if(x()!==e||Ll())return;const{msg:o,url:i,line:s,column:a,error:c}=t,u=mS(ws(n,c||o,void 0,r,!1),i,s,a);u.level="error",Eo(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function fS(e){lu(t=>{const{stackParser:n,attachStacktrace:r}=ed();if(x()!==e||Ll())return;const o=pS(t),i=sn(o)?hS(o):ws(n,o,void 0,r,!0);i.level="error",Eo(i,{originalException:o,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function pS(e){if(sn(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function hS(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function mS(e,t,n,r){const o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=gS(t)??qt();return c.length===0&&c.push({colno:u,filename:l,function:"?",in_app:!0,lineno:d}),e}function fc(e){X&&g.log(`Global Handler attached: ${e}`)}function ed(){return x()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function gS(e){if(!(!je(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),n=t?t[1]:"text/javascript",r=e.includes("base64,");return`<data:${n}${r?",base64":""}>`}return e.slice(0,1024)}}var _S=()=>({name:"HttpContext",preprocessEvent(e){if(!L.navigator&&!L.location&&!L.document)return;const t=Ss(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}});var yS="LinkedErrors",vS=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:yS,preprocessEvent(r,o,i){const s=i.getOptions();gm(bs,s.stackParser,n,t,r,o)}}},SS=vS;function bS(){return ES()?(X&&Je(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function ES(){if(typeof L.window>"u")return!1;const e=L;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;const t=qt();return!(L===L.top&&["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"].some(n=>t.startsWith(`${n}://`)))}function td(e){return[cm(),om(),tS(),qv(),lS(),SS(),Im(),_S(),aS()]}function wS(e={}){const t=!e.skipBrowserExtensionCheck&&bS(),n={...e,enabled:t?!1:e.enabled,stackParser:Tf(e.stackParser||Uv),integrations:Eh({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?td():e.defaultIntegrations}),transport:e.transport||Zl};return Fh(ly,n)}function D1(){}function P1(e){e()}function F1(e={}){const t=L.document,n=t?.head||t?.body;if(!n){X&&g.error("[showReportDialog] Global document not defined");return}const r=$(),o=x()?.getDsn();if(!o){X&&g.error("[showReportDialog] DSN not configured");return}const i={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||mh()},s=L.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=Sh(o,i);const{onLoad:a,onClose:c}=i;if(a&&(s.onload=a),c){const u=d=>{if(d.data==="__sentry_reportdialog_closed__")try{c()}finally{L.removeEventListener("message",u)}};L.addEventListener("message",u)}n.appendChild(s)}var TS=F,IS="ReportingObserver",pc=new WeakMap,kS=(e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(r){if(pc.has(x()))for(const o of r)Ve(i=>{i.setExtra("url",o.url);const s=`ReportingObserver [${o.type}]`;let a="No details available";if(o.body){const c={};for(const u in o.body)c[u]=o.body[u];if(i.setExtra("body",c),o.type==="crash"){const u=o.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=o.body.message||a}vi(`${s}: ${a}`)})}return{name:IS,setupOnce(){yg()&&new TS.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){pc.set(r,!0)}}},B1=kS,CS="HttpClient",RS=(e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:CS,setup(n){PS(n,t),FS(n,t)}}},U1=RS;function xS(e,t,n,r,o){if(rd(e,n.status,n.url)){const i=BS(t,r);let s,a,c,u;id()&&([s,c]=hc("Cookie",i),[a,u]=hc("Set-Cookie",n));const d=od({url:i.url,method:i.method,status:n.status,requestHeaders:s,responseHeaders:a,requestCookies:c,responseCookies:u,error:o,type:"fetch"});Eo(d)}}function hc(e,t){const n=NS(t.headers);let r;try{const o=n[e]||n[e.toLowerCase()]||void 0;o&&(r=nd(o))}catch{}return[n,r]}function MS(e,t,n,r,o){if(rd(e,t.status,t.responseURL)){let i,s,a;if(id()){try{const u=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;u&&(s=nd(u))}catch{}try{a=OS(t)}catch{}i=r}const c=od({url:t.responseURL,method:n,status:t.status,requestHeaders:i,responseHeaders:a,responseCookies:s,error:o,type:"xhr"});Eo(c)}}function AS(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function nd(e){return e.split("; ").reduce((t,n)=>{const[r,o]=n.split("=");return r&&o&&(t[r]=o),t},{})}function NS(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function OS(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[o,i]=r.split(": ");return o&&i&&(n[o]=i),n},{}):{}}function LS(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function DS(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function PS(e,t){Sl()&&hs(n=>{if(x()!==e)return;const{response:r,args:o,error:i,virtualError:s}=n,[a,c]=o;r&&xS(t,a,r,c,i||s)},!1)}function FS(e,t){"XMLHttpRequest"in F&&Ns(n=>{if(x()!==e)return;const{error:r,virtualError:o}=n,i=n.xhr,s=i[nt];if(!s)return;const{method:a,request_headers:c}=s;try{MS(t,i,a,c,r||o)}catch(u){X&&g.warn("Error while extracting response event form XHR response",u)}})}function rd(e,t,n){return DS(e.failedRequestStatusCodes,t)&&LS(e.failedRequestTargets,n)&&!ul(n,x())}function od(e){const t=x(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,o=`HTTP Client Error with status code: ${e.status}`,i={message:o,exception:{values:[{type:"Error",value:o,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:AS(e.responseHeaders)}}};return at(i,{type:`auto.http.client.${e.type}`,handled:!1}),i}function BS(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function id(){const e=x();return e?!!e.getOptions().sendDefaultPii:!1}var Qo=F;var US="ContextLines",HS=(e={})=>{const t=e.frameContextLines!=null?e.frameContextLines:7;return{name:US,processEvent(n){return WS(n,t)}}},H1=HS;function WS(e,t){const n=Qo.document,r=Qo.location&&cl(Qo.location.href);if(!n||!r)return e;const o=e.exception?.values;if(!o?.length)return e;const i=n.documentElement.innerHTML;if(!i)return e;const s=["<!DOCTYPE html>","<html>",...i.split(`
`),"</html>"];return o.forEach(a=>{const c=a.stacktrace;c?.frames&&(c.frames=c.frames.map(u=>zS(u,s,r,t)))}),e}function zS(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||Df(t,e,r),e}var jS="GraphQLClient",qS=e=>({name:jS,setup(t){$S(t,e),GS(t,e)}});function $S(e,t){e.on("beforeOutgoingRequestSpan",(n,r)=>{const o=W(n).data||{};if(o["sentry.op"]!=="http.client")return;const i=o["url.full"]||o["http.url"],s=o["http.request.method"]||o["http.method"];if(!je(i)||!je(s))return;const{endpoints:a}=t,c=qe(i,a),u=ad(r);if(c&&u){const d=cd(u);if(d){const l=sd(d);n.updateName(`${s} ${i} (${l})`),n.setAttribute("graphql.document",u)}}})}function GS(e,t){e.on("beforeOutgoingRequestBreadcrumb",(n,r)=>{const{category:o,type:i,data:s}=n;if(i==="http"&&(o==="fetch"||o==="xhr")){const a=s?.url,{endpoints:c}=t,u=qe(a,c),d=ad(r);if(u&&s&&d){const l=cd(d);if(!s.graphql&&l){const f=sd(l);s["graphql.document"]=l.query,s["graphql.operation"]=f}}}})}function sd(e){const{query:t,operationName:n}=e,{operationName:r=n,operationType:o}=VS(t);return r?`${o} ${r}`:`${o}`}function ad(e){const t="xhr"in e;let n;if(t){const r=e.xhr[nt];n=r&&so(r.body)[0]}else{const r=Os(e.input);n=so(r)[0]}return n}function VS(e){const t=/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/,n=/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/,r=e.match(t);if(r)return{operationType:r[1],operationName:r[2]};const o=e.match(n);return o?{operationType:o[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}function cd(e){let t;try{const n=JSON.parse(e);n.query&&(t=n)}finally{return t}}var W1=qS,ae=F,Ls="sentryReplaySession",YS="replay_event",ud="Unable to send Replay",KS=3e5,XS=9e5,JS=5e3,ZS=5500,QS=6e4,eb=5e3;var mc=15e4,gc=5e3,tb=3e3;var nb=2e7,rb=4999,ob=15e3,_c=36e5,ib=Object.defineProperty,sb=(e,t,n)=>t in e?ib(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yc=(e,t,n)=>sb(e,typeof t!="symbol"?t+"":t,n),me=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(me||{});function ab(e){return e.nodeType===e.ELEMENT_NODE}function Ln(e){return e?.host?.shadowRoot===e}function Dn(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function cb(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function ub(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function ao(e){try{const t=e.rules||e.cssRules;return t?cb(Array.from(t,ld).join("")):null}catch{return null}}function lb(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,o=r[n],i=r.getPropertyPriority(o);t+=`${o}:${r.getPropertyValue(o)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}function ld(e){let t;if(fb(e))try{t=ao(e.styleSheet)||ub(e)}catch{}else if(pb(e)){let n=e.cssText;const r=e.selectorText.includes(":"),o=typeof e.style.all=="string"&&e.style.all;if(o&&(n=lb(e)),r&&(n=db(n)),r||o)return n}return t||e.cssText}function db(e){return e.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")}function fb(e){return"styleSheet"in e}function pb(e){return"selectorText"in e}var dd=class{constructor(){yc(this,"idNodeMap",new Map),yc(this,"nodeMetaMap",new WeakMap)}getId(e){return e?this.getMeta(e)?.id??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const r=this.nodeMetaMap.get(n);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function hb(){return new dd}function Mo({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Wn({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function yn(e){return e.toLowerCase()}function Bi(e){return e.toUpperCase()}var mb="__rrweb_original__";function gb(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let o=0;o<e.height;o+=n){const i=t.getImageData,s="__rrweb_original__"in i?i[mb]:i;if(new Uint32Array(s.call(t,r,o,Math.min(n,e.width-r),Math.min(n,e.height-o)).data.buffer).some(a=>a!==0))return!1}return!0}function Ds(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?yn(t):null}function co(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function fd(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}return n.pathname.match(/\.([0-9a-z]+)(?:$)/i)?.[1]??null}var vc={};function pd(e){const t=vc[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);const i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return vc[e]=r.bind(window)}function Ui(...e){return pd("setTimeout")(...e)}function hd(...e){return pd("clearTimeout")(...e)}function md(e){try{return e.contentDocument}catch{}}var _b=1,yb=new RegExp("[^a-z0-9-_:]");function Ps(){return _b++}function vb(e){if(e instanceof HTMLFormElement)return"form";const t=yn(e.tagName);return yb.test(t)?"div":t}function Sb(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Kt,Sc,bb=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Eb=/^(?:[a-z+]+:)?\/\//i,wb=/^www\..*/i,Tb=/^(data:)([^,]*),(.*)/i;function uo(e,t){return(e||"").replace(bb,(n,r,o,i,s,a)=>{const c=o||s||a,u=r||i||"";if(!c)return n;if(Eb.test(c)||wb.test(c))return`url(${u}${c}${u})`;if(Tb.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${Sb(t)+c}${u})`;const d=t.split("/"),l=c.split("/");d.pop();for(const f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}var Ib=/^[^ \t\n\r\u000c]+/,kb=/^[, \t\n\r\u000c]+/;function Cb(e,t){if(t.trim()==="")return t;let n=0;function r(i){let s;const a=i.exec(t.substring(n));return a?(s=a[0],n+=s.length,s):""}const o=[];for(;r(kb),!(n>=t.length);){let i=r(Ib);if(i.slice(-1)===",")i=Qt(e,i.substring(0,i.length-1)),o.push(i);else{let s="";i=Qt(e,i);let a=!1;for(;;){const c=t.charAt(n);if(c===""){o.push((i+s).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,o.push((i+s).trim());break}else c==="("&&(a=!0);s+=c,n+=1}}}return o.join(", ")}var bc=new WeakMap;function Qt(e,t){return!t||t.trim()===""?t:Ao(e,t)}function Rb(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Ao(e,t){let n=bc.get(e);if(n||(n=e.createElement("a"),bc.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function gd(e,t,n,r,o,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Qt(e,r):n==="srcset"?Cb(e,r):n==="style"?uo(r,Ao(e)):t==="object"&&n==="data"?Qt(e,r):typeof i=="function"?i(n,r,o):r)}function _d(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function xb(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let o=e.classList.length;o--;){const i=e.classList[o];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function Mb(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Dt(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Dt(e.parentNode,t,n,r+1)}function en(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(Mb(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function vn(e,t,n,r,o,i){try{const s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(s===null)return!1;if(s.tagName==="INPUT"){const u=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=Dt(s,en(r,o)),c<0)return!0;a=Dt(s,en(t,n),c>=0?c:1/0)}else{if(a=Dt(s,en(t,n)),a<0)return!1;c=Dt(s,en(r,o),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function Ab(e,t,n){const r=e.contentWindow;if(!r)return;let o=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){const a=Ui(()=>{o||(t(),o=!0)},n);e.addEventListener("load",()=>{hd(a),o=!0,t()});return}const s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return Ui(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function Nb(e,t,n){let r=!1,o;try{o=e.sheet}catch{return}if(o)return;const i=Ui(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{hd(i),r=!0,t()})}function Ob(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:h={},maskTextFn:m,maskInputFn:v,dataURLOptions:y={},inlineImages:b,recordCanvas:C,keepIframeSrcFn:R,newlyAddedElement:M=!1}=t,_=Lb(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:me.Document,childNodes:[],compatMode:e.compatMode}:{type:me.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:me.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:_};case e.ELEMENT_NODE:return Pb(e,{doc:n,blockClass:o,blockSelector:i,unblockSelector:s,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:h,maskInputFn:v,dataURLOptions:y,inlineImages:b,recordCanvas:C,keepIframeSrcFn:R,newlyAddedElement:M,rootId:_,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f});case e.TEXT_NODE:return Db(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:m,maskInputOptions:h,maskInputFn:v,rootId:_});case e.CDATA_SECTION_NODE:return{type:me.CDATA,textContent:"",rootId:_};case e.COMMENT_NODE:return{type:me.Comment,textContent:e.textContent||"",rootId:_};default:return!1}}function Lb(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function Db(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const p=l==="STYLE"?!0:void 0,h=l==="SCRIPT"?!0:void 0,m=l==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(f=ao(e.parentNode.sheet))}catch(y){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${y}`,e)}f=uo(f,Ao(t.doc))}h&&(f="SCRIPT_PLACEHOLDER");const v=vn(e,r,i,o,s,n);if(!p&&!h&&!m&&f&&v&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),m&&f&&(c.textarea||v)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),l==="OPTION"&&f){const y=Mo({type:null,tagName:l,maskInputOptions:c});f=Wn({isMasked:vn(e,r,i,o,s,y),element:e,value:f,maskInputFn:u})}return{type:me.Text,textContent:f||"",isStyle:p,rootId:d}}function Pb(e,t){const{doc:n,blockClass:r,blockSelector:o,unblockSelector:i,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:h=!1,rootId:m,maskTextClass:v,unmaskTextClass:y,maskTextSelector:b,unmaskTextSelector:C}=t,R=xb(e,r,o,i),M=vb(e);let _={};const w=e.attributes.length;for(let S=0;S<w;S++){const I=e.attributes[S];I.name&&!_d(M,I.name,I.value)&&(_[I.name]=gd(n,M,yn(I.name),I.value,e,c))}if(M==="link"&&s){const S=Array.from(n.styleSheets).find(A=>A.href===e.href);let I=null;S&&(I=ao(S)),I&&(_.rel=null,_.href=null,_.crossorigin=null,_._cssText=uo(I,S.href))}if(M==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const S=ao(e.sheet);S&&(_._cssText=uo(S,Ao(n)))}if(M==="input"||M==="textarea"||M==="select"||M==="option"){const S=e,I=Ds(S),A=co(S,Bi(M),I),T=S.checked;if(I!=="submit"&&I!=="button"&&A){const N=vn(S,v,b,y,C,Mo({type:I,tagName:Bi(M),maskInputOptions:a}));_.value=Wn({isMasked:N,element:S,value:A,maskInputFn:u})}T&&(_.checked=T)}if(M==="option"&&(e.selected&&!a.select?_.selected=!0:delete _.selected),M==="canvas"&&f){if(e.__context==="2d")gb(e)||(_.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const S=e.toDataURL(d.type,d.quality),I=n.createElement("canvas");I.width=e.width,I.height=e.height;const A=I.toDataURL(d.type,d.quality);S!==A&&(_.rr_dataURL=S)}}if(M==="img"&&l){Kt||(Kt=n.createElement("canvas"),Sc=Kt.getContext("2d"));const S=e,I=S.currentSrc||S.getAttribute("src")||"<unknown-src>",A=S.crossOrigin,T=()=>{S.removeEventListener("load",T);try{Kt.width=S.naturalWidth,Kt.height=S.naturalHeight,Sc.drawImage(S,0,0),_.rr_dataURL=Kt.toDataURL(d.type,d.quality)}catch(N){if(S.crossOrigin!=="anonymous"){S.crossOrigin="anonymous",S.complete&&S.naturalWidth!==0?T():S.addEventListener("load",T);return}else console.warn(`Cannot inline img src=${I}! Error: ${N}`)}S.crossOrigin==="anonymous"&&(A?_.crossOrigin=A:S.removeAttribute("crossorigin"))};S.complete&&S.naturalWidth!==0?T():S.addEventListener("load",T)}if((M==="audio"||M==="video")&&(_.rr_mediaState=e.paused?"paused":"played",_.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(_.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(_.rr_scrollTop=e.scrollTop)),R){const{width:S,height:I}=e.getBoundingClientRect();_={class:_.class,rr_width:`${S}px`,rr_height:`${I}px`}}M==="iframe"&&!p(_.src)&&(!R&&!md(e)&&(_.rr_src=_.src),delete _.src);let H;try{customElements.get(M)&&(H=!0)}catch{}return{type:me.Element,tagName:M,attributes:_,childNodes:[],isSVG:Rb(e)||void 0,needBlock:R,rootId:m,isCustom:H}}function se(e){return e==null?"":e.toLowerCase()}function Fb(e,t){if(t.comment&&e.type===me.Comment)return!0;if(e.type===me.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&fd(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(se(e.attributes.name).match(/^msapplication-tile(image|color)$/)||se(e.attributes.name)==="application-name"||se(e.attributes.rel)==="icon"||se(e.attributes.rel)==="apple-touch-icon"||se(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&se(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(se(e.attributes.property).match(/^(og|twitter|fb):/)||se(e.attributes.name).match(/^(og|twitter):/)||se(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(se(e.attributes.name)==="robots"||se(e.attributes.name)==="googlebot"||se(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(se(e.attributes.name)==="author"||se(e.attributes.name)==="generator"||se(e.attributes.name)==="framework"||se(e.attributes.name)==="publisher"||se(e.attributes.name)==="progid"||se(e.attributes.property).match(/^article:/)||se(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(se(e.attributes.name)==="google-site-verification"||se(e.attributes.name)==="yandex-verification"||se(e.attributes.name)==="csrf-token"||se(e.attributes.name)==="p:domain_verify"||se(e.attributes.name)==="verify-v1"||se(e.attributes.name)==="verification"||se(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function tn(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:h={},maskAttributeFn:m,maskTextFn:v,maskInputFn:y,slimDOMOptions:b,dataURLOptions:C={},inlineImages:R=!1,recordCanvas:M=!1,onSerialize:_,onIframeLoad:w,iframeLoadTimeout:H=5e3,onBlockedImageLoad:S,onStylesheetLoad:I,stylesheetLoadTimeout:A=5e3,keepIframeSrcFn:T=()=>!1,newlyAddedElement:N=!1}=t;let{preserveWhiteSpace:V=!0}=t;const O=Ob(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:v,maskInputFn:y,dataURLOptions:C,inlineImages:R,recordCanvas:M,keepIframeSrcFn:T,newlyAddedElement:N});if(!O)return console.warn(e,"not serialized"),null;let j;r.hasNode(e)?j=r.getId(e):Fb(O,b)||!V&&O.type===me.Text&&!O.isStyle&&!O.textContent.replace(/^\s+|\s+$/gm,"").length?j=-2:j=Ps();const E=Object.assign(O,{id:j});if(r.add(e,E),j===-2)return null;_&&_(e);let G=!f;if(E.type===me.Element){G=G&&!E.needBlock;const B=e.shadowRoot;B&&Dn(B)&&(E.isShadowHost=!0)}if((E.type===me.Document||E.type===me.Element)&&G){b.headWhitespace&&E.type===me.Element&&E.tagName==="head"&&(V=!1);const B={doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:v,maskInputFn:y,slimDOMOptions:b,dataURLOptions:C,inlineImages:R,recordCanvas:M,preserveWhiteSpace:V,onSerialize:_,onIframeLoad:w,iframeLoadTimeout:H,onBlockedImageLoad:S,onStylesheetLoad:I,stylesheetLoadTimeout:A,keepIframeSrcFn:T},q=e.childNodes?Array.from(e.childNodes):[];for(const ee of q){const he=tn(ee,B);he&&E.childNodes.push(he)}if(ab(e)&&e.shadowRoot)for(const ee of Array.from(e.shadowRoot.childNodes)){const he=tn(ee,B);he&&(Dn(e.shadowRoot)&&(he.isShadow=!0),E.childNodes.push(he))}}if(e.parentNode&&Ln(e.parentNode)&&Dn(e.parentNode)&&(E.isShadow=!0),E.type===me.Element&&E.tagName==="iframe"&&!E.needBlock&&Ab(e,()=>{const B=md(e);if(B&&w){const q=tn(B,{doc:B,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:v,maskInputFn:y,slimDOMOptions:b,dataURLOptions:C,inlineImages:R,recordCanvas:M,preserveWhiteSpace:V,onSerialize:_,onIframeLoad:w,iframeLoadTimeout:H,onStylesheetLoad:I,stylesheetLoadTimeout:A,keepIframeSrcFn:T});q&&w(e,q)}},H),E.type===me.Element&&E.tagName==="img"&&!e.complete&&E.needBlock){const B=e,q=()=>{if(B.isConnected&&!B.complete&&S)try{const ee=B.getBoundingClientRect();ee.width>0&&ee.height>0&&S(B,E,ee)}catch{}B.removeEventListener("load",q)};B.isConnected&&B.addEventListener("load",q)}return E.type===me.Element&&E.tagName==="link"&&typeof E.attributes.rel=="string"&&(E.attributes.rel==="stylesheet"||E.attributes.rel==="preload"&&typeof E.attributes.href=="string"&&fd(E.attributes.href)==="css")&&Nb(e,()=>{if(I){const B=tn(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:v,maskInputFn:y,slimDOMOptions:b,dataURLOptions:C,inlineImages:R,recordCanvas:M,preserveWhiteSpace:V,onSerialize:_,onIframeLoad:w,iframeLoadTimeout:H,onStylesheetLoad:I,stylesheetLoadTimeout:A,keepIframeSrcFn:T});B&&I(e,B)}},A),E.type===me.Element&&delete E.needBlock,E}function Bb(e,t){const{mirror:n=new dd,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:h=!1,maskAttributeFn:m,maskTextFn:v,maskInputFn:y,slimDOM:b=!1,dataURLOptions:C,preserveWhiteSpace:R,onSerialize:M,onIframeLoad:_,iframeLoadTimeout:w,onBlockedImageLoad:H,onStylesheetLoad:S,stylesheetLoadTimeout:I,keepIframeSrcFn:A=()=>!1}=t||{};return tn(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,maskAllText:s,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:m,maskTextFn:v,maskInputFn:y,slimDOMOptions:b===!0||b==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:b==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:b===!1?{}:b,dataURLOptions:C,inlineImages:f,recordCanvas:p,preserveWhiteSpace:R,onSerialize:M,onIframeLoad:_,iframeLoadTimeout:w,onBlockedImageLoad:H,onStylesheetLoad:S,stylesheetLoadTimeout:I,keepIframeSrcFn:A,newlyAddedElement:!1})}function Ie(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var Xt=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Ec={map:{},getId(){return console.error(Xt),-1},getNode(){return console.error(Xt),null},removeNodeFromMap(){console.error(Xt)},has(){return console.error(Xt),!1},reset(){console.error(Xt)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Ec=new Proxy(Ec,{get(e,t,n){return t==="map"&&console.error(Xt),Reflect.get(e,t,n)}}));function zn(e,t,n={}){let r=null,o=0;return function(...i){const s=Date.now();!o&&n.leading===!1&&(o=s);const a=t-(s-o),c=this;a<=0||a>t?(r&&($b(r),r=null),o=s,e.apply(c,i)):!r&&n.trailing!==!1&&(r=No(()=>{o=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function yd(e,t,n,r,o=window){const i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){No(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>yd(e,t,i||{},!0)}function Fs(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}var lo=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(lo=()=>new Date().getTime());function vd(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function Sd(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function bd(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Ed(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Le(e,t,n,r,o){if(!e)return!1;const i=Ed(e);if(!i)return!1;const s=en(t,n);if(!o){const u=r&&i.matches(r);return s(i)&&!u}const a=Dt(i,s);let c=-1;return a<0?!1:(r&&(c=Dt(i,en(null,r))),a>-1&&c<0?!0:a<c)}function Ub(e,t){return t.getId(e)!==-1}function ei(e,t){return t.getId(e)===-2}function wd(e,t){if(Ln(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?wd(e.parentNode,t):!0:!0}function Hi(e){return!!e.changedTouches}function Hb(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Td(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Id(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Wi(e){return!!e?.shadowRoot}var Wb=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return t===void 0?n=this.id++:n=t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function kd(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function zb(e){let t=e,n;for(;n=kd(t);)t=n;return t}function jb(e){const t=e.ownerDocument;if(!t)return!1;const n=zb(e);return t.contains(n)}function Cd(e){const t=e.ownerDocument;return t?t.contains(e)||jb(e):!1}var wc={};function Bs(e){const t=wc[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);const i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return wc[e]=r.bind(window)}function qb(...e){return Bs("requestAnimationFrame")(...e)}function No(...e){return Bs("setTimeout")(...e)}function $b(...e){return Bs("clearTimeout")(...e)}var Y=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Y||{}),U=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(U||{}),Te=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Te||{}),tt=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(tt||{}),Jt=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Jt||{});function Us(e){try{return e.contentDocument}catch{}}function Gb(e){try{return e.contentWindow}catch{}}function Tc(e){return"__ln"in e}var Vb=class{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=t?.next||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Tc(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&Tc(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;t.next===null&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}},Ic=(e,t)=>`${e}@${t}`,Yb=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new Vb,r=a=>{let c=a,u=-2;for(;u===-2;)c=c&&c.nextSibling,u=c&&this.mirror.getId(c);return u},o=a=>{if(!a.parentNode||!Cd(a))return;const c=Ln(a.parentNode)?this.mirror.getId(kd(a)):this.mirror.getId(a.parentNode),u=r(a);if(c===-1||u===-1)return n.addNode(a);const d=tn(a,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:l=>{Td(l,this.mirror)&&!Le(l,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(l),Id(l,this.mirror)&&this.stylesheetManager.trackLinkElement(l),Wi(a)&&this.shadowDomManager.addShadowRoot(a.shadowRoot,this.doc)},onIframeLoad:(l,f)=>{Le(l,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(l,f),l.contentWindow&&this.canvasManager.addWindow(l.contentWindow),this.shadowDomManager.observeAttachShadow(l))},onStylesheetLoad:(l,f)=>{this.stylesheetManager.attachLinkElement(l,f)},onBlockedImageLoad:(l,f,{width:p,height:h})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:f.id,attributes:{style:{width:`${p}px`,height:`${h}px`}}}]})}});d&&(e.push({parentId:c,nextId:u,node:d}),t.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const a of this.movedSet)kc(this.removes,a,this.mirror)&&!this.movedSet.has(a.parentNode)||o(a);for(const a of this.addedSet)!Cc(this.droppedSet,a)&&!kc(this.removes,a,this.mirror)||Cc(this.movedSet,a)?o(a):this.droppedSet.add(a);let i=null;for(;n.length;){let a=null;if(i){const c=this.mirror.getId(i.value.parentNode),u=r(i.value);c!==-1&&u!==-1&&(a=i)}if(!a){let c=n.tail;for(;c;){const u=c;if(c=c.previous,u){const d=this.mirror.getId(u.value.parentNode);if(r(u.value)===-1)continue;if(d!==-1){a=u;break}else{const l=u.value;if(l.parentNode&&l.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const f=l.parentNode.host;if(this.mirror.getId(f)!==-1){a=u;break}}}}}}if(!a){for(;n.head;)n.removeNode(n.head.value);break}i=a.previous,n.removeNode(a.value),o(a.value)}const s={texts:this.texts.map(a=>({id:this.mirror.getId(a.node),value:a.value})).filter(a=>!t.has(a.id)).filter(a=>this.mirror.has(a.id)),attributes:this.attributes.map(a=>{const{attributes:c}=a;if(typeof c.style=="string"){const u=JSON.stringify(a.styleDiff),d=JSON.stringify(a._unchangedStyles);u.length<c.style.length&&(u+d).split("var(").length===c.style.split("var(").length&&(c.style=a.styleDiff)}return{id:this.mirror.getId(a.node),attributes:c}}).filter(a=>!t.has(a.id)).filter(a=>this.mirror.has(a.id)),removes:this.removes,adds:e};!s.texts.length&&!s.attributes.length&&!s.removes.length&&!s.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))},this.processMutation=e=>{if(!ei(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;!Le(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&t!==e.oldValue&&this.texts.push({value:vn(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,Ed(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const t=e.target;let n=e.attributeName,r=e.target.getAttribute(n);if(n==="value"){const i=Ds(t),s=t.tagName;r=co(t,s,i);const a=Mo({maskInputOptions:this.maskInputOptions,tagName:s,type:i}),c=vn(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,a);r=Wn({isMasked:c,element:t,value:r,maskInputFn:this.maskInputFn})}if(Le(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===e.oldValue)return;let o=this.attributeMap.get(e.target);if(t.tagName==="IFRAME"&&n==="src"&&!this.keepIframeSrcFn(r))if(!Us(t))n="rr_src";else return;if(o||(o={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(e.target,o)),n==="type"&&t.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&t.setAttribute("data-rr-is-password","true"),!_d(t.tagName,n)&&(o.attributes[n]=gd(this.doc,yn(t.tagName),yn(n),r,t,this.maskAttributeFn),n==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const i=this.unattachedDoc.createElement("span");e.oldValue&&i.setAttribute("style",e.oldValue);for(const s of Array.from(t.style)){const a=t.style.getPropertyValue(s),c=t.style.getPropertyPriority(s);a!==i.style.getPropertyValue(s)||c!==i.style.getPropertyPriority(s)?c===""?o.styleDiff[s]=a:o.styleDiff[s]=[a,c]:o._unchangedStyles[s]=[a,c]}for(const s of Array.from(i.style))t.style.getPropertyValue(s)===""&&(o.styleDiff[s]=!1)}break}case"childList":if(Le(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{const n=this.mirror.getId(t),r=Ln(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);Le(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||ei(t,this.mirror)||!Ub(t,this.mirror)||(this.addedSet.has(t)?(zi(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&n===-1||wd(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[Ic(n,r)]?zi(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:Ln(e.target)&&Dn(e.target)?!0:void 0})),this.mapRemoves.push(t))});break}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(ei(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&n!==-1&&(this.movedMap[Ic(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);Le(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes&&e.childNodes.forEach(n=>this.genAdds(n)),Wi(e)&&e.shadowRoot.childNodes.forEach(n=>{this.processedNodeManager.add(n,this),this.genAdds(n,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function zi(e,t){e.delete(t),t.childNodes?.forEach(n=>zi(e,n))}function kc(e,t,n){return e.length===0?!1:Kb(e,t,n)}function Kb(e,t,n){let r=t.parentNode;for(;r;){const o=n.getId(r);if(e.some(i=>i.id===o))return!0;r=r.parentNode}return!1}function Cc(e,t){return e.size===0?!1:Rd(e,t)}function Rd(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:Rd(e,n):!1}var Pn;function Xb(e){Pn=e}function Jb(){Pn=void 0}var Q=e=>Pn?(...n)=>{try{return e(...n)}catch(r){if(Pn&&Pn(r)===!0)return()=>{};throw r}}:e,nn=[];function ur(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function xd(e,t){const n=new Yb;nn.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const o=window?.Zone?.__symbol__?.("MutationObserver");o&&window[o]&&(r=window[o]);const i=new r(Q(s=>{e.onMutation&&e.onMutation(s)===!1||n.processMutations.bind(n)(s)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function Zb({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const o=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let s=[],a;const c=zn(Q(l=>{const f=Date.now()-a;e(s.map(p=>(p.timeOffset-=f,p)),l),s=[],a=null}),i),u=Q(zn(Q(l=>{const f=ur(l),{clientX:p,clientY:h}=Hi(l)?l.changedTouches[0]:l;a||(a=lo()),s.push({x:p,y:h,id:r.getId(f),timeOffset:lo()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?U.Drag:l instanceof MouseEvent?U.MouseMove:U.TouchMove)}),o,{trailing:!1})),d=[Ie("mousemove",u,n),Ie("touchmove",u,n),Ie("drag",u,n)];return Q(()=>{d.forEach(l=>l())})}function Qb({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};const a=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,c=[];let u=null;const d=l=>f=>{const p=ur(f);if(Le(p,r,o,i,!0))return;let h=null,m=l;if("pointerType"in f){switch(f.pointerType){case"mouse":h=tt.Mouse;break;case"touch":h=tt.Touch;break;case"pen":h=tt.Pen;break}h===tt.Touch?Te[l]===Te.MouseDown?m="TouchStart":Te[l]===Te.MouseUp&&(m="TouchEnd"):tt.Pen}else Hi(f)&&(h=tt.Touch);h!==null?(u=h,(m.startsWith("Touch")&&h===tt.Touch||m.startsWith("Mouse")&&h===tt.Mouse)&&(h=null)):Te[l]===Te.Click&&(h=u,u=null);const v=Hi(f)?f.changedTouches[0]:f;if(!v)return;const y=n.getId(p),{clientX:b,clientY:C}=v;Q(e)({type:Te[m],id:y,x:b,y:C,...h!==null&&{pointerType:h}})};return Object.keys(Te).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=yn(l);const p=d(l);if(window.PointerEvent)switch(Te[l]){case Te.MouseDown:case Te.MouseUp:f=f.replace("mouse","pointer");break;case Te.TouchStart:case Te.TouchEnd:return}c.push(Ie(f,p,t))}),Q(()=>{c.forEach(l=>l())})}function Md({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){const a=Q(zn(Q(c=>{const u=ur(c);if(!u||Le(u,r,o,i,!0))return;const d=n.getId(u);if(u===t&&t.defaultView){const l=vd(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),s.scroll||100));return Ie("scroll",a,t)}function eE({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const o=Q(zn(Q(()=>{const i=Sd(),s=bd();(n!==i||r!==s)&&(e({width:Number(s),height:Number(i)}),n=i,r=s)}),200));return Ie("resize",o,t)}var tE=["INPUT","TEXTAREA","SELECT"],Rc=new WeakMap;function nE({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,ignoreClass:s,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:m}){function v(_){let w=ur(_);const H=_.isTrusted,S=w&&Bi(w.tagName);if(S==="OPTION"&&(w=w.parentElement),!w||!S||tE.indexOf(S)<0||Le(w,r,o,i,!0))return;const I=w;if(I.classList.contains(s)||a&&I.matches(a))return;const A=Ds(w);let T=co(I,S,A),N=!1;const V=Mo({maskInputOptions:c,tagName:S,type:A}),O=vn(w,f,h,p,m,V);(A==="radio"||A==="checkbox")&&(N=w.checked),T=Wn({isMasked:O,element:w,value:T,maskInputFn:u}),y(w,l?{text:T,isChecked:N,userTriggered:H}:{text:T,isChecked:N});const j=w.name;A==="radio"&&j&&N&&t.querySelectorAll(`input[type="radio"][name="${j}"]`).forEach(E=>{if(E!==w){const G=Wn({isMasked:O,element:E,value:co(E,S,A),maskInputFn:u});y(E,l?{text:G,isChecked:!N,userTriggered:!1}:{text:G,isChecked:!N})}})}function y(_,w){const H=Rc.get(_);if(!H||H.text!==w.text||H.isChecked!==w.isChecked){Rc.set(_,w);const S=n.getId(_);Q(e)({...w,id:S})}}const b=(d.input==="last"?["change"]:["input","change"]).map(_=>Ie(_,Q(v),t)),C=t.defaultView;if(!C)return()=>{b.forEach(_=>_())};const R=C.Object.getOwnPropertyDescriptor(C.HTMLInputElement.prototype,"value"),M=[[C.HTMLInputElement.prototype,"value"],[C.HTMLInputElement.prototype,"checked"],[C.HTMLSelectElement.prototype,"value"],[C.HTMLTextAreaElement.prototype,"value"],[C.HTMLSelectElement.prototype,"selectedIndex"],[C.HTMLOptionElement.prototype,"selected"]];return R&&R.set&&b.push(...M.map(_=>yd(_[0],_[1],{set(){Q(v)({target:this,isTrusted:!1})}},!1,C))),Q(()=>{b.forEach(_=>_())})}function fo(e){const t=[];function n(r,o){if(Er("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Er("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Er("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Er("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const i=Array.from(r.parentRule.cssRules).indexOf(r);o.unshift(i)}else if(r.parentStyleSheet){const i=Array.from(r.parentStyleSheet.cssRules).indexOf(r);o.unshift(i)}return o}return n(e,t)}function vt(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function rE({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:Q((d,l,f)=>{const[p,h]=f,{id:m,styleId:v}=vt(l,t,n.styleMirror);return(m&&m!==-1||v&&v!==-1)&&e({id:m,styleId:v,adds:[{rule:p,index:h}]}),d.apply(l,f)})});const i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:Q((d,l,f)=>{const[p]=f,{id:h,styleId:m}=vt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,removes:[{index:p}]}),d.apply(l,f)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:Q((d,l,f)=>{const[p]=f,{id:h,styleId:m}=vt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replace:p}),d.apply(l,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:Q((d,l,f)=>{const[p]=f,{id:h,styleId:m}=vt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replaceSync:p}),d.apply(l,f)})}));const c={};wr("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(wr("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),wr("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),wr("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:Q((f,p,h)=>{const[m,v]=h,{id:y,styleId:b}=vt(p.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||b&&b!==-1)&&e({id:y,styleId:b,adds:[{rule:m,index:[...fo(p),v||0]}]}),f.apply(p,h)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:Q((f,p,h)=>{const[m]=h,{id:v,styleId:y}=vt(p.parentStyleSheet,t,n.styleMirror);return(v&&v!==-1||y&&y!==-1)&&e({id:v,styleId:y,removes:[{index:[...fo(p),m]}]}),f.apply(p,h)})})}),Q(()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=i,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function Ad({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const o=n.nodeName==="#document"?n.defaultView?.Document:n.ownerDocument?.defaultView?.ShadowRoot,i=o?.prototype?Object.getOwnPropertyDescriptor(o?.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!o||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return i.get?.call(this)},set(s){const a=i.set?.call(this,s);if(r!==null&&r!==-1)try{t.adoptStyleSheets(s,r)}catch{}return a}}),Q(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function oE({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){const i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:Q((a,c,u)=>{const[d,l,f]=u;if(n.has(d))return i.apply(c,[d,l,f]);const{id:p,styleId:h}=vt(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(p&&p!==-1||h&&h!==-1)&&e({id:p,styleId:h,set:{property:d,value:l,priority:f},index:fo(c.parentRule)}),a.apply(c,u)})});const s=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:Q((a,c,u)=>{const[d]=u;if(n.has(d))return s.apply(c,[d]);const{id:l,styleId:f}=vt(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(l&&l!==-1||f&&f!==-1)&&e({id:l,styleId:f,remove:{property:d},index:fo(c.parentRule)}),a.apply(c,u)})}),Q(()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=s})}function iE({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:i,doc:s}){const a=Q(u=>zn(Q(d=>{const l=ur(d);if(!l||Le(l,t,n,r,!0))return;const{currentTime:f,volume:p,muted:h,playbackRate:m}=l;e({type:u,id:o.getId(l),currentTime:f,volume:p,muted:h,playbackRate:m})}),i.media||500)),c=[Ie("play",a(Jt.Play),s),Ie("pause",a(Jt.Pause),s),Ie("seeked",a(Jt.Seeked),s),Ie("volumechange",a(Jt.VolumeChange),s),Ie("ratechange",a(Jt.RateChange),s)];return Q(()=>{c.forEach(u=>u())})}function sE({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],o=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,d){const l=new i(c,u,d);return o.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};const s=Fs(t.fonts,"add",function(a){return function(c){return No(Q(()=>{const u=o.get(c);u&&(e(u),o.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(s),Q(()=>{r.forEach(a=>a())})}function aE(e){const{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,selectionCb:s}=e;let a=!0;const c=Q(()=>{const u=t.getSelection();if(!u||a&&u?.isCollapsed)return;a=u.isCollapsed||!1;const d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){const{startContainer:p,startOffset:h,endContainer:m,endOffset:v}=u.getRangeAt(f);Le(p,r,o,i,!0)||Le(m,r,o,i,!0)||d.push({start:n.getId(p),startOffset:h,end:n.getId(m),endOffset:v})}s({ranges:d})});return c(),Ie("selectionchange",c)}function cE({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Fs(n.customElements,"define",function(r){return function(o,i,s){try{t({define:{name:o}})}catch{}return r.apply(this,[o,i,s])}})}function uE(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=xd(e,e.doc));const o=Zb(e),i=Qb(e),s=Md(e),a=eE(e,{win:n}),c=nE(e),u=iE(e);let d=()=>{},l=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(d=rE(e,{win:n}),l=Ad(e,e.doc),f=oE(e,{win:n}),e.collectFonts&&(p=sE(e)));const h=aE(e),m=cE(e),v=[];for(const y of e.plugins)v.push(y.observer(y.callback,n,y.options));return Q(()=>{nn.forEach(y=>y.reset()),r?.disconnect(),o(),i(),s(),a(),c(),u(),d(),l(),f(),p(),h(),m(),v.forEach(y=>y())})}function Er(e){return typeof window[e]<"u"}function wr(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var ji=class{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const o=n||this.getIdToRemoteIdMap(e),i=r||this.getRemoteIdToIdMap(e);let s=o.get(t);return s||(s=this.generateIdFn(),o.set(t,s),i.set(s,t)),s}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map(o=>this.getId(e,o,n,r))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);if(typeof t!="number")return t;const o=r.get(t);return o||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map(r=>this.getRemoteId(e,r,n))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}},lE=class{constructor(){this.crossOriginIframeMirror=new ji(Ps),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},dE=class{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ji(Ps),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ji(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&e.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(e);const n=Us(e);n&&n.adoptedStyleSheets&&n.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(n.adoptedStyleSheets,this.mirror.getId(n))}handleMessage(e){const t=e;if(t.data.type!=="rrweb"||t.origin!==t.data.origin||!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case Y.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:Y.IncrementalSnapshot,data:{source:U.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Y.Meta:case Y.Load:case Y.DomContentLoaded:return!1;case Y.Plugin:return t;case Y.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case Y.IncrementalSnapshot:switch(t.data.source){case U.Mutation:return t.data.adds.forEach(n=>{this.replaceIds(n,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(n.node,e);const r=this.crossOriginIframeRootIdMap.get(e);r&&this.patchRootIdOnNode(n.node,r)}),t.data.removes.forEach(n=>{this.replaceIds(n,e,["parentId","id"])}),t.data.attributes.forEach(n=>{this.replaceIds(n,e,["id"])}),t.data.texts.forEach(n=>{this.replaceIds(n,e,["id"])}),t;case U.Drag:case U.TouchMove:case U.MouseMove:return t.data.positions.forEach(n=>{this.replaceIds(n,e,["id"])}),t;case U.ViewportResize:return!1;case U.MediaInteraction:case U.MouseInteraction:case U.Scroll:case U.CanvasMutation:case U.Input:return this.replaceIds(t.data,e,["id"]),t;case U.StyleSheetRule:case U.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case U.Font:return t;case U.Selection:return t.data.ranges.forEach(n=>{this.replaceIds(n,e,["start","end"])}),t;case U.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),t.data.styles?.forEach(n=>{this.replaceStyleIds(n,e,["styleId"])}),t}}return!1}replace(e,t,n,r){for(const o of r)!Array.isArray(t[o])&&typeof t[o]!="number"||(Array.isArray(t[o])?t[o]=e.getIds(n,t[o]):t[o]=e.getId(n,t[o]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(n=>{this.replaceIdOnNode(n,t)})}patchRootIdOnNode(e,t){e.type!==me.Document&&!e.rootId&&(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(n=>{this.patchRootIdOnNode(n,t)})}},fE=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},pE=class{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!Dn(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);const n=xd({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(Md({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),No(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(Ad({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){const t=Us(e),n=Gb(e);!t||!n||this.patchAttachShadow(n.Element,t)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(Fs(e.prototype,"attachShadow",function(r){return function(o){const i=r.call(this,o);return this.shadowRoot&&Cd(this)&&n.addShadowRoot(this.shadowRoot,t),i}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}},xc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hE=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Tr=0;Tr<xc.length;Tr++)hE[xc.charCodeAt(Tr)]=Tr;var Mc=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}},mE=class{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new Wb,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(e.length===0)return;const n={id:t,styleIds:[]},r=[];for(const o of e){let i;this.styleMirror.has(o)?i=this.styleMirror.getId(o):(i=this.styleMirror.add(o),r.push({styleId:i,rules:Array.from(o.rules||CSSRule,(s,a)=>({rule:ld(s),index:a}))})),n.styleIds.push(i)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}},gE=class{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some(r=>r!==t)}add(e,t){this.active||(this.active=!0,qb(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}},fe,po;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}var He=hb();function rt(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:h=!0,maskAllInputs:m,maskInputOptions:v,slimDOMOptions:y,maskAttributeFn:b,maskInputFn:C,maskTextFn:R,maxCanvasSize:M=null,packFn:_,sampling:w={},dataURLOptions:H={},mousemoveWait:S,recordDOM:I=!0,recordCanvas:A=!1,recordCrossOriginIframes:T=!1,recordAfter:N=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:V=!1,collectFonts:O=!1,inlineImages:j=!1,plugins:E,keepIframeSrcFn:G=()=>!1,ignoreCSSAttributes:B=new Set([]),errorHandler:q,onMutation:ee,getCanvasManager:he}=e;Xb(q);const Ee=T?window.parent===window:!0;let _e=!1;if(!Ee)try{window.parent.document&&(_e=!1)}catch{_e=!0}if(Ee&&!t)throw new Error("emit function is required");if(!Ee&&!_e)return()=>{};S!==void 0&&w.mousemove===void 0&&(w.mousemove=S),He.reset();const mt=m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:v!==void 0?v:{},Mt=y===!0||y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:y==="all",headMetaDescKeywords:y==="all"}:y||{};Hb();let Ze,Ue=0;const gt=J=>{for(const Ne of E||[])Ne.eventProcessor&&(J=Ne.eventProcessor(J));return _&&!_e&&(J=_(J)),J};fe=(J,Ne)=>{const Z=J;if(Z.timestamp=lo(),nn[0]?.isFrozen()&&Z.type!==Y.FullSnapshot&&!(Z.type===Y.IncrementalSnapshot&&Z.data.source===U.Mutation)&&nn.forEach(be=>be.unfreeze()),Ee)t?.(gt(Z),Ne);else if(_e){const be={type:"rrweb",event:gt(Z),origin:window.location.origin,isCheckout:Ne};window.parent.postMessage(be,"*")}if(Z.type===Y.FullSnapshot)Ze=Z,Ue=0;else if(Z.type===Y.IncrementalSnapshot){if(Z.data.source===U.Mutation&&Z.data.isAttachIframe)return;Ue++;const be=r&&Ue>=r,te=n&&Ze&&Z.timestamp-Ze.timestamp>n;(be||te)&&Qe(!0)}};const _t=J=>{fe({type:Y.IncrementalSnapshot,data:{source:U.Mutation,...J}})},Cn=J=>fe({type:Y.IncrementalSnapshot,data:{source:U.Scroll,...J}}),dr=J=>fe({type:Y.IncrementalSnapshot,data:{source:U.CanvasMutation,...J}}),Rn=J=>fe({type:Y.IncrementalSnapshot,data:{source:U.AdoptedStyleSheet,...J}}),ne=new mE({mutationCb:_t,adoptedStyleSheetCb:Rn}),le=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new lE:new dE({mirror:He,mutationCb:_t,stylesheetManager:ne,recordCrossOriginIframes:T,wrappedEmit:fe});for(const J of E||[])J.getMirror&&J.getMirror({nodeMirror:He,crossOriginIframeMirror:le.crossOriginIframeMirror,crossOriginIframeStyleMirror:le.crossOriginIframeStyleMirror});const Pe=new gE,Se=yE(he,{mirror:He,win:window,mutationCb:J=>fe({type:Y.IncrementalSnapshot,data:{source:U.CanvasMutation,...J}}),recordCanvas:A,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:M,sampling:w.canvas,dataURLOptions:H,errorHandler:q}),we=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new fE:new pE({mutationCb:_t,scrollCb:Cn,bypassOptions:{onMutation:ee,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:mt,dataURLOptions:H,maskAttributeFn:b,maskTextFn:R,maskInputFn:C,recordCanvas:A,inlineImages:j,sampling:w,slimDOMOptions:Mt,iframeManager:le,stylesheetManager:ne,canvasManager:Se,keepIframeSrcFn:G,processedNodeManager:Pe},mirror:He}),Qe=(J=!1)=>{if(!I)return;fe({type:Y.Meta,data:{href:window.location.href,width:bd(),height:Sd()}},J),ne.reset(),we.init(),nn.forEach(Z=>Z.lock());const Ne=Bb(document,{mirror:He,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskAllInputs:mt,maskAttributeFn:b,maskInputFn:C,maskTextFn:R,slimDOM:Mt,dataURLOptions:H,recordCanvas:A,inlineImages:j,onSerialize:Z=>{Td(Z,He)&&le.addIframe(Z),Id(Z,He)&&ne.trackLinkElement(Z),Wi(Z)&&we.addShadowRoot(Z.shadowRoot,document)},onIframeLoad:(Z,be)=>{le.attachIframe(Z,be),Z.contentWindow&&Se.addWindow(Z.contentWindow),we.observeAttachShadow(Z)},onStylesheetLoad:(Z,be)=>{ne.attachLinkElement(Z,be)},onBlockedImageLoad:(Z,be,{width:te,height:xn})=>{_t({adds:[],removes:[],texts:[],attributes:[{id:be.id,attributes:{style:{width:`${te}px`,height:`${xn}px`}}}]})},keepIframeSrcFn:G});if(!Ne)return console.warn("Failed to snapshot the document");fe({type:Y.FullSnapshot,data:{node:Ne,initialOffset:vd(window)}}),nn.forEach(Z=>Z.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ne.adoptStyleSheets(document.adoptedStyleSheets,He.getId(document))};po=Qe;try{const J=[],Ne=be=>Q(uE)({onMutation:ee,mutationCb:_t,mousemoveCb:(te,xn)=>fe({type:Y.IncrementalSnapshot,data:{source:xn,positions:te}}),mouseInteractionCb:te=>fe({type:Y.IncrementalSnapshot,data:{source:U.MouseInteraction,...te}}),scrollCb:Cn,viewportResizeCb:te=>fe({type:Y.IncrementalSnapshot,data:{source:U.ViewportResize,...te}}),inputCb:te=>fe({type:Y.IncrementalSnapshot,data:{source:U.Input,...te}}),mediaInteractionCb:te=>fe({type:Y.IncrementalSnapshot,data:{source:U.MediaInteraction,...te}}),styleSheetRuleCb:te=>fe({type:Y.IncrementalSnapshot,data:{source:U.StyleSheetRule,...te}}),styleDeclarationCb:te=>fe({type:Y.IncrementalSnapshot,data:{source:U.StyleDeclaration,...te}}),canvasMutationCb:dr,fontCb:te=>fe({type:Y.IncrementalSnapshot,data:{source:U.Font,...te}}),selectionCb:te=>{fe({type:Y.IncrementalSnapshot,data:{source:U.Selection,...te}})},customElementCb:te=>{fe({type:Y.IncrementalSnapshot,data:{source:U.CustomElement,...te}})},blockClass:o,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:mt,inlineStylesheet:h,sampling:w,recordDOM:I,recordCanvas:A,inlineImages:j,userTriggeredOnInput:V,collectFonts:O,doc:be,maskAttributeFn:b,maskInputFn:C,maskTextFn:R,keepIframeSrcFn:G,blockSelector:i,unblockSelector:s,slimDOMOptions:Mt,dataURLOptions:H,mirror:He,iframeManager:le,stylesheetManager:ne,shadowDomManager:we,processedNodeManager:Pe,canvasManager:Se,ignoreCSSAttributes:B,plugins:E?.filter(te=>te.observer)?.map(te=>({observer:te.observer,options:te.options,callback:xn=>fe({type:Y.Plugin,data:{plugin:te.name,payload:xn}})}))||[]},{});le.addLoadListener(be=>{try{J.push(Ne(be.contentDocument))}catch(te){console.warn(te)}});const Z=()=>{Qe(),J.push(Ne(document))};return document.readyState==="interactive"||document.readyState==="complete"?Z():(J.push(Ie("DOMContentLoaded",()=>{fe({type:Y.DomContentLoaded,data:{}}),N==="DOMContentLoaded"&&Z()})),J.push(Ie("load",()=>{fe({type:Y.Load,data:{}}),N==="load"&&Z()},window))),()=>{J.forEach(be=>be()),Pe.destroy(),po=void 0,Jb()}}catch(J){console.warn(J)}}function _E(e){if(!po)throw new Error("please take full snapshot after start recording");po(e)}rt.mirror=He;rt.takeFullSnapshot=_E;function yE(e,t){try{return e?e(t):new Mc}catch{return console.warn("Unable to initialize CanvasManager"),new Mc}}var Ac;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Ac||(Ac={}));function Hs(e){return e>9999999999?e:e*1e3}function ti(e){return e>9999999999?e/1e3:e}function lr(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Y.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Oe(t,10,1e3)}}),t.category==="console")))}function Nd(e){return e.closest("button,a")||e}function Od(e){const t=Ld(e);return!t||!(t instanceof Element)?t:Nd(t)}function Ld(e){return vE(e)?e.target:e}function vE(e){return typeof e=="object"&&!!e&&"target"in e}var St;function SE(e){return St||(St=[],bE()),St.push(e),()=>{const t=St?St.indexOf(e):-1;t>-1&&St.splice(t,1)}}function bE(){ke(ae,"open",function(e){return function(...t){if(St)try{St.forEach(n=>n())}catch{}return e.apply(ae,t)}})}var EE=new Set([U.Mutation,U.StyleSheetRule,U.StyleDeclaration,U.AdoptedStyleSheet,U.CanvasMutation,U.Selection,U.MediaInteraction]);function wE(e,t,n){e.handleClick(t,n)}var TE=class{constructor(e,t,n=lr){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scrollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const e=SE(()=>{this._lastMutation=Nc()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(kE(t,this._ignoreSelector)||!CE(e))return;const n={timestamp:ti(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some(r=>r.node===n.node&&Math.abs(r.timestamp-n.timestamp)<1)||(this._clicks.push(n),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=ti(e)}registerScroll(e=Date.now()){this._lastScroll=ti(e)}registerClick(e){const t=Nd(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach(t=>{t.clickCount++})}_getClicks(e){return this._clicks.filter(t=>t.node===e)}_checkClicks(){const e=[],t=Nc();this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)});for(const n of e){const r=this._clicks.indexOf(n);r>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(r,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,o=!n&&!r,{clickCount:i,clickBreadcrumb:s}=e;if(o){const a=Math.min(e.mutationAfter||this._timeout,this._timeout)*1e3,c=a<this._timeout*1e3?"mutation":"timeout",u={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.slowClickDetected",data:{...s.data,url:ae.location.href,route:t.getCurrentRoute(),timeAfterClickMs:a,endReason:c,clickCount:i||1}};this._addBreadcrumbEvent(t,u);return}if(i>1){const a={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.multiClick",data:{...s.data,url:ae.location.href,route:t.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(t,a)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=cr(()=>this._checkClicks(),1e3)}},IE=["A","BUTTON","INPUT"];function kE(e,t){return!!(!IE.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function CE(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Nc(){return Date.now()/1e3}function RE(e,t){try{if(!xE(t))return;const{source:n}=t.data;if(EE.has(n)&&e.registerMutation(t.timestamp),n===U.Scroll&&e.registerScroll(t.timestamp),ME(t)){const{type:r,id:o}=t.data,i=rt.mirror.getNode(o);i instanceof HTMLElement&&r===Te.Click&&e.registerClick(i)}}catch{}}function xE(e){return e.type===3}function ME(e){return e.data.source===U.MouseInteraction}function Ke(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Ws=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Ws||{}),AE=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function NE(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(AE.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var OE=e=>t=>{if(!e.isEnabled())return;const n=LE(t);if(!n)return;const r=t.name==="click",o=r?t.event:void 0;r&&e.clickDetector&&o?.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&wE(e.clickDetector,n,Od(t.event)),lr(e,n)};function Dd(e,t){const n=rt.mirror.getId(e),r=n&&rt.mirror.getNode(n),o=r&&rt.mirror.getMeta(r),i=o&&PE(o)?o:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(s=>s.type===Ws.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:NE(i.attributes)}}:{}}}function LE(e){const{target:t,message:n}=DE(e);return Ke({category:`ui.${e.name}`,...Dd(t,n)})}function DE(e){const t=e.name==="click";let n,r=null;try{r=t?Od(e.event):Ld(e.event),n=Be(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function PE(e){return e.type===Ws.Element}function FE(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=BE(t);n&&lr(e,n)}function BE(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i,target:s}=e;if(!s||UE(s)||!i)return null;const a=t||r||o,c=i.length===1;if(!a&&c)return null;const u=Be(s,{maxStringLength:200})||"<unknown>",d=Dd(s,u);return Ke({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i}})}function UE(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var HE={resource:$E,paint:jE,navigation:qE};function ni(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function WE(e){return e.map(zE).filter(Boolean)}function zE(e){const t=HE[e.entryType];return t?t(e):null}function Sn(e){return((xe()||ae.performance.timeOrigin)+e)/1e3}function jE(e){const{duration:t,entryType:n,name:r,startTime:o}=e,i=Sn(o);return{type:n,name:r,start:i,end:i+t,data:void 0}}function qE(e){const{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:p,transferSize:h,type:m}=e;return o===0?null:{type:`${t}.${m}`,start:Sn(p),end:Sn(i),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:s,duration:o,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:i,redirectCount:f}}}function $E(e){const{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:i,decodedBodySize:s,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Sn(i),end:Sn(o),name:r,data:{size:u,statusCode:c,decodedBodySize:s,encodedBodySize:a}}}function GE(e){const t=e.entries[e.entries.length-1],n=t?.element?[t.element]:void 0;return zs(e,"largest-contentful-paint",n)}function VE(e){return e.sources!==void 0}function YE(e){const t=[],n=[];for(const r of e.entries)if(VE(r)){const o=[];for(const i of r.sources)if(i.node){n.push(i.node);const s=rt.mirror.getId(i.node);s&&o.push(s)}t.push({value:r.value,nodeIds:o.length?o:void 0})}return zs(e,"cumulative-layout-shift",n,t)}function KE(e){const t=e.entries[e.entries.length-1],n=t?.target?[t.target]:void 0;return zs(e,"interaction-to-next-paint",n)}function zs(e,t,n,r){const o=e.value,i=e.rating,s=Sn(o);return{type:"web-vital",name:t,start:s,end:s,data:{value:o,size:o,rating:i,nodeIds:n?n.map(a=>rt.mirror.getId(a)):void 0,attributions:r}}}function XE(e){function t(o){e.performanceEntries.includes(o)||e.performanceEntries.push(o)}function n({entries:o}){o.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(o=>{r.push(jt(o,n))}),r.push(xs(ni(GE,e)),Rs(ni(YE,e)),ql(ni(KE,e))),()=>{r.forEach(o=>o())}}var D=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,JE='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function ZE(){const e=new Blob([JE]);return URL.createObjectURL(e)}var Oc=["log","warn","error"],zr="[Replay] ";function ri(e,t="info"){Xe({category:"console",data:{logger:"replay"},level:t,message:`${zr}${e}`},{level:t})}function QE(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return D?(Oc.forEach(r=>{n[r]=(...o)=>{g[r](zr,...o),t&&ri(o.join(""),ps(r))}}),n.exception=(r,...o)=>{o.length&&n.error&&n.error(...o),g.error(zr,r),e?It(r):t&&ri(r,"error")},n.infoTick=(...r)=>{g.log(zr,...r),t&&setTimeout(()=>ri(r[0]),0)}):Oc.forEach(r=>{n[r]=()=>{}}),n}var P=QE(),js=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${nb}.`)}},Pd=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>2e7)throw new js;this.events.push(e)}finish(){return new Promise(e=>{const t=this.events;this.clear(),e(JSON.stringify(t))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map(t=>t.timestamp).sort()[0];return e?Hs(e):null}},e0=class{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,t)=>{this._worker.addEventListener("message",({data:n})=>{n.success?e():t()},{once:!0}),this._worker.addEventListener("error",n=>{t(n)},{once:!0})}),this._ensureReadyPromise)}destroy(){D&&P.log("Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise((r,o)=>{const i=({data:s})=>{const a=s;if(a.method===e&&a.id===n){if(this._worker.removeEventListener("message",i),!a.success){D&&P.error("Error in compression worker: ",a.response),o(new Error("Error in compression worker"));return}r(a.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:n,method:e,arg:t})})}_getAndIncrementId(){return this._id++}},t0=class{constructor(e){this._worker=new e0(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const t=Hs(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);const n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>2e7?Promise.reject(new js):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{D&&P.exception(e,'Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}},n0=class{constructor(e){this._fallback=new Pd,this._compression=new t0(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){D&&P.exception(e,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:t,waitForCheckout:n}=this._fallback,r=[];for(const o of e)r.push(this._compression.addEvent(o));this._compression.hasCheckout=t,this._compression.waitForCheckout=n,this._used=this._compression;try{await Promise.all(r),this._fallback.clear()}catch(o){D&&P.exception(o,"Failed to add events when switching buffers.")}}};function r0({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=o0(t);if(n)return n}return D&&P.log("Using simple buffer"),new Pd}function o0(e){try{const t=e||i0();if(!t)return;D&&P.log(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new n0(n)}catch(t){D&&P.exception(t,"Failed to create compression worker")}}function i0(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?ZE():""}function qs(){try{return"sessionStorage"in ae&&!!ae.sessionStorage}catch{return!1}}function s0(e){a0(),e.session=void 0}function a0(){if(qs())try{ae.sessionStorage.removeItem(Ls)}catch{}}function Fd(e){return e===void 0?!1:Math.random()<e}function $s(e){if(qs())try{ae.sessionStorage.setItem(Ls,JSON.stringify(e))}catch{}}function Bd(e){const t=Date.now(),n=e.id||Ce(),r=e.started||t,o=e.lastActivity||t,i=e.segmentId||0,s=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:o,segmentId:i,sampled:s,previousSessionId:a}}function c0(e,t){return Fd(e)?"session":t?"buffer":!1}function Lc({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const o=c0(e,t),i=Bd({sampled:o,previousSessionId:r});return n&&$s(i),i}function u0(){if(!qs())return null;try{const e=ae.sessionStorage.getItem(Ls);if(!e)return null;const t=JSON.parse(e);return D&&P.infoTick("Loading existing session"),Bd(t)}catch{return null}}function qi(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Ud(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return qi(e.started,t,r)||qi(e.lastActivity,n,r)}function Hd(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Ud(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function oi({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const o=r.stickySession&&u0();return o?Hd(o,{sessionIdleExpire:e,maxReplayDuration:t})?(D&&P.infoTick("Session in sessionStorage is expired, creating new one..."),Lc(r,{previousSessionId:o.id})):o:(D&&P.infoTick("Creating new session"),Lc(r,{previousSessionId:n}))}function l0(e){return e.type===Y.Custom}function Gs(e,t,n){return zd(e,t)?(Wd(e,t,n),!0):!1}function d0(e,t,n){return zd(e,t)?Wd(e,t,n):Promise.resolve(null)}async function Wd(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const o=e.recordingMode==="buffer";try{n&&o&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const i=e.getOptions(),s=f0(t,i.beforeAddRecordingEvent);return s?await r.addEvent(s):void 0}catch(i){const s=i&&i instanceof js,a=s?"addEventSizeExceeded":"addEvent";if(s&&o)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),await e.stop({reason:a});const c=x();c&&c.recordDroppedEvent("internal_sdk_error","replay")}}function zd(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Hs(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(D&&P.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function f0(e,t){try{if(typeof t=="function"&&l0(e))return t(e)}catch(n){return D&&P.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Vs(e){return!e.type}function $i(e){return e.type==="transaction"}function p0(e){return e.type==="replay_event"}function Dc(e){return e.type==="feedback"}function h0(e){return(t,n)=>{if(!e.isEnabled()||!Vs(t)&&!$i(t))return;const r=n?.statusCode;if(!(!r||r<200||r>=300)){if($i(t)){m0(e,t);return}g0(e,t)}}}function m0(e,t){const n=e.getContext();t.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function g0(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||cr(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(o){e.handleException(o)}})}function _0(e){return t=>{!e.isEnabled()||!Vs(t)||y0(e,t)}}function y0(e,t){const n=t.exception?.values?.[0]?.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=Ke({category:"replay.hydrate-error",data:{url:qt()}});lr(e,r)}}function v0(e){const t=x();t&&t.on("beforeAddBreadcrumb",n=>S0(e,n))}function S0(e,t){if(!e.isEnabled()||!jd(t))return;const n=b0(t);n&&lr(e,n)}function b0(e){return!jd(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?E0(e):Ke(e)}function E0(e){const t=e.data?.arguments;if(!Array.isArray(t)||t.length===0)return Ke(e);let n=!1;const r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>5e3?(n=!0,`${o.slice(0,gc)}`):o;if(typeof o=="object")try{const i=Oe(o,7);return JSON.stringify(i).length>5e3?(n=!0,`${JSON.stringify(i,null,2).slice(0,gc)}`):i}catch{}return o});return Ke({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function jd(e){return!!e.category}function w0(e,t){return e.type||!e.exception?.values?.length?!1:!!t.originalException?.__rrweb__}function qd(){const e=$().getPropagationContext().dsc;e&&delete e.replay_id;const t=ge();if(t){const n=Ge(t);delete n.replay_id}}function T0(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Y.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function I0(e,t){return e.recordingMode!=="buffer"||t.message==="Unable to send Replay"||!t.exception||t.type?!1:Fd(e.getOptions().errorSampleRate)}function k0(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:p0(t)?(delete t.breadcrumbs,t):!Vs(t)&&!$i(t)&&!Dc(t)?t:e.checkAndHandleExpiredSession()?Dc(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),T0(e,t),t):w0(t,n)&&!e.getOptions()._experiments.captureExceptions?(D&&P.log("Ignoring error from rrweb internals",t),null):((I0(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(qd(),t),{id:"Replay"})}function Oo(e,t){return t.map(({type:n,start:r,end:o,name:i,data:s})=>{const a=e.throttledAddEvent({type:Y.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:o,data:s}}});return typeof a=="string"?Promise.resolve(null):a})}function C0(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function R0(e){return t=>{if(!e.isEnabled())return;const n=C0(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Oo(e,[n]),!1)))}}function x0(e,t){return D&&e.getOptions()._experiments.traceInternals?!1:ul(t,x())}function $d(e,t){e.isEnabled()&&t!==null&&(x0(e,t.name)||e.addUpdate(()=>(Oo(e,[t]),!0)))}function Lo(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Jl(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function Gd(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function ho(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta};return n.warnings=[...n.warnings||[],t],e._meta=n,e}function Vd(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:o,method:i,statusCode:s,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:{method:i,statusCode:s,request:a,response:c}}}function jn(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function wt(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:o,warnings:i}=M0(n);return r.body=o,i?.length&&(r._meta={warnings:i}),r}function Gi(e,t){return Object.entries(e).reduce((n,[r,o])=>{const i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=o),n},{})}function M0(e){if(!e||typeof e!="string")return{body:e};const t=e.length>mc,n=A0(e);if(t){const r=e.slice(0,mc);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function A0(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function mo(e,t){const n=N0(e);return qe(n,t)}function N0(e,t=ae.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(ae.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function O0(e,t,n){try{const r=await D0(e,t,n),o=Vd("resource.fetch",r);$d(n.replay,o)}catch(r){D&&P.exception(r,"Failed to capture fetch breadcrumb")}}function L0(e,t){const{input:n,response:r}=t,o=n?Os(n):void 0,i=Lo(o),s=r?Gd(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}async function D0(e,t,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r}=t,{url:s,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=mo(s,n.networkDetailAllowUrls)&&!mo(s,n.networkDetailDenyUrls),f=l?P0(n,t.input,u):jn(u),p=await F0(l,n,t.response,d);return{startTimestamp:o,endTimestamp:i,url:s,method:a,statusCode:c,request:f,response:p}}function P0({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const o=n?H0(n,t):{};if(!e)return wt(o,r,void 0);const i=Os(n),[s,a]=so(i,P),c=wt(o,r,s);return a?ho(c,a):c}async function F0(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,o){if(!e&&o!==void 0)return jn(o);const i=r?Yd(r.headers,n):{};if(!r||!t&&o!==void 0)return wt(i,o,void 0);const[s,a]=await U0(r),c=B0(s,{networkCaptureBodies:t,responseBodySize:o,captureDetails:e,headers:i});return a?ho(c,a):c}function B0(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:o}){try{const i=e?.length&&n===void 0?Lo(e):n;return r?t?wt(o,i,e):wt(o,i,void 0):jn(i)}catch(i){return D&&P.exception(i,"Failed to serialize response body"),wt(o,n,void 0)}}async function U0(e){const t=W0(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await z0(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(D&&P.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(D&&P.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function Yd(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function H0(e,t){return e.length===1&&typeof e[0]!="string"?Pc(e[0],t):e.length===2?Pc(e[1],t):{}}function Pc(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?Yd(n,t):Array.isArray(n)?{}:Gi(n,t):{}}function W0(e){try{return e.clone()}catch(t){D&&P.exception(t,"Failed to clone response body")}}function z0(e){return new Promise((t,n)=>{const r=cr(()=>n(new Error("Timeout while trying to read response body")),500);j0(e).then(o=>t(o),o=>n(o)).finally(()=>clearTimeout(r))})}async function j0(e){return await e.text()}async function q0(e,t,n){try{const r=G0(e,t,n),o=Vd("resource.xhr",r);$d(n.replay,o)}catch(r){D&&P.exception(r,"Failed to capture xhr breadcrumb")}}function $0(e,t){const{xhr:n,input:r}=t;if(!n)return;const o=Lo(r),i=n.getResponseHeader("content-length")?Gd(n.getResponseHeader("content-length")):X0(n.response,n.responseType);o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}function G0(e,t,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r,input:s,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!c)return null;if(!a||!mo(c,n.networkDetailAllowUrls)||mo(c,n.networkDetailDenyUrls)){const _=jn(l),w=jn(f);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:d,request:_,response:w}}const p=a[nt],h=p?Gi(p.request_headers,n.networkRequestHeaders):{},m=Gi(V0(a),n.networkResponseHeaders),[v,y]=n.networkCaptureBodies?so(s,P):[void 0],[b,C]=n.networkCaptureBodies?Y0(a):[void 0],R=wt(h,l,v),M=wt(m,f,b);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:d,request:y?ho(R,y):R,response:C?ho(M,C):M}}function V0(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[o,i]=r.split(": ");return i&&(n[o.toLowerCase()]=i),n},{}):{}}function Y0(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return K0(e.response,e.responseType)}catch(n){t.push(n)}return D&&P.warn("Failed to get xhr response body",...t),[void 0]}function K0(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return D&&P.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return D&&P.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function X0(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Lo(n)}catch{return}}function J0(e){const t=x();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",(c,u)=>Z0(a,c,u))}catch{}}function Z0(e,t,n){if(t.data)try{Q0(t)&&tw(n)&&($0(t,n),q0(t,n,e)),ew(t)&&nw(n)&&(L0(t,n),O0(t,n,e))}catch(r){D&&P.exception(r,"Error when enriching network breadcrumb")}}function Q0(e){return e.category==="xhr"}function ew(e){return e.category==="fetch"}function tw(e){return e?.xhr}function nw(e){return e?.response}function rw(e){const t=x();Xl(OE(e)),xo(R0(e)),v0(e),J0(e);const n=k0(e);_h(n),t&&(t.on("beforeSendEvent",_0(e)),t.on("afterSendEvent",h0(e)),t.on("createDsc",r=>{const o=e.getSessionId();o&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=o)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,o)=>{const i=e.getSessionId();o?.includeReplay&&e.isEnabled()&&i&&r.contexts?.feedback&&(r.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=i)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function ow(e){try{return Promise.all(Oo(e,[iw(ae.performance.memory)]))}catch{return[]}}function iw(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function sw(e,t,n){return tm(e,t,{...n,setTimeoutImpl:cr})}var Ir=F.navigator;function aw(){return/iPhone|iPad|iPod/i.test(Ir?.userAgent??"")||/Macintosh/i.test(Ir?.userAgent??"")&&Ir?.maxTouchPoints&&Ir?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function cw(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){D&&P.warn("Received replay event after session expired.");return}const o=r||!t;t=!0,e.clickDetector&&RE(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&o&&e.setInitialState(),!Gs(e,n,o))return!0;if(!o)return!1;const i=e.session;if(lw(e,o),e.recordingMode==="buffer"&&i&&e.eventBuffer){const s=e.eventBuffer.getEarliestTimestamp();s&&(D&&P.log(`Updating session start time to earliest event in buffer to ${new Date(s)}`),i.started=s,e.getOptions().stickySession&&$s(i))}return i?.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function uw(e){const t=e.getOptions();return{type:Y.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function lw(e,t){!t||!e.session||e.session.segmentId!==0||Gs(e,uw(e),!1)}function dw(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function fw(e,t,n,r){return ht(Wu(e,os(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function pw({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const o=new TextEncoder().encode(r);n=new Uint8Array(o.length+e.length),n.set(o),n.set(e,o.length)}return n}async function hw({client:e,scope:t,replayId:n,event:r}){const o=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:o};e.emit("preprocessEvent",r,i);const s=await Gu(e.getOptions(),r,i,t,e,ve());if(!s)return null;e.emit("postprocessEvent",s,i),s.platform=s.platform||"javascript";const{name:a,version:c,settings:u}=e.getSdkMetadata()?.sdk||{};return s.sdk={...s.sdk,name:a||"sentry.javascript.unknown",version:c||"0.0.0",settings:u},s}async function mw({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:i}){const s=pw({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=x(),f=$(),p=l?.getTransport(),h=l?.getDsn();if(!l||!p||!h||!i.sampled)return dt({});const m={type:YS,replay_start_timestamp:d/1e3,timestamp:o/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},v=await hw({scope:f,client:l,replayId:t,event:m});if(!v)return l.recordDroppedEvent("event_processor","replay"),D&&P.log("An event processor returned `null`, will not send event."),dt({});delete v.sdkProcessingMetadata;const y=fw(v,s,h,l.getOptions().tunnel);let b;try{b=await p.send(y)}catch(R){const M=new Error(ud);try{M.cause=R}catch{}throw M}if(typeof b.statusCode=="number"&&(b.statusCode<200||b.statusCode>=300))throw new Kd(b.statusCode);const C=sl({},b);if(il(C,"replay"))throw new Ys(C);return b}var Kd=class extends Error{constructor(e){super(`Transport returned status code ${e}`)}},Ys=class extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}};async function Xd(e,t={count:0,interval:eb}){const{recordingData:n,onError:r}=e;if(n.length)try{return await mw(e),!0}catch(o){if(o instanceof Kd||o instanceof Ys)throw o;if(hh("Replays",{_retryCount:t.count}),r&&r(o),t.count>=3){const i=new Error(`${ud} - max retries exceeded`);try{i.cause=o}catch{}throw i}return t.interval*=++t.count,new Promise((i,s)=>{cr(async()=>{try{await Xd(e,t),i(!0)}catch(a){s(a)}},t.interval)})}}var gw="__THROTTLED",_w="__SKIPPED";function yw(e,t,n){const r=new Map,o=a=>{const c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0);let s=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(o(c),i()>=t){const d=s;return s=!0,d?_w:gw}s=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}var vw=class{constructor({options:e,recordingOptions:t}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:KS,sessionIdleExpire:XS},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=sw(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=yw((i,s)=>d0(this,i,s),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),o=n?{threshold:Math.min(tb,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;if(o&&(this.clickDetector=new TE(this,o)),D){const i=e._experiments;P.setConfig({captureExceptions:!!i.captureExceptions,traceInternals:!!i.traceInternals})}this._handleVisibilityChange=()=>{ae.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const i=Ke({category:"ui.blur"});this._doChangeToBackgroundTasks(i)},this._handleWindowFocus=()=>{const i=Ke({category:"ui.focus"});this._doChangeToForegroundTasks(i)},this._handleKeyboardEvent=i=>{FE(this,i)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(e){D&&P.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){const{errorSampleRate:t,sessionSampleRate:n}=this._options,r=t<=0&&n<=0;if(this._requiresManualStart=r,!r){if(this._initializeSessionForSampling(e),!this.session){D&&P.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",D&&P.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){D&&P.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){D&&P.log("Buffering is in progress, call `flush()` to save the replay");return}D&&P.infoTick("Starting replay in session mode"),this._updateUserActivity(),this.session=oi({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1}),this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){D&&P.log("Buffering is in progress, call `flush()` to save the replay");return}D&&P.infoTick("Starting replay in buffer mode"),this.session=oi({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0}),this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=rt({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:QS}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:cw(this),...aw(),onMutation:this._onMutationHandler.bind(this),...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this.handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this.handleException(e),!1}}async stop({forceFlush:e=!1,reason:t}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{D&&P.log(`Stopping Replay${t?` triggered by ${t}`:""}`),qd(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,s0(this)}catch(n){this.handleException(n)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),D&&P.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),D&&P.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const t=Date.now();D&&P.log("Converting buffer to session"),await this.flushImmediate();const n=this.stopRecording();!e||!n||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const t=e();this.recordingMode==="buffer"||!this._isEnabled||t!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&qi(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const e=`${ae.location.pathname}${ae.location.hash}${ae.location.search}`,t=`${ae.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){const n=this._throttledAddEvent(e,t);if(n==="__THROTTLED"){const r=Ke({category:"replay.throttled"});this.addUpdate(()=>!Gs(this,{type:5,timestamp:r.timestamp||0,data:{tag:"breadcrumb",payload:r,metric:!0}}))}return n}getCurrentRoute(){const e=this.lastActiveSpan||ge(),t=e&&ye(e),n=(t&&W(t).data||{})[Ae];if(!(!t||!n||!["route","custom"].includes(n)))return W(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=r0({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){const t=this._options.errorSampleRate>0;this.session=oi({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t})}_checkSession(){if(!this.session)return!1;const e=this.session;return Hd(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(e),!1):!0}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{ae.document.addEventListener("visibilitychange",this._handleVisibilityChange),ae.addEventListener("blur",this._handleWindowBlur),ae.addEventListener("focus",this._handleWindowFocus),ae.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(rw(this),this._hasInitializedCoreListeners=!0)}catch(e){this.handleException(e)}this._performanceCleanupCallback=XE(this)}_removeListeners(){try{ae.document.removeEventListener("visibilitychange",this._handleVisibilityChange),ae.removeEventListener("blur",this._handleWindowBlur),ae.removeEventListener("focus",this._handleWindowFocus),ae.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this.handleException(e)}}_doChangeToBackgroundTasks(e){this.session&&(Ud(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush()))}_doChangeToForegroundTasks(e){if(this.session){if(!this.checkAndHandleExpiredSession()){D&&P.log("Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:Y.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=WE(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const t=this._context.initialTimestamp/1e3;e=e.filter(n=>n.start>=t)}return Promise.all(Oo(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:t}=this;if(!e||!t||this._requiresManualStart||e.segmentId)return;const n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){D&&P.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await ow(this),!!this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await Xd({replayId:e,recordingData:o,segmentId:r,eventContext:n,session:this.session,timestamp:t,onError:i=>this.handleException(i)})}catch(t){this.handleException(t),this.stop({reason:"sendReplay"});const n=x();if(n){const r=t instanceof Ys?"ratelimit_backoff":"send_error";n.recordDroppedEvent(r,"replay")}}}async _flush({force:e=!1}={}){if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){D&&P.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,o=n>this._options.maxReplayDuration+5e3;if(r||o){D&&P.log(`Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`),r&&this._debouncedFlush();return}const i=this.eventBuffer;i&&this.session.segmentId===0&&!i.hasCheckout&&D&&P.log("Flushing initial segment without checkout.");const s=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(a){this.handleException(a)}finally{this._flushLock=void 0,s&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&$s(this.session)}_onMutationHandler(e){const{ignoreMutations:t}=this._options._experiments;if(t?.length&&e.some(s=>{const a=dw(s.target),c=t.join(",");return a?.matches(c)}))return!1;const n=e.length,r=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>o||i){const s=Ke({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(s)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}};function Mn(e,t){return[...e,...t].join(",")}function Sw({mask:e,unmask:t,block:n,unblock:r,ignore:o}){const i=["base","iframe[srcdoc]:not([src])"],s=Mn(e,[".sentry-mask","[data-sentry-mask]"]),a=Mn(t,[]);return{maskTextSelector:s,unmaskTextSelector:a,blockSelector:Mn(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:Mn(r,[]),ignoreSelector:Mn(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function bw({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:i}){return!r||o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}var Fc='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Ew=["content-length","content-type","accept"],Bc=!1,z1=e=>new ww(e),ww=class{constructor({flushMinDelay:e=JS,flushMaxDelay:t=ZS,minReplayDuration:n=rb,maxReplayDuration:r=_c,stickySession:o=!0,useCompression:i=!0,workerUrl:s,_experiments:a={},maskAllText:c=!0,maskAllInputs:u=!0,blockAllMedia:d=!0,mutationBreadcrumbLimit:l=750,mutationLimit:f=1e4,slowClickTimeout:p=7e3,slowClickIgnoreSelectors:h=[],networkDetailAllowUrls:m=[],networkDetailDenyUrls:v=[],networkCaptureBodies:y=!0,networkRequestHeaders:b=[],networkResponseHeaders:C=[],mask:R=[],maskAttributes:M=["title","placeholder","aria-label"],unmask:_=[],block:w=[],unblock:H=[],ignore:S=[],maskFn:I,beforeAddRecordingEvent:A,beforeErrorSampling:T,onError:N}={}){this.name="Replay";const V=Sw({mask:R,unmask:_,block:w,unblock:H,ignore:S});if(this._recordingOptions={maskAllInputs:u,maskAllText:c,maskInputOptions:{password:!0},maskTextFn:I,maskInputFn:I,maskAttributeFn:(O,j,E)=>bw({maskAttributes:M,maskAllText:c,privacyOptions:V,key:O,value:j,el:E}),...V,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:O=>{try{O.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!a.recordCrossOriginIframes},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,ob),maxReplayDuration:Math.min(r,_c),stickySession:o,useCompression:i,workerUrl:s,blockAllMedia:d,maskAllInputs:u,maskAllText:c,mutationBreadcrumbLimit:l,mutationLimit:f,slowClickTimeout:p,slowClickIgnoreSelectors:h,networkDetailAllowUrls:m,networkDetailDenyUrls:v,networkCaptureBodies:y,networkRequestHeaders:Uc(b),networkResponseHeaders:Uc(C),beforeAddRecordingEvent:A,beforeErrorSampling:T,onError:N,_experiments:a},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Fc}`:Fc),this._isInitialized&&Ii())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Bc}set _isInitialized(e){Bc=e}afterAllSetup(e){!Ii()||this._replay||(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay?.isEnabled())return this._replay.getSessionId()}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){const t=Tw(this._initialOptions,e);this._replay=new vw({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{const t=e.getIntegrationByName("ReplayCanvas");if(!t)return;this._replay._canvas=t.getOptions()}catch{}}};function Tw(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},o=Wt(n.replaysSessionSampleRate),i=Wt(n.replaysOnErrorSampleRate);return o==null&&i==null&&Je(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),o!=null&&(r.sessionSampleRate=o),i!=null&&(r.errorSampleRate=i),r}function Uc(e){return[...Ew,...e.map(t=>t.toLowerCase())]}function j1(){return x()?.getIntegrationByName("Replay")}var Iw=Object.defineProperty,kw=(e,t,n)=>t in e?Iw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hc=(e,t,n)=>kw(e,typeof t!="symbol"?t+"":t,n),Cw=class{constructor(){Hc(this,"idNodeMap",new Map),Hc(this,"nodeMetaMap",new WeakMap)}getId(e){return e?this.getMeta(e)?.id??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const r=this.nodeMetaMap.get(n);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function Rw(){return new Cw}function xw(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Vi(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Vi(e.parentNode,t,n,r+1)}function Wc(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(xw(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}var Zt=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,zc={map:{},getId(){return console.error(Zt),-1},getNode(){return console.error(Zt),null},removeNodeFromMap(){console.error(Zt)},has(){return console.error(Zt),!1},reset(){console.error(Zt)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(zc=new Proxy(zc,{get(e,t,n){return t==="map"&&console.error(Zt),Reflect.get(e,t,n)}}));function Ks(e,t,n,r,o=window){const i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){Zd(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>Ks(e,t,i||{},!0)}function Xs(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}Date.now().toString();function Mw(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Do(e,t,n,r,o){if(!e)return!1;const i=Mw(e);if(!i)return!1;const s=Wc(t,n);if(!o){const u=r&&i.matches(r);return s(i)&&!u}const a=Vi(i,s);let c=-1;return a<0?!1:(r&&(c=Vi(i,Wc(null,r))),a>-1&&c<0?!0:a<c)}var jc={};function Jd(e){const t=jc[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);const i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return jc[e]=r.bind(window)}function At(...e){return Jd("requestAnimationFrame")(...e)}function Zd(...e){return Jd("setTimeout")(...e)}var bn=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(bn||{}),jr;function Aw(e){jr=e}var ii=e=>jr?(...n)=>{try{return e(...n)}catch(r){if(jr&&jr(r)===!0)return()=>{};throw r}}:e,rn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var kr=0;kr<rn.length;kr++)Nw[rn.charCodeAt(kr)]=kr;var Ow=function(e){var t=new Uint8Array(e),n,r=t.length,o="";for(n=0;n<r;n+=3)o+=rn[t[n]>>2],o+=rn[(t[n]&3)<<4|t[n+1]>>4],o+=rn[(t[n+1]&15)<<2|t[n+2]>>6],o+=rn[t[n+2]&63];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o},qc=new Map;function Lw(e,t){let n=qc.get(e);return n||(n=new Map,qc.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}var Qd=(e,t,n)=>{if(!e||!(tf(e,t)||typeof e=="object"))return;const r=e.constructor.name,o=Lw(n,r);let i=o.indexOf(e);return i===-1&&(i=o.length,o.push(e)),i};function qr(e,t,n){if(e instanceof Array)return e.map(r=>qr(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const r=e.constructor.name,o=Ow(e);return{rr_type:r,base64:o}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[qr(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const r=e.constructor.name,{src:o}=e;return{rr_type:r,src:o}}else if(e instanceof HTMLCanvasElement){const r="HTMLImageElement",o=e.toDataURL();return{rr_type:r,src:o}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[qr(e.data,t,n),e.width,e.height]};if(tf(e,t)||typeof e=="object"){const r=e.constructor.name,o=Qd(e,t,n);return{rr_type:r,index:o}}}}return e}var ef=(e,t,n)=>e.map(r=>qr(r,t,n)),tf=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(r=>typeof t[r]=="function").find(r=>e instanceof t[r]);function Dw(e,t,n,r,o){const i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of s)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;const c=Xs(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return Do(this.canvas,n,r,o,!0)||Zd(()=>{const l=ef(d,t,this);e(this.canvas,{type:bn["2D"],property:a,args:l})},0),u.apply(this,d)}});i.push(c)}catch{const c=Ks(t.CanvasRenderingContext2D.prototype,a,{set(u){e(this.canvas,{type:bn["2D"],property:a,args:[u],setter:!0})}});i.push(c)}return()=>{i.forEach(a=>a())}}function Pw(e){return e==="experimental-webgl"?"webgl":e}function $c(e,t,n,r,o){const i=[];try{const s=Xs(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!Do(this,t,n,r,!0)){const d=Pw(c);if("__context"in this||(this.__context=d),o&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){const l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});i.push(s)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(s=>s())}}function Gc(e,t,n,r,o,i,s,a){const c=[],u=Object.getOwnPropertyNames(e);for(const d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;const l=Xs(e,d,function(f){return function(...p){const h=f.apply(this,p);if(Qd(h,a,this),"tagName"in this.canvas&&!Do(this.canvas,r,o,i,!0)){const m=ef(p,a,this),v={type:t,property:d,args:m};n(this.canvas,v)}return h}});c.push(l)}catch{const l=Ks(e,d,{set(f){n(this.canvas,{type:t,property:d,args:[f],setter:!0})}});c.push(l)}return c}function Fw(e,t,n,r,o,i){const s=[];return s.push(...Gc(t.WebGLRenderingContext.prototype,bn.WebGL,e,n,r,o,i,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(...Gc(t.WebGL2RenderingContext.prototype,bn.WebGL2,e,n,r,o,i,t)),()=>{s.forEach(a=>a())}}var Bw='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w?.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function Uw(){const e=new Blob([Bw]);return URL.createObjectURL(e)}var Hw=class{constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(s,a)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(s)||this.pendingCanvasMutations.set(s,[]),this.pendingCanvasMutations.get(s).push(a)};const{enableManualSnapshot:t,sampling:n="all",win:r,recordCanvas:o,errorHandler:i}=e;e.sampling=n,this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.options=e,i&&Aw(i),(o&&typeof n=="number"||t)&&(this.worker=this.initFPSWorker()),this.addWindow(r),!t&&ii(()=>{o&&n==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),o&&typeof n=="number"&&this.initCanvasFPSObserver()})()}reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(e=>{try{e()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,this.worker?.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(e){const{sampling:t="all",blockClass:n,blockSelector:r,unblockSelector:o,recordCanvas:i,enableManualSnapshot:s}=this.options;if(!this.windowsSet.has(e)){if(s){this.windowsSet.add(e),this.windows.push(new WeakRef(e));return}ii(()=>{if(i&&t==="all"&&this.initCanvasMutationObserver(e,n,r,o),i&&typeof t=="number"){const a=$c(e,n,r,o,!0);this.restoreHandlers.push(()=>{a()})}})(),this.windowsSet.add(e),this.windows.push(new WeakRef(e))}}addShadowRoot(e){this.shadowDoms.add(new WeakRef(e))}resetShadowRoots(){this.shadowDoms=new Set}snapshot(e,t){if(t?.skipRequestAnimationFrame){this.takeSnapshot(performance.now(),!0,e);return}At(n=>this.takeSnapshot(n,!0,e))}initFPSWorker(){const e=new Worker(Uw());return e.onmessage=t=>{const n=t.data,{id:r}=n;if(this.snapshotInProgressMap.set(r,!1),!("base64"in n))return;const{base64:o,type:i,width:s,height:a}=n;this.mutationCb({id:r,type:bn["2D"],commands:[{property:"clearRect",args:[0,0,s,a]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:o}],type:i}]},0,0,s,a]}]})},e}initCanvasFPSObserver(){let e;if(!this.windows.length&&!this.shadowDoms.size)return;const t=n=>{this.takeSnapshot(n,!1),e=At(t)};e=At(t),this.restoreHandlers.push(()=>{e&&cancelAnimationFrame(e)})}initCanvasMutationObserver(e,t,n,r){const o=$c(e,t,n,r,!1),i=Dw(this.processMutation.bind(this),e,t,n,r),s=Fw(this.processMutation.bind(this),e,t,n,r,this.mirror);this.restoreHandlers.push(()=>{o(),i(),s()})}getCanvasElements(e,t,n){const r=[],o=i=>{i.querySelectorAll("canvas").forEach(s=>{Do(s,e,t,n,!0)||r.push(s)})};for(const i of this.windows){const s=i.deref();let a;try{a=s&&s.document}catch{}a&&o(a)}for(const i of this.shadowDoms){const s=i.deref();s&&o(s)}return r}takeSnapshot(e,t,n){const{sampling:r,blockClass:o,blockSelector:i,unblockSelector:s,dataURLOptions:a,maxCanvasSize:c}=this.options,u=1e3/(r==="all"?2:r||2);return this.lastSnapshotTime&&e-this.lastSnapshotTime<u?!1:(this.lastSnapshotTime=e,(n?[n]:this.getCanvasElements(o,i,s)).forEach(d=>{const l=this.mirror.getId(d);if(!(!this.mirror.hasNode(d)||!d.width||!d.height||this.snapshotInProgressMap.get(l))){if(this.snapshotInProgressMap.set(l,!0),!t&&["webgl","webgl2"].includes(d.__context)){const f=d.getContext(d.__context);f?.getContextAttributes()?.preserveDrawingBuffer===!1&&f.clear(f.COLOR_BUFFER_BIT)}createImageBitmap(d).then(f=>{this.worker?.postMessage({id:l,bitmap:f,width:d.width,height:d.height,dataURLOptions:a,maxCanvasSize:c},[f])}).catch(f=>{ii(()=>{throw this.snapshotInProgressMap.delete(l),f})()})}}),!0)}startPendingCanvasMutationFlusher(){At(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t,At(e)};At(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((e,t)=>{const n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)}),At(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(e);if(!n||t===-1)return;const r=n.map(i=>{const{type:s,...a}=i;return a}),{type:o}=n[0];this.mutationCb({id:t,type:o,commands:r}),this.pendingCanvasMutations.delete(e)}};try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}Rw();var Vc;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Vc||(Vc={}));var Yc={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Ww="ReplayCanvas",Cr=1280,zw=(e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,Cr):Cr,n?Math.min(n,Cr):Cr]};let o;const i=new Promise(s=>o=s);return{name:Ww,getOptions(){const{quality:s,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{const d=new Hw({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:l=>{try{typeof l=="object"&&(l.__rrweb__=!0)}catch{}}});return o(d),d},...Yc[s]||Yc.medium}},async snapshot(s,a){(await i).snapshot(s,a)}}},q1=zw;function Ye(e=0){return((xe()||performance.timeOrigin)+e)/1e3}function jw(e){const t=[];if(e.nextHopProtocol!=null){const{name:n,version:r}=Vl(e.nextHopProtocol);t.push(["network.protocol.version",r],["network.protocol.name",n])}return xe()?[...t,["http.request.redirect_start",Ye(e.redirectStart)],["http.request.fetch_start",Ye(e.fetchStart)],["http.request.domain_lookup_start",Ye(e.domainLookupStart)],["http.request.domain_lookup_end",Ye(e.domainLookupEnd)],["http.request.connect_start",Ye(e.connectStart)],["http.request.secure_connection_start",Ye(e.secureConnectionStart)],["http.request.connection_end",Ye(e.connectEnd)],["http.request.request_start",Ye(e.requestStart)],["http.request.response_start",Ye(e.responseStart)],["http.request.response_end",Ye(e.responseEnd)]]:t}var Kc=new WeakMap,si=new Map,nf={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function qw(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:o,shouldCreateSpanForRequest:i,enableHTTPTimings:s,tracePropagationTargets:a,onRequestSpanStart:c}={...nf,...t},u=typeof i=="function"?i:p=>!0,d=p=>Gw(p,a),l={},f=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(p=>(p.type==="transaction"&&p.spans&&p.spans.forEach(h=>{if(h.op==="http.client"){const m=si.get(h.span_id);m&&(h.timestamp=m/1e3,si.delete(h.span_id))}}),p)),o&&vg(p=>{if(p.response){const h=Kc.get(p.response);h&&p.endTimestamp&&si.set(h,p.endTimestamp)}}),hs(p=>{const h=sg(p,u,d,l,{propagateTraceparent:f});if(p.response&&p.fetchData.__span&&Kc.set(p.response,p.fetchData.__span),h){const m=rf(p.fetchData.url),v=m?Bt(m).host:void 0;h.setAttributes({"http.url":m,"server.address":v}),s&&Xc(h),c?.(h,{headers:p.headers})}})),r&&Ns(p=>{const h=Vw(p,u,d,l,f);if(h){s&&Xc(h);let m;try{m=new Headers(p.xhr.__sentry_xhr_v3__?.request_headers)}catch{}c?.(h,{headers:m})}})}function $w(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Xc(e){const{url:t}=W(e).data;if(!t||typeof t!="string")return;const n=jt("resource",({entries:r})=>{r.forEach(o=>{$w(o)&&o.name.endsWith(t)&&(jw(o).forEach(i=>e.setAttribute(...i)),setTimeout(n))})})}function Gw(e,t){const n=qt();if(n){let r,o;try{r=new URL(e,n),o=new URL(n).origin}catch{return!1}const i=r.origin===o;return t?qe(r.toString(),t)||i&&qe(r.pathname,t):i}else{const r=!!e.match(/^\/(?!\/)/);return t?qe(e,t):r}}function Vw(e,t,n,r,o){const i=e.xhr,s=i?.[nt];if(!i||i.__sentry_own_request__||!s)return;const{url:a,method:c}=s,u=ut()&&t(a);if(e.endTimestamp&&u){const v=i.__sentry_xhr_span_id__;if(!v)return;const y=r[v];y&&s.status_code!==void 0&&(Yr(y,s.status_code),y.end(),delete r[v]);return}const d=rf(a),l=Bt(d||a),f=cl(a),p=!!ge(),h=u&&p?Tt({name:`${c} ${f}`,attributes:{url:a,type:"xhr","http.method":c,"http.url":d,"server.address":l?.host,[ce]:"auto.http.browser",[$e]:"http.client",...l?.search&&{"http.query":l?.search},...l?.hash&&{"http.fragment":l?.hash}}}):new lt;i.__sentry_xhr_span_id__=h.spanContext().spanId,r[i.__sentry_xhr_span_id__]=h,n(a)&&Yw(i,ut()&&p?h:void 0,o);const m=x();return m&&m.emit("beforeOutgoingRequestSpan",h,e),h}function Yw(e,t,n){const{"sentry-trace":r,baggage:o,traceparent:i}=dl({span:t,propagateTraceparent:n});r&&Kw(e,r,o,i)}function Kw(e,t,n,r){const o=e.__sentry_xhr_v3__?.request_headers;if(!(o?.["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!o?.traceparent&&e.setRequestHeader("traceparent",r),n){const i=o?.baggage;(!i||!Xw(i))&&e.setRequestHeader("baggage",n)}}catch{}}function Xw(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function rf(e){try{return new URL(e,L.location.origin).href}catch{return}}function Jw(){L.document?L.document.addEventListener("visibilitychange",()=>{const e=ge();if(!e)return;const t=ye(e);if(L.document.hidden&&t){const n="cancelled",{op:r,status:o}=W(t);X&&g.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),o||t.setStatus({code:2,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):X&&g.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var of="sentry_previous_trace",Zw="sentry.previous_trace";function Qw(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let o=r?nT():void 0;e.on("spanStart",s=>{if(ye(s)!==s)return;const a=$().getPropagationContext();o=eT(o,s,a),r&&tT(o)});let i=!0;n&&e.on("beforeSampling",s=>{if(!o)return;const a=$(),c=a.getPropagationContext();if(i&&c.parentSpanId){i=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(o.sampleRate),sampled:String(Yi(o.spanContext))},sampleRand:o.sampleRand}),s.parentSampled=Yi(o.spanContext),s.parentSampleRate=o.sampleRate,s.spanAttributes={...s.spanAttributes,[Kf]:o.sampleRate}})}function eT(e,t,n){const r=W(t);function o(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.["sentry.sample_rate"])}catch{return 0}}const i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:o(),sampleRand:n.sampleRand};if(!e)return i;const s=e.spanContext;return s.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=3600&&(X&&g.log(`Adding previous_trace ${s} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:s,attributes:{[Xf]:"previous_trace"}}),t.setAttribute(Zw,`${s.traceId}-${s.spanId}-${Yi(s)?1:0}`)),i)}function tT(e){try{L.sessionStorage.setItem(of,JSON.stringify(e))}catch(t){X&&g.warn("Could not store previous trace in sessionStorage",t)}}function nT(){try{const e=L.sessionStorage?.getItem(of);return JSON.parse(e)}catch{return}}function Yi(e){return e.traceFlags===1}var rT="BrowserTracing",oT={...Nr,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...nf},Jc=(e={})=>{const t={name:void 0,source:void 0},n=L.document,{enableInp:r,enableElementTiming:o,enableLongTask:i,enableLongAnimationFrame:s,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:d,idleTimeout:l,finalTimeout:f,childSpanTimeout:p,markBackgroundSpan:h,traceFetch:m,traceXHR:v,trackFetchStreamPerformance:y,shouldCreateSpanForRequest:b,enableHTTPTimings:C,ignoreResourceSpans:R,ignorePerformanceApiSpans:M,instrumentPageLoad:_,instrumentNavigation:w,detectRedirects:H,linkPreviousTrace:S,consistentTraceSampling:I,onRequestSpanStart:A}={...oT,...e};let T,N;function V(O,j,E=!0){const G=j.op==="pageload",B=j.name,q=d?d(j):j,ee=q.attributes||{};if(B!==q.name&&(ee[Ae]="custom",q.attributes=ee),!E){const _e=$t();Tt({...q,startTime:_e}).end(_e);return}t.name=q.name,t.source=ee[Ae];const he=qu(q,{idleTimeout:l,finalTimeout:f,childSpanTimeout:p,disableAutoFinish:G,beforeSpanEnd:_e=>{T?.(),Jy(_e,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:R,ignorePerformanceApiSpans:M}),Qc(O,void 0);const mt=$(),Mt=mt.getPropagationContext();mt.setPropagationContext({...Mt,traceId:he.spanContext().traceId,sampled:Vt(he),dsc:Ge(_e)})}});Qc(O,he);function Ee(){n&&["interactive","complete"].includes(n.readyState)&&O.emit("idleSpanEnableAutoFinish",he)}G&&n&&(n.addEventListener("readystatechange",()=>{Ee()}),Ee())}return{name:rT,setup(O){if(mp(),T=qy({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:O}),r&&yv(),o&&av(),s&&F.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Gy():i&&$y(),a&&Vy(),H&&n){const E=()=>{N=ue()};addEventListener("click",E,{capture:!0}),addEventListener("keydown",E,{capture:!0,passive:!0})}function j(){const E=qn(O);E&&!W(E).timestamp&&(X&&g.log(`[Tracing] Finishing current active span with op: ${W(E).op}`),E.setAttribute(ts,"cancelled"),E.end())}O.on("startNavigationSpan",(E,G)=>{if(x()!==O)return;if(G?.isRedirect){X&&g.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),V(O,{op:"navigation.redirect",...E},!1);return}N=void 0,j(),ve().setPropagationContext({traceId:ct(),sampleRand:Math.random()});const B=$();B.setPropagationContext({traceId:ct(),sampleRand:Math.random()}),B.setSDKProcessingMetadata({normalizedRequest:void 0}),V(O,{op:"navigation",...E})}),O.on("startPageLoadSpan",(E,G={})=>{if(x()!==O)return;j();const B=G.sentryTrace||Zc("sentry-trace"),q=G.baggage||Zc("baggage"),ee=Nu(B,q),he=$();he.setPropagationContext(ee),he.setSDKProcessingMetadata({normalizedRequest:Ss()}),V(O,{op:"pageload",...E})})},afterAllSetup(O){let j=qt();if(S!=="off"&&Qw(O,{linkPreviousTrace:S,consistentTraceSampling:I}),L.location){if(_){const E=xe();iT(O,{name:L.location.pathname,startTime:E?E/1e3:void 0,attributes:{[Ae]:"url",[ce]:"auto.pageload.browser"}})}w&&xo(({to:E,from:G})=>{if(G===void 0&&j?.indexOf(E)!==-1){j=void 0;return}j=void 0;const B=ds(E),q=qn(O),ee=q&&H&&aT(q,N);sf(O,{name:B?.pathname||L.location.pathname,attributes:{[Ae]:"url",[ce]:"auto.navigation.browser"}},{url:E,isRedirect:ee})})}h&&Jw(),a&&sT(O,l,f,p,t),r&&bv(),qw(O,{traceFetch:m,traceXHR:v,trackFetchStreamPerformance:y,tracePropagationTargets:O.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:b,enableHTTPTimings:C,onRequestSpanStart:A})}}};function iT(e,t,n){e.emit("startPageLoadSpan",t,n),$().setTransactionName(t.name);const r=qn(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function sf(e,t,n){const{url:r,isRedirect:o}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:o}),e.emit("startNavigationSpan",t,{isRedirect:o});const i=$();return i.setTransactionName(t.name),r&&!o&&i.setSDKProcessingMetadata({normalizedRequest:{...Ss(),url:r}}),qn(e)}function Zc(e){return L.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function sT(e,t,n,r,o){const i=L.document;let s;const a=()=>{const c="ui.action.click",u=qn(e);if(u){const d=W(u).op;if(["navigation","pageload"].includes(d)){X&&g.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(ts,"interactionInterrupted"),s.end(),s=void 0),!o.name){X&&g.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}s=qu({name:o.name,op:c,attributes:{[Ae]:o.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",a,{capture:!0})}var af="_sentry_idleSpan";function qn(e){return e[af]}function Qc(e,t){Re(e,af,t)}function aT(e,t){const n=W(e),r=$t(),o=n.start_timestamp;return!(r-o>1.5||t&&r-t<=1.5)}function En(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function cT(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=En(n);return o=>r.then(i=>o(i.transaction(t,"readwrite").objectStore(t)))}function Js(e){return En(e.getAllKeys())}function uT(e,t,n){return e(r=>Js(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.max(...o,0)+1),En(r.transaction)}))}function lT(e,t,n){return e(r=>Js(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.min(...o,0)-1),En(r.transaction)}))}function dT(e){return e(t=>Js(t).then(n=>{const r=n[0];if(r!=null)return En(t.get(r)).then(o=>(t.delete(r),En(t.transaction).then(()=>o)))}))}function fT(e){let t;function n(){return t==null&&(t=cT(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{const o=await Zr(r);await uT(n(),o,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{const o=await Zr(r);await lT(n(),o,e.maxQueueSize||30)}catch{}},shift:async()=>{try{const r=await dT(n());if(r)return Ip(r)}catch{}}}}function pT(e){return t=>{const n=e({...t,createStore:fT});return L.addEventListener("online",async r=>{await n.flush()}),n}}function $1(e=Zl){return pT(qh(e))}var eu=1e6,$r=String(0),hT="main",go=L.navigator,cf="",uf="",lf="",Ki=go?.userAgent||"",df="",mT=go?.language||go?.languages?.[0]||"";function gT(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}var tu=go?.userAgentData;gT(tu)&&tu.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(cf=e.platform||"",lf=e.architecture||"",df=e.model||"",uf=e.platformVersion||"",e.fullVersionList?.length){const t=e.fullVersionList[e.fullVersionList.length-1];Ki=`${t.brand} ${t.version}`}}).catch(e=>{});function _T(e){return!("thread_metadata"in e)}function yT(e){return _T(e)?bT(e):e}function vT(e){const t=e.contexts?.trace?.trace_id;return typeof t=="string"&&t.length!==32&&X&&g.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function ST(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const o=vT(r),i=yT(n),s=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:ue()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:ue()*1e3;return{event_id:e,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||"production",runtime:{name:"javascript",version:L.navigator.userAgent},os:{name:cf,version:uf,build_number:Ki},device:{locale:mT,model:df,manufacturer:Ki,architecture:lf,is_emulator:!1},debug_meta:{images:TT(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||Ce(),trace_id:o,active_thread_id:$r,relative_start_ns:"0",relative_end_ns:((a-s)*1e6).toFixed(0)}]}}function ff(e){return W(e).op==="pageload"}function bT(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[$r]:{name:hT}}},o=e.samples[0];if(!o)return r;const i=o.timestamp,s=xe(),a=typeof performance.timeOrigin=="number"?performance.timeOrigin:s||0,c=a-(s||a);return e.samples.forEach((u,d)=>{if(u.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[d]={elapsed_since_start_ns:((u.timestamp+c-i)*eu).toFixed(0),stack_id:t,thread_id:$r};return}let l=e.stacks[u.stackId];const f=[];for(;l;){f.push(l.frameId);const h=e.frames[l.frameId];h&&r.frames[l.frameId]===void 0&&(r.frames[l.frameId]={function:h.name,abs_path:typeof h.resourceId=="number"?e.resources[h.resourceId]:void 0,lineno:h.line,colno:h.column}),l=l.parentId===void 0?void 0:e.stacks[l.parentId]}const p={elapsed_since_start_ns:((u.timestamp+c-i)*eu).toFixed(0),stack_id:n,thread_id:$r};r.stacks[n]=f,r.samples[d]=p,n++}),r}function ET(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n]);return e}function wT(e){const t=[];return zt(e,(n,r)=>{if(r==="transaction")for(let o=1;o<n.length;o++)n[o]?.contexts?.profile?.profile_id&&t.push(n[o])}),t}function TT(e){const t=x()?.getOptions()?.stackParser;return t?rh(t,e):[]}function IT(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(X&&g.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(X&&g.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function kT(e){return e.samples.length<2?(X&&g.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(X&&g.log("[Profiling] Discarding profile because it contains no frames"),!1)}var pf=!1,hf=3e4;function CT(e){return typeof e=="function"}function RT(){const e=L.Profiler;if(!CT(e)){X&&g.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const t=10,n=Math.floor(hf/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{X&&(g.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),g.log("[Profiling] Disabling profiling for current user session.")),pf=!0}}function nu(e){if(pf)return X&&g.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return X&&g.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=x()?.getOptions();if(!t)return X&&g.log("[Profiling] Profiling disabled, no options found."),!1;const n=t.profilesSampleRate;return IT(n)?n?n===!0||Math.random()<n?!0:(X&&g.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(n)})`),!1):(X&&g.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(X&&g.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function xT(e,t,n,r){return kT(n)?ST(e,t,n,r):null}var Pt=new Map;function MT(){return Pt.size}function AT(e){const t=Pt.get(e);return t&&Pt.delete(e),t}function NT(e,t){if(Pt.set(e,t),Pt.size>30){const n=Pt.keys().next().value;Pt.delete(n)}}function ru(e){let t;ff(e)&&(t=ue()*1e3);const n=RT();if(!n)return;X&&g.log(`[Profiling] started profiling span: ${W(e).description}`);const r=Ce();$().setContext("profile",{profile_id:r,start_timestamp:t});async function o(){if(e&&n)return n.stop().then(c=>{if(i&&(L.clearTimeout(i),i=void 0),X&&g.log(`[Profiling] stopped profiling of span: ${W(e).description}`),!c){X&&g.log(`[Profiling] profiler returned null profile for: ${W(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}NT(r,c)}).catch(c=>{X&&g.log("[Profiling] error while stopping profiler:",c)})}let i=L.setTimeout(()=>{X&&g.log("[Profiling] max profile duration elapsed, stopping profiling for:",W(e).description),o()},hf);const s=e.end.bind(e);function a(){return e?(o().then(()=>{s()},()=>{s()}),e):s()}e.end=a}var OT="BrowserProfiling",LT=()=>({name:OT,setup(e){const t=ge(),n=t&&ye(t);n&&ff(n)&&nu(n)&&ru(n),e.on("spanStart",r=>{r===ye(r)&&nu(r)&&ru(r)}),e.on("beforeEnvelope",r=>{if(!MT())return;const o=wT(r);if(!o.length)return;const i=[];for(const s of o){const a=s?.contexts,c=a?.profile?.profile_id,u=a?.profile?.start_timestamp;if(typeof c!="string"){X&&g.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!c){X&&g.log("[Profiling] cannot find profile for a span without a profile context");continue}a?.profile&&delete a.profile;const d=AT(c);if(!d){X&&g.log(`[Profiling] Could not retrieve profile for span: ${c}`);continue}const l=xT(c,u,d,s);l&&i.push(l)}ET(r,i)})}}),G1=LT,DT="SpotlightBrowser",PT=(e={})=>{const t=e.sidecarUrl||"http://localhost:8969/stream";return{name:DT,setup:()=>{X&&g.log("Using Sidecar URL",t)},processEvent:n=>BT(n)?null:n,afterAllSetup:n=>{FT(n,t)}}};function FT(e,t){const n=As("fetch");let r=0;e.on("beforeEnvelope",o=>{if(r>3){g.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:Zr(o),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(i=>{i.status>=200&&i.status<400&&(r=0)},i=>{r++,g.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",i)})})}var V1=PT;function BT(e){return!!(e.type==="transaction"&&e.spans&&e.contexts?.trace&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:t})=>t?.includes("#sentry-spotlight")))}var Y1=()=>({name:"LaunchDarkly",processEvent(e,t,n){return tr(e)}});function K1(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{ln(e,t.value),dn(e,t.value)}}}var X1=()=>({name:"OpenFeature",processEvent(e,t,n){return tr(e)}}),J1=class{after(e,t){ln(t.flagKey,t.value),dn(t.flagKey,t.value)}error(e,t,n){ln(e.flagKey,e.defaultValue),dn(e.flagKey,e.defaultValue)}},Z1=({featureFlagClientClass:e})=>({name:"Unleash",setupOnce(){const t=e.prototype;ke(t,"isEnabled",UT)},processEvent(t,n,r){return tr(t)}});function UT(e){return function(...t){const n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?(ln(n,r),dn(n,r)):X&&g.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}var Q1=({featureFlagClient:e})=>({name:"Statsig",setup(t){e.on("gate_evaluation",n=>{ln(n.gate.name,n.gate.value),dn(n.gate.name,n.gate.value)})},processEvent(t,n,r){return tr(t)}});async function eI(){const e=x();if(!e)return"no-client-active";if(!e.getDsn())return"no-dsn-configured";try{await jp(()=>fetch("https://o447951.ingest.sentry.io/api/4509632503087104/envelope/?sentry_version=7&sentry_key=c1dfb07d783ad5325c245c1fd3725390&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"}))}catch{return"sentry-unreachable"}}var HT="WebWorker",tI=({worker:e})=>({name:HT,setupOnce:()=>{(Array.isArray(e)?e:[e]).forEach(t=>ou(t))},addWorker:t=>ou(t)});function ou(e){e.addEventListener("message",t=>{WT(t.data)&&(t.stopImmediatePropagation(),X&&g.log("Sentry debugId web worker message received",t.data),L._sentryDebugIds={...t.data._sentryDebugIds,...L._sentryDebugIds})})}function nI({self:e}){e.postMessage({_sentryMessage:!0,_sentryDebugIds:e._sentryDebugIds??void 0})}function WT(e){return it(e)&&e._sentryMessage===!0&&"_sentryDebugIds"in e&&(it(e._sentryDebugIds)||e._sentryDebugIds===void 0)}var mf=["activate","mount"],gf=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,zT=/(?:^|[-_])(\w)/g,jT=e=>e.replace(zT,t=>t.toUpperCase()).replace(/[-_]/g,""),qT="<Root>",ai="<Anonymous>",$T=(e,t)=>e.repeat(t),Fn=(e,t)=>{if(!e)return ai;if(e.$root===e)return qT;if(!e.$options)return ai;const n=e.$options;let r=n.name||n._componentTag||n.__name;const o=n.__file;if(!r&&o){const i=o.match(/([^/\\]+)\.vue$/);i&&(r=i[1])}return(r?`<${jT(r)}>`:ai)+(o&&t!==!1?` at ${o}`:"")},GT=e=>{if(e&&(e._isVue||e.__isVue)&&e.$parent){const t=[];let n=0;for(;e;){if(t.length>0){const r=t[t.length-1];if(r.constructor===e.constructor){n++,e=e.$parent;continue}else n>0&&(t[t.length-1]=[r,n],n=0)}t.push(e),e=e.$parent}return`

found in

${t.map((r,o)=>`${(o===0?"---> ":$T(" ",5+o*2))+(Array.isArray(r)?`${Fn(r[0])}... (${r[1]} recursive calls)`:Fn(r))}`).join(`
`)}`}return`

(found in ${Fn(e)})`},VT=(e,t)=>{const{errorHandler:n}=e.config;e.config.errorHandler=(r,o,i)=>{const s=Fn(o,!1),a=o?GT(o):"",c={componentName:s,lifecycleHook:i,trace:a};if(t.attachProps&&o&&(o.$options?.propsData?c.propsData=o.$options.propsData:o.$props&&(c.propsData=o.$props)),setTimeout(()=>{It(r,{captureContext:{contexts:{vue:c}},mechanism:{handled:!!n,type:"vue"}})}),typeof n=="function"&&e.config.errorHandler)n.call(e,r,o,i);else throw r}},YT="ui.vue",KT={activate:["activated","deactivated"],create:["beforeCreate","created"],unmount:["beforeUnmount","unmounted"],destroy:["beforeDestroy","destroyed"],mount:["beforeMount","mounted"],update:["beforeUpdate","updated"]};function ci(e,t,n){e.$_sentryRootComponentSpanTimer&&clearTimeout(e.$_sentryRootComponentSpanTimer),e.$_sentryRootComponentSpanTimer=setTimeout(()=>{e.$root?.$_sentryRootComponentSpan&&(e.$root.$_sentryRootComponentSpan.end(t),e.$root.$_sentryRootComponentSpan=void 0)},n)}function XT(e,t){function n(r){return r.replace(/^<([^\s]*)>(?: at [^\s]*)?$/,"$1")}return e.some(r=>n(t)===n(r))}var JT=(e={})=>{const t=(e.hooks||[]).concat(mf).filter((o,i,s)=>s.indexOf(o)===i),n={},r=e.timeout||2e3;for(const o of t){const i=KT[o];if(!i){gf&&g.warn(`Unknown hook: ${o}`);continue}for(const s of i)n[s]=function(){const a=this.$root===this;a&&(this.$_sentryRootComponentSpan=this.$_sentryRootComponentSpan||Tt({name:"Application Render",op:"ui.vue.render",attributes:{"sentry.origin":"auto.ui.vue"},onlyIfParent:!0}),ci(this,ue(),r));const c=Fn(this,!1);if(!(a||(Array.isArray(e.trackComponents)?XT(e.trackComponents,c):e.trackComponents))){ci(this,ue(),r);return}this.$_sentryComponentSpans=this.$_sentryComponentSpans||{};const u=s===i[0],d=this.$root?.$_sentryRootComponentSpan||ge();if(u){if(d){const l=this.$_sentryComponentSpans[o];l&&l.end(),this.$_sentryComponentSpans[o]=Tt({name:`Vue ${c}`,op:`${YT}.${o}`,attributes:{[ce]:"auto.ui.vue"},onlyIfParent:!0})}}else{const l=this.$_sentryComponentSpans[o];if(!l)return;l.end(),ci(this,ue(),r)}}}return n},ZT={Vue:F.Vue,attachProps:!0,attachErrorHandler:!0,tracingOptions:{hooks:mf,timeout:2e3,trackComponents:!1}};var QT=(e={})=>({name:"Vue",setup(t){const n={...ZT,...t.getOptions(),...e};if(!n.Vue&&!n.app){Je(()=>{console.warn("[@sentry/vue]: Misconfigured SDK. Vue specific errors will not be captured. Update your `Sentry.init` call with an appropriate config option: `app` (Application Instance - Vue 3) or `Vue` (Vue Constructor - Vue 2).")});return}n.app?(Array.isArray(n.app)?n.app:[n.app]).forEach(r=>iu(r,n)):n.Vue&&iu(n.Vue,n)}}),iu=(e,t)=>{gf&&e._instance?.isMounted===!0&&Je(()=>{console.warn("[@sentry/vue]: Misconfigured SDK. Vue app is already mounted. Make sure to call `app.mount()` after `Sentry.init()`.")}),t.attachErrorHandler&&VT(e,t),ut(t)&&e.mixin(JT(t.tracingOptions))};function rI(e={}){const t={defaultIntegrations:[...td(e),QT()],...e};return ll(t,"vue"),wS(t)}function e1(e,t,n){let r=!1;e.onError(o=>It(o,{mechanism:{handled:!1}})),e.beforeEach((o,i,s)=>{const a=r?void 0:t1(),c={};for(const l of Object.keys(o.params))c[`url.path.parameter.${l}`]=o.params[l],c[`params.${l}`]=o.params[l];for(const l of Object.keys(o.query)){const f=o.query[l];f&&(c[`query.${l}`]=f)}let u=o.path,d="url";if(o.name&&t.routeLabel!=="path")u=o.name.toString(),d="custom";else if(o.matched.length>0){const l=o.matched.length-1;u=o.matched[l].path,d="route"}$().setTransactionName(u),t.instrumentPageLoad&&a&&(W(a).data["sentry.source"]!=="custom"&&(a.updateName(u),a.setAttribute(Ae,d)),a.setAttributes({...c,[ce]:"auto.pageload.vue"}),r=!0),t.instrumentNavigation&&!a&&n({name:u,op:"navigation",attributes:{...c,[ce]:"auto.navigation.vue",[Ae]:d}}),s&&s()})}function t1(){const e=ge(),t=e&&ye(e);if(t)return W(t).op==="pageload"?t:void 0}function oI(e={}){if(!e.router)return Jc(e);const t=Jc({...e,instrumentNavigation:!1}),{router:n,instrumentNavigation:r=!0,instrumentPageLoad:o=!0,routeLabel:i="name"}=e;return{...t,afterAllSetup(s){t.afterAllSetup(s),e1(n,{routeLabel:i,instrumentNavigation:r,instrumentPageLoad:o},c=>{sf(s,c)})}}}var n1={attachPiniaState:!0,addBreadcrumbs:!0,actionTransformer:e=>e,stateTransformer:e=>e},su=(e,t)=>{const n={};try{return Object.keys(e.state.value).forEach(r=>{n[r]=e.state.value[r]}),t?t(n):n}catch{return n}},iI=e=>{const t={...n1,...e};return({store:r,pinia:o})=>{t.attachPiniaState!==!1&&vo().addEventProcessor((i,s)=>{try{const a=`pinia_state_all_stores_${new Date().toTimeString().split(" ")[0]}.json`;s.attachments?.some(c=>c.filename.startsWith("pinia_state_all_stores_"))||(s.attachments=[...s.attachments||[],{filename:a,data:JSON.stringify(su(o,t.stateTransformer))}])}catch{}return i}),r.$onAction(i=>{i.after(()=>{const s=t.actionTransformer(i.name);typeof s<"u"&&s!==null&&t.addBreadcrumbs!==!1&&Xe({category:"pinia.action",message:`Store: ${r.$id} | Action: ${s}`,level:"info"});const a=su(o,t.stateTransformer),c=$(),u=c.getScopeData().contexts.state;if(typeof a<"u"&&a!==null){const d=x()?.getOptions()?.normalizeDepth||3,f={...u||{},state:{type:"pinia",value:a}};Re(f,"__sentry_override_normalization_depth__",3+d),c.setContext("state",f)}else c.setContext("state",{...u||{},state:{type:"pinia",value:"undefined"}})})})}};export{ly as BrowserClient,J1 as OpenFeatureIntegrationHook,Bn as SDK_VERSION,$e as SEMANTIC_ATTRIBUTE_SENTRY_OP,ce as SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,Yf as SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,Ae as SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,Ht as Scope,L as WINDOW,Xe as addBreadcrumb,_h as addEventProcessor,Ta as addIntegration,VT as attachErrorHandler,qv as breadcrumbsIntegration,tS as browserApiErrorsIntegration,G1 as browserProfilingIntegration,aS as browserSessionIntegration,oI as browserTracingIntegration,K1 as buildLaunchDarklyFlagUsedHandler,v1 as captureConsoleIntegration,Eo as captureEvent,It as captureException,fg as captureFeedback,vi as captureMessage,ba as captureSession,Cv as chromeStackLineParser,m1 as close,k1 as consoleLoggingIntegration,H1 as contextLinesIntegration,c1 as continueTrace,iI as createSentryPiniaPlugin,JT as createTracingMixins,zh as createTransport,L1 as createUserFeedbackEnvelope,Im as dedupeIntegration,nf as defaultRequestInstrumentationOptions,Bv as defaultStackLineParsers,Uv as defaultStackParser,eI as diagnoseSdkConnectivity,Vu as endSession,am as eventFiltersIntegration,oy as eventFromException,iy as eventFromMessage,bs as exceptionFromError,S1 as extraErrorDataIntegration,I1 as featureFlagsIntegration,R1 as feedbackAsyncIntegration,x1 as feedbackIntegration,x1 as feedbackSyncIntegration,h1 as flush,D1 as forceLoad,om as functionToStringIntegration,Av as geckoStackLineParser,ge as getActiveSpan,x as getClient,$ as getCurrentScope,td as getDefaultIntegrations,C1 as getFeedback,vo as getGlobalScope,ve as getIsolationScope,j1 as getReplay,ye as getRootSpan,Mr as getSpanDescendants,Jf as getSpanStatusFromHttpCode,dl as getTraceData,lS as globalHandlersIntegration,W1 as graphqlClientIntegration,U1 as httpClientIntegration,_S as httpContextIntegration,cm as inboundFiltersIntegration,rI as init,qw as instrumentOutgoingRequests,Ym as instrumentSupabaseClient,gh as isEnabled,g1 as isInitialized,mh as lastEventId,Y1 as launchDarklyIntegration,q_ as lazyLoadIntegration,SS as linkedErrorsIntegration,M1 as logger,$1 as makeBrowserOfflineTransport,Zl as makeFetchTransport,_1 as makeMultiplexedTransport,y1 as moduleMetadataIntegration,P1 as onLoad,X1 as openFeatureIntegration,N1 as opera10StackLineParser,O1 as opera11StackLineParser,Xh as parameterize,mp as registerSpanErrorInstrumentation,nI as registerWebWorker,q1 as replayCanvasIntegration,z1 as replayIntegration,B1 as reportingObserverIntegration,b1 as rewriteFramesIntegration,Yg as sendFeedback,hh as setContext,Bh as setCurrentClient,l1 as setExtra,u1 as setExtras,Yr as setHttpStatus,Fp as setMeasurement,f1 as setTag,d1 as setTags,p1 as setUser,F1 as showReportDialog,s1 as spanToBaggageHeader,W as spanToJSON,lp as spanToTraceHeader,V1 as spotlightBrowserIntegration,sf as startBrowserTracingNavigationSpan,iT as startBrowserTracingPageLoadSpan,Tt as startInactiveSpan,qp as startNewTrace,Sa as startSession,is as startSpan,a1 as startSpanManual,Q1 as statsigIntegration,E1 as supabaseIntegration,jp as suppressTracing,T1 as thirdPartyErrorFilterIntegration,Z1 as unleashIntegration,i1 as updateSpanName,QT as vueIntegration,tI as webWorkerIntegration,A1 as winjsStackLineParser,bo as withActiveSpan,o1 as withIsolationScope,Ve as withScope,w1 as zodErrorsIntegration};
