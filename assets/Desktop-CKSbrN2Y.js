import"./useBaseQuery-DhMTNjjH.js";import"./useInfiniteServerClient-BOGzXRLT.js";import"./useQueryClient-BDTWlHnP.js";import"./useQuery-UqFzG2sc.js";import{Ba as I,Ea as N,Gi as y,Hs as v,Ja as V,Ks as $,Ns as T,Ua as W,Wa as j,Ws as b,X as g,Yo as z,bn as m,cs as u,dn as C,ec as _,gs as D,js as s,ls as F,mn as P,ms as h,ns as R,qa as O,sc as e,sr as q,ss as w,un as A,ur as G,us as L,va as J,yn as p}from"./index-zK1-WOQT.js";import"./basecomponent-BCCSVKeT.js";import"./classnames-BTI3HSIl.js";import"./button-BFgBlxd4.js";import"./baseicon-BujroYwJ.js";import"./musicPlaylists-C_vb7EZC.js";import"./contextMenuItems-DhNO6yQR.js";import"./_plugin-vue_export-helper-CksOYaUN.js";import"./AppLogoSquare-ClEEG0E7.js";import"./OptimizedIcon-BHUzMN75.js";import"./DropdownMenu-CoedV5mz.js";import"./dist-YiGZl1e5.js";import{t as K}from"./useServerClient-BWjN3Na1.js";import{t as M}from"./ScrollContainer-PonBYV96.js";import"./CoverImage-TSBXufAd.js";import"./MusicButton-CWjcKUpW.js";import"./MediaLikeButton-BMj5yK2v.js";import"./PlayerIcon-BBwNC4v3.js";import"./Marquee-DiB7YgKA.js";import"./EqSpinner-DE6fOqoz.js";import"./BannerButton-DvbbYtyg.js";import"./FavoriteImage-Dne74lT9.js";import"./TrackLinks-CK8QQgs_.js";import"./BigPlayButton-B2Vqc5h3.js";import{t as U}from"./NotFound-CMMKlcNX.js";import"./ShareButton-CnMD2Dif.js";import{i as X,n as Y,r as Q,t as Z}from"./TrackRow-gStQWKvN.js";z();O();I();var ee={class:"relative z-0 flex h-auto flex-shrink-0 flex-grow flex-col items-start justify-start self-stretch"},te=D({__name:"Desktop",setup(ae){const c=V(),{data:t,isError:B}=K({path:c.fullPath}),S=_(null),f=_(),r=_("");v(t,a=>{a&&(q(a?.name??null),d(a?.tracks??[],m.value,p.value,r.value),C(a?.color_palette?.cover))}),v(p,a=>{d(t.value?.tracks??[],m.value,a,r.value)}),v(m,a=>{d(t.value?.tracks??[],a,p.value,r.value)}),v(r,a=>{d(t.value?.tracks??[],m.value,p.value,a)});function d(a,i,l,n){const x=G(a??[],i,l,P);n===""?f.value=x:f.value=x?.filter(k=>k.name?.toLowerCase().includes(n?.toLowerCase?.())||k.artist_track?.some(H=>H.name.toLowerCase().includes(n?.toLowerCase?.()))||k.album_track?.[0]?.name.toLowerCase().includes(n?.toLowerCase?.()))??[]}W(()=>{t?.value?.tracks&&d(t?.value?.tracks??[],m.value,p.value,r.value),t.value?.color_palette?.cover&&C(t.value?.color_palette?.cover)}),j(()=>{document.getElementById("navbar")&&(document.getElementById("navbar").style.display="flex"),C(null),A(null)});const o=_();function E(){window.CSS.supports("container-type","scroll-state")||(Math.ceil(o.value?.$el?.getBoundingClientRect()?.top??500)<=67?(o.value?.$el?.classList.add("!bg-focus"),o.value?.$el?.firstChild?.classList.add("!bg-black/50")):(o.value?.$el?.classList.remove("!bg-focus"),o.value?.$el?.firstChild?.classList.remove("!bg-black/50")))}return(a,i)=>(s(),u(e(N),null,{default:b(()=>[h(e(J),{fullscreen:!0,class:"flex"},{default:b(()=>[e(B)&&!e(t)?(s(),u(U,{key:0})):(s(),u(M,{key:1,"auto-hide":!0,static:!0,onScroll:E},{default:b(()=>[!e(c).params.id||e(c).params.id&&e(t)?.id===e(c).params.id?(s(),L("div",{key:0,ref_key:"main",ref:S,class:"flex flex-col w-available h-available sm:rounded-2xl"},[h(Q,{data:e(t)},null,8,["data"]),w("div",ee,[i[1]||(i[1]=w("div",{class:"pointer-events-none absolute z-0 h-96 w-full bg-spotifyBottom"},null,-1)),(s(),u(X,{key:e(t)?.id,data:e(t),filter:r.value,onFilterChange:i[0]||(i[0]=l=>r.value=l)},null,8,["data","filter"])),w("div",{class:$([{"pb-24":e(y)&&!e(g),"pb-40":e(y)&&e(g),"pb-4 sm:pb-4":!e(y)&&e(g)},"flex flex-1 flex-shrink-0 flex-col items-start justify-start self-stretch bg-surface-3 flex-grow-1 gap-0.5 sm:p-4"])},[(s(),u(Y,{key:e(t)?.id,ref_key:"sortHeader",ref:o})),(s(!0),L(R,null,T(f.value,(l,n)=>(s(),u(Z,{key:l.id+l?.favorite,data:l,"display-list":f.value,index:n},null,8,["data","display-list","index"]))),128))],2)])],512)):F("",!0)]),_:1}))]),_:1})]),_:1}))}}),Te=te;export{Te as default};
