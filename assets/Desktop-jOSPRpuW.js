import{u as B,v as S}from"./primevue-C7GgiIOs.js";import{$ as q,ac as j,d as s,f as T,B as p,c as f,o as m,p as o,z as r,a0 as i,av as N,j as c,h as R,v as A,G as I,A as v,x as d,as as M}from"./vue-ionic-D4s4ExYp.js";import{q as t,A as V,bf as D}from"./index-D29s6-I8.js";import{_ as P}from"./Avatar.vue_vue_type_script_setup_true_lang-DxrTKO-j.js";import{_}from"./Button.vue_vue_type_script_setup_true_lang-CzLYMh2i.js";import{_ as E}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-Nn4dwAdV.js";import{aI as F}from"./vendor-Dgtccx1h.js";import"./icons-BW5E66pf.js";import"./media-C2AqgyMX.js";import"./api-BBofn2cc.js";import"./swiper-D00Cnjmx.js";import"./music-player-BiOHSPVn.js";import"./rxjs-BCp2L9Rn.js";import"./OptimizedIcon.vue_vue_type_script_setup_true_lang-BMWMPBMW.js";import"./useMounted-DYwXa4R_.js";import"./useServerClient-B1iLPo0s.js";import"./useInfiniteServerClient-B4MMmB_5.js";import"./FloatingBackButton.vue_vue_type_script_setup_true_lang-ds0OrJIA.js";import"./ScrollContainer.vue_vue_type_script_setup_true_lang-B9z-yNTL.js";import"./RipperOverlay.vue_vue_type_script_setup_true_lang-CXq-Wp6k.js";import"./ripperSocket-wzC5X917.js";const G={class:"flex flex-col gap-4 col-span-2"},H={class:"flex gap-4"},L=["src"],W={class:"flex flex-col justify-start items-start flex-grow relative gap-2"},J={class:"self-stretch flex-grow-0 flex-shrink-0 w-full text-sm text-left text-[#9ba1a6] whitespace-pre-line"},K=`Upload an image of max {{dimension}} pixels and {{size}} in size.
 We recommend a square image for best results.`,ge=q({__name:"Desktop",setup(O){const{t:g}=j(),h=B(),a=s(),b=s(),l=s(t.value.avatarUrl),n=s(!0),x=`https://api${V}.nomercy.tv/avatar`;function k(){a.value.upload(),n.value=!0}function w(){h.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3}),D().get("/app_config").then(async({data:e})=>{t.value.avatarUrl=e.data.avatarUrl})}function y(e){l.value=e.files[0].objectURL,n.value=!1}function U(e){e.xhr.setRequestHeader("Authorization",`Bearer ${t.value.accessToken}`)}function $(){l.value=t.value.avatarUrl,a.value.clear()}T(()=>{setTimeout(()=>{var e;(e=a.value)!=null&&e.$el&&(a.value.$el.querySelector("span[files]").textContent=g("No file chosen"))},100)});const C=p(()=>({"--color-1":"rgb(var(--color-theme-1))","--color-2":"rgb(var(--color-theme-2))","--color-3":"rgb(var(--color-theme-3))","--color-4":"rgb(var(--color-theme-4))","--color-5":"rgb(var(--color-theme-5))","--color-6":"rgb(var(--color-theme-6))","--color-7":"rgb(var(--color-theme-7))","--color-8":"rgb(var(--color-theme-8))","--color-9":"rgb(var(--color-theme-9))","--color-10":"rgb(var(--color-theme-10))","--color-11":"rgb(var(--color-theme-11))","--color-12":"rgb(var(--color-theme-12))"})),z=p(()=>F("!flex !justify-center !items-center !px-4 !py-2 !gap-2 !rounded-lg !text-sm","select-none !w-auto !font-semibold !leading-[100%] !transition-transform !duration-150 !border-none !text-white","!bg-gradient-to-b from-[var(--color-11)] to-[var(--color-10)] hover:from-[var(--color-12)] hover:to-[var(--color-11)] active:from-[var(--color-10)] active:to-[var(--color-9)] dark:from-[var(--color-8)] dark:to-[var(--color-5)] dark:hover:from-[var(--color-8)] dark:hover:to-[var(--color-6)] dark:active:from-[var(--color-8)] dark:active:to-[var(--color-4)] button-filled ",`
				 shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--background-auto-11)/60%)_inset,0_22px_30px_-4px_rgba(var(--background-auto-11)/70%)]
				 dark:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--background-auto-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--background-auto-1)/70%)]
				 active:!shadow-none
				 active:!dark:shadow-none
			 `));return(e,u)=>(m(),f(i(M),null,{default:o(()=>[r(i(N),{fullscreen:!0},{default:o(()=>[r(E,{"grid-style":3,title:"Profile","allow-anyone":!0},{cta:o(()=>u[0]||(u[0]=[])),default:o(()=>[c("div",G,[c("div",H,[l.value?(m(),R("img",{key:0,ref_key:"image",ref:b,src:l.value,class:"w-60 min-w-60 h-auto aspect-square object-cover rounded-lg",alt:""},null,8,L)):(m(),f(P,{key:1,email:i(t).email,size:250,class:"w-60 min-w-60 h-auto aspect-square rounded-lg"},null,8,["email"])),c("div",W,[r(i(S),{ref_key:"fileUpload",ref:a,url:x,"choose-label":e.$t("Choose image"),"cancel-label":e.$t("Cancel"),name:"image","with-credentials":"",mode:"basic",accept:"image/*","max-file-size":2*1024*1024,style:I(C.value),class:A(z.value),onSelect:y,onBeforeSend:U,onUpload:w},null,8,["choose-label","cancel-label","style","class"]),r(_,{id:"upload",color:"theme","start-icon":"cloudUpload",disabled:n.value,onClick:k},{default:o(()=>[v(d(e.$t("Upload image")),1)]),_:1},8,["disabled"]),c("p",J,d(e.$t(K,{dimension:"2000x2000",size:"2MB"})),1),r(_,{id:"upload",color:"white",variant:"text","start-icon":"arrowCounterClockwise",onClick:$},{default:o(()=>[v(d(e.$t("Reset image")),1)]),_:1})])])])]),_:1})]),_:1})]),_:1}))}});export{ge as default};
