import{$ as nt,a8 as ct,ab as ft,d as Y,w as pt,f as dt,aG as ut,B as xt,k as mt,c as n,o as l,p as c,z as f,a0 as e,au as _t,j as s,h as _,b as p,x as a,v as Z,F as tt,q as et,ar as ht}from"./vue-ionic-Db_NiJFp.js";import{bs as st,b8 as ot}from"./vendor-Dgtccx1h.js";import{_ as gt,f as k,e as w,br as kt,b as wt,bu as bt,bs as vt}from"./index-dhF1HRpl.js";import{u as yt}from"./useServerClient-CUQzpYwE.js";import{_ as $t}from"./ScrollContainer.vue_vue_type_script_setup_true_lang-BY75sSIQ.js";import{_ as jt}from"./FloatingBackButton.vue_vue_type_script_setup_true_lang-C85dnblQ.js";import{_ as Ct}from"./GenrePill.vue_vue_type_script_setup_true_lang-D5fZdTnr.js";import{_ as rt}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-DHzcpnxP.js";import{M as Bt}from"./MediaLikeButton-BECfZa1M.js";import{_ as Tt}from"./DropdownMenu.vue_vue_type_script_setup_true_lang-D20qCLnB.js";import{_ as Dt}from"./NMCard.vue_vue_type_script_setup_true_lang-BYRPVHkG.js";import{_ as It}from"./ContentRating.vue_vue_type_script_setup_true_lang-C37TY5cL.js";import{I as b}from"./InfoHeaderItem-bJzqivbA.js";import{_ as Lt}from"./NotFound.vue_vue_type_script_setup_true_lang-ds4Z0OwI.js";import{_ as St}from"./ShareButton.vue_vue_type_script_setup_true_lang-CFxnFx3Y.js";import{N as h}from"./NMCarousel-q4m5JL5U.js";import"./media-C2AqgyMX.js";import"./icons-BW5E66pf.js";import"./api-BBofn2cc.js";import"./swiper-D00Cnjmx.js";import"./rxjs-BCp2L9Rn.js";import"./music-player-bBxcOCLu.js";import"./primevue-Bn7Q4nqF.js";import"./useInfiniteServerClient-BLSEFIWT.js";import"./MusicButton.vue_vue_type_script_setup_true_lang-BeA2kCzX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./contextMenuItems-DY4e3ZqZ.js";import"./musicPlaylists-CGhRwZ4V.js";import"./TMDBImage.vue_vue_type_script_setup_true_lang-CsAzdHqa.js";import"./AppLogoSquare-KpTTA6Sb.js";import"./CardIndicator.vue_vue_type_script_setup_true_lang-B6hRw-l7.js";import"./swiper-config-Caon8l1d.js";const zt={class:"w-available"},Et={key:0,class:"w-available overflow-x-clip relative mt-12 flex flex-grow flex-col items-start justify-start gap-4 self-stretch py-5"},Nt={class:"ml-4 w-full flex-shrink-0 flex-grow-0 self-stretch text-5xl font-bold px-4"},Pt={class:"ml-4 w-full flex-shrink-0 flex-grow-0 self-stretch text-lg px-4"},Mt={class:"flex flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-4 self-stretch px-4"},Rt={class:"relative flex flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-4 self-stretch"},Vt={class:"flex flex-shrink-0 flex-grow-0 items-start justify-start gap-8 self-stretch pl-4"},qt={class:"relative flex flex-shrink-0 flex-grow-0 flex-col items-start justify-center gap-1"},Ft={class:"flex-shrink-0 flex-grow-0 text-xs font-bold uppercase text-auto-alpha-11"},Ut={class:"relative flex flex-shrink-0 flex-grow-0 flex-col items-start justify-center gap-1"},At={class:"flex-shrink-0 flex-grow-0 text-xs font-bold uppercase text-auto-alpha-11"},Gt={class:"flex-shrink-0 flex-grow-0 text-sm font-bold text-auto-12 -ml-0.5"},Ht={class:"relative flex flex-shrink-0 flex-grow-0 flex-col items-start justify-center gap-1"},Kt={class:"flex-shrink-0 flex-grow-0 text-xs font-bold uppercase text-auto-alpha-11"},Jt={class:"flex-shrink-0 flex-grow-0 text-sm font-bold text-auto-12 -ml-0.5"},Ot={class:"relative flex flex-shrink-0 flex-grow-0 flex-col items-start justify-center gap-1"},Qt={class:"flex-shrink-0 flex-grow-0 text-xs font-bold uppercase text-auto-alpha-11"},Wt={class:"flex-shrink-0 flex-grow-0 text-sm font-bold text-auto-12 -ml-0.5"},Xt={class:"relative flex flex-grow flex-col items-start justify-center text-left gap-1"},Yt={class:"flex-shrink-0 flex-grow-0 text-xs font-bold uppercase text-auto-alpha-11"},Zt={key:0,class:"relative ml-auto flex h-16 flex-shrink-0 flex-grow-0 items-center justify-center gap-4"},te={class:"absolute top-3 grid h-0 w-max flex-shrink-0 flex-grow-0 origin-bottom group-hover/play:grid-cols-1 items-center justify-start bg-black duration-200 grid-cols-[0fr] group-hover/play:h-[32.77px] transform-all left-[-31px] group-hover/play:top-[-38px] rounded-[5.46px]"},ee={class:"overflow-hidden"},se={class:"flex-shrink-0 flex-grow-0 py-0 text-xs font-bold px-2.5"},Pe=nt({__name:"Desktop",setup(oe){const{t:lt}=ct(),v=ft(),{data:t,isError:at}=yt({queryKey:["base","collection",v.params.id],limit:1e3,keepForever:!0}),g=Y(null),y=Y(null);pt(t,o=>{o&&(o!=null&&o.backdrop&&k(o==null?void 0:o.backdrop),o!=null&&o.color_palette&&w(o.color_palette.backdrop),g.value=o.duration&&new Date(new Date().getTime()+o.duration*60*1e3).toLocaleTimeString(ot.language??"en-US",{hour:"2-digit",minute:"2-digit"}),y.value=setInterval(()=>{g.value=o.duration&&new Date(new Date().getTime()+o.duration*60*1e3).toLocaleTimeString(ot.language??"en-US",{hour:"2-digit",minute:"2-digit"})},1e3))}),dt(()=>{var o,i,m,d,u;document.dispatchEvent(new Event("sidebar")),gt((o=t==null?void 0:t.value)==null?void 0:o.title),(i=t==null?void 0:t.value)!=null&&i.backdrop&&k((m=t==null?void 0:t.value)==null?void 0:m.backdrop),(d=t==null?void 0:t.value)!=null&&d.color_palette&&w((u=t==null?void 0:t.value)==null?void 0:u.color_palette.backdrop)}),ut(()=>{k(null),w(null),clearInterval(y.value??void 0)});const it=xt(()=>{var o,i;return{title:((o=t.value)==null?void 0:o.title)??"",text:((i=t.value)==null?void 0:i.overview)??"",url:`https://app.nomercy.tv${v.fullPath}`}});return(o,i)=>{const m=mt("RouterLink");return l(),n(e(ht),null,{default:c(()=>[f(e(_t),{fullscreen:!0},{default:c(()=>[e(at)&&!e(t)?(l(),n(Lt,{key:0})):(l(),n($t,{key:1,static:!0,"auto-hide":!0},{default:c(()=>{var d,u,$,j,C,B,T,D,I,L,S,z,E,N,P,M,R,V,q,F,U,A,G,H,K,J,O,Q,W,X;return[s("div",zt,[f(jt),e(t)?(l(),_("div",Et,[s("p",Nt,a((u=(d=e(t))==null?void 0:d.title)==null?void 0:u.replace(/(: | en de )/,`
`)),1),s("p",Pt,a(($=e(t))==null?void 0:$.overview),1),s("div",Mt,[s("div",Rt,[i[1]||(i[1]=s("div",{class:"self-stretch h-px bg-[#e2f0fd]/4"},null,-1)),s("div",Vt,[s("div",qt,[s("p",Ft,a(o.$t("Content rating")),1),(j=e(t))!=null&&j.content_ratings?(l(),n(It,{key:0,size:6,class:"h-full min-!h-[1rem] object-scale-down rounded-lg overflow-clip",ratings:(C=e(t))==null?void 0:C.content_ratings},null,8,["ratings"])):p("",!0)]),s("div",Ut,[s("p",At,a(o.$t("Availability")),1),f(b,null,{default:c(()=>{var r,x;return[s("p",Gt,a((r=e(t))==null?void 0:r.have_items)+" / "+a((x=e(t))==null?void 0:x.number_of_items),1)]}),_:1})]),s("div",Ht,[s("p",Kt,a(o.$t("Timespan")),1),f(b,null,{default:c(()=>{var r,x;return[s("p",Jt,a(e(st)((r=e(t))==null?void 0:r.collection).min("year"))+" - "+a(e(st)((x=e(t))==null?void 0:x.collection).max("year")),1)]}),_:1})]),s("div",Ot,[s("p",Qt,a(o.$t("Total duration")),1),(B=e(t))!=null&&B.total_duration?(l(),n(b,{key:0},{default:c(()=>{var r;return[s("p",Wt,a(e(kt)(e(lt),(r=e(t))==null?void 0:r.total_duration,!0)),1)]}),_:1})):p("",!0)]),s("div",Xt,[s("p",Yt,a(o.$t("Genre")),1),s("div",{class:Z(["flex flex-shrink-0 flex-grow-0 flex-wrap self-stretch overflow-clip font-medium gap-0.5",((D=(T=e(t))==null?void 0:T.genres)==null?void 0:D.length)>5?"children:grayscale":""])},[(l(!0),_(tt,null,et((I=e(t))==null?void 0:I.genres,r=>(l(),n(Ct,{key:r.id,genre:r},null,8,["genre"]))),128))],2)]),e(t)?(l(),_("div",Zt,[f(m,{to:`/${(L=e(t))==null?void 0:L.media_type}/${(S=e(t))==null?void 0:S.id}/watch`,class:"relative flex items-center justify-center gap-2 rounded-lg p-2 transition-colors duration-200 group/play hover:bg-auto-5/6"},{default:c(()=>[f(rt,{icon:"play","class-name":"w-6"}),s("div",te,[s("div",ee,[s("p",se,a(o.$t("Ends at"))+" "+a(g.value),1)])])]),_:1},8,["to"]),e(t)?(l(),n(Bt,{key:0,data:e(t)},null,8,["data"])):p("",!0),f(St,{"share-data":it.value,class:"!p-0 text-white"},null,8,["share-data"]),f(Tt,null,{button:c(()=>[f(rt,{icon:"menuDotsVertical","class-name":"w-6"})]),default:c(()=>[i[0]||(i[0]=s("div",{class:"flex w-full bg-auto-1",style:{"box-shadow":"0 4px 7px 0 rgba(0, 0, 0, 0.08)"}},[s("div",{class:"relative flex flex-shrink-0 z-1099 group"},[s("div",{class:"flex flex-col p-2"})])],-1))]),_:1})])):p("",!0)]),i[2]||(i[2]=s("div",{class:"self-stretch h-px bg-[#e2f0fd]/4"},null,-1))])]),s("div",{class:Z(["flex-shrink-0 flex-grow-0 items-start justify-start gap-4 self-stretch px-4",e(wt)?"media-backdrop-grid":"media-poster-grid"])},[(l(!0),_(tt,null,et(((z=e(t))==null?void 0:z.collection)??[],r=>(l(),n(Dt,{key:r==null?void 0:r.id,data:r,class:""},null,8,["data"]))),128))],2),(E=e(t))!=null&&E.cast&&((P=(N=e(t))==null?void 0:N.cast)==null?void 0:P.length)>0?(l(),n(h,{key:0,id:"cast",next_id:"crew",previous_id:"poster",data:e(bt)((M=e(t))==null?void 0:M.cast,"id").slice(0,50),title:"Cast",index:0},null,8,["data"])):p("",!0),(R=e(t))!=null&&R.crew&&((q=(V=e(t))==null?void 0:V.crew)==null?void 0:q.length)>0?(l(),n(h,{key:1,id:"crew",next_id:"backdrop",previous_id:"cast",data:e(vt)((F=e(t))==null?void 0:F.crew).slice(0,50),title:"Crew",index:0},null,8,["data"])):p("",!0),(U=e(t))!=null&&U.posters&&((G=(A=e(t))==null?void 0:A.posters)==null?void 0:G.length)>0?(l(),n(h,{key:2,id:"poster",next_id:"backdrop",previous_id:"crew",data:(H=e(t))==null?void 0:H.posters,title:"Poster",type:"poster",index:0},null,8,["data"])):p("",!0),(K=e(t))!=null&&K.backdrops&&((O=(J=e(t))==null?void 0:J.backdrops)==null?void 0:O.length)>0?(l(),n(h,{key:3,id:"backdrop",next_id:"",previous_id:"backdrop","color-palette":(W=(Q=e(t))==null?void 0:Q.color_palette)==null?void 0:W.poster,data:(X=e(t))==null?void 0:X.backdrops,title:"Backdrop",type:"backdrop",index:0},null,8,["color-palette","data"])):p("",!0)])):p("",!0)])]}),_:1}))]),_:1})]),_:1})}}});export{Pe as default};
