import{Y as K,j as We,c as N,h as o,o as a,l as y,a as Me,d as Ae,w as Te,i as s,t as M,y as r,F as Ee,p as Ie,ab as Re,C as Le,f as Ue,aC as Ge,Z as t,ar as He,b as c,H as Oe,v as u,B as L,an as Ze}from"./vue-ionic-Cv2or74p.js";import{$ as qe,b as Ve,d as q,n as V,o as Y,bC as Je,bD as Qe,bw as Xe}from"./index-pz_asidw.js";import{u as et}from"./useServerClient-B1SIICYQ.js";import{_ as g,C as j}from"./SpriteIcon.vue_vue_type_script_setup_true_lang-0Z77jUEB.js";import{_ as tt}from"./DropdownMenu.vue_vue_type_script_setup_true_lang-B1d9ZZu6.js";import{_ as st}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-Bi-0Ik3i.js";import{_ as at}from"./MediaCarousel.vue_vue_type_script_setup_true_lang-BaMNlvfV.js";import{_ as Ye}from"./TMDBImage.vue_vue_type_script_setup_true_lang-DWY7ZbMR.js";import{_ as lt}from"./ScrollContainer.vue_vue_type_script_setup_true_lang-CuApmf6h.js";import{_ as rt}from"./NotFound.vue_vue_type_script_setup_true_lang-DkwwCYNp.js";import{b7 as Ke}from"./vendor-F08gofix.js";import"./media-C2AqgyMX.js";import"./icons-BW5E66pf.js";import"./api-BBofn2cc.js";import"./swiper-DhG1br88.js";import"./music-player-Dgg5bFLw.js";import"./rxjs-BCp2L9Rn.js";import"./useInfiniteServerClient-C3c-JmFm.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Carousel-jXxNqVTv.js";import"./swiper-config-Bu9mHf7T.js";import"./MediaCard.vue_vue_type_script_setup_true_lang-D7NnI3zY.js";import"./CardIndicator.vue_vue_type_script_setup_true_lang-DrS9judJ.js";import"./AppLogoSquare-DwFk-Amv.js";const ot=["href","target"],it=K({__name:"DropdownLink",props:{href:{type:String,required:!0},target:{type:String,required:!1,default:null}},setup(f){return(b,e)=>{const k=We("RouterLink");return f.href.startsWith("http")?(a(),o("a",{key:1,href:f.href,target:f.target,class:"block w-full px-4 py-2 text-start text-sm leading-5 transition duration-150 ease-in-out text-auto-12 hover:bg-theme-6 focus:bg-theme-3 focus:outline-none"},[Me(b.$slots,"default")],8,ot)):(a(),N(k,{key:0,to:f.href,target:f.target,class:"block w-full px-4 py-2 text-start text-sm leading-5 transition duration-150 ease-in-out text-auto-12 hover:bg-theme-6 focus:bg-theme-3 focus:outline-none"},{default:y(()=>[Me(b.$slots,"default")]),_:3},8,["to","target"]))}}}),nt={class:"flex flex-col justify-start h-[calc(100%-1rem)] items-start w-40 sm:w-48 2xl:w-80 mx-auto absolute left-4 sm:left-12 top-4 rounded-2xl"},ct={class:"sticky top-14 flex h-auto w-full flex-col gap-4"},dt=["id"],ut={class:"relative flex h-full w-full flex-col"},ft={class:"relative grid grid-cols-4 gap-2 group/personCard"},mt=["onClick"],pt=K({__name:"FloatingPersonCard",props:{data:{type:Object,required:!1}},setup(f){var k,$,D;const b=f,e=Ae((D=($=(k=b.data)==null?void 0:k.images)==null?void 0:$.profiles)==null?void 0:D[0]);return Te(b,l=>{var i,n,d;e.value=(d=(n=(i=l.data)==null?void 0:i.images)==null?void 0:n.profiles)==null?void 0:d[0]}),(l,i)=>{var n,d,w,m,p,_,x,P,S;return a(),o("div",nt,[s("div",ct,[s("div",{id:((n=f.data)==null?void 0:n.id)??"x",class:M([(d=f.data)!=null&&d.deathday?"outline outline-white":"","relative z-0 block w-auto select-none overflow-clip rounded-2xl transitioning aspect-poster"])},[s("div",ut,[r(Ye,{path:((w=e.value)==null?void 0:w.src)??((m=f.data)==null?void 0:m.poster),size:180,colorPalette:(_=(p=f.data)==null?void 0:p.color_palette)==null?void 0:_.profile,className:"pointer-events-none absolute inset-0 z-20 flex h-full w-full object-cover transition-transform duration-500 trickle-div"},null,8,["path","colorPalette"])])],10,dt),s("div",ft,[(a(!0),o(Ee,null,Ie((S=(P=(x=f.data)==null?void 0:x.images)==null?void 0:P.profiles)==null?void 0:S.slice(0,4),v=>{var B,z,F;return a(),o("div",{key:v.src,onClick:()=>e.value=v,class:"relative h-auto w-full cursor-pointer overflow-clip rounded-xl transition-all duration-200 aspect-poster focus-outline"},[s("div",{class:M([v.src==((B=e.value)==null?void 0:B.src)?"opacity-0":"opacity-100","absolute inset-0 z-30 grid h-auto w-full items-center justify-center bg-black/60 group-hover/personCard:opacity-0 transition-all duration-200 aspect-poster"])},null,2),r(Ye,{path:v.src,colorPalette:(F=(z=f.data)==null?void 0:z.color_palette)==null?void 0:F.profile,size:182,className:"relative z-0 block h-auto w-full select-none transitioning aspect-poster"},null,8,["path","colorPalette"])],8,mt)}),128))])])])}}}),ht={class:"relative mx-auto flex w-full flex-shrink-0 flex-grow-0 items-end justify-start gap-4 self-stretch rounded-lg p-4 max-w-screen-5xl"},_t={class:"flex flex-grow flex-col items-end justify-start gap-2 pt-[290px] w-available"},xt={class:"relative flex w-full flex-grow flex-col items-start justify-start gap-4"},wt={class:"relative mt-8 -mb-2 flex flex-col justify-start self-stretch sm:mt-4 sm:items-center sm:gap-4 lg:flex-row"},gt={class:"ml-auto flex w-full items-center justify-end gap-2",style:{width:"432px"}},bt=["href"],vt=["href"],yt=["href"],kt=["href"],$t=["href"],jt=["href"],Ct=["href"],Dt=["href"],Pt={class:"relative flex items-center justify-center overflow-hidden rounded-lg p-1.5 sm:p-2"},St={class:"relative flex flex-col items-start justify-start self-stretch py-4 sm:gap-4"},Bt={class:"flex w-full flex-col flex-wrap items-start gap-6 sm:flex-row sm:gap-2"},zt={class:"relative flex w-auto flex-col items-start justify-center gap-1 sm:w-[30%] lg:w-[15%] xl:w-[15%] 2xl:w-[11%]"},Ft={key:0,class:"flex-shrink-0 flex-grow-0 text-xs font-bold uppercase text-auto-alpha-11"},Nt={class:"text-left text-base font-medium"},Mt={class:"relative flex w-auto flex-col items-start justify-center gap-1 sm:w-[39%] lg:w-[20%] xl:w-[20%] 2xl:w-[14%]"},Lt={key:0,class:"flex-shrink-0 flex-grow-0 text-xs font-bold uppercase text-auto-alpha-11"},qt={class:"text-left text-base font-medium"},Vt={class:"relative flex w-auto flex-col items-start justify-start gap-1 sm:w-[25%] lg:w-[15%] xl:w-[9%]"},Yt={key:0,class:"flex-shrink-0 flex-grow-0 text-xs font-bold uppercase text-auto-alpha-11"},Kt={class:"text-left text-base font-medium"},Tt={class:"relative flex w-full flex-col items-start justify-center gap-1 lg:w-auto 2xl:w-[23%]"},Wt={key:0,class:"flex w-full flex-shrink-0 flex-grow-0 gap-2 text-xs font-bold uppercase text-auto-alpha-10"},At={key:0,class:"mr-8 ml-auto flex flex-shrink-0 flex-grow-0 gap-2 text-xs font-bold uppercase text-auto-alpha-10"},Et={key:0,class:"-mr-1 text-base -mt-[3px]"},It={key:1,class:"text-left text-base font-medium"},Rt={class:"relative flex w-full flex-col items-start justify-start gap-1 lg:w-auto xl:flex-grow"},Ut={key:0,class:"flex-shrink-0 flex-grow-0 self-stretch text-xs font-bold uppercase text-auto-alpha-10"},Gt={class:"w-full self-stretch whitespace-pre-wrap text-base font-medium"},Ht={class:"relative flex w-full flex-col items-start justify-start gap-2"},Ot={class:"flex-shrink-0 flex-grow-0 text-xs font-bold uppercase text-auto-alpha-11"},Zt={key:0,class:"self-stretch whitespace-pre-line text-base font-medium leading-[173%]"},Jt={class:"mb-8 -ml-1 w-[101.5%]"},Qt={class:"-ml-5 w-[100.6%]"},C="combined",ks=K({__name:"Desktop",setup(f){const b=Re(),{data:e,isError:k}=et({queryKey:["base","person",b.params.id]}),$=Le(()=>{var l,i,n,d,w;if((l=e.value)!=null&&l.deathday){const m=new Date((i=e.value)==null?void 0:i.birthday),p=new Date((n=e.value)==null?void 0:n.deathday),_=p.getFullYear()-m.getFullYear(),x=p.getMonth()-m.getMonth();return x<0||x===0&&p.getDate()<m.getDate()?_-1:_}if((d=e.value)!=null&&d.birthday){const m=new Date((w=e.value)==null?void 0:w.birthday),p=new Date,_=p.getFullYear()-m.getFullYear(),x=p.getMonth()-m.getMonth();return x<0||x===0&&p.getDate()<m.getDate()?_-1:_}}),D=Le(()=>{var l,i,n;if(typeof((l=e.value)==null?void 0:l.gender)!="number")return(i=e.value)==null?void 0:i.gender;switch((n=e.value)==null?void 0:n.gender){case 0:return"Not specified";case 1:return"Female";case 2:return"Male";case 3:return"Non-binary";default:return null}});return Te(e,l=>{var i,n,d;qe((i=e==null?void 0:e.value)==null?void 0:i.name),q(((d=(n=l==null?void 0:l.known_for)==null?void 0:n.at(0))==null?void 0:d.backdrop)??null)}),Ue(()=>{var l,i,n,d;qe((l=e==null?void 0:e.value)==null?void 0:l.name),Ve(null),q(((d=(n=(i=e==null?void 0:e.value)==null?void 0:i.known_for)==null?void 0:n.at(0))==null?void 0:d.backdrop)??null)}),Ge(()=>{q(null),Ve(null)}),(l,i)=>(a(),N(t(Ze),null,{default:y(()=>[r(t(He),{fullscreen:!0},{default:y(()=>[t(k)&&!t(e)?(a(),N(rt,{key:0})):(a(),N(lt,{key:1,autoHide:!0,static:!0},{default:y(()=>{var n,d,w,m,p,_,x,P,S,v,B,z,F,T,W,A,E,I,R,U,G,H,O,Z,J,Q,X,ee,te,se,ae,le,re,oe,ie,ne,ce,de,ue,fe,me,pe,he,_e,xe,we,ge,be,ve,ye,ke,$e,je,Ce,De,Pe,Se,Be,ze,Fe,Ne;return[t(e)?(a(),o("div",{key:0,class:M([{"pb-24":t(V)&&!t(Y),"pb-40":t(V)&&t(Y),"children:pb-4 sm:children:pb-3":!t(V)&&t(Y)},"flex bg-black/50 w-available relative"])},[s("div",ht,[s("div",_t,[s("div",{class:M(`flex w-full items-start justify-start self-stretch rounded-2xl pr-4 pl-52 gap-[280px]  bg-gradient-to-b from-auto-1/12 via-auto-1/12 to-auto-1/11 border-1 sm:py-2 sm:pl-64 2xl:pl-96 ${(n=t(e))!=null&&n.deathday?"border-auto-12":"border-auto-12/4"}`)},[s("div",xt,[s("div",wt,[s("p",{style:Oe(`font-size: min(calc(150px / ${(w=(d=t(e))==null?void 0:d.name)==null?void 0:w.length} + 3ch), 2rem)`),class:"mb-2 flex-grow text-5xl font-bold leading-[150%]"},u(t(Je)(((m=t(e))==null?void 0:m.name)??"","text-base sm:text-xl -mt-2")),5),s("div",gt,[s("a",{href:`https://www.themoviedb.org/person/${(p=t(e))==null?void 0:p.id}`,class:"relative mr-2 flex items-center justify-center overflow-hidden rounded-lg p-1.5 sm:p-2",target:"_blank"},[r(g,{icon:"tmdb",class:"!w-12"})],8,bt),(x=(_=t(e))==null?void 0:_.external_ids)!=null&&x.facebook_id?(a(),o("a",{key:0,href:`https://www.facebook.com/${(P=t(e))==null?void 0:P.external_ids.facebook_id}`,class:"relative flex items-center justify-center overflow-hidden rounded-lg p-1.5 sm:p-2",target:"_blank"},[r(g,{icon:"facebook",class:"w-6"})],8,vt)):c("",!0),(v=(S=t(e))==null?void 0:S.external_ids)!=null&&v.twitter_id?(a(),o("a",{key:1,href:`https://twitter.com/${(z=(B=t(e))==null?void 0:B.external_ids)==null?void 0:z.twitter_id}`,class:"relative flex items-center justify-center overflow-hidden rounded-lg p-1.5 sm:p-2",target:"_blank"},[r(g,{icon:"twitter",class:"w-6"})],8,yt)):c("",!0),(T=(F=t(e))==null?void 0:F.external_ids)!=null&&T.instagram_id?(a(),o("a",{key:2,href:`https://instagram.com/${(A=(W=t(e))==null?void 0:W.external_ids)==null?void 0:A.instagram_id}`,class:"relative flex items-center justify-center overflow-hidden rounded-lg p-1.5 sm:p-2",target:"_blank"},[r(g,{icon:"instagram",class:"w-6"})],8,kt)):c("",!0),(I=(E=t(e))==null?void 0:E.external_ids)!=null&&I.youtube_id?(a(),o("a",{key:3,href:`https://youtube.com/channel/${(U=(R=t(e))==null?void 0:R.external_ids)==null?void 0:U.youtube_id}`,class:"relative flex items-center justify-center overflow-hidden rounded-lg p-1.5 sm:p-2",target:"_blank"},[r(g,{icon:"youtube",class:"w-6"})],8,$t)):c("",!0),(H=(G=t(e))==null?void 0:G.external_ids)!=null&&H.tiktok_id?(a(),o("a",{key:4,href:`https://tiktok.com/@${(Z=(O=t(e))==null?void 0:O.external_ids)==null?void 0:Z.tiktok_id}`,class:"relative flex items-center justify-center overflow-hidden rounded-lg p-1.5 sm:p-2",target:"_blank"},[r(g,{icon:"tiktok",class:"w-6"})],8,jt)):c("",!0),(Q=(J=t(e))==null?void 0:J.external_ids)!=null&&Q.imdb_id?(a(),o("a",{key:5,href:`https://www.imdb.com/name/${(ee=(X=t(e))==null?void 0:X.external_ids)==null?void 0:ee.imdb_id}`,class:"relative flex items-center justify-center overflow-hidden rounded-lg p-1.5 sm:p-2",target:"_blank"},[r(g,{icon:"imdb",class:"w-6"})],8,Ct)):c("",!0),(se=(te=t(e))==null?void 0:te.external_ids)!=null&&se.wikidata_id?(a(),o("a",{key:6,href:`https://www.wikidata.org/wiki/${(le=(ae=t(e))==null?void 0:ae.external_ids)==null?void 0:le.wikidata_id}`,class:"relative flex items-center justify-center overflow-hidden rounded-lg p-1.5 sm:p-2",target:"_blank"},[r(g,{icon:"wikipedia",class:"w-6"})],8,Dt)):c("",!0),r(tt,null,{button:y(()=>[s("div",Pt,[r(st,{class:"w-6 text-auto-12",icon:"menuDotsVertical"})])]),default:y(()=>[r(it,{target:"_blank",href:`https://www.themoviedb.org/person/${t(e).id}/edit`},{default:y(()=>[L(u(l.$t("Edit on TMDb")),1)]),_:1},8,["href"])]),_:1})]),i[0]||(i[0]=s("div",{class:"mt-4 h-px self-stretch bg-white/10 sm:mt-0"},null,-1))]),s("div",St,[s("div",Bt,[s("div",zt,[(re=t(e))!=null&&re.known_for_department?(a(),o("p",Ft,u(l.$t("Known For")),1)):c("",!0),s("p",Nt,u((oe=t(e))==null?void 0:oe.known_for_department),1)]),s("div",Mt,[(ne=(ie=t(e))==null?void 0:ie.combined_credits)!=null&&ne.cast?(a(),o("p",Lt,u(l.$t("Known Credits")),1)):c("",!0),s("p",qt,u((ue=(de=(ce=t(e))==null?void 0:ce.combined_credits)==null?void 0:de.cast)==null?void 0:ue.length),1)]),s("div",Vt,[D.value?(a(),o("p",Yt,u(l.$t("Gender")),1)):c("",!0),s("p",Kt,u(D.value),1)]),s("div",Tt,[$.value?(a(),o("p",Wt,[L(u(l.$t("Birthday"))+" ",1),t(e).deathday?(a(),o("span",At,[t(e).deathday?(a(),o("span",Et,"†")):c("",!0),L(" "+u(new Date((fe=t(e))==null?void 0:fe.deathday).toLocaleDateString(t(Ke).language??"en-US",{year:"numeric",month:"short",day:"2-digit"})),1)])):c("",!0)])):c("",!0),$.value?(a(),o("p",It,u(new Date((me=t(e))==null?void 0:me.birthday).toLocaleDateString(t(Ke).language??"en-US",{year:"numeric",month:"short",day:"2-digit"}))+" ("+u($.value)+" "+u(l.$t("years old"))+") ",1)):c("",!0)]),s("div",Rt,[(pe=t(e))!=null&&pe.place_of_birth?(a(),o("p",Ut,u(l.$t("Place of Birth")),1)):c("",!0),s("p",Gt,u((he=t(e))==null?void 0:he.place_of_birth),1)])]),i[1]||(i[1]=s("div",{class:"mt-4 h-px self-stretch bg-white/10 sm:mt-0"},null,-1))]),s("div",Ht,[s("p",Ot,u(l.$t("Biography")),1),(_e=t(e))!=null&&_e.biography?(a(),o("p",Zt,u(t(Qe)((xe=t(e))==null?void 0:xe.biography)),1)):c("",!0)]),s("div",Jt,[s("div",Qt,[(we=t(e))!=null&&we.known_for&&((be=(ge=t(e))==null?void 0:ge.known_for)==null?void 0:be.length)>0?(a(),N(at,{key:0,"color-palette":(ve=t(e))==null?void 0:ve.color_palette,data:t(Xe)(t(e).known_for,"id"),limitCardCountBy:2,title:"Known for",disableAutoAspect:!0,type:"poster"},null,8,["color-palette","data"])):c("",!0)])]),r(j,{items:(ke=(ye=t(e))==null?void 0:ye[`${C}_credits`])==null?void 0:ke.cast,title:"Acting"},null,8,["items"]),r(j,{items:(je=($e=t(e))==null?void 0:$e[`${C}_credits`])==null?void 0:je.crew.filter(h=>h.job.includes("Produc")),title:"Production"},null,8,["items"]),r(j,{items:(De=(Ce=t(e))==null?void 0:Ce[`${C}_credits`])==null?void 0:De.crew.filter(h=>h.job.includes("Writ")),title:"Writing"},null,8,["items"]),r(j,{items:(Se=(Pe=t(e))==null?void 0:Pe[`${C}_credits`])==null?void 0:Se.crew.filter(h=>h.job.includes("Direct")),title:"Directing"},null,8,["items"]),r(j,{items:(ze=(Be=t(e))==null?void 0:Be[`${C}_credits`])==null?void 0:ze.crew.filter(h=>!h.job.includes("Produc")&&!h.job.includes("Writ")&&!h.job.includes("Direct")&&!h.job.includes("Creator")),title:"Crew"},null,8,["items"]),r(j,{items:(Ne=(Fe=t(e))==null?void 0:Fe[`${C}_credits`])==null?void 0:Ne.crew.filter(h=>h.job.includes("Creator")),title:"Creator"},null,8,["items"])])],2)]),r(pt,{data:t(e)},null,8,["data"])])],2)):c("",!0)]}),_:1}))]),_:1})]),_:1}))}});export{ks as default};
