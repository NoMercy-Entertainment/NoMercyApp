import{$l as W,As as me,Cl as w,D as fe,Dl as b,El as le,Hl as h,Ii as G,Kl as oe,Mi as pe,N as ge,Oi as ve,Qc as z,Sl as f,T as N,Ur as ye,Wl as be,X as xe,Xr as K,Z as M,Zr as we,_t as Q,bc as V,bl as c,ca as O,gs as L,gu as _,hl as ue,hu as u,it as B,iu as ke,k as F,kl as P,ll as $,mi as Se,mu as X,ni as j,pi as _e,sa as I,su as H,ti as q,tu as E,uu as Ce,vu as Ee,xl as v,xt as ze,ya as Z,yc as U,yl as y,yu as k,zl as Me,zr as Oe,zt as Re}from"./index-Rmty3EhQ.js";import{t as Te}from"./DropdownMenu-DxHJQyQ4.js";import{n as Ie}from"./dist-DQBaa2g2.js";import{t as Ae}from"./MusicButton-BDm3UUiV.js";import{t as $e}from"./BannerButton-lvahxp1k.js";import{t as de}from"./MediaLikeButton-B9Fyvy0Z.js";import{t as J}from"./PlayerIcon-C2KKCYXN.js";import{t as Y}from"./Marquee-CUrOegTi.js";import{n as je,t as ee}from"./BigPlayButton-B0le291i.js";import{n as te,t as De}from"./EqSpinner-3_wPAsSo.js";import{t as se}from"./ShareButton--rNR4vbs.js";function A(a,s,e){let t=e.initialDeps??[],i;function r(){var n,l,o,d;let m;e.key&&((n=e.debug)!=null&&n.call(e))&&(m=Date.now());const p=a();if(!(p.length!==t.length||p.some((g,C)=>t[C]!==g)))return i;t=p;let S;if(e.key&&((l=e.debug)!=null&&l.call(e))&&(S=Date.now()),i=s(...p),e.key&&((o=e.debug)!=null&&o.call(e))){const g=Math.round((Date.now()-m)*100)/100,C=Math.round((Date.now()-S)*100)/100,x=C/16,R=(T,he)=>{for(T=String(T);T.length<he;)T=" "+T;return T};console.info(`%c⏱ ${R(C,5)} /${R(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,e?.key)}return(d=e?.onChange)==null||d.call(e,i),i}return r.updateDeps=n=>{t=n},r}function ae(a,s){if(a===void 0)throw new Error(`Unexpected undefined${s?`: ${s}`:""}`);return a}var Fe=(a,s)=>Math.abs(a-s)<1.01,Pe=(a,s,e)=>{let t;return function(...i){a.clearTimeout(t),t=a.setTimeout(()=>s.apply(this,i),e)}},ie=a=>{const{offsetWidth:s,offsetHeight:e}=a;return{width:s,height:e}},We=a=>a,Le=a=>{const s=Math.max(a.startIndex-a.overscan,0),e=Math.min(a.endIndex+a.overscan,a.count-1),t=[];for(let i=s;i<=e;i++)t.push(i);return t},Be=(a,s)=>{const e=a.scrollElement;if(!e)return;const t=a.targetWindow;if(!t)return;const i=n=>{const{width:l,height:o}=n;s({width:Math.round(l),height:Math.round(o)})};if(i(ie(e)),!t.ResizeObserver)return()=>{};const r=new t.ResizeObserver(n=>{const l=()=>{const o=n[0];if(o?.borderBoxSize){const d=o.borderBoxSize[0];if(d){i({width:d.inlineSize,height:d.blockSize});return}}i(ie(e))};a.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return r.observe(e,{box:"border-box"}),()=>{r.unobserve(e)}},ne={passive:!0},re=typeof window>"u"?!0:"onscrollend"in window,He=(a,s)=>{const e=a.scrollElement;if(!e)return;const t=a.targetWindow;if(!t)return;let i=0;const r=a.options.useScrollendEvent&&re?()=>{}:Pe(t,()=>{s(i,!1)},a.options.isScrollingResetDelay),n=m=>()=>{const{horizontal:p,isRtl:S}=a.options;i=p?e.scrollLeft*(S&&-1||1):e.scrollTop,r(),s(i,m)},l=n(!0),o=n(!1);o(),e.addEventListener("scroll",l,ne);const d=a.options.useScrollendEvent&&re;return d&&e.addEventListener("scrollend",o,ne),()=>{e.removeEventListener("scroll",l),d&&e.removeEventListener("scrollend",o)}},qe=(a,s,e)=>{if(s?.borderBoxSize){const t=s.borderBoxSize[0];if(t)return Math.round(t[e.options.horizontal?"inlineSize":"blockSize"])}return a[e.options.horizontal?"offsetWidth":"offsetHeight"]},Ne=(a,{adjustments:s=0,behavior:e},t)=>{var i,r;const n=a+s;(r=(i=t.scrollElement)==null?void 0:i.scrollTo)==null||r.call(i,{[t.options.horizontal?"left":"top"]:n,behavior:e})},Ve=class{constructor(a){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let s=null;const e=()=>s||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:s=new this.targetWindow.ResizeObserver(t=>{t.forEach(i=>{const r=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()})}));return{disconnect:()=>{var t;(t=e())==null||t.disconnect(),s=null},observe:t=>{var i;return(i=e())==null?void 0:i.observe(t,{box:"border-box"})},unobserve:t=>{var i;return(i=e())==null?void 0:i.unobserve(t)}}})(),this.range=null,this.setOptions=s=>{Object.entries(s).forEach(([e,t])=>{typeof t>"u"&&delete s[e]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:We,rangeExtractor:Le,onChange:()=>{},measureElement:qe,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...s}},this.notify=s=>{var e,t;(t=(e=this.options).onChange)==null||t.call(e,this,s)},this.maybeNotify=A(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),s=>{this.notify(s)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(s=>s()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var s;const e=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==e){if(this.cleanup(),!e){this.maybeNotify();return}this.scrollElement=e,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((s=this.scrollElement)==null?void 0:s.window)??null,this.elementsCache.forEach(t=>{this.observer.observe(t)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,t=>{this.scrollRect=t,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(t,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<t?"forward":"backward":null,this.scrollOffset=t,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(s,e)=>{const t=new Map,i=new Map;for(let r=e-1;r>=0;r--){const n=s[r];if(t.has(n.lane))continue;const l=i.get(n.lane);if(l==null||n.end>l.end?i.set(n.lane,n):n.end<l.end&&t.set(n.lane,!0),t.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((r,n)=>r.end===n.end?r.index-n.index:r.end-n.end)[0]:void 0},this.getMeasurementOptions=A(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(s,e,t,i,r)=>(this.pendingMeasuredCacheIndexes=[],{count:s,paddingStart:e,scrollMargin:t,getItemKey:i,enabled:r}),{key:!1}),this.getMeasurements=A(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:s,paddingStart:e,scrollMargin:t,getItemKey:i,enabled:r},n)=>{if(!r)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const o=this.measurementsCache.slice(0,l);for(let d=l;d<s;d++){const m=i(d),p=this.options.lanes===1?o[d-1]:this.getFurthestMeasurement(o,d),S=p?p.end+this.options.gap:e+t,g=n.get(m),C=typeof g=="number"?g:this.options.estimateSize(d),x=S+C,R=p?p.lane:d%this.options.lanes;o[d]={index:d,start:S,size:C,end:x,key:m,lane:R}}return this.measurementsCache=o,o},{key:!1,debug:()=>this.options.debug}),this.calculateRange=A(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(s,e,t,i)=>this.range=s.length>0&&e>0?Ue({measurements:s,outerSize:e,scrollOffset:t,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=A(()=>{let s=null,e=null;const t=this.calculateRange();return t&&(s=t.startIndex,e=t.endIndex),this.maybeNotify.updateDeps([this.isScrolling,s,e]),[this.options.rangeExtractor,this.options.overscan,this.options.count,s,e]},(s,e,t,i,r)=>i===null||r===null?[]:s({startIndex:i,endIndex:r,overscan:e,count:t}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=s=>{const e=this.options.indexAttribute,t=s.getAttribute(e);return t?parseInt(t,10):(console.warn(`Missing attribute name '${e}={index}' on measured element.`),-1)},this._measureElement=(s,e)=>{const t=this.indexFromElement(s),i=this.measurementsCache[t];if(!i)return;const r=i.key,n=this.elementsCache.get(r);n!==s&&(n&&this.observer.unobserve(n),this.observer.observe(s),this.elementsCache.set(r,s)),s.isConnected&&this.resizeItem(t,this.options.measureElement(s,e,this))},this.resizeItem=(s,e)=>{const t=this.measurementsCache[s];if(!t)return;const i=e-(this.itemSizeCache.get(t.key)??t.size);i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(t,i,this):t.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,e)),this.notify(!1))},this.measureElement=s=>{if(!s){this.elementsCache.forEach((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))});return}this._measureElement(s,void 0)},this.getVirtualItems=A(()=>[this.getVirtualIndexes(),this.getMeasurements()],(s,e)=>{const t=[];for(let i=0,r=s.length;i<r;i++){const n=e[s[i]];t.push(n)}return t},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=s=>{const e=this.getMeasurements();if(e.length!==0)return ae(e[ce(0,e.length-1,t=>ae(e[t]).start,s)])},this.getOffsetForAlignment=(s,e,t=0)=>{const i=this.getSize(),r=this.getScrollOffset();e==="auto"&&(e=s>=r+i?"end":"start"),e==="center"?s+=(t-i)/2:e==="end"&&(s-=i);const n=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(n,s),0)},this.getOffsetForIndex=(s,e="auto")=>{s=Math.max(0,Math.min(s,this.options.count-1));const t=this.measurementsCache[s];if(!t)return;const i=this.getSize(),r=this.getScrollOffset();if(e==="auto")if(t.end>=r+i-this.options.scrollPaddingEnd)e="end";else if(t.start<=r+this.options.scrollPaddingStart)e="start";else return[r,e];const n=e==="end"?t.end+this.options.scrollPaddingEnd:t.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(n,e,t.size),e]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(s,{align:e="start",behavior:t}={})=>{t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(s,e),{adjustments:void 0,behavior:t})},this.scrollToIndex=(s,{align:e="auto",behavior:t}={})=>{t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),s=Math.max(0,Math.min(s,this.options.count-1));let i=0;const r=10,n=o=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(s,o);if(!d){console.warn("Failed to get offset for index:",s);return}const[m,p]=d;this._scrollToOffset(m,{adjustments:void 0,behavior:t}),this.targetWindow.requestAnimationFrame(()=>{const S=this.getScrollOffset(),g=this.getOffsetForIndex(s,p);if(!g){console.warn("Failed to get offset for index:",s);return}Fe(g[0],S)||l(p)})},l=o=>{this.targetWindow&&(i++,i<r?this.targetWindow.requestAnimationFrame(()=>n(o)):console.warn(`Failed to scroll to index ${s} after ${r} attempts.`))};n(e)},this.scrollBy=(s,{behavior:e}={})=>{e==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+s,{adjustments:void 0,behavior:e})},this.getTotalSize=()=>{var s;const e=this.getMeasurements();let t;if(e.length===0)t=this.options.paddingStart;else if(this.options.lanes===1)t=((s=e[e.length-1])==null?void 0:s.end)??0;else{const i=Array(this.options.lanes).fill(null);let r=e.length-1;for(;r>=0&&i.some(n=>n===null);){const n=e[r];i[n.lane]===null&&(i[n.lane]=n.end),r--}t=Math.max(...i.filter(n=>n!==null))}return Math.max(t-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(s,{adjustments:e,behavior:t})=>{this.options.scrollToFn(s,{behavior:t,adjustments:e},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(a)}},ce=(a,s,e,t)=>{for(;a<=s;){const i=(a+s)/2|0,r=e(i);if(r<t)a=i+1;else if(r>t)s=i-1;else return i}return a>0?a-1:0};function Ue({measurements:a,outerSize:s,scrollOffset:e,lanes:t}){const i=a.length-1,r=o=>a[o].start;if(a.length<=t)return{startIndex:0,endIndex:i};let n=ce(0,i,r,e),l=n;if(t===1)for(;l<i&&a[l].end<e+s;)l++;else if(t>1){const o=Array(t).fill(0);for(;l<i&&o.some(m=>m<e+s);){const m=a[l];o[m.lane]=m.end,l++}const d=Array(t).fill(e+s);for(;n>=0&&d.some(m=>m>=e);){const m=a[n];d[m.lane]=m.start,n--}n=Math.max(0,n-n%t),l=Math.min(i,l+(t-1-l%t))}return{startIndex:n,endIndex:l}}$();function Ge(a){const s=new Ve(u(a)),e=Ce(s),t=s._didMount();return W(()=>u(a).getScrollElement(),i=>{i&&s._willUpdate()},{immediate:!0}),W(()=>u(a),i=>{s.setOptions({...i,onChange:(r,n)=>{var l;X(e),(l=i.onChange)==null||l.call(i,r,n)}}),s._willUpdate(),X(e)},{immediate:!0}),ke(t),e}function Bt(a){return Ge(y(()=>({observeElementRect:Be,observeElementOffset:He,scrollToFn:Ne,...u(a)})))}$();U();var Ke={class:"flex sm:gap-4 items-center py-4 px-4 sm:px-8 w-full pl-3 pr-4 sm:pr-10 h-20 z-40","data-index":"1"},Qe={class:"relative hidden h-fit cursor-pointer items-center justify-center focus-within:text-surface sm:flex mr-auto"},Xe=["value"],Ze={class:"absolute top-2 right-2 bottom-2 flex items-center justify-center"},Je=P({__name:"ControlHeader",props:{data:{type:Object,required:!1},filter:{type:String,required:!0}},emits:["filterChange"],setup(a){const s=a,e=V();function t(){M.setQueue(s.data?.tracks??[])}const i=y(()=>({title:s.data?.name??"",url:`https://app.nomercy.tv${e.fullPath}`}));return(r,n)=>(h(),w(ue,null,[n[1]||(n[1]=c("div",{class:"pointer-events-none absolute z-0 h-96 w-full"},null,-1)),c("div",Ke,[a.data?.tracks?(h(),v(ee,{key:0,data:a.data,class:"hidden sm:flex"},null,8,["data"])):f("",!0),c("div",Qe,[c("input",{id:"search",value:a.filter,class:"bg-transparent border-surface-12/5 border-2 rounded-md focus-visible:!border-surface-12/9 focus-visible:text-white placeholder-current p-2",name:"search",placeholder:"Filter…",type:"text",onInput:n[0]||(n[0]=l=>r.$emit("filterChange",l.target?.value))},null,40,Xe),c("div",Ze,[b(F,{class:"!w-7",icon:"searchMagnifyingGlass"})])]),b(se,{"share-data":i.value,class:"!p-0 hidden sm:flex sm:ml-auto"},null,8,["share-data"]),b(de,{data:a.data,"class-name":"!w-8 !h-8",color:"var(--color-theme-8)"},null,8,["data"]),b(se,{class:"!p-0 sm:hidden"}),u(Oe)?(h(),v(Ae,{key:1,id:"add",onclick:t,class:"",label:"Add"},{default:E(()=>[b(F,{class:"!w-7",icon:"add"})]),_:1})):f("",!0)]),c("div",{class:_([{"top-11":!u(z)("capacitor"),"top-10":u(z)("capacitor")},"sm:hidden sticky left-full -mt-16 z-1199 flex justify-center items-center gap-2 mr-4 h-auto"]),style:{"box-shadow":"0 1px 2px 0 rgba(16, 24, 40, 0.05)"}},[a.data?.tracks?(h(),v(ee,{key:0,data:a.data},null,8,["data"])):f("",!0)],2)],64))}}),Ht=Je;$();var Ye={key:2,class:"absolute grid inset-0 bg-black/40 w-full items-center justify-center flex-col opacity-0 group-hover/cover:opacity-100 transition-all duration-100"},et={class:"p-4 font-semibold text-theme-8 text-lg"},tt={key:0,class:"relative my-4 flex w-full flex-1 flex-shrink-0 flex-col items-start justify-start gap-4 flex-grow-1 sm:hidden"},st=["innerHTML"],at={class:"relative hidden flex-1 flex-shrink-0 flex-col items-start justify-start gap-1 flex-grow-1 sm:flex cursor-pointer"},it={class:"text-left font-semibold uppercase"},nt=["innerHTML"],rt={class:"relative flex items-center justify-start gap-2 text-sm"},lt={class:"relative flex items-center justify-start gap-2"},ot={key:0,class:"flex items-center gap-4 text-sm font-medium"},ut={key:0,class:"relative aspect-square h-12 w-12 overflow-clip rounded-full min-w-12"},dt={key:1,class:"text-left text-sm font-medium"},ct={class:"text-left text-sm font-medium"},ht={key:2,class:"text-left text-sm font-medium"},mt={class:"text-left text-sm font-medium"},ft=P({__name:"ArtistHeader",props:{data:{type:Object,required:!1}},setup(a){const s=a,{t:e}=Ie(),t=H("");H();const i=H();function r(o){if(o)return _e(e,o?.tracks?.map(d=>Se(d.duration)).reduce((d,m)=>d+m,0)??0)}W(s,o=>{o&&(t.value=r(o.data))}),Me(()=>{t.value=r(s.data)}),W(i,o=>{!o||!M._audioElement1?.motion||!M._audioElement2?.motion||(M._audioElement1?.motion.registerGradient("theme",{bgColor:"transparent",dir:"h",colorStops:[getComputedStyle(o).backgroundColor]}),M._audioElement1.motion.gradient="theme",M._audioElement2?.motion.registerGradient("theme",{bgColor:"transparent",dir:"h",colorStops:[getComputedStyle(o).backgroundColor]}),M._audioElement2.motion.gradient="theme")});const n=y(()=>pe(ve(ye.value),150));function l(){const o=new CustomEvent("showModal",{detail:{modalName:"createPlaylist",modalTitle:"Edit {{name}}",modalTitleArgs:{name:s.data?.name},modalProps:s.data}});document.dispatchEvent(o)}return(o,d)=>{const m=oe("RouterLink");return h(),w("div",{id:"artist-header",class:_([{"pt-safe-offset-16 px-8 gap-4":u(z)("capacitor"),"pt-24 px-6 gap-2 sm:gap-12":!u(z)("capacitor"),"text-black/12":n.value,"text-white/12":!n.value},"relative z-0 flex flex-col items-end justify-start sm:flex-row sm:gap-9 sm:pt-8 sm:pb-8 sm:px-8"])},[c("div",{id:"audio-color",ref_key:"audioColor",ref:i,class:"absolute top-0 left-0 h-full w-full overflow-clip bg-focus",style:{background:"hsl(from var(--color-theme-8) h s 32%)"}},null,512),d[0]||(d[0]=c("div",{class:"absolute top-0 left-0 h-full w-full overflow-clip"},null,-1)),c("div",{class:_([{"-mt-4":u(z)("capacitor"),"":!u(z)("capacitor")},"frosting relative mx-auto group/cover flex aspect-square w-80 overflow-clip max-w-[90%] flex-col items-center justify-center rounded-xl bg-gradient-to-br min-w-64 bg-theme-6 from-theme-5 via-theme-6 to-theme-9 shadow cursor-pointer"]),onClick:l},[a.data?.cover?(h(),v(N,{key:0,id:"image",data:a.data,size:250,"class-name":"aspect-square rounded-xl w-full",loading:"eager"},null,8,["data"])):a.data?.id?(h(),v(je,{key:1,id:a.data.id,type:a.data.type,class:"aspect-square rounded-xl w-full"},null,8,["id","type"])):f("",!0),a.data?.type!=="track"?(h(),w("div",Ye,[c("span",et,k(o.$t("Change cover")),1)])):f("",!0)],2),a.data?.name?(h(),w("div",tt,[c("div",{class:"w-full text-2xl font-semibold whitespace-pre-line",innerHTML:u(G)(a.data?.name??"Songs you like","text-sm line-clamp-1")},null,8,st)])):f("",!0),c("div",at,[c("p",it,k(a.data?.type?.replace(/s$/u,"")),1),c("div",{class:"w-full text-5xl font-semibold line-clamp-2 leading-[130%] whitespace-pre",onClick:l,innerHTML:u(G)(a.data?.name??"Songs you like","text-2xl line-clamp-1")},null,8,nt),c("div",rt,k(a.data?.description),1),c("div",lt,[a.data?.artists?.length?(h(),w("div",ot,[a.data?.artists?.[0].cover?(h(),w("div",ut,[b(N,{id:"image",data:a.data?.artists?.[0],size:250,"class-name":"h-full w-full",loading:"eager"},null,8,["data"])])):f("",!0),b(m,{to:a.data?.artists?.[0].link??"#",class:"text-sm empty:hidden"},{default:E(()=>[le(k(a.data?.artists?.[0]?.name??"Various artists"),1)]),_:1},8,["to"])])):f("",!0),a.data?.tracks&&a.data?.artists?.length?(h(),w("p",dt," • ")):f("",!0),c("p",ct,k(a.data?.tracks?.length)+" "+k(a.data?.tracks?.length===1?u(e)("track"):u(e)("tracks")),1),(t.value?.length??0)>0&&a.data?.tracks?.length?(h(),w("p",ht," • ")):f("",!0),c("p",mt,k(t.value),1)])])],2)}}}),qt=ft;$();var pt=["onclick"],gt={class:""},vt=P({__name:"SortButton",props:{name:{type:String,required:!0},sortingType:{type:String,required:!0},iconSpacer:{type:String,default:""}},setup(a){function s(t){console.log("handleSortChange",t),j.value===t?K(q.value===I.asc?I.desc:I.asc):K(I.asc),we(t)}function e(t){const i=t.target;if(t.key==="ArrowUp"){const r=i.parentElement?.parentElement?.previousElementSibling;r&&r.nodeName==="BUTTON"||r.nodeName==="A"?r.focus():document.querySelector("#playList")?.focus()}else t.key==="ArrowDown"?i.parentElement?.parentElement?.nextElementSibling?.focus():t.key==="ArrowLeft"?i.previousElementSibling?.focus():t.key==="ArrowRight"&&i.nextElementSibling?.focus()}return(t,i)=>(h(),w("button",{onclick:()=>s(a.sortingType),onkeyup:e,class:"relative cursor-pointer items-center focus-visible:underline focus-visible:underline-offset-2","no-ring":""},[c("span",gt,k(t.$t(a.name)),1),u(q)===u(I).asc&&u(j)===a.sortingType&&u(j)!==u(O).index?(h(),v(F,{key:0,class:_(`w-6 h-6 ${a.iconSpacer}`),icon:"chevronUp"},null,8,["class"])):u(q)===u(I).desc&&u(j)===a.sortingType&&u(j)!==u(O).index?(h(),v(F,{key:1,class:_(`w-6 h-6 ${a.iconSpacer}`),icon:"chevronDown"},null,8,["class"])):f("",!0)],8,pt))}}),D=vt;$();U();var yt=P({__name:"SortHeader",setup(a){const s=V(),e=y(()=>s.path.startsWith("/music/album")),t=y(()=>s.path.startsWith("/music/artist")),i=y(()=>s.path.startsWith("/music/playlists")),r=y(()=>s.path.startsWith("/music/tracks")),n=y(()=>s.path.startsWith("/music/genres"));return(l,o)=>(h(),w("div",{id:"sortHeaderElement",class:_([{"top-safe-offset-[4rem]":u(z)("capacitor"),"top-safe-offset-16":!u(z)("capacitor")},"sticky -mx-4 px-4 z-30 mt-4 block h-10 content-center items-center justify-start self-stretch bg-transparent text-sm font-medium transition-all duration-200 w-available group/track sm:w-available sm:-top-px"])},[o[0]||(o[0]=c("span",{id:"sorterChild",class:"absolute inset-0 h-10 sm:rounded-t-2xl overflow-clip w-full transition-all duration-200"},null,-1)),c("span",{class:_([{"album-grid":e.value||i.value||r.value||n.value,"artist-grid":t.value},"grid justify-start items-center self-stretch pr-3 sm:px-3 rounded-lg group/track text-sm font-medium py-2 z-0 group/track"])},[b(D,{id:"sortIndex","aria-label":l.$t("Sort by index"),"sorting-type":u(O).index,class:"!flex justify-center","icon-spacer":"absolute left-6",name:"#"},null,8,["aria-label","sorting-type"]),b(D,{"aria-label":l.$t("Sort by name"),"sorting-type":u(O).name,class:"flex sm:flex","icon-spacer":"w-6 h-6",name:"Title"},null,8,["aria-label","sorting-type"]),b(D,{"aria-label":l.$t("Sort by album"),class:_([{"opacity-0":e.value},"!hidden sm:!flex"]),"sorting-type":u(O).album,"icon-spacer":"w-6 h-6",name:"Album"},null,8,["aria-label","class","sorting-type"]),b(D,{"aria-label":l.$t("Sort by date"),"sorting-type":u(O).date,class:"!hidden sm:!flex","icon-spacer":"w-6 h-6",name:"Release date"},null,8,["aria-label","sorting-type"]),b(D,{"aria-label":l.$t("Sort by duration"),"sorting-type":u(O).duration,class:"!hidden sm:!flex gap-2 flex-row-reverse pr-[4.5rem]","icon-spacer":"w-6 h-6",name:"Duration"},null,8,["aria-label","sorting-type"])],2)],2))}}),Nt=fe(yt,[["__scopeId","data-v-07989a8e"]]);$();U();var bt=["data-track-id"],xt={class:"flex justify-center text-center"},wt={key:0,class:"group-focus-visible/track:sm:hidden group-hover/track:sm:hidden"},kt={class:"flex h-12 items-center gap-2 overflow-hidden w-available sm:gap-4"},St={class:"flex h-full flex-col justify-evenly overflow-clip w-inherit"},_t={class:"flex h-6 flex-nowrap overflow-clip text-left line-clamp-1 w-inherit tracking-wide leading-6 px-2 py-1 -ml-2"},Ct=["data-size"],Et={class:"flex whitespace-nowrap"},zt={class:"hidden sm:flex invisible max-h-12 md:visible"},Mt={class:"hidden sm:flex mr-4 monospace sm:mr-0"},Ot=P({__name:"TrackRow",props:{data:{type:Object,required:!0},index:{type:Number,required:!0},displayList:{type:Array,required:!0}},setup(a){const s=a,e=V(),t=y(()=>e.path.startsWith("/music/album")),i=y(()=>e.path.startsWith("/music/artist")),r=y(()=>e.path.startsWith("/music/playlists")),n=y(()=>e.path.startsWith("/music/tracks")),l=y(()=>e.path.startsWith("/music/genres")),o=y(()=>t.value?"album":i.value?"artist":r.value?"playlist":n.value?"favorite":l.value?"genre":"unknown"),d=y(()=>t.value?s.data?.album_track.at(0)?.id:i.value?s.data?.artist_track.at(0)?.id:r.value||n.value||l.value?e.params.id:"unknown");function m(){if(!me.value.features?.nomercyConnect){xe.playTrack(s.data,s.displayList);return}Re.value?.invoke("StartPlaybackCommand",o.value,d.value,s.data.id)}const p=y(()=>!s.data?.date||!L?.language||L.language==="undefined"?null:new Date(s.data.date).toLocaleDateString(L?.language??"en-US",{year:"numeric",month:"long",day:"2-digit"}));return(S,g)=>{const C=oe("RouterLink");return h(),w("button",{class:_([{"album-grid":t.value||r.value||n.value||l.value,"artist-grid":i.value},"grid justify-start w-full children:pointer-events-none items-center self-stretch pr-3 sm:px-3 rounded-lg sm:hover:bg-surface-6/8 group/track text-sm font-medium py-2 z-10"]),"data-track-id":a.data?.id,onclick:m,"data-target":"track",tabindex:"0",onContextmenu:g[1]||(g[1]=x=>u(ge)(x,S.$route,a.data))},[c("span",xt,[u(B)?.id!==a.data.id?(h(),w("span",wt,k(a.index+1),1)):f("",!0),u(B)?.id===a.data.id?(h(),v(De,{key:1,playing:u(Q),class:"hidden group-focus-visible/track:sm:!hidden group-hover/track:sm:!hidden",color:"var(--color-theme-8)"},null,8,["playing"])):f("",!0),u(B)?.id===a.data.id&&u(Q)?(h(),v(J,{key:2,class:"hidden h-6 w-6 group-focus-visible/track:sm:block group-hover/track:sm:block",icon:"nmPause"})):(h(),v(J,{key:3,class:"hidden h-6 w-6 group-focus-visible/track:sm:block group-hover/track:sm:block",icon:"nmPlay"}))]),c("span",kt,[t.value?(h(),v(N,{key:0,data:a.data,size:100,style:Ee({display:t.value?"none":""}),"class-name":"relative hidden h-12 w-12 overflow-hidden min-w-[3rem] sm:block",loading:"eager"},null,8,["data","style"])):f("",!0),c("span",St,[c("span",_t,k(a.data.name),1),c("span",{"data-size":u(ze),class:"inline-flex h-6 w-available gap-1 overflow-hidden whitespace-nowrap text-slate-3 dark:slate-dark-3 line-clamp-1 text-2xs hover:animate-pause leading-6"},[b(Y,null,{default:E(()=>[a.data&&t.value||r.value||n.value||l.value?(h(),v(te,{key:0,id:a.data.id,data:a.data.artist_track,onclick:x=>x.stopPropagation(),"data-target":"artist",type:"artists"},null,8,["id","data","onclick"])):f("",!0),a.data&&i.value?(h(),v(te,{key:1,id:a.data.id,data:a.data.album_track,onclick:x=>x.stopPropagation(),"data-target":"album",type:"albums"},null,8,["id","data","onclick"])):f("",!0)]),_:1})],8,Ct)])]),(h(!0),w(ue,null,be(a.data.album_track,x=>(h(),v(Y,{key:x.id,class:"!hidden sm:!flex"},{default:E(()=>[c("button",{class:_([{"opacity-0":t.value,"opacity-100":i.value},"items-center overflow-clip pr-2 line-clamp-2 h-inherit w-inherit flex"]),onClick:g[0]||(g[0]=R=>R.stopPropagation())},[b(C,{to:x?.link,class:"flex items-center gap-1 whitespace-nowrap font-semibold line-clamp-1 hover:underline focus:underline dark:font-medium pointer-events-auto","data-target":"album","no-ring":"",tabindex:"0"},{default:E(()=>[c("span",Et,k(x.name),1)]),_:2},1032,["to"])],2)]),_:2},1024))),128)),c("span",zt,k(p.value),1),c("span",{class:_([{"mr-16":!u(Z)},"flex items-center justify-end gap-2 text-end"])},[(h(),v(de,{key:a.data.id+a.data?.favorite,data:a.data,color:"var(--color-theme-8)","no-background":""},null,8,["data"])),c("span",Mt,k(a.data.duration),1),u(Z)?(h(),v(Te,{key:0,direction:"down"},{button:E(()=>[b($e,{class:"",title:""},{default:E(()=>[b(F,{"class-name":"relative h-5 w-5",icon:"menuDotsVertical"})]),_:1})]),default:E(()=>[g[2]||(g[2]=le(" Hellooo ",-1))]),_:1})):f("",!0)],2)],42,bt)}}}),Vt=Ot;export{Bt as a,Ht as i,Nt as n,qt as r,Vt as t};
