{"version":3,"file":"Desktop-B3YSZvWX.js","sources":["../../src/views/Music/Cards/Desktop.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport {nextTick, onMounted, ref, watch} from 'vue';\nimport {useRoute} from 'vue-router';\nimport {IonPage, IonContent} from '@ionic/vue';\n\n\nimport useServerClient from '@/lib/clients/useServerClient';\nimport {isNative} from '@/config/global';\nimport {currentSong} from '@/store/audioPlayer';\n\nimport ScrollContainer from '@/Layout/Desktop/components/ScrollContainer.vue';\nimport MusicCard from '@/components/Cards/MusicCard.vue';\nimport {setColorPalette} from '@/store/ui';\nimport NotFound from \"@/Layout/Desktop/components/NotFound.vue\";\nimport {MusicCardPageResponseData} from \"@/types/api/music/musicPlayer\";\n\nconst show = ref(false);\n\nconst route = useRoute();\nconst { data, isError } = useServerClient<MusicCardPageResponseData>({\n  path: route.fullPath,\n  keepForever: true,\n});\n\nwatch(data, () => {\n  show.value = true;\n});\n\nonMounted(() => {\n  show.value = true;\n  setColorPalette(null);\n  nextTick(() =>{\n    document.dispatchEvent(new Event('indexer'));\n  });\n});\n</script>\n\n<template>\n  <ion-page>\n    <ion-content :fullscreen=\"true\">\n      <NotFound v-if=\"isError\" />\n      <ScrollContainer v-else :autoHide=\"true\" :static=\"true\">\n        <div\n            v-if=\"show\"\n            :class=\"{\n         'pb-24' : isNative &&  !currentSong,\n         'pb-40' : isNative &&  currentSong,\n         'children:pb-4 sm:children:pb-3' : !isNative &&  currentSong\n      }\"\n            class=\"z-0 w-available overflow-x-clip w-full h-auto grid gap-4 pl-4 pr-4 pt-4 music-showing:pb-0 grid-cols-2 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-7 3xl:grid-cols-9 4xl:grid-cols-9 5xl:grid-cols-[repeat(14,minmax(0,1fr))] tv:grid-cols-6 scroll-smooth\"\n            style=\"opacity:1\">\n\n          <template v-if=\"Array.isArray(data)\">\n            <template  v-for=\"item in data\"\n                       :key=\"item.id\">\n\n              <MusicCard :data=\"item\" />\n            </template>\n          </template>\n        </div>\n      </ScrollContainer>\n    </ion-content>\n  </ion-page>\n</template>\n"],"names":["show","ref","route","useRoute","data","isError","useServerClient","watch","onMounted","setColorPalette","nextTick"],"mappings":"oiBAgBM,MAAAA,EAAOC,EAAI,EAAK,EAEhBC,EAAQC,EAAS,EACjB,CAAE,KAAAC,EAAM,QAAAC,CAAQ,EAAIC,EAA2C,CACnE,KAAMJ,EAAM,SACZ,YAAa,EAAA,CACd,EAED,OAAAK,EAAMH,EAAM,IAAM,CAChBJ,EAAK,MAAQ,EAAA,CACd,EAEDQ,EAAU,IAAM,CACdR,EAAK,MAAQ,GACbS,EAAgB,IAAI,EACpBC,EAAS,IAAK,CACZ,SAAS,cAAc,IAAI,MAAM,SAAS,CAAC,CAAA,CAC5C,CAAA,CACF"}