import{C as n,Ct as l,K as c,S as p,c as _,it as P,j as w,k as h,mt as C,ot as d,wt as I,y as S}from"./i18n-Rm1NkeNf.js";import{ya as o}from"./ionic-vX7GXDhi.js";import{C as M,I as x,L as B,_ as T}from"./vue-core-D-3YrIBp.js";import"./query-BPfDyGC_.js";import{Gt as V,H as v,Vi as m,Vt as D,Wt as U,Xt as L,Yt as A,k as a,on as N,qi as j,s as i,xa as z}from"./index-8a1fqeLp.js";import"./useInfiniteServerClient-DtqQ4azN.js";import{t as q}from"./useServerClient-BvcJnD6F.js";import{a as E,i as F,n as G,o as H,r as K}from"./VideoPlayer-BHlEFYkl.js";import"./buttons-CU4wCn28.js";_();var O=w({__name:"Mobile",setup(R){const{data:u}=q({}),e=C();function r(t){const s={muted:!1,controls:!1,preload:"auto",debug:!1,autoPlay:!0,playlist:t?.filter(y=>!!y.id)??[],controlsTimeout:3e3,doubleClickDelay:300,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2],accessToken:z.value?.accessToken||localStorage.getItem("access_token")||"",basePath:j.value?.serverBaseUrl,imageBasePath:"https://app.nomercy.tv/tmdb-images",forceTvMode:(o("android")||o("ios"))&&!o("mobile"),disableTouchControls:!1,disableMediaControls:"mediaSession"in navigator||o("capacitor"),renderAhead:100};e.value=K("player1").setup(s),e.value?.once("back",()=>{history.state.back?a.back():a.replace("/")});const f=new F;e.value?.registerPlugin("desktopUI",f),e.value?.usePlugin("desktopUI");const b=new E;e.value?.registerPlugin("autoSkip",b),e.value?.usePlugin("autoSkip");const g=new H;e.value?.registerPlugin("sync",g),e.value?.usePlugin("sync");const k=new G;e.value?.registerPlugin("octopus",k),e.value?.usePlugin("octopus"),e.value?.once("play",()=>{e.value?.enterFullscreen()}),e.value?.on("playlistComplete",()=>{history.state.back?a.back():a.replace("/")}),e.value?.on("dispose",async()=>{await L(),await U(),history.state.back?a.back():await a.replace("/")}),e.value?.on("back",()=>{e.value?.dispose()}),e.value?.on("play",()=>{i(!0)}),e.value?.on("pause",()=>{i(!1)}),e.value?.on("ready",async()=>{await A(),await N(),await V(),v.stop()}),e.value?.on("item",()=>{e.value?.play()}),D.addListener("backButton",()=>{e.value?.emit("back-button-hyjack"),e.value?.dispose()})}return P(u,t=>{t?.length&&r(t)}),x(()=>{v.stop(),r(u.value)}),B(()=>{e.value?.dispose(),i(!1)}),(t,s)=>(c(),n(l(M),null,{default:d(()=>[h(l(T),{fullscreen:!0},{default:d(()=>[(c(),n(S,{to:"body"},[p("div",{class:I([{"mb-28":l(m),"mb-0":!l(m)},"absolute inset-0 flex h-full w-full overflow-clip bg-black z-1199 text-white"])},[...s[0]||(s[0]=[p("div",{id:"player1",class:"group nomercyplayer"},null,-1)])],2)]))]),_:1})]),_:1}))}}),te=O;export{te as default};
