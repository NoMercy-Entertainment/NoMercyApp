import{$ as B,ae as L,B as x,k as W,h as d,b as y,a0 as s,o,j as a,z as i,c as N,p as T,x as c,v as k}from"./vue-ionic-9j_oSDCB.js";import{bt as p,f as _}from"./index-CyQIzsKG.js";import{u as q}from"./useServerClient-J7l5I3tr.js";import{_ as M}from"./CardShadow.vue_vue_type_script_setup_true_lang-tZp7lPNk.js";import{M as R}from"./MediaLikeButton-CEQMcfYW.js";import{_ as V}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-CHVfvbJh.js";import{_ as D}from"./TMDBImage.vue_vue_type_script_setup_true_lang-BmBZcjzq.js";import{_ as I}from"./ShareButton.vue_vue_type_script_setup_true_lang-mCYt55xI.js";const P={class:"flex flex-col justify-start items-start w-[280px] absolute left-0 top-0 bg-cover bg-no-repeat bg-center"},E={class:"flex justify-start items-start w-[280px] absolute left-0 top-[348px] gap-4 p-4 z-40"},F={class:"flex-grow w-[100px] text-[15px] font-semibold text-center text-[#151718]"},O={class:"flex-grow w-[100px] text-[15px] font-semibold text-center text-green-8"},U={key:1,title:"Trailer unavailable",class:"frosting flex justify-start items-center flex-grow h-10 relative overflow-hidden gap-2 px-2 py-4 rounded-3xl text-slate-light-1 bg-slate-light-12",disabled:""},A={class:"flex-grow w-[100px] text-[15px] font-semibold text-center text-red-8"},G={key:2,title:"Loading trailer...",class:"frosting flex justify-start items-center flex-grow h-10 relative overflow-hidden gap-2 px-2 py-4 rounded-3xl text-slate-light-1 bg-slate-light-12",disabled:""},H={class:"flex-grow w-[100px] text-[15px] font-semibold text-center text-gray-8"},J={class:"flex justify-end items-start w-[280px] absolute left-0 top-0 gap-2 p-4"},K={class:"flex justify-start items-center flex-grow-0 flex-shrink-0 relative overflow-hidden gap-2 p-2 rounded-3xl bg-black/[0.48] border border-black/2 w-10 h-10"},Q={class:"flex justify-start items-center flex-grow-0 flex-shrink-0 relative overflow-hidden gap-2 rounded-3xl bg-black/[0.48] border border-black/2"},X={class:"flex justify-start items-center flex-grow-0 flex-shrink-0 relative overflow-hidden gap-2 rounded-3xl bg-black/[0.48] border border-black/2"},oe=B({__name:"MobileInfoCard",props:{data:{type:Object,required:!1},trailerState:{required:!0},toggleTrailer:{type:Function,required:!1}},setup(t){const r=t,n=L(),{data:f}=q({path:`${n==null?void 0:n.fullPath}/available`}),j=x(()=>{var e;return(e=f.value)!=null&&e.available?"Watch":r.data?"Unavailable":"Loading"}),$=x(()=>{var e,l;return((e=r.data)==null?void 0:e.title)??((l=r.data)==null?void 0:l.name)}),C=x(()=>{var e,l;return{title:((e=r.data)==null?void 0:e.title)??"",text:((l=r.data)==null?void 0:l.overview)??"",url:`https://app.nomercy.tv${n.fullPath}`}});return(e,l)=>{var u,h,g,m,b,v,w;const S=W("RouterLink");return(u=t.data)!=null&&u.poster||s(p)?(o(),d("div",{key:0,class:k(["frosting flex-grow-0 flex-shrink-0 w-[280px] h-[420px] z-10 absolute left-1/2 -translate-x-1/2 overflow-clip rounded-2xl",{"top-safe-offset-8":s(_),"top-12":!s(_)}])},[a("div",P,[(o(),N(D,{key:s(p)??"poster","auto-shadow":!0,path:((h=t.data)==null?void 0:h.poster)??s(p),"color-palette":(m=(g=t.data)==null?void 0:g.color_palette)==null?void 0:m.poster,size:760,priority:"high",title:$.value,aspect:"poster",loading:"eager","class-name":"pointer-events-none absolute -inset-1 z-20 flex h-auto scale-100 select-none items-center place-self-start overflow-hidden w-available h-available max-h-available",class:"m-auto children:w-full scale-100 max-h-available 5xl:w-inherit",type:"image"},null,8,["path","color-palette","title"]))]),i(M,{colored:!0}),a("div",E,[i(S,{to:`${(b=t.data)==null?void 0:b.link}/watch`,class:k(["frosting flex justify-start items-center flex-grow h-10 relative overflow-hidden gap-2 px-2 py-4 rounded-3xl bg-white/80",{"opacity-70":!((v=s(f))!=null&&v.available)}]),disabled:!((w=s(f))!=null&&w.available)},{default:T(()=>[a("p",F,c(e.$t(j.value)),1)]),_:1},8,["to","disabled","class"]),t.trailerState===!0?(o(),d("button",{key:0,title:"Watch trailer",class:"frosting flex justify-start items-center flex-grow h-10 relative overflow-hidden gap-2 px-2 py-4 rounded-3xl text-slate-light-1 bg-slate-light-12",onClick:l[0]||(l[0]=(...z)=>t.toggleTrailer&&t.toggleTrailer(...z))},[a("p",O,c(e.$t("Watch trailer")),1)])):t.trailerState===!1?(o(),d("button",U,[a("p",A,c(e.$t("Watch trailer")),1)])):t.trailerState==="loading"?(o(),d("button",G,[a("p",H,c(e.$t("Watch trailer")),1)])):y("",!0)]),a("div",J,[a("div",K,[i(V,{icon:"check","class-name":"w-6 text-white"})]),a("div",Q,[i(R,{data:t.data,class:"!p-0 text-white"},null,8,["data"])]),a("div",X,[i(I,{"share-data":C.value,class:"!p-0 text-white"},null,8,["share-data"])])])],2)):y("",!0)}}});export{oe as _};
