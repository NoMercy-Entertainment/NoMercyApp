import{aw as _,q as F,o as n,e as m,a7 as y,v as b,aB as g,cC as S,aM as G,a as q,t as O,z,I as C,aK as V,c as N,aG as J,cu as K,au as H,h as U,J as X,cD as E,cE as Y,az as Q,bI as W,cF as $,u as L,aY as D,F as T,cG as k,bz as u,cH as A,cI as w,cJ as Z,cK as M,cL as d,cM as P,cN as R}from"./index-CnsrctBE.js";import{_ as j}from"./Carousel.vue_vue_type_script_setup_true_lang-C9QRLUd0.js";import{_ as ee}from"./PersonCard.vue_vue_type_script_setup_true_lang-yDOXEWLk.js";const te={class:"relative flex flex-shrink-0 flex-grow-0 items-center justify-start gap-2 px-1"},ae={class:"flex-shrink-0 flex-grow-0 text-center text-sm font-medium"},ce=_({__name:"GenrePill",props:{genre:{type:Object,required:!0}},setup(t){return(a,p)=>{var c,s;const r=F("RouterLink");return n(),m(r,{to:`/genre/${(c=t.genre)==null?void 0:c.id}`,class:z(["relative flex flex-shrink-0 flex-grow-0 items-center justify-start rounded-2xl px-2 py-0.5 hover:!grayscale-0 text-slate-lightA-12 dark:text-slate-darkA-12",g(S)((s=t.genre)==null?void 0:s.name).iconBg])},{default:y(()=>{var i,l;return[b(G,{className:"relative w-5 flex-shrink-0 flex-grow-0",icon:g(S)((i=t.genre)==null?void 0:i.name).icon},null,8,["icon"]),q("div",te,[q("p",ae,O((l=t.genre)==null?void 0:l.name),1)])]}),_:1},8,["to","class"])}}}),re=["onfocus"],le=_({__name:"ImageCard",props:{data:{type:Object,required:!0},aspect:{type:String,required:!1,default:"poster"},setData:{type:Function,required:!0},limitCardCountBy:{type:Number,required:!1}},setup(t){var r,c,s;const p=C(((s=V((c=(r=t.data)==null?void 0:r.color_palette)==null?void 0:c.image))==null?void 0:s.replace("rgb(","").replace(")","").replace(/,/gu," "))??"var(--color-primary)");return(i,l)=>{var v,o,x,h;return t.data?(n(),N("button",{key:0,onfocus:g(K),onClick:l[0]||(l[0]=B=>t.setData(t.data)),style:H(`--color-focus: ${p.value};`),"data-card":"true",class:"frosting border-0 border-[rgb(var(--color-focus))] flex flex-col h-auto items-center focus-shift focus-outline transition-all duration-300 relative !rounded-lg select-none shadow-[0px_0px_0_1px_rgb(var(--color-focus,var(--color-theme-6))/70%)] w-full z-0 bg-auto-1/8"},[q("span",{class:z(["relative h-auto w-full cursor-pointer overflow-clip rounded-lg",t.aspect=="poster"?" aspect-poster":"aspect-backdrop"])},[b(J,{className:"inset-0 h-full w-full overflow-clip rounded-lg",class:"!relative",aspect:t.aspect,path:(v=t.data)==null?void 0:v.src,type:"image",title:(o=t.data)==null?void 0:o.name,colorPalette:(h=(x=t.data)==null?void 0:x.color_palette)==null?void 0:h.image,size:t.aspect=="poster"?162:660},null,8,["aspect","path","title","colorPalette","size"])],2)],12,re)):U("",!0)}}}),ie=_({__name:"ImageCarousel",props:{data:{type:Array,required:!0},title:{type:String,required:!0},type:{type:String,required:!1,default:"poster"}},setup(t){const a=t,p=C(!1),r=C(),c=e=>{k({...e,color_palette:u(e.color_palette)?u(e.color_palette):{image:u(A.value)},aspectRatio:a.type=="poster"?"2/3":"16/9"}),w({type:a.type,index:a.data.indexOf(e)}),Z(a.type),M(!0)},s=()=>{const e=a.data[d.value-1];e&&(w({index:d.value-1,type:P.value.type}),R(d.value-1),k({...e,color_palette:e.color_palette?u(e.color_palette):{image:u(A.value)},aspectRatio:a.type=="poster"?"2/3":"16/9"}))},i=()=>{const e=a.data[d.value+1];e&&(w({index:d.value+1,type:P.value.type}),R(d.value+1),k({...e,color_palette:e.color_palette?u(e.color_palette):{image:u(A.value)},aspectRatio:a.type=="poster"?"2/3":"16/9"}))},l=C(),v=()=>{clearInterval(l.value),l.value=setInterval(()=>{a.data[d.value+1]||w({index:0,type:a.type}),i()},15*1e3)},o=()=>{clearInterval(l.value)};X(E,e=>{var I,f;e?(f=r.value)==null||f.enable():(o(),(I=r.value)==null||I.destroy())}),Y(window,"keyup",e=>{document.activeElement.nodeName!="TEXTAREA"&&document.activeElement.nodeName!="INPUT"&&(e.key=="Enter"&&E.value||$.value==a.type&&(e.key=="ArrowLeft"&&(o(),s()),e.key=="ArrowRight"&&(o(),i()),e.key==" "&&(p.value?o():v()),(e.key=="Escape"||e.key=="Backspace")&&(k(null),M(!1),o())))}),Q(()=>{r.value=W({el:document.querySelector("#imageModal"),onStart:()=>h(),onMove:e=>x(e),onEnd:()=>B(),gestureName:"swipe"})});const x=({velocityX:e})=>{$.value==a.type&&(e>0?s():i())},h=()=>{},B=()=>{};return(e,I)=>(n(),m(j,{title:t.title+"s",type:t.type,disableAutoAspect:t.type=="poster"},{default:y(()=>[(n(!0),N(T,null,L(t.data,f=>(n(),m(g(D),{key:f.id,class:"flex"},{default:y(()=>[b(le,{data:f,aspect:t.type,setData:c},null,8,["data","aspect"])]),_:2},1024))),128))]),_:1},8,["title","type","disableAutoAspect"]))}}),ue=_({__name:"PersonCarousel",props:{data:{type:Array,required:!0},title:{type:String,required:!0},limitCardCountBy:{type:Number,required:!1}},setup(t){return(a,p)=>(n(),m(j,{title:t.title,limitCardCountBy:t.limitCardCountBy,type:"poster",disableAutoAspect:!0},{default:y(()=>[(n(!0),N(T,null,L(t.data,r=>(n(),m(g(D),{key:r.id,class:"flex p-1 pl-0"},{default:y(()=>[b(ee,{data:r,class:""},null,8,["data"])]),_:2},1024))),128))]),_:1},8,["title","limitCardCountBy"]))}});export{ue as _,ie as a,ce as b};
//# sourceMappingURL=PersonCarousel.vue_vue_type_script_setup_true_lang-BUhEhqxH.js.map
