import{Y as k,aa as C,a5 as w,w as x,c as f,o as l,l as d,y as B,Z as o,ar as M,h as b,b as q,F as D,p as I,s as K,m as N,an as P}from"./vue-ionic-D3xJGFcP.js";import{g as V,a as E,b as F}from"./routerHelper-DD7Qq8Vf.js";import{r as L,d as R,a as Q,l as S}from"./index-m4cPkZcj.js";import"./vendor-CKnYbqeP.js";import"./icons-BW5E66pf.js";import"./rxjs-BCp2L9Rn.js";import"./media-C2AqgyMX.js";import"./api-BBofn2cc.js";import"./swiper-D00Cnjmx.js";import"./music-player-Ct3VsQMm.js";const U=k({__name:"Mobile",setup(W){const u=C(),h=L.currentRoute.value.name,y=V({queryKey:["music","home"],path:u.path}),{data:r,refetch:p}=E({queryKey:["music","home"],path:u.path}),{data:c,mutate:g,reset:v}=F({queryKey:["music","home"],homeData:r,path:u.path});return w(()=>{var s,e;if(R(null),Q(null),!r.value){p();return}if(u.name!==h)return;const m=((e=(s=r.value)==null?void 0:s.filter)==null?void 0:e.call(s,n=>{var t;return((t=n==null?void 0:n.update)==null?void 0:t.when)=="pageLoad"}))??[];g(m)}),x(S,m=>{m?(p(),v()):(c.value=void 0,r.value=void 0)}),(m,s)=>(l(),f(o(P),null,{default:d(()=>[B(o(M),{fullscreen:!0},{default:d(()=>{var e,n,t,i;return[!o(y)&&((n=(e=o(c))==null?void 0:e.every)!=null&&n.call(e,a=>a.component)||(i=(t=o(r))==null?void 0:t.every)!=null&&i.call(t,a=>a.component))?(l(!0),b(D,{key:0},I(o(c)??o(r),(a,_)=>(l(),f(K(a.component),N({index:_,key:a.id,ref_for:!0},a.props),null,16,["index"]))),128)):q("",!0)]}),_:1})]),_:1}))}});export{U as default};
