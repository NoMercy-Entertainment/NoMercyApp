import{C as p,Dt as L,Et as n,K as V,S as O,T as x,Y as u,Z as N,_t as g,c as C,g as P,j as k,k as h,kt as $,lt as f,nt as b,st as j,w as F,xt as l}from"./i18n-DBb78QAI.js";import{Mi as G}from"./ionic-DNKsarlx.js";import{Bn as _,Ma as K,a as o,c,f as d,h as S,in as U,l as q,n as X,o as Y,p as B,r as E,u as M,xr as Z}from"./index-A9ZXfM_l.js";import{r as T}from"./swiper-qApLbPOj.js";import{t as R}from"./Carousel-BPW0TS7a.js";import{t as H}from"./PersonCard-CFIyOKpw.js";C();var J=k({__name:"PersonCarousel",props:{data:{type:Array,required:!0},title:{type:String,required:!0},limitCardCountBy:{type:Number,required:!1}},setup(t){return(a,m)=>(u(),p(R,{title:t.title,"limit-card-count-by":t.limitCardCountBy,type:"poster","disable-auto-aspect":!0},{default:f(()=>[(u(!0),x(P,null,N(t.data,(r,i)=>(u(),p(n(T),{key:r.id,"virtual-index":i,class:"flex sm:p-1 pl-0"},{default:f(()=>[h(H,{data:r,class:""},null,8,["data"])]),_:2},1032,["virtual-index"]))),128))]),_:1},8,["title","limit-card-count-by"]))}}),de=J;C();var Q=["onfocus","onClick"],W=k({__name:"ImageCard",props:{data:{type:Object,required:!0},aspect:{type:String,required:!1,default:"poster"},setData:{type:Function,required:!0},limitCardCountBy:{type:Number,required:!1}},setup(t){const a=Z(t.data?.color_palette?.image);return(m,r)=>r[0]||(b(-1,!0),(r[0]=t.data?(u(),x("button",{key:0,onfocus:n(U),style:$(n(a)?`
       --color-theme-8: ${n(a)};
    `:""),class:"group/card frosting flex flex-col h-full items-center focus-outline relative rounded-lg select-none shadow-[0px_0px_0_1px_rgb(from_var(--color-theme-8,var(--color-theme-6))_r_g_b/70%)] w-full z-0 bg-surface-50/70 flex-grow-0","data-card":"true",onClick:i=>t.setData(t.data)},[O("span",{class:L([t.aspect==="poster"?" aspect-poster":"aspect-backdrop","relative h-auto w-full cursor-pointer overflow-clip rounded-lg"])},[h(X,{aspect:t.aspect,"color-palette":t.data?.color_palette?.image,path:t.data?.src,size:t.aspect==="poster"?162:660,title:t.data?.name,class:"!relative","class-name":"inset-0 h-full w-full overflow-clip rounded-lg",type:"image"},null,8,["aspect","color-palette","path","size","title"])],2)],12,Q)):F("",!0)).cacheIndex=0,b(1),r[0])}}),ee=W;C();var te=k({__name:"ImageCarousel",props:{data:{type:Array,required:!0},title:{type:String,required:!0},type:{type:String,required:!1,default:"poster"}},setup(t){const a=t,m=g(!1),r=g();function i(e){c({...e,color_palette:l(e.color_palette)?l(e.color_palette):{image:l(_.value)},aspectRatio:a.type==="poster"?"2/3":"16/9"}),d({type:a.type,index:a.data.indexOf(e)}),Y(a.type),q(!0)}function w(){const e=a.data[o.value-1];e&&(d({index:o.value-1,type:S.value.type}),c({...e,color_palette:e.color_palette?l(e.color_palette):{image:l(_.value)},aspectRatio:a.type==="poster"?"2/3":"16/9"}),M(o.value-1))}function y(){const e=a.data[o.value+1];e&&(d({index:o.value+1,type:S.value.type}),c({...e,color_palette:e.color_palette?l(e.color_palette):{image:l(_.value)},aspectRatio:a.type==="poster"?"2/3":"16/9"}),M(o.value+1))}const v=g();function A(){clearInterval(v.value),v.value=setInterval(()=>{a.data[o.value+1]||d({index:0,type:a.type}),y()},15*1e3)}function s(){clearInterval(v.value)}j(B,e=>{e||s()}),K(window,"keyup",e=>{document.activeElement.nodeName!=="TEXTAREA"&&document.activeElement.nodeName!=="INPUT"&&(e.key==="Enter"&&B.value||E.value===a.type&&(e.key==="ArrowLeft"&&(s(),w()),e.key==="ArrowRight"&&(s(),y()),e.key===" "&&(m.value?s():A()),(e.key==="Escape"||e.key==="Backspace")&&(c(void 0),q(!1),s())))}),V(()=>{r.value=G({el:document.querySelector("#imageModal"),onStart:()=>void 0,onMove:e=>D(e),onEnd:()=>void 0,gestureName:"swipe"})});function D({velocityX:e}){E.value===a.type&&(e>0?w():y())}function ae(){}function re(){}return(e,le)=>(u(),p(R,{title:`${t.title}s`,type:t.type,"disable-auto-aspect":t.type==="poster"},{default:f(()=>[(u(!0),x(P,null,N(t.data,(I,z)=>(u(),p(n(T),{key:I.id,"virtual-index":z,class:"flex"},{default:f(()=>[h(ee,{data:I,aspect:t.type,"set-data":i},null,8,["data","aspect"])]),_:2},1032,["virtual-index"]))),128))]),_:1},8,["title","type","disable-auto-aspect"]))}}),pe=te;export{de as n,pe as t};
