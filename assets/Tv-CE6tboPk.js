import{$ as w,aZ as y,d as k,f as g,aH as b,aa as C,w as S,c as f,o as l,p as n,z as o,a0 as a,av as j,j as s,s as L,x as c,I as $,am as q,h as B,F as T,q as I,as as z}from"./vue-ionic-D4s4ExYp.js";import{c1 as m,bI as N,cn as V,v as E,co as O,q as p,R as d,Q,bz as D,a as F,cp as H,cq as M,cr as R,C as x,r as u}from"./index-D29s6-I8.js";import{_ as U}from"./ServerCard.vue_vue_type_script_setup_true_lang-CFJbU1q0.js";import{_ as P}from"./NoMercyAvatar.vue_vue_type_script_setup_true_lang-Dny04MuP.js";import{_ as v}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-BMWMPBMW.js";import{r as W}from"./ripperSocket-wzC5X917.js";import"./vendor-Dgtccx1h.js";import"./icons-BW5E66pf.js";import"./rxjs-BCp2L9Rn.js";import"./media-C2AqgyMX.js";import"./api-BBofn2cc.js";import"./swiper-D00Cnjmx.js";import"./music-player-BiOHSPVn.js";import"./primevue-C7GgiIOs.js";import"./DeviceIcon.vue_vue_type_script_setup_true_lang-DFmPIchp.js";const Z={class:"flex h-full w-full flex-auto flex-col items-center justify-center gap-8 p-8"},A={class:"flex w-full flex-grow flex-col justify-between p-2 min-h-auto"},G={class:"flex justify-between items-center self-stretch flex-grow-0 flex-shrink-0 w-full relative gap-2.5 mb-2"},J={class:"flex justify-start items-center relative gap-2.5",inert:""},K={class:"size-12 my-auto"},X={class:"w-48 text-base font-semibold text-left text-slate-dark-1 dark:text-slate-light-1"},Y={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},ee={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},he=w({__name:"Tv",setup(te){const h=y(),i=k();async function _(e){m(e),await F().get("libraries").then(({data:t})=>{H(t.data),M.value=!0,R.value=!0,setTimeout(async()=>{x.value==="/setup/select-servers"?await u.replace({name:"Home"}):await u.replace(x.value)},50)}).catch(async()=>{await u.replace({name:"Server offline"})})}return g(()=>{var e,t,r;m(null),N(),h.removeQueries(),(e=V.value)==null||e.stop(),(t=E.value)==null||t.stop(),(r=W.value)==null||r.stop()}),b(()=>{O()}),C(()=>{setTimeout(()=>{var e,t;(t=(e=i.value)==null?void 0:e.querySelector("button"))==null||t.focus()},100)}),S(i,e=>{setTimeout(()=>{var t;(t=e==null?void 0:e.querySelector("button"))==null||t.focus()},100)}),(e,t)=>(l(),f(a(z),null,{default:n(()=>[o(a(j),{fullscreen:!0},{default:n(()=>[s("div",Z,[s("div",A,[s("div",G,[s("div",J,[s("div",K,[o(P,{user:a(p),size:40},null,8,["user"])]),s("p",X,c(a(p).name),1)]),L(s("button",{tabindex:"0",class:"flex justify-center items-center ml-auto relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",onClick:t[0]||(t[0]=r=>d.value=!a(d))},[o(v,{icon:"doorOut",class:"text-slate-dark-1 dark:text-slate-light-1"}),s("span",Y,c(e.$t("Exit TV mode")),1)],512),[[$,!a(Q)]]),o(a(q),{to:"/logout",class:"flex justify-center items-center relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]"},{default:n(()=>[o(v,{icon:"doorOut",class:"text-slate-dark-1 dark:text-slate-light-1"}),s("span",ee,c(e.$t("Logout")),1)]),_:1})]),s("div",{ref_key:"serverList",ref:i,class:"tv:children:w-[30%] tv:mt-0 -mt-24 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4"},[(l(!0),B(T,null,I(a(D),r=>(l(),f(U,{key:r.id,server:r,onclick:()=>_(r)},null,8,["server","onclick"]))),128))],512)])])]),_:1})]),_:1}))}});export{he as default};
