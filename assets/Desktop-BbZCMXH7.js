import{aw as H,c7 as J,e3 as K,aC as L,az as O,bZ as $,aT as N,aD as R,J as U,c8 as Z,I as P,e as t,a7 as f,aB as s,aO as j,o as n,v as A,bw as G,bd as S,c as i,a as Q,F as g,u as z,h as F,z as I,ck as v,b6 as h,bE as W,bF as X}from"./index-Bzf9Lb7y.js";import{_ as Y}from"./MediaCard.vue_vue_type_script_setup_true_lang-CVMOB6wM.js";import{_ as ee}from"./PersonCard.vue_vue_type_script_setup_true_lang-Biymvc5X.js";import{_ as ae,a as se}from"./EmptyCard.vue_vue_type_script_setup_true_lang-BSoGtePg.js";import{_ as ne}from"./NotFound.vue_vue_type_script_setup_true_lang-WYYSWSrx.js";import"./CardIndicator.vue_vue_type_script_setup_true_lang-DX_Z89W-.js";import"./NoResultImage.vue_vue_type_script_setup_true_lang-CHNOxfj6.js";const re="grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 2xl:grid-cols-4 3xl:grid-cols-5 4xl:grid-cols-5 5xl:grid-cols-9 tv:grid-cols-6",oe="grid-cols-2 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-7 3xl:grid-cols-9 4xl:grid-cols-10 5xl:grid-cols-[repeat(14,minmax(0,1fr))] tv:grid-cols-6",_e=H({__name:"Desktop",setup(te){var C,m;const y=J(),{data:o,fetchNextPage:k,hasNextPage:b,isError:T}=K({queryKey:["libraries",((m=(C=y.currentRoute)==null?void 0:C.value)==null?void 0:m.params.id)??y.currentRoute.value.name],limit:20,keepForever:!0}),V=L(()=>{var a,r,l,d,c,p;return j.value&&((l=(r=(a=o.value)==null?void 0:a.pages)==null?void 0:r[0])==null?void 0:l.data[0].media_type)!=="person"&&((p=(c=(d=o.value)==null?void 0:d.pages)==null?void 0:c[0])==null?void 0:p.data[0].media_type)!=="genres"});O(()=>{var a,r;$(),N(null),R(null),b.value&&(((r=(a=o==null?void 0:o.value)==null?void 0:a.pages)==null?void 0:r.length)??0)<50&&k(),document.dispatchEvent(new Event("sidebar")),setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},500)}),U(o,a=>{var r;a&&(b.value&&((r=a==null?void 0:a.pages)==null?void 0:r.length)<50&&k(),setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},500))}),Z(()=>{$(),N(null),R(null)});const D=P(),q=P(),_=(a,r)=>{D.value=r,q.value.show(a)};return(a,r)=>(n(),t(s(X),null,{default:f(()=>[A(s(W),{fullscreen:!0},{default:f(()=>[s(T)?(n(),t(ne,{key:0})):(n(),t(G,{key:1,autoHide:!0,static:!0,id:s(S).currentRoute.value.fullPath},{default:f(()=>{var l,d;return[(n(),i("div",{class:I(["z-0 flex flex-col gap-4 rounded-3xl border-0 p-4 w-available scrollbar-none border-auto-3",{"pb-24":s(v)&&!s(h),"pb-40":s(v)&&s(h),"children:pb-4 sm:children:pb-3":!s(v)&&s(h)}]),key:(l=s(S).currentRoute.value.params)==null?void 0:l.id},[Q("div",{class:I(`grid w-full gap-4 scroll-smooth music-showing:pb-0 whitespace-pre ${V.value?re:oe}`)},[(n(!0),i(g,null,z(((d=s(o))==null?void 0:d.pages)??[],(c,p)=>{var w,E,B,M;return n(),i(g,{key:p},[c.data.length>0?(n(!0),i(g,{key:0},z(c.data??[],(e,x)=>(n(),i(g,null,[(e==null?void 0:e.media_type)==="tv"||(e==null?void 0:e.media_type)=="movie"||(e==null?void 0:e.media_type)=="collection"||(e==null?void 0:e.media_type)=="specials"?(n(),t(Y,{key:e.id,data:e,onContextMenu:u=>_(u,e),index:x},null,8,["data","onContextMenu","index"])):(e==null?void 0:e.media_type)==="person"?(n(),t(ee,{key:e.id+"_person",data:e,onContextMenu:u=>_(u,e),index:x},null,8,["data","onContextMenu","index"])):(e==null?void 0:e.media_type)==="genres"?(n(),t(ae,{key:e.id+"_genres",data:e,onContextMenu:u=>_(u,e),index:x},null,8,["data","onContextMenu","index"])):F("",!0)],64))),256)):((M=(B=(E=(w=s(o))==null?void 0:w.pages)==null?void 0:E[0])==null?void 0:B.data)==null?void 0:M.length)==0?(n(),t(se,{key:1})):F("",!0)],64)}),128))],2)],2))]}),_:1},8,["id"]))]),_:1})]),_:1}))}});export{_e as default};
//# sourceMappingURL=Desktop-BbZCMXH7.js.map
