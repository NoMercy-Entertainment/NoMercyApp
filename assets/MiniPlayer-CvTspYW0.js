import{C as c,Et as b,J as u,Ot as d,S as t,T as k,Tt as e,c as C,gt as f,j as P,k as h,kt as S,w as v,x as _}from"./i18n-Cs-AFcrY.js";import"./ionic-XwZpO7IE.js";import"./vue-core-CKeWI2Kt.js";import"./primevue-DNc5dNs0.js";import{H as B,Na as M,Y as a,_r as j,g as z,gt as w,mt as E,oa as $}from"./index-CVHcgxb0.js";import{n as N}from"./profileMenu-BK5eNPGn.js";import"./MusicButton-Dk_1uKJs.js";import"./BannerButton-DnlWHKCw.js";import{t as T}from"./MediaLikeButton-uqZ6xfOQ.js";import{n as V,r as D,t as F}from"./TrackLinks-RrkhXUJ9.js";C();var L={class:"flex flex-grow items-center justify-start gap-2.5 overflow-clip w-[65%]"},O={class:"frosting relative flex w-10 min-w-10 items-start justify-start gap-2 overflow-hidden rounded"},W={class:"w-auto self-stretch text-left text-sm font-medium leading-6 line-clamp-1"},q={class:"children:children:children:children:children:leading-6 w-auto self-stretch text-left text-sm"},A={class:"flex items-center justify-end gap-1"},H={class:"absolute left-0 w-full h-0.5 top-[54px] blur-[1px]"},I=P({__name:"MiniPlayer",setup(J){const y=_(()=>$.value?j(a.value?.color_palette?.cover,20,160):"var(--color-theme-7)"),m=f(null),p=f(null),o=_(()=>p.value?.offsetWidth),l=f("0"),i=f(1);function g(){l.value="0",i.value=1}const{isSwiping:x,lengthX:s}=M(m,{passive:!0,onSwipe(){if(o.value){const n=Math.abs(s.value);i.value=1.1-n/o.value,s.value<0?l.value=`${n}px`:l.value=`-${n}px`}},onSwipeEnd(){o.value&&(s.value<0&&Math.abs(s.value)/o.value>=.5||s.value>100&&Math.abs(s.value)/o.value>=.5)?(l.value="100%",i.value=0,B.stop(),g()):(l.value="0",i.value=1)}});return(n,r)=>!e(N)&&e(a)?(u(),k("div",{key:0,id:"miniPlayer",ref_key:"container",ref:p,style:d(`--color-theme-8: ${y.value}`),class:"flex absolute w-available justify-between items-center self-stretch bottom-0 h-14 overflow-hidden p-2 bg-surface-1 mt-auto z-0",onClick:r[0]||(r[0]=X=>e(E)())},[r[2]||(r[2]=t("div",{class:"absolute inset-0 h-full w-full bg-gradient-to-b to-black/40 from-focus/40"},null,-1)),t("div",L,[t("div",O,[e(a)?(u(),c(z,{key:0,data:e(a),size:100,"class-name":"relative aspect-square h-10 w-10 cursor-pointer overflow-hidden rounded-sm text-focus00 min-w-[2.5rem] min-h-[2.5rem]"},null,8,["data"])):v("",!0)]),t("div",{ref_key:"target",ref:m,class:b([{animated:!e(x)},"relative flex h-full flex-grow flex-col items-start justify-evenly overflow-clip w-inherit"]),style:d({left:l.value,opacity:i.value})},[t("p",W,S(e(a)?.name),1),t("p",q,[e(a)?(u(),c(F,{key:0,id:e(a).id,data:e(a).artist_track,type:"artists"},null,8,["id","data"])):v("",!0)])],6)]),t("div",A,[h(D,{"no-name":""}),(u(),c(T,{key:e(a)?.id+e(a)?.favorite,data:e(a),color:"var(--color-theme-8)"},null,8,["data"])),h(V,{class:"children:h-7 children:w-7"})]),t("div",H,[r[1]||(r[1]=t("div",{class:"absolute w-full h-0.5 left-[-1px] top-[-1px] bg-black/[0.22]"},null,-1)),t("div",{style:d(`width: ${e(w)}%;`),class:"w-0 h-0.5 absolute left-[-1px] top-[-1px] rounded-sm bg-gradient-to-r from-black/5 to-[var(--color-theme-8)] z-10"},null,4),t("div",{style:d(`left: ${e(w)}%;`),class:"w-1 h-0.5 absolute top-[-1px] rounded-sm bg-[#f1EEFE] -translate-x-[2px] z-0"},null,4)])],4)):v("",!0)}}),le=I;export{le as default};
