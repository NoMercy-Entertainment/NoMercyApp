import{u as F}from"./useQuery-jTNaBwZN.js";import{Y as Q,l as R,R as O,O as v,cI as j}from"./index-DkQngsHe.js";import{q as I}from"./useInfiniteServerClient-BHsBwDbE.js";function y(e){return Object.keys((e==null?void 0:e.data)??{}).reduce((u,l)=>(u[l]=j(e==null?void 0:e.data[l].value)??(e==null?void 0:e.data[l]),u),{})}function A(e){var a;const u=Q(),l=R((e==null?void 0:e.type)??"get");return{...F({...e,queryKey:I(e),enabled:!!((a=O.value)!=null&&a.id)&&(e==null?void 0:e.enabled),retry:0,refetchOnMount:!0,refetchOnWindowFocus:!1,staleTime:e!=null&&e.keepForever?1/0:1e3*60*5,queryFn:({signal:h})=>new Promise((b,w)=>{setTimeout(()=>{var c,m,t,q,P,d;if(!((c=O.value)!=null&&c.serverApiUrl))return w();let f;return((e==null?void 0:e.path)??u.fullPath).includes("undefined")?Promise.reject():(l.value==="get"?f=v().get((e==null?void 0:e.path)??u.fullPath,{params:{letter:(m=u.query)==null?void 0:m.letter,...y(e)},signal:h}).then(r=>{var C;return((C=r.data)==null?void 0:C.data)??r.data}):l.value==="post"?f=v().post((e==null?void 0:e.path)??u.fullPath,{letter:((t=u.query)==null?void 0:t.letter)??void 0,...y(e)},{signal:h}).then(({data:r})=>(r==null?void 0:r.data)??r):l.value==="put"?f=v().put((e==null?void 0:e.path)??u.fullPath,{letter:((q=u.query)==null?void 0:q.letter)??void 0,...y(e)},{signal:h}).then(({data:r})=>(r==null?void 0:r.data)??r):l.value==="patch"?f=v().patch((e==null?void 0:e.path)??u.fullPath,{letter:((P=u.query)==null?void 0:P.letter)??void 0,...y(e)},{signal:h}).then(({data:r})=>(r==null?void 0:r.data)??r):l.value==="delete"&&(f=v().delete((e==null?void 0:e.path)??u.fullPath,{letter:((d=u.query)==null?void 0:d.letter)??void 0,...y(e)},{signal:h}).then(({data:r})=>(r==null?void 0:r.data)??r)),b(f))},(e==null?void 0:e.delay)??0)})})}}export{A as u};
