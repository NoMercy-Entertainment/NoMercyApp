import{aC as ve,a6 as ce,v as N,aw as Y,G as Te,I as D,J as I,cm as Ve,a_ as _e,dQ as be,q as z,o as O,e as Q,a7 as V,t as x,aB as _,c as E,a as c,eJ as we,au as ie,h as ne,bD as X,az as xe,aM as le,u as G,F as K,ec as Oe,b5 as ae,e4 as Le,bu as ee,bF as Be,bG as Pe,bw as $e}from"./index-s4WF9Q_3.js";import{c as Ae,_ as De}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-CWSe6zx_.js";import{u as Ee}from"./useHubListener-D1_M5qv5.js";import{_ as Fe}from"./Modal.vue_vue_type_script_setup_true_lang-DGiwDaFJ.js";import"./useMounted-CXw_NJYL.js";import"./FloatingBackButton.vue_vue_type_script_setup_true_lang-Dz1v3g9a.js";import"./Button.vue_vue_type_script_setup_true_lang-DGs4aCUx.js";var J={d:(e,n)=>{for(var l in n)J.o(n,l)&&!J.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:n[l]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)},ke={};function oe(e,n){(n==null||n>e.length)&&(n=e.length);for(var l=0,a=new Array(n);l<n;l++)a[l]=e[l];return a}function Ce(e,n){if(e){if(typeof e=="string")return oe(e,n);var l=Object.prototype.toString.call(e).slice(8,-1);return l==="Object"&&e.constructor&&(l=e.constructor.name),l==="Map"||l==="Set"?Array.from(e):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?oe(e,n):void 0}}function U(e){return function(n){if(Array.isArray(n))return oe(n)}(e)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(e)||Ce(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function W(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}J.d(ke,{Z:()=>He});const r=(fe={computed:()=>ve,createTextVNode:()=>ce,createVNode:()=>N,defineComponent:()=>Y,reactive:()=>Te,ref:()=>D,watch:()=>I,watchEffect:()=>Ve},te={},J.d(te,fe),te),Ie=(0,r.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var e=this.data,n=this.onClick;return(0,r.createVNode)("span",{class:"vjs-tree-brackets",onClick:n},[e])}}),qe=(0,r.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(e,n){var l=n.emit;return{uiType:(0,r.computed)(function(){return e.isMultiple?"checkbox":"radio"}),model:(0,r.computed)({get:function(){return e.checked},set:function(a){return l("update:modelValue",a)}})}},render:function(){var e=this.uiType,n=this.model,l=this.$emit;return(0,r.createVNode)("label",{class:["vjs-check-controller",n?"is-checked":""],onClick:function(a){return a.stopPropagation()}},[(0,r.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(e)},null),(0,r.createVNode)("input",{checked:n,class:"vjs-check-controller-original is-".concat(e),type:e,onChange:function(){return l("change",n)}},null)])}}),Me=(0,r.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var e=this.nodeType,n=this.onClick,l=e==="objectStart"||e==="arrayStart";return l||e==="objectCollapsed"||e==="arrayCollapsed"?(0,r.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(l?"open":"close"),onClick:n},[(0,r.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,r.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});var fe,te;function re(e){return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},re(e)}function je(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function M(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,s=a||{},y=s.key,C=s.index,i=s.type,h=i===void 0?"content":i,u=s.showComma,k=u!==void 0&&u,m=s.length,$=m===void 0?1:m,S=je(e);if(S==="array"){var P=he(e.map(function(j,p,t){return M(j,"".concat(n,"[").concat(p,"]"),l+1,{index:p,showComma:p!==t.length-1,length:$,type:h})}));return[M("[",n,l,{showComma:!1,key:y,length:e.length,type:"arrayStart"})[0]].concat(P,M("]",n,l,{showComma:k,length:e.length,type:"arrayEnd"})[0])}if(S==="object"){var b=Object.keys(e),A=he(b.map(function(j,p,t){return M(e[j],/^[a-zA-Z_]\w*$/.test(j)?"".concat(n,".").concat(j):"".concat(n,'["').concat(j,'"]'),l+1,{key:j,showComma:p!==t.length-1,length:$,type:h})}));return[M("{",n,l,{showComma:!1,key:y,index:C,length:b.length,type:"objectStart"})[0]].concat(A,M("}",n,l,{showComma:k,length:b.length,type:"objectEnd"})[0])}return[{content:e,level:l,key:y,index:C,path:n,showComma:k,length:$,type:h}]}function he(e){if(typeof Array.prototype.flat=="function")return e.flat();for(var n=U(e),l=[];n.length;){var a=n.shift();Array.isArray(a)?n.unshift.apply(n,U(a)):l.push(a)}return l}function se(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e==null)return e;if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(re(e)!=="object")return e;if(n.get(e))return n.get(e);if(Array.isArray(e)){var l=e.map(function(y){return se(y,n)});return n.set(e,l),l}var a={};for(var s in e)a[s]=se(e[s],n);return n.set(e,a),a}function me(e,n){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),l.push.apply(l,a)}return l}function ye(e){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?me(Object(l),!0).forEach(function(a){W(e,a,l[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):me(Object(l)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(l,a))})}return e}var Ne={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},theme:{type:String,default:"light"},showKeyValueSpace:{type:Boolean,default:!0},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}};const Ke=(0,r.defineComponent)({name:"TreeNode",props:ye(ye({},Ne),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(e,n){var l=n.emit,a=(0,r.computed)(function(){return je(e.node.content)}),s=(0,r.computed)(function(){return"vjs-value vjs-value-".concat(a.value)}),y=(0,r.computed)(function(){return e.showDoubleQuotes?'"'.concat(e.node.key,'"'):e.node.key}),C=(0,r.computed)(function(){return e.selectableType==="multiple"}),i=(0,r.computed)(function(){return e.selectableType==="single"}),h=(0,r.computed)(function(){return e.nodeSelectable(e.node)&&(C.value||i.value)}),u=(0,r.reactive)({editing:!1}),k=function(p){var t,o,d=(o=(t=p.target)===null||t===void 0?void 0:t.value)==="null"?null:o==="undefined"?void 0:o==="true"||o!=="false"&&(o[0]+o[o.length-1]==='""'||o[0]+o[o.length-1]==="''"?o.slice(1,-1):typeof Number(o)=="number"&&!isNaN(Number(o))||o==="NaN"?Number(o):o);l("valueChange",d,e.node.path)},m=(0,r.computed)(function(){var p,t=(p=e.node)===null||p===void 0?void 0:p.content;return t===null?t="null":t===void 0&&(t="undefined"),a.value==="string"?'"'.concat(t,'"'):t+""}),$=function(){var p=e.renderNodeValue;return p?p({node:e.node,defaultValue:m.value}):m.value},S=function(){l("bracketsClick",!e.collapsed,e.node)},P=function(){l("iconClick",!e.collapsed,e.node)},b=function(){l("selectedChange",e.node)},A=function(){l("nodeClick",e.node),h.value&&e.selectOnClickNode&&l("selectedChange",e.node)},j=function(p){if(e.editable&&!u.editing){u.editing=!0;var t=function o(d){var f;d.target!==p.target&&((f=d.target)===null||f===void 0?void 0:f.parentElement)!==p.target&&(u.editing=!1,document.removeEventListener("click",o))};document.removeEventListener("click",t),document.addEventListener("click",t)}};return function(){var p,t=e.node;return(0,r.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":e.showSelectController,"has-carets":e.showIcon,"is-highlight":e.highlightSelectedNode&&e.checked,dark:e.theme==="dark"},onClick:A,style:e.style},[e.showLineNumber&&(0,r.createVNode)("span",{class:"vjs-node-index"},[t.id+1]),e.showSelectController&&h.value&&t.type!=="objectEnd"&&t.type!=="arrayEnd"&&(0,r.createVNode)(qe,{isMultiple:C.value,checked:e.checked,onChange:b},null),(0,r.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(t.level)).map(function(o,d){return(0,r.createVNode)("div",{key:d,class:{"vjs-indent-unit":!0,"has-line":e.showLine}},null)}),e.showIcon&&(0,r.createVNode)(Me,{nodeType:t.type,onClick:P},null)]),t.key&&(0,r.createVNode)("span",{class:"vjs-key"},[(p=e.renderNodeKey,p?p({node:e.node,defaultKey:y.value||""}):y.value),(0,r.createVNode)("span",{class:"vjs-colon"},[":".concat(e.showKeyValueSpace?" ":"")])]),(0,r.createVNode)("span",null,[t.type!=="content"&&t.content?(0,r.createVNode)(Ie,{data:t.content.toString(),onClick:S},null):(0,r.createVNode)("span",{class:s.value,onClick:!e.editable||e.editableTrigger&&e.editableTrigger!=="click"?void 0:j,onDblclick:e.editable&&e.editableTrigger==="dblclick"?j:void 0},[e.editable&&u.editing?(0,r.createVNode)("input",{value:m.value,onChange:k,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):$()]),t.showComma&&(0,r.createVNode)("span",null,[","]),e.showLength&&e.collapsed&&(0,r.createVNode)("span",{class:"vjs-comment"},[(0,r.createTextVNode)(" // "),t.length,(0,r.createTextVNode)(" items ")])])])}}});function ge(e,n){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),l.push.apply(l,a)}return l}function B(e){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?ge(Object(l),!0).forEach(function(a){W(e,a,l[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):ge(Object(l)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(l,a))})}return e}const He=(0,r.defineComponent)({name:"Tree",props:B(B({},Ne),{},{data:{type:[String,Number,Boolean,Array,Object],default:null},collapsedNodeLength:{type:Number,default:1/0},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},rootPath:{type:String,default:"root"},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function},theme:{type:String,default:"light"}}),slots:["renderNodeKey","renderNodeValue"],emits:["nodeClick","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(e,n){var l=n.emit,a=n.slots,s=(0,r.ref)(),y=(0,r.computed)(function(){return M(e.data,e.rootPath)}),C=function(t,o){return y.value.reduce(function(d,f){var v,w=f.level>=t||f.length>=o,L=(v=e.pathCollapsible)===null||v===void 0?void 0:v.call(e,f);return f.type!=="objectStart"&&f.type!=="arrayStart"||!w&&!L?d:B(B({},d),{},W({},f.path,1))},{})},i=(0,r.reactive)({translateY:0,visibleData:null,hiddenPaths:C(e.deep,e.collapsedNodeLength)}),h=(0,r.computed)(function(){for(var t=null,o=[],d=y.value.length,f=0;f<d;f++){var v=B(B({},y.value[f]),{},{id:f}),w=i.hiddenPaths[v.path];if(t&&t.path===v.path){var L=t.type==="objectStart",q=B(B(B({},v),t),{},{showComma:v.showComma,content:L?"{...}":"[...]",type:L?"objectCollapsed":"arrayCollapsed"});t=null,o.push(q)}else{if(w&&!t){t=v;continue}if(t)continue;o.push(v)}}return o}),u=(0,r.computed)(function(){var t=e.selectedValue;return t&&e.selectableType==="multiple"&&Array.isArray(t)?t:[t]}),k=(0,r.computed)(function(){return!e.selectableType||e.selectOnClickNode||e.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),m=function(){var t=h.value;if(e.virtual){var o,d=e.height/e.itemHeight,f=((o=s.value)===null||o===void 0?void 0:o.scrollTop)||0,v=Math.floor(f/e.itemHeight),w=v<0?0:v+d>t.length?t.length-d:v;w<0&&(w=0);var L=w+d;i.translateY=w*e.itemHeight,i.visibleData=t.filter(function(q,g){return g>=w&&g<L})}else i.visibleData=t},$=function(){m()},S=function(t){var o,d,f=t.path,v=e.selectableType;if(v==="multiple"){var w=u.value.findIndex(function(T){return T===f}),L=U(u.value);w!==-1?L.splice(w,1):L.push(f),l("update:selectedValue",L),l("selectedChange",L,U(u.value))}else if(v==="single"&&u.value[0]!==f){var q=(o=u.value,d=1,function(T){if(Array.isArray(T))return T}(o)||function(T,H){var F=T==null?null:typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(F!=null){var ue,de,R=[],Z=!0,pe=!1;try{for(F=F.call(T);!(Z=(ue=F.next()).done)&&(R.push(ue.value),!H||R.length!==H);Z=!0);}catch(Se){pe=!0,de=Se}finally{try{Z||F.return==null||F.return()}finally{if(pe)throw de}}return R}}(o,d)||Ce(o,d)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())[0],g=f;l("update:selectedValue",g),l("selectedChange",g,q)}},P=function(t){l("nodeClick",t)},b=function(t,o){if(t)i.hiddenPaths=B(B({},i.hiddenPaths),{},W({},o,1));else{var d=B({},i.hiddenPaths);delete d[o],i.hiddenPaths=d}},A=function(t,o){e.collapsedOnClickBrackets&&b(t,o.path),l("bracketsClick",t,o)},j=function(t,o){b(t,o.path),l("iconClick",t,o)},p=function(t,o){var d=se(e.data),f=e.rootPath;new Function("data","val","data".concat(o.slice(f.length),"=val"))(d,t),l("update:data",d)};return(0,r.watchEffect)(function(){k.value&&function(t){throw new Error("[VueJSONPretty] ".concat(t))}(k.value)}),(0,r.watchEffect)(function(){h.value&&m()}),(0,r.watch)(function(){return e.deep},function(t){t&&(i.hiddenPaths=C(t,e.collapsedNodeLength))}),(0,r.watch)(function(){return e.collapsedNodeLength},function(t){t&&(i.hiddenPaths=C(e.deep,t))}),function(){var t,o,d=(t=e.renderNodeKey)!==null&&t!==void 0?t:a.renderNodeKey,f=(o=e.renderNodeValue)!==null&&o!==void 0?o:a.renderNodeValue,v=i.visibleData&&i.visibleData.map(function(w){return(0,r.createVNode)(Ke,{key:w.id,node:w,collapsed:!!i.hiddenPaths[w.path],theme:e.theme,showDoubleQuotes:e.showDoubleQuotes,showLength:e.showLength,checked:u.value.includes(w.path),selectableType:e.selectableType,showLine:e.showLine,showLineNumber:e.showLineNumber,showSelectController:e.showSelectController,selectOnClickNode:e.selectOnClickNode,nodeSelectable:e.nodeSelectable,highlightSelectedNode:e.highlightSelectedNode,editable:e.editable,editableTrigger:e.editableTrigger,showIcon:e.showIcon,showKeyValueSpace:e.showKeyValueSpace,renderNodeKey:d,renderNodeValue:f,onNodeClick:P,onBracketsClick:A,onIconClick:j,onSelectedChange:S,onValueChange:p,style:e.itemHeight&&e.itemHeight!==20?{lineHeight:"".concat(e.itemHeight,"px")}:{}},null)});return(0,r.createVNode)("div",{ref:s,class:{"vjs-tree":!0,"is-virtual":e.virtual,dark:e.theme==="dark"},onScroll:e.virtual?$:void 0,style:e.showLineNumber?B({paddingLeft:"".concat(12*Number(y.value.length.toString().length),"px")},e.style):e.style},[e.virtual?(0,r.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(e.height,"px")}},[(0,r.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(h.value.length*e.itemHeight,"px")}},[(0,r.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(i.translateY,"px)")}},[v])])]):v])}}});var ze=ke.Z;const Qe={key:0,class:"my-6 w-full text-sm text-auto-10"},Ge={class:"flex h-min w-full flex-1 flex-col justify-center overflow-auto"},Je={class:"relative flex flex-grow items-center justify-start gap-2 whitespace-nowrap px-3 text-xs line-clamp-1 w-available"},Ue={class:"relative flex flex-grow items-center justify-start gap-2 whitespace-nowrap px-3 text-xs line-clamp-1 w-available"},We={class:"relative flex flex-grow items-center justify-start gap-2 whitespace-nowrap px-3 text-xs line-clamp-1 w-available"},Ye={class:"relative flex flex-grow flex-col items-start justify-start gap-4 overflow-auto px-3 text-xs line-clamp-1 w-available max-h-[60vh] whitespace-break-spaces"},Re=Y({__name:"LogModal",props:{open:{type:Boolean,required:!0},close:{type:Function,required:!0},id:{type:String,required:!0},name:{type:String,required:!0},data:{type:WebGLVertexArrayObject,required:!0}},setup(e){const n=e,{t:l}=_e(),a=ve(()=>{if(n.data)try{return JSON.parse(be(n.data.message))}catch{return n.data.message}});return(s,y)=>{const C=z("Button");return O(),Q(Fe,{close:e.close,open:e.open,maxWidth:"max-w-7xl max-h-[80vh]",hidden:!0,title:""},{actions:V(()=>[N(C,{id:"no",onClick:e.close,type:"button",color:"text-auto-alpha-11",variant:"text"},{default:V(()=>[ce(x(_(l)("Close")),1)]),_:1},8,["onClick"])]),default:V(()=>[e.data?(O(),E("div",Qe,[c("div",Ge,[c("div",Je,[c("span",null,x(s.$t("Time"))+":",1),c("span",null,x(_(we)(e.data.time)),1)]),c("div",Ue,[c("span",null,x(s.$t("Type"))+":",1),c("span",{class:"h-5 w-20 rounded-full px-2 text-center leading-5",style:ie(`background: ${e.data.color}`)},x(e.data.type),5)]),c("div",We,[c("span",null,x(s.$t("Level"))+":",1),c("span",null,x(e.data.level),1)]),c("div",Ye,[c("span",null,x(s.$t("Message"))+":",1),N(_(ze),{class:"h-fit",data:a.value},null,8,["data"])])])])):ne("",!0)]),_:1},8,["close","open"])}}}),Ze={class:"flex flex-col gap-2 overflow-auto py-2 max-h-[60vh]"},Xe={class:"-mb-2 flex flex-grow items-center justify-start gap-3 rounded-md px-2.5"},et=["onClick"],tt={class:"text-center text-xs font-semibold uppercase"},nt=["onclick"],lt=Y({__name:"LogTypeSelector",props:{refetch:{type:Function,required:!0},logTypes:{type:Array,required:!0},selectedTypes:{type:Array,required:!1,default:()=>[]}},emits:["update:selectedTypes"],setup(e,{emit:n}){const l=D(!1),a=n,s=e;I(l,i=>{s.logTypes&&(i==null||(i?a("update:selectedTypes",s.logTypes):a("update:selectedTypes",[])))}),I(s,i=>{i.selectedTypes&&(l.value=X(i.selectedTypes,s.logTypes),a("update:selectedTypes",i.selectedTypes),s.refetch())}),xe(()=>{s.logTypes});const y=i=>{s.selectedTypes.some(h=>h.name==i.name)?a("update:selectedTypes",s.selectedTypes.filter(h=>h.name!=i.name)):a("update:selectedTypes",[...s.selectedTypes,i])},C=i=>{if(!s.logTypes)return;const h=s.logTypes.filter(u=>u.type===i.type);h.every(u=>s.selectedTypes.some(k=>k.name===u.name))?a("update:selectedTypes",s.selectedTypes.filter(u=>!h.some(k=>k.name===u.name))):a("update:selectedTypes",[...s.selectedTypes,...h])};return(i,h)=>{const u=z("Checkbox");return O(),Q(ae,{class:"relative flex items-center justify-center gap-2 rounded-lg transition-colors duration-300 hover:bg-auto-5/6",translate:"-translate-x-1/2"},{button:V(()=>[N(le,{className:"w-6",icon:"chevronDown"})]),default:V(()=>{var k;return[c("div",Ze,[c("div",Xe,[N(u,{modelValue:l.value,"onUpdate:modelValue":h[0]||(h[0]=m=>l.value=m),label:"All"},null,8,["modelValue"])]),(O(!0),E(K,null,G(_(Oe)(((k=e.logTypes)==null?void 0:k.filter(m=>m.type!="spacer"))??[],"type"),m=>{var $,S,P;return O(),E(K,null,[c("div",{class:"relative mt-2 -mb-1 flex items-center justify-start gap-2 self-stretch px-2.5",onClick:()=>C(m[0])},[N(u,{modelValue:_(X)(($=e.selectedTypes)==null?void 0:$.filter(b=>b.type==m[0].type),m),color:_(X)((S=e.selectedTypes)==null?void 0:S.filter(b=>b.type==m[0].type),m)==!0?((P=m[0])==null?void 0:P.color)+"44":""},{default:V(()=>[c("p",tt,x(m[0].type),1)]),_:2},1032,["modelValue","color"]),h[1]||(h[1]=c("div",{class:"flex-grow h-px bg-[#e2f0fd]/[0.08]"},null,-1))],8,et),(O(!0),E(K,null,G(m,b=>{var A,j;return O(),E("button",{class:"flex flex-grow items-center justify-start gap-3 rounded-md px-2.5",onclick:()=>y(b)},[N(u,{modelValue:(A=e.selectedTypes)==null?void 0:A.some(p=>p.name==b.name),color:(j=e.selectedTypes)!=null&&j.some(p=>p.name==b.name)?b.color+"44":""},{default:V(()=>[c("span",{style:ie(`background: ${b.color}44`),class:"flex-grow text-sm font-medium text-[#eeecec] rounded-full px-2 w-32 h-5 leading-5 text-center"},x(b.display_name),5)]),_:2},1032,["modelValue","color"])],8,nt)}),256))],64)}),256))])]}),_:1})}}}),at={class:"mx-2 flex flex-col overflow-auto rounded-lg outline outline-1 min-w-available min-h-available divide-y divide-auto-12/8 h-inherit outline-auto-alpha-5 max-h-[78vh] min-h-[78vh]"},ot={class:"flex flex-grow-0 items-start justify-start self-stretch rounded-tl-lg rounded-tr-lg w-available"},rt={class:"flex w-full flex-1 gap-4 text-xs font-medium bg-auto-2/10"},st={class:"relative flex h-11 items-center justify-between gap-3 self-stretch p-3 group/tableButton w-[150px] min-w-[150px]"},ct={class:"flex w-full flex-col items-start justify-between py-2 bg-auto-1"},it=["onClick"],ut={class:"relative flex h-11 items-center justify-between gap-3 self-stretch p-3 group/tableButton w-[120px] min-w-[120px]"},dt={class:"relative flex h-11 items-center justify-between gap-3 self-stretch p-3 group/tableButton w-[120px] min-w-[120px]"},pt={class:"flex w-full flex-col items-start justify-between py-2 bg-auto-1"},ft=["onClick"],ht={class:"relative flex h-11 items-center justify-between gap-3 self-stretch p-3 group/tableButton w-available"},mt={class:"relative flex h-11 w-20 items-center justify-between gap-3 self-stretch p-3 group/tableButton min-w-20"},yt={class:"overflow-auto divide-y divide-auto-12/5 h-available"},gt={class:"flex h-12 w-full flex-1 justify-center gap-4 odd:bg-white/[0.04]"},vt={class:"relative flex flex-grow items-center justify-start whitespace-nowrap px-3 text-xs line-clamp-1 w-[150px] min-w-[150px]"},bt={class:"relative flex flex-grow items-center justify-center whitespace-nowrap text-xs line-clamp-1 w-[120px] min-w-[120px]"},wt={class:"relative flex flex-grow items-center justify-start whitespace-nowrap px-3 text-xs line-clamp-1 w-[120px] min-w-[120px]"},xt=["onClick"],_t=Y({__name:"Desktop",setup(e){const n=D([]),l=D([]),a=D([]),s=D(50),y=D([]),C=D(""),i=Le(C,500),{data:h,refetch:u}=ee({path:"/dashboard/logs",queryKey:["logs"],refetchInterval:5*60*1e3,data:{limit:s,types:l,levels:a,filter:i}});I(h,t=>{t&&(y.value=t)});const{data:k}=ee({path:"/dashboard/logs/types"}),{data:m}=ee({path:"/dashboard/logs/levels"});I(s,()=>{u()}),I(i,()=>{u()}),I(m,t=>{t&&(a.value=t)}),I(n,t=>{t&&(l.value=t.map(o=>o.name),u())}),Ee(Ae,"NewLog",t=>{a.value.includes(t.level)&&(y.value=y.value.slice(0,y.value.length-1),y.value=[t,...y.value])}),xe(()=>{!h.value||!m.value||!n.value||(y.value=h.value,a.value=m.value,u())});const S=D(null),P=D(!1),b=t=>{S.value=t,P.value=!0},A=t=>{t.stopPropagation(),S.value=null,P.value=!1},j=()=>{$e().delete("/dashboard/logs").catch(()=>{alert("you'd think this would actually do something huh 😋")}).then(()=>{y.value=[]})},p=t=>{a.value.some(o=>o==t)?a.value=a.value.filter(o=>o!=t):a.value.push(t),u()};return(t,o)=>{const d=z("Checkbox"),f=z("InputText"),v=z("Button");return O(),Q(_(Pe),null,{default:V(()=>[N(_(Be),{fullscreen:!0},{default:V(()=>[N(De,{gridStyle:4,description:"",title:"Logs"},{cta:V(()=>o[2]||(o[2]=[])),default:V(()=>{var w,L,q;return[c("table",at,[c("thead",ot,[c("tr",rt,[c("th",st,[c("span",null,x(t.$t("Limit"))+" ("+x(s.value)+")",1),N(ae,{class:"relative flex items-center justify-center gap-2 rounded-lg transition-colors duration-300 hover:bg-auto-5/6",translate:"-translate-x-1/2"},{button:V(()=>[N(le,{className:"w-6",icon:"chevronDown"})]),default:V(()=>[c("div",ct,[(O(),E(K,null,G([5,10,20,50,100,500,1e3,2e3],g=>c("button",{class:"flex flex-grow items-center justify-start gap-3 rounded-md px-2.5",onClick:T=>s.value=g},[N(d,{modelValue:s.value==g,label:g},null,8,["modelValue","label"])],8,it)),64))])]),_:1})]),c("th",ut,[c("span",null,x(t.$t("Type")),1),_(k)?(O(),Q(lt,{key:0,logTypes:_(k),selectedTypes:n.value,"onUpdate:selectedTypes":o[0]||(o[0]=g=>n.value=g),refetch:_(u)},null,8,["logTypes","selectedTypes","refetch"])):ne("",!0)]),c("th",dt,[c("span",null,x(t.$t("Level")),1),N(ae,{class:"relative flex items-center justify-center gap-2 rounded-lg transition-colors duration-300 hover:bg-auto-5/6",translate:"-translate-x-1/2"},{button:V(()=>[N(le,{className:"w-6",icon:"chevronDown"})]),default:V(()=>[c("div",pt,[(O(!0),E(K,null,G(_(m),g=>{var T;return O(),E("button",{class:"flex flex-grow items-center justify-start gap-3 rounded-md px-2.5",onClick:()=>p(g)},[N(d,{modelValue:(T=a.value)==null?void 0:T.includes(g),label:g},null,8,["modelValue","label"])],8,ft)}),256))])]),_:1})]),c("th",ht,[c("span",null,x(t.$t("Message")),1),N(f,{id:"filter",modelValue:C.value,"onUpdate:modelValue":o[1]||(o[1]=g=>C.value=g),variant:"filled",size:"small",class:"mr-auto ml-4 min-w-40",name:"",placeholder:"Filter..."},null,8,["modelValue"])]),c("th",mt,[N(v,{id:"clear",className:"!py-1 !h-8",color:"theme",title:"Clear logs",variant:"text",onClick:j},{default:V(()=>[ce(x(t.$t("clear")),1)]),_:1})])])]),c("tbody",yt,[(O(!0),E(K,null,G(y.value??[],g=>{var T,H;return O(),E("tr",gt,[c("td",vt,x(_(we)(g.time)),1),c("td",bt,[c("div",{style:ie(`background: ${g.color}55`),class:"h-5 w-min rounded-full px-2 text-center leading-5"},x((H=(T=_(k))==null?void 0:T.find(F=>F.name==g.type))==null?void 0:H.display_name),5)]),c("td",wt,x(g.level),1),c("td",{class:"relative flex flex-grow cursor-pointer items-center justify-start whitespace-nowrap px-3 text-xs line-clamp-1 w-available",onClick:()=>b(g)},x(_(be)(g.message)),9,xt)])}),256))])]),(w=S.value)!=null&&w.level?(O(),Q(Re,{key:0,id:(L=S.value)==null?void 0:L.level,close:A,data:S.value,name:(q=S.value)==null?void 0:q.level,open:P.value},null,8,["id","data","name","open"])):ne("",!0)]}),_:1})]),_:1})]),_:1})}}});export{_t as default};
//# sourceMappingURL=Desktop-C7vW0ymU.js.map
