import{$ as I,j as We,c as T,h as o,o as a,l as y,a as Ne,d as Ke,w as Ve,i as s,t as N,y as r,F as Ee,p as Ge,aa as Re,C as Pe,f as Ue,aG as Ae,a0 as t,au as He,b as c,H as Oe,v as u,B as P,ar as Je}from"./vue-ionic-DerxjBh9.js";import{Y as Le,a as Ye,b as L,i as Y,c as q,bz as Qe,bA as Xe,bs as Ze}from"./index-VvjVXp0-.js";import{u as et}from"./useServerClient-CC2Ngdt0.js";import{_ as w,C as j}from"./SpriteIcon.vue_vue_type_script_setup_true_lang-CWwbYKGW.js";import{_ as tt}from"./DropdownMenu.vue_vue_type_script_setup_true_lang-DBuTTX5w.js";import{_ as st}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang--O4NX453.js";import{_ as at}from"./MediaCarousel.vue_vue_type_script_setup_true_lang-aii_riXS.js";import{_ as qe}from"./TMDBImage.vue_vue_type_script_setup_true_lang-DHaMl8rV.js";import{_ as lt}from"./ScrollContainer.vue_vue_type_script_setup_true_lang-BEwphwcB.js";import{_ as rt}from"./NotFound.vue_vue_type_script_setup_true_lang-DehVDm5F.js";import{b8 as Ie}from"./vendor-C28OoIfY.js";import"./media-C2AqgyMX.js";import"./icons-BW5E66pf.js";import"./api-BBofn2cc.js";import"./swiper-D00Cnjmx.js";import"./music-player-B5BcR-ht.js";import"./rxjs-BCp2L9Rn.js";import"./useInfiniteServerClient-DQ9eGd-A.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Carousel-D7c1wH0M.js";import"./swiper-config-Caon8l1d.js";import"./CardIndicator.vue_vue_type_script_setup_true_lang-aGcKzIJg.js";import"./AppLogoSquare-DPaKTSFo.js";const ot=["href","target"],it=I({__name:"DropdownLink",props:{href:{type:String,required:!0},target:{type:String,required:!1,default:null}},setup(f){return(b,e)=>{const k=We("RouterLink");return f.href.startsWith("http")?(a(),o("a",{key:1,href:f.href,target:f.target,class:"block w-full px-4 py-2 text-start text-sm leading-5 transition duration-150 ease-in-out text-auto-12 hover:bg-theme-6 focus:bg-theme-3 focus:outline-none"},[Ne(b.$slots,"default")],8,ot)):(a(),T(k,{key:0,to:f.href,target:f.target,class:"block w-full px-4 py-2 text-start text-sm leading-5 transition duration-150 ease-in-out text-auto-12 hover:bg-theme-6 focus:bg-theme-3 focus:outline-none"},{default:y(()=>[Ne(b.$slots,"default")]),_:3},8,["to","target"]))}}}),nt={class:"flex flex-col justify-start h-[calc(100%-1rem)] items-start w-40 sm:w-48 2xl:w-80 mx-auto absolute left-4 sm:left-12 top-4 rounded-2xl"},ct={class:"sticky top-14 flex h-auto w-full flex-col gap-4"},dt=["id"],ut={class:"relative flex h-full w-full flex-col"},ft={class:"relative grid grid-cols-4 gap-2 group/personCard"},mt=["onClick"],pt=I({__name:"FloatingPersonCard",props:{data:{type:Object,required:!1}},setup(f){var k,$,C;const b=f,e=Ke((C=($=(k=b.data)==null?void 0:k.images)==null?void 0:$.profiles)==null?void 0:C[0]);return Ve(b,l=>{var i,n,d;e.value=(d=(n=(i=l.data)==null?void 0:i.images)==null?void 0:n.profiles)==null?void 0:d[0]}),(l,i)=>{var n,d,g,m,p,_,x,S,z;return a(),o("div",nt,[s("div",ct,[s("div",{id:((n=f.data)==null?void 0:n.id)??"x",class:N([(d=f.data)!=null&&d.deathday?"outline outline-white":"","relative z-0 block w-auto select-none overflow-clip rounded-2xl transitioning aspect-poster"])},[s("div",ut,[r(qe,{path:((g=e.value)==null?void 0:g.src)??((m=f.data)==null?void 0:m.poster),size:180,"color-palette":(_=(p=f.data)==null?void 0:p.color_palette)==null?void 0:_.profile,"class-name":"pointer-events-none absolute inset-0 z-20 flex h-full w-full object-cover transition-transform duration-500 trickle-div"},null,8,["path","color-palette"])])],10,dt),s("div",ft,[(a(!0),o(Ee,null,Ge((z=(S=(x=f.data)==null?void 0:x.images)==null?void 0:S.profiles)==null?void 0:z.slice(0,4),v=>{var B,F,M;return a(),o("div",{key:v.src,class:"relative h-auto w-full cursor-pointer overflow-clip rounded-xl transition-all duration-200 aspect-poster focus-outline",onClick:()=>e.value=v},[s("div",{class:N([v.src===((B=e.value)==null?void 0:B.src)?"opacity-0":"opacity-100","absolute inset-0 z-30 grid h-auto w-full items-center justify-center bg-black/60 group-hover/personCard:opacity-0 transition-all duration-200 aspect-poster"])},null,2),r(qe,{path:v.src,"color-palette":(M=(F=f.data)==null?void 0:F.color_palette)==null?void 0:M.profile,size:182,"class-name":"relative z-0 block h-auto w-full select-none transitioning aspect-poster"},null,8,["path","color-palette"])],8,mt)}),128))])])])}}}),ht={class:"relative mx-auto flex w-full flex-shrink-0 flex-grow-0 items-end justify-start gap-4 self-stretch rounded-lg p-4 max-w-screen-5xl"},_t={class:"flex flex-grow flex-col items-end justify-start gap-2 pt-[290px] w-available"},xt={class:"relative flex w-full flex-grow flex-col items-start justify-start gap-4"},gt={class:"relative mt-8 -mb-2 flex flex-col justify-start self-stretch sm:mt-4 sm:items-center sm:gap-4 lg:flex-row"},wt={class:"ml-auto flex w-full items-center justify-end gap-2",style:{width:"432px"}},bt=["href"],vt=["href"],yt=["href"],kt=["href"],$t=["href"],jt=["href"],Dt=["href"],Ct=["href"],St={class:"relative flex items-center justify-center overflow-hidden rounded-lg p-1.5 sm:p-2"},zt={class:"relative flex flex-col items-start justify-start self-stretch py-4 sm:gap-4"},Bt={class:"flex w-full flex-col flex-wrap items-start gap-6 sm:flex-row sm:gap-2"},Ft={class:"relative flex w-auto flex-col items-start justify-center gap-1 sm:w-[30%] lg:w-[15%] xl:w-[15%] 2xl:w-[11%]"},Mt={key:0,class:"flex-shrink-0 flex-grow-0 text-xs font-bold uppercase text-auto-alpha-11"},Tt={class:"text-left text-base font-medium"},Nt={class:"relative flex w-auto flex-col items-start justify-center gap-1 sm:w-[39%] lg:w-[20%] xl:w-[20%] 2xl:w-[14%]"},Pt={key:0,class:"flex-shrink-0 flex-grow-0 text-xs font-bold uppercase text-auto-alpha-11"},Lt={class:"text-left text-base font-medium"},Yt={class:"relative flex w-auto flex-col items-start justify-start gap-1 sm:w-[25%] lg:w-[15%] xl:w-[9%]"},qt={key:0,class:"flex-shrink-0 flex-grow-0 text-xs font-bold uppercase text-auto-alpha-11"},It={class:"text-left text-base font-medium"},Vt={class:"relative flex w-full flex-col items-start justify-center gap-1 lg:w-auto 2xl:w-[23%]"},Wt={key:0,class:"flex w-full flex-shrink-0 flex-grow-0 gap-2 text-xs font-bold uppercase text-auto-alpha-10"},Kt={key:0,class:"mr-8 ml-auto flex flex-shrink-0 flex-grow-0 gap-2 text-xs font-bold uppercase text-auto-alpha-10"},Et={key:0,class:"-mr-1 text-base -mt-[3px]"},Gt={key:1,class:"text-left text-base font-medium"},Rt={class:"relative flex w-full flex-col items-start justify-start gap-1 lg:w-auto xl:flex-grow"},Ut={key:0,class:"flex-shrink-0 flex-grow-0 self-stretch text-xs font-bold uppercase text-auto-alpha-10"},At={class:"w-full self-stretch whitespace-pre-wrap text-base font-medium"},Ht={class:"relative flex w-full flex-col items-start justify-start gap-2"},Ot={class:"flex-shrink-0 flex-grow-0 text-xs font-bold uppercase text-auto-alpha-11"},Jt={key:0,class:"self-stretch whitespace-pre-line text-base font-medium leading-[173%]"},Qt={class:"mb-8 -ml-1 w-[101.5%]"},Xt={class:"-ml-5 w-[100.6%]"},D="combined",ys=I({__name:"Desktop",setup(f){const b=Re(),{data:e,isError:k}=et({queryKey:["base","person",b.params.id]}),$=Pe(()=>{var l,i,n,d,g;if((l=e.value)!=null&&l.deathday){const m=new Date((i=e.value)==null?void 0:i.birthday),p=new Date((n=e.value)==null?void 0:n.deathday),_=p.getFullYear()-m.getFullYear(),x=p.getMonth()-m.getMonth();return x<0||x===0&&p.getDate()<m.getDate()?_-1:_}if((d=e.value)!=null&&d.birthday){const m=new Date((g=e.value)==null?void 0:g.birthday),p=new Date,_=p.getFullYear()-m.getFullYear(),x=p.getMonth()-m.getMonth();return x<0||x===0&&p.getDate()<m.getDate()?_-1:_}return null}),C=Pe(()=>{var l,i,n;if(typeof((l=e.value)==null?void 0:l.gender)!="number")return(i=e.value)==null?void 0:i.gender;switch((n=e.value)==null?void 0:n.gender){case 0:return"Not specified";case 1:return"Female";case 2:return"Male";case 3:return"Non-binary";default:return null}});return Ve(e,l=>{var i,n,d;Le((i=e==null?void 0:e.value)==null?void 0:i.name),L(((d=(n=l==null?void 0:l.known_for)==null?void 0:n.at(0))==null?void 0:d.backdrop)??null)}),Ue(()=>{var l,i,n,d;Le((l=e==null?void 0:e.value)==null?void 0:l.name),Ye(null),L(((d=(n=(i=e==null?void 0:e.value)==null?void 0:i.known_for)==null?void 0:n.at(0))==null?void 0:d.backdrop)??null)}),Ae(()=>{L(null),Ye(null)}),(l,i)=>(a(),T(t(Je),null,{default:y(()=>[r(t(He),{fullscreen:!0},{default:y(()=>[t(k)&&!t(e)?(a(),T(rt,{key:0})):(a(),T(lt,{key:1,"auto-hide":!0,static:!0},{default:y(()=>{var n,d,g,m,p,_,x,S,z,v,B,F,M,V,W,K,E,G,R,U,A,H,O,J,Q,X,Z,ee,te,se,ae,le,re,oe,ie,ne,ce,de,ue,fe,me,pe,he,_e,xe,ge,we,be,ve,ye,ke,$e,je,De,Ce,Se,ze,Be,Fe,Me,Te;return[t(e)?(a(),o("div",{key:0,class:N([{"pb-24":t(Y)&&!t(q),"pb-40":t(Y)&&t(q),"children:pb-4 sm:children:pb-3":!t(Y)&&t(q)},"flex bg-black/50 w-available relative"])},[s("div",ht,[s("div",_t,[s("div",{class:N(`flex w-full items-start justify-start self-stretch rounded-2xl pr-4 pl-52 gap-[280px]  bg-gradient-to-b from-auto-1/12 via-auto-1/12 to-auto-1/11 border-1 sm:py-2 sm:pl-64 2xl:pl-96 ${(n=t(e))!=null&&n.deathday?"border-auto-12":"border-auto-12/4"}`)},[s("div",xt,[s("div",gt,[s("p",{style:Oe(`font-size: min(calc(150px / ${(g=(d=t(e))==null?void 0:d.name)==null?void 0:g.length} + 3ch), 2rem)`),class:"mb-2 flex-grow text-5xl font-bold leading-[150%]"},u(t(Qe)(((m=t(e))==null?void 0:m.name)??"","text-base sm:text-xl -mt-2")),5),s("div",wt,[s("a",{href:`https://www.themoviedb.org/person/${(p=t(e))==null?void 0:p.id}`,class:"relative mr-2 flex items-center justify-center overflow-hidden rounded-lg p-1.5 sm:p-2",target:"_blank","aria-label":"TMDB"},[r(w,{icon:"tmdb",class:"!w-12"})],8,bt),(x=(_=t(e))==null?void 0:_.external_ids)!=null&&x.facebook_id?(a(),o("a",{key:0,href:`https://www.facebook.com/${(S=t(e))==null?void 0:S.external_ids.facebook_id}`,class:"relative flex items-center justify-center overflow-hidden rounded-lg p-1.5 sm:p-2",target:"_blank","aria-label":"Facebook"},[r(w,{icon:"facebook",class:"w-6"})],8,vt)):c("",!0),(v=(z=t(e))==null?void 0:z.external_ids)!=null&&v.twitter_id?(a(),o("a",{key:1,href:`https://twitter.com/${(F=(B=t(e))==null?void 0:B.external_ids)==null?void 0:F.twitter_id}`,class:"relative flex items-center justify-center overflow-hidden rounded-lg p-1.5 sm:p-2",target:"_blank","aria-label":"Twitter"},[r(w,{icon:"twitter",class:"w-6"})],8,yt)):c("",!0),(V=(M=t(e))==null?void 0:M.external_ids)!=null&&V.instagram_id?(a(),o("a",{key:2,href:`https://instagram.com/${(K=(W=t(e))==null?void 0:W.external_ids)==null?void 0:K.instagram_id}`,class:"relative flex items-center justify-center overflow-hidden rounded-lg p-1.5 sm:p-2",target:"_blank","aria-label":"Instagram"},[r(w,{icon:"instagram",class:"w-6"})],8,kt)):c("",!0),(G=(E=t(e))==null?void 0:E.external_ids)!=null&&G.youtube_id?(a(),o("a",{key:3,href:`https://youtube.com/channel/${(U=(R=t(e))==null?void 0:R.external_ids)==null?void 0:U.youtube_id}`,class:"relative flex items-center justify-center overflow-hidden rounded-lg p-1.5 sm:p-2",target:"_blank","aria-label":"YouTube"},[r(w,{icon:"youtube",class:"w-6"})],8,$t)):c("",!0),(H=(A=t(e))==null?void 0:A.external_ids)!=null&&H.tiktok_id?(a(),o("a",{key:4,href:`https://tiktok.com/@${(J=(O=t(e))==null?void 0:O.external_ids)==null?void 0:J.tiktok_id}`,class:"relative flex items-center justify-center overflow-hidden rounded-lg p-1.5 sm:p-2",target:"_blank","aria-label":"TikTok"},[r(w,{icon:"tiktok",class:"w-6"})],8,jt)):c("",!0),(X=(Q=t(e))==null?void 0:Q.external_ids)!=null&&X.imdb_id?(a(),o("a",{key:5,href:`https://www.imdb.com/name/${(ee=(Z=t(e))==null?void 0:Z.external_ids)==null?void 0:ee.imdb_id}`,class:"relative flex items-center justify-center overflow-hidden rounded-lg p-1.5 sm:p-2",target:"_blank","aria-label":"IMDb"},[r(w,{icon:"imdb",class:"w-6"})],8,Dt)):c("",!0),(se=(te=t(e))==null?void 0:te.external_ids)!=null&&se.wikidata_id?(a(),o("a",{key:6,href:`https://www.wikidata.org/wiki/${(le=(ae=t(e))==null?void 0:ae.external_ids)==null?void 0:le.wikidata_id}`,class:"relative flex items-center justify-center overflow-hidden rounded-lg p-1.5 sm:p-2",target:"_blank","aria-label":"Wikidata"},[r(w,{icon:"wikipedia",class:"w-6"})],8,Ct)):c("",!0),r(tt,null,{button:y(()=>[s("div",St,[r(st,{class:"w-6 text-auto-12",icon:"menuDotsVertical"})])]),default:y(()=>[r(it,{target:"_blank",href:`https://www.themoviedb.org/person/${t(e).id}/edit`},{default:y(()=>[P(u(l.$t("Edit on TMDb")),1)]),_:1},8,["href"])]),_:1})]),i[0]||(i[0]=s("div",{class:"mt-4 h-px self-stretch bg-white/10 sm:mt-0"},null,-1))]),s("div",zt,[s("div",Bt,[s("div",Ft,[(re=t(e))!=null&&re.known_for_department?(a(),o("p",Mt,u(l.$t("Known For")),1)):c("",!0),s("p",Tt,u((oe=t(e))==null?void 0:oe.known_for_department),1)]),s("div",Nt,[(ne=(ie=t(e))==null?void 0:ie.combined_credits)!=null&&ne.cast?(a(),o("p",Pt,u(l.$t("Known Credits")),1)):c("",!0),s("p",Lt,u((ue=(de=(ce=t(e))==null?void 0:ce.combined_credits)==null?void 0:de.cast)==null?void 0:ue.length),1)]),s("div",Yt,[C.value?(a(),o("p",qt,u(l.$t("Gender")),1)):c("",!0),s("p",It,u(C.value),1)]),s("div",Vt,[$.value?(a(),o("p",Wt,[P(u(l.$t("Birthday"))+" ",1),t(e).deathday?(a(),o("span",Kt,[t(e).deathday?(a(),o("span",Et,"†")):c("",!0),P(" "+u(new Date((fe=t(e))==null?void 0:fe.deathday).toLocaleDateString(t(Ie).language??"en-US",{year:"numeric",month:"short",day:"2-digit"})),1)])):c("",!0)])):c("",!0),$.value?(a(),o("p",Gt,u(new Date((me=t(e))==null?void 0:me.birthday).toLocaleDateString(t(Ie).language??"en-US",{year:"numeric",month:"short",day:"2-digit"}))+" ("+u($.value)+" "+u(l.$t("years old"))+") ",1)):c("",!0)]),s("div",Rt,[(pe=t(e))!=null&&pe.place_of_birth?(a(),o("p",Ut,u(l.$t("Place of Birth")),1)):c("",!0),s("p",At,u((he=t(e))==null?void 0:he.place_of_birth),1)])]),i[1]||(i[1]=s("div",{class:"mt-4 h-px self-stretch bg-white/10 sm:mt-0"},null,-1))]),s("div",Ht,[s("p",Ot,u(l.$t("Biography")),1),(_e=t(e))!=null&&_e.biography?(a(),o("p",Jt,u(t(Xe)((xe=t(e))==null?void 0:xe.biography)),1)):c("",!0)]),s("div",Qt,[s("div",Xt,[(ge=t(e))!=null&&ge.known_for&&((be=(we=t(e))==null?void 0:we.known_for)==null?void 0:be.length)>0?(a(),T(at,{key:0,"color-palette":(ve=t(e))==null?void 0:ve.color_palette,data:t(Ze)(t(e).known_for,"id"),"limit-card-count-by":2,title:"Known for","disable-auto-aspect":!0,type:"poster"},null,8,["color-palette","data"])):c("",!0)])]),r(j,{items:(ke=(ye=t(e))==null?void 0:ye[`${D}_credits`])==null?void 0:ke.cast,title:"Acting"},null,8,["items"]),r(j,{items:(je=($e=t(e))==null?void 0:$e[`${D}_credits`])==null?void 0:je.crew.filter(h=>h.job.includes("Produc")),title:"Production"},null,8,["items"]),r(j,{items:(Ce=(De=t(e))==null?void 0:De[`${D}_credits`])==null?void 0:Ce.crew.filter(h=>h.job.includes("Writ")),title:"Writing"},null,8,["items"]),r(j,{items:(ze=(Se=t(e))==null?void 0:Se[`${D}_credits`])==null?void 0:ze.crew.filter(h=>h.job.includes("Direct")),title:"Directing"},null,8,["items"]),r(j,{items:(Fe=(Be=t(e))==null?void 0:Be[`${D}_credits`])==null?void 0:Fe.crew.filter(h=>!h.job.includes("Produc")&&!h.job.includes("Writ")&&!h.job.includes("Direct")&&!h.job.includes("Creator")),title:"Crew"},null,8,["items"]),r(j,{items:(Te=(Me=t(e))==null?void 0:Me[`${D}_credits`])==null?void 0:Te.crew.filter(h=>h.job.includes("Creator")),title:"Creator"},null,8,["items"])])],2)]),r(pt,{data:t(e)},null,8,["data"])])],2)):c("",!0)]}),_:1}))]),_:1})]),_:1}))}});export{ys as default};
