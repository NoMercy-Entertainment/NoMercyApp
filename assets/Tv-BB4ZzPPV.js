import{aw as D,b3 as N,bt as R,az as U,aE as T,J as H,I as K,cR as G,e as $,a7 as n,aB as e,o as f,v as s,c as b,a as u,b1 as J,au as O,eM as F,eN as q,eO as g,eP as w,b2 as z,c0 as Q,t as v,h,aI as P,bk as Y,e6 as W,u as X,e5 as Z,dU as ee,z as te,b6 as k,b4 as ae,b9 as se,eF as le,eQ as oe,eR as L,eS as j,dy as ne,aM as ie,F as re,bE as ce,bF as de,b7 as ue,eT as fe,bc as pe,c6 as be}from"./index-1WLsC2v6.js";import{_ as me}from"./BigPlayButton.vue_vue_type_script_setup_true_lang-xpuP5lB4.js";const xe={class:"w-[758px] h-[428px] absolute left-[202px] top-0 overflow-hidden bg-focus"},_e=["src"],we={class:"flex justify-center w-available aspect-square my-8 ml-8 mr-16"},ye={key:0,class:"relative mb-8 flex w-full flex-1 flex-shrink-0 flex-col items-start justify-start gap-4 flex-grow-1 text-left"},ve=["innerHTML"],ke={key:1,class:"w-full text-xl font-semibold line-clamp-2 leading-[130%] whitespace-pre-wrap"},ge={class:"flex items-center h-8 gap-2 self-stretch w-full text-xs font-medium text-left"},he={key:0,class:"flex gap-2"},Se={key:1,class:"flex gap-2"},Ie={class:"flex gap-2 items-center justify-between w-full"},Ce=["data-index","data-id","onClick"],Te={class:"flex w-available overflow-clip items-end"},$e=D({__name:"Tv",setup(Fe){const S=N(),{data:l}=R({path:S.fullPath,keepForever:!0});U(()=>{var a,t,i,o;(t=(a=l.value)==null?void 0:a.color_palette)!=null&&t.cover&&T((o=(i=l.value)==null?void 0:i.color_palette)==null?void 0:o.cover),setTimeout(()=>{const c=document.querySelector(".focusable");c&&c.focus()},100)}),H(l,a=>{var t,i;(t=a==null?void 0:a.color_palette)!=null&&t.cover&&T((i=a==null?void 0:a.color_palette)==null?void 0:i.cover),setTimeout(()=>{const o=document.querySelector(".focusable");o&&o.focus()},100)});const I=K();G(()=>{setTimeout(()=>{const a=document.querySelector(".focusable");a&&a.focus()},100)});const B=a=>{var c;const t=a.target,i=((c=I.value)==null?void 0:c.getAttribute("data-index"))??0,o=t.querySelector(`[data-index="${i}"] .focusable`);o&&o.focus()},M=a=>{var c;const t=a.target;I.value=t,t&&t.scrollIntoView({behavior:"smooth",block:"center"});const i=(c=t.closest("[data-id]"))==null?void 0:c.getAttribute("data-id"),o=t.querySelector(`[data-index="${i}"] .focusable`);o&&o.focus()},E=a=>{var i,o;const t=a.target;if(a.key=="ArrowUp"){const d=((i=t.closest("ion-item"))==null?void 0:i.previousSibling).querySelector(".focusable");d&&d.focus()}else if(a.key=="ArrowDown"){const d=((o=t.closest("ion-item"))==null?void 0:o.nextSibling).querySelector(".focusable");d&&d.focus()}},V=()=>{pe(S.fullPath)},A=a=>{var t;k.value||V(),ue.playTrack(a,((t=l.value)==null?void 0:t.tracks)??[]),fe()};return(a,t)=>(f(),$(e(de),null,{default:n(()=>[s(e(ce),{fullscreen:!0},{default:n(()=>{var i,o,c;return[(f(),b("div",{class:"w-[960px] h-[540px] absolute left-0 top-0 bg-[#131314] pointer-events-none -z-10",key:(i=e(l))==null?void 0:i.id,style:O(e(F)?`--color-focus: ${e(F)}`:"")},[u("div",xe,[u("img",{class:"w-[758px] h-[428px] absolute left-[-0.39px] top-[-0.39px] opacity-40 object-cover object-center",src:`${(o=e(J))==null?void 0:o.serverBaseUrl}${(c=e(l))==null?void 0:c.cover}`,alt:""},null,8,_e),t[5]||(t[5]=u("div",{class:"w-[150vw] h-[150vw] absolute left-[-30%] bottom-[-50%]",style:{background:`radial-gradient(
                    closest-side,
                    rgba(19, 19, 20, 0.1) 0%,
                    rgba(19, 19, 20, 1) 70.73974609375%
                  )`}},null,-1))])],4)),s(e(q),null,{default:n(()=>[s(e(g),{class:"ion-align-items-end"},{default:n(()=>[s(e(w),{size:"3"},{default:n(()=>{var d,r,m,p,x,_,y,C;return[u("div",we,[s(z,{data:e(l),alt:(d=e(l))==null?void 0:d.name,class:"w-auto h-full aspect-square"},null,8,["data","alt"])]),(r=e(l))!=null&&r.name?(f(),b("div",ye,[e(l).name.length>50?(f(),b("div",{key:0,class:"w-full text-xl font-semibold line-clamp-2 leading-[130%] whitespace-pre-wrap",innerHTML:e(Q)(((m=e(l))==null?void 0:m.name)??"Songs you like","text-xs line-clamp-1")},null,8,ve)):(f(),b("p",ke,v((p=e(l))==null?void 0:p.name),1)),u("div",ge,[(x=e(l))!=null&&x.type?(f(),b("span",he,[u("span",null,v((_=e(l))==null?void 0:_.type.replace(/s$/u,"").toTitleCase()),1)])):h("",!0),(y=e(l))!=null&&y.tracks?(f(),b("span",Se,[t[6]||(t[6]=u("span",null,"â€¢",-1)),u("span",null,v((C=e(l))==null?void 0:C.tracks.length)+" "+v(a.$t("tracks")),1)])):h("",!0)]),u("div",Ie,[s(P,{data:e(l)},null,8,["data"]),s(me,{data:e(l),class:"w-12 h-12"},null,8,["data"])])])):h("",!0)]}),_:1}),s(e(w),{size:"6",onFocus:t[4]||(t[4]=d=>B(d)),tabindex:"0"},{default:n(()=>[s(e(Y),{class:"w-available h-available scroll-smooth",pt:{barY:{tabindex:-1},contentContainer:{tabindex:-1},content:{tabindex:-1},root:{tabindex:-1}},dt:{bar:{background:"transparent"}}},{default:n(()=>[s(e(W),{mode:"md",lines:"none"},{default:n(()=>{var d;return[(f(!0),b(re,null,X((d=e(l))==null?void 0:d.tracks,(r,m)=>(f(),$(e(Z),{key:r.id,tabindex:"-1",mode:"md",class:"group/track focus-within:bg-white/4 rounded-md overflow-clip"},{default:n(()=>[s(e(q),null,{default:n(()=>[s(e(g),{"data-index":m,"data-id":r.id,tabindex:"-1",class:"items-center !rounded-md !overflow-clip"},{default:n(()=>[s(e(w),{size:"2",tabindex:"-1"},{default:n(()=>[u("div",{tabindex:"0","data-index":m,"data-id":r.id,class:"focusable flex justify-center w-full aspect-video focus:outline outline-focus outline-2 outline-offset-2 mr-2 overflow-clip",onFocus:t[0]||(t[0]=p=>M(p)),onClick:p=>A(r)},[s(z,{data:r,alt:r.name,class:"w-auto h-full aspect-square"},null,8,["data","alt"])],40,Ce)]),_:2},1024),s(e(w),{size:"8",tabindex:"-1",class:"my-auto mt-2"},{default:n(()=>[s(e(ee),{tabindex:"-1"},{default:n(()=>{var p,x,_;return[u("div",Te,[u("div",{class:te(["flex items-center justify-center h-full aspect-square overflow-clip transition-width duration-300",{"w-0":((p=e(k))==null?void 0:p.id)!=r.id,"w-6 mr-1":((x=e(k))==null?void 0:x.id)==r.id}])},[s(ae,{playing:e(se)},null,8,["playing"])],2),s(le,{playing:!!((_=e(k))!=null&&_.id),text:r.name,class:"!w-[calc(100%-30px)] text-auto-12 children:leading-none w-available overflow-clip"},null,8,["playing","text"])]),s(oe,{data:r.artist_track,type:"artists",id:r.id,onKeydown:[t[1]||(t[1]=L(j(()=>{},["prevent"]),["up"])),t[2]||(t[2]=L(j(()=>{},["prevent"]),["down"]))],onKeyup:t[3]||(t[3]=y=>E(y)),suffix:"track"},null,8,["data","id"])]}),_:2},1024)]),_:2},1024),s(e(w),{size:"2",tabindex:"-1",class:"opacity-0 group-focus-within/track:opacity-100"},{default:n(()=>[s(e(g),{tabindex:"-1"},{default:n(()=>[s(P,{data:r,type:"track"},null,8,["data"]),s(ne,{label:"",tabindex:"1",onclick:()=>{},class:"!bg-transparent"},{default:n(()=>[s(ie,{icon:"menuDotsHorizontal",class:"text-white"})]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1032,["data-index","data-id"])]),_:2},1024)]),_:2},1024))),128))]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]}),_:1})]),_:1}))}}),Pe=be($e,[["__scopeId","data-v-38ad6c63"]]);export{Pe as default};
//# sourceMappingURL=Tv-BB4ZzPPV.js.map
