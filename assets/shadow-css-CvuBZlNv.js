import{Lc as le}from"./index-DUsTkghB.js";var x,B,k,g,w,H,S,L,P,W,_,j,v,N,f,C,K,M,D,U,Y,A,G,I,q,z,ae,ie,R,F,J,Q,b,y,V,X,Z,T,ee,te,oe,O,re,ne,se,E,ce,$,pe,ue=le({"node_modules/@nomercy-entertainment/nomercy-music-player/node_modules/@stencil/core/internal/client/shadow-css.js":()=>{x=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),B=e=>{const t=[];let r=0;return e=e.replace(/(\[[^\]]*\])/g,(n,o)=>{const s=`__ph-${r}__`;return t.push(o),r++,s}),{content:e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(n,o,s)=>{const c=`__ph-${r}__`;return t.push(s),r++,o+c}),placeholders:t}},k=(e,t)=>t.replace(/__ph-(\d+)__/g,(r,n)=>e[+n]),g="-shadowcsshost",w="-shadowcssslotted",H="-shadowcsscontext",S=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",L=new RegExp("("+g+S,"gim"),P=new RegExp("("+H+S,"gim"),W=new RegExp("("+w+S,"gim"),_=g+"-no-combinator",j=/-shadowcsshost-no-combinator([^\s]*)/,v=[/::shadow/g,/::content/g],N="([>\\s~+[.,{:][\\s\\S]*)?$",f=/-shadowcsshost/gim,C=e=>new RegExp(`((?<!(^@supports(.*)))|(?<={.*))(${e}\\b)`,"gim"),K=C("::slotted"),M=C(":host"),D=C(":host-context"),U=/\/\*\s*[\s\S]*?\*\//g,Y=e=>e.replace(U,""),A=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g,G=e=>e.match(A)||[],I=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,q=/([{}])/g,z=/(^.*?[^\\])??((:+)(.*)|$)/,ae="{",ie="}",R="%BLOCK%",F=(e,t)=>{const r=J(e);let n=0;return r.escapedString.replace(I,(...o)=>{const s=o[2];let c="",l=o[4],a="";l&&l.startsWith("{%BLOCK%")&&(c=r.blocks[n++],l=l.substring(R.length+1),a="{");const u=t({selector:s,content:c});return`${o[1]}${u.selector}${o[3]}${a}${u.content}${l}`})},J=e=>{const t=e.split(q),r=[],n=[];let o=0,s=[];for(let c=0;c<t.length;c++){const l=t[c];l==="}"&&o--,o>0?s.push(l):(s.length>0&&(n.push(s.join("")),r.push(R),s=[]),r.push(l)),l==="{"&&o++}return s.length>0&&(n.push(s.join("")),r.push(R)),{escapedString:r.join(""),blocks:n}},Q=e=>(e=e.replace(D,`$1${H}`).replace(M,`$1${g}`).replace(K,`$1${w}`),e),b=(e,t,r)=>e.replace(t,(...n)=>{if(n[2]){const o=n[2].split(","),s=[];for(let c=0;c<o.length;c++){const l=o[c].trim();if(!l)break;s.push(r(_,l,n[3]))}return s.join(",")}else return _+n[3]}),y=(e,t,r)=>e+t.replace(g,"")+r,V=e=>b(e,L,y),X=(e,t,r)=>t.indexOf("-shadowcsshost")>-1?y(e,t,r):e+t+r+", "+t+" "+e+r,Z=(e,t)=>{const r="."+t+" > ",n=[];return e=e.replace(W,(...o)=>{if(o[2]){const s=o[2].trim(),c=o[3],l=r+s+c;let a="";for(let h=o[4]-1;h>=0;h--){const i=o[5][h];if(i==="}"||i===",")break;a=i+a}const u=(a+l).trim(),d=`${a.trimEnd()}${l.trim()}`.trim();if(u!==d){const h=`${d}, ${u}`;n.push({orgSelector:u,updatedSelector:h})}return l}else return _+o[3]}),{selectors:n,cssText:e}},T=e=>b(e,P,X),ee=e=>v.reduce((t,r)=>t.replace(r," "),e),te=e=>(e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+e+")"+N,"m")),oe=(e,t)=>!te(t).test(e),O=(e,t)=>e.replace(z,(r,n="",o,s="",c="")=>n+t+s+c),re=(e,t,r)=>{if(f.lastIndex=0,f.test(e)){const n=`.${r}`;return e.replace(j,(o,s)=>O(s,n)).replace(f,n+" ")}return t+" "+e},ne=(e,t,r)=>{t=t.replace(/\[is=([^\]]*)\]/g,(i,...p)=>p[0]);const n="."+t,o=i=>{let p=i.trim();if(!p)return"";if(i.indexOf("-shadowcsshost-no-combinator")>-1)p=re(i,t,r);else{const m=i.replace(f,"");m.length>0&&(p=O(m,n))}return p},s=B(e);e=s.content;let c="",l=0,a;const u=/( |>|\+|~(?!=))\s*/g;let d=!(e.indexOf(_)>-1);for(;(a=u.exec(e))!==null;){const i=a[1],p=e.slice(l,a.index).trim();d=d||p.indexOf("-shadowcsshost-no-combinator")>-1;const m=d?o(p):p;c+=`${m} ${i} `,l=u.lastIndex}const h=e.substring(l);return d=d||h.indexOf("-shadowcsshost-no-combinator")>-1,c+=d?o(h):h,k(s.placeholders,c)},se=(e,t,r,n)=>e.split(",").map(o=>n&&o.indexOf("."+n)>-1?o.trim():oe(o,t)?ne(o,t,r).trim():o.trim()).join(", "),E=(e,t,r,n)=>F(e,o=>{let s=o.selector,c=o.content;return o.selector[0]!=="@"?s=se(o.selector,t,r,n):(o.selector.startsWith("@media")||o.selector.startsWith("@supports")||o.selector.startsWith("@page")||o.selector.startsWith("@document"))&&(c=E(o.content,t,r,n)),{selector:s.replace(/\s{2,}/g," ").trim(),content:c}}),ce=(e,t,r,n)=>{e=Q(e),e=V(e),e=T(e);const o=Z(e,n);return e=o.cssText,e=ee(e),t&&(e=E(e,t,r,n)),e=$(e,r),e=e.replace(/>\s*\*\s+([^{, ]+)/gm," $1 "),{cssText:e.trim(),slottedSelectors:o.selectors.map(s=>({orgSelector:$(s.orgSelector,r),updatedSelector:$(s.updatedSelector,r)}))}},$=(e,t)=>e.replace(/-shadowcsshost-no-combinator/g,`.${t}`),pe=(e,t)=>{const r=t+"-h",n=t+"-s",o=G(e);e=Y(e);const s=ce(e,t,r,n);return e=[s.cssText,...o].join(`
`),s.slottedSelectors.forEach(c=>{const l=new RegExp(x(c.orgSelector),"g");e=e.replace(l,c.updatedSelector)}),e}}});ue();export{pe as scopeCss};
