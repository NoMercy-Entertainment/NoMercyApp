import{Jc as d,nl as b}from"./index-DhiB0zJh.js";var _=i=>{if(d===void 0)return;let a=0,e,r,n;const R=i.getBoolean("animated",!0)&&i.getBoolean("rippleEffect",!0),l=new WeakMap,p=()=>{n&&clearTimeout(n),n=void 0,e&&(m(!1),e=void 0)},h=t=>{e||t.button===2||v(g(t),t)},w=t=>{v(void 0,t)},v=(t,o)=>{if(t&&t===e)return;n&&clearTimeout(n),n=void 0;const{x:c,y:s}=b(o);if(e){if(l.has(e))throw new Error("internal error");e.classList.contains(f)||u(e,c,s),m(!0)}if(t){const A=l.get(t);A&&(clearTimeout(A),l.delete(t)),t.classList.remove(f);const T=()=>{u(t,c,s),n=void 0};L(t)?T():n=setTimeout(T,S)}e=t},u=(t,o,c)=>{if(a=Date.now(),t.classList.add(f),!R)return;const s=C(t);s!==null&&(E(),r=s.addRipple(o,c))},E=()=>{r!==void 0&&(r.then(t=>t()),r=void 0)},m=t=>{E();const o=e;if(!o)return;const c=D-Date.now()+a;if(t&&c>0&&!L(o)){const s=setTimeout(()=>{o.classList.remove(f),l.delete(o)},D);l.set(o,s)}else o.classList.remove(f)};d.addEventListener("ionGestureCaptured",p),d.addEventListener("pointerdown",h,!0),d.addEventListener("pointerup",w,!0),d.addEventListener("pointercancel",p,!0)},g=i=>{if(i.composedPath!==void 0){const a=i.composedPath();for(let e=0;e<a.length-2;e++){const r=a[e];if(!(r instanceof ShadowRoot)&&r.classList.contains("ion-activatable"))return r}}else return i.target.closest(".ion-activatable")},L=i=>i.classList.contains("ion-activatable-instant"),C=i=>{if(i.shadowRoot){const a=i.shadowRoot.querySelector("ion-ripple-effect");if(a)return a}return i.querySelector("ion-ripple-effect")},f="ion-activated",S=100,D=150;export{_ as startTapClick};
