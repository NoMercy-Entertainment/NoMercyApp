import"./useBaseQuery-BD2bvG9f.js";import"./useInfiniteServerClient-DsIFlj9d.js";import"./useQueryClient-D6q0hgG8.js";import"./useQuery-CBoq9typ.js";import{Ai as k,Ks as b,Ls as n,Mc as i,Oo as h,Ps as w,Rs as c,Tc as T,U as S,Ws as C,_c as I,ca as p,eo as B,hr as U,i as l,ko as x,mo as V,oc as v,oo as A,ps as t,rr as D,ws as H,yc as d}from"./index-DO6J_9Tp.js";import{s as r}from"./imageModal-B_6nwhoD.js";import{t as N}from"./useServerClient-BHDPuUSe.js";import{a as L,n as M,o as R,r as j,s as z}from"./VideoPlayer-DyE3_3qC.js";import"./buttons-Dz19tni1.js";import{t as E}from"./keyHandlerPlugin-C7-tbUUC.js";H();var F=b({__name:"Tv",setup(K){const{data:o}=N({}),e=T();function u(a){const s={muted:!1,controls:!1,preload:"auto",debug:!1,autoPlay:!1,playlist:a?.filter(_=>!!_.id)??[],controlsTimeout:3e3,doubleClickDelay:300,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2],accessToken:p.value?.accessToken||localStorage.getItem("access_token")||"",basePath:k.value?.serverBaseUrl,forceTvMode:(t("android")||t("ios"))&&!t("mobile"),disableTouchControls:!1,disableMediaControls:"mediaSession"in navigator||t("capacitor"),renderAhead:10};e.value=j("player1").setup(s);const f=new L;e.value?.registerPlugin("tvUI",f),e.value?.usePlugin("tvUI");const g=new R;e.value?.registerPlugin("autoSkip",g),e.value?.usePlugin("autoSkip");const m=new E;e.value?.registerPlugin("keyHandler",m),e.value?.usePlugin("keyHandler");const y=new z;e.value?.registerPlugin("sync",y),e.value?.usePlugin("sync");const P=new M;e.value?.registerPlugin("octopus",P),e.value?.usePlugin("octopus"),e.value?.once("play",()=>{e.value?.enterFullscreen()}),e.value?.on("playlistComplete",()=>{history.state.back?l.back():l.replace("/")}),e.value?.on("dispose",()=>{history.state.back?l.back():l.replace("/")}),e.value?.on("back",()=>{e.value?.dispose()}),e.value?.on("play",()=>{r(!0)}),e.value?.on("pause",()=>{r(!1)}),B.addListener("backButton",()=>{e.value?.emit("back-button"),e.value?.emit("back-button-hyjack")})}return I(o,a=>{a?.length&&u(a)}),h(()=>{D(),S.stop(),p.value.features?.nomercyConnect?u():o.value?.length&&u(o.value)}),x(()=>{U(),e.value?.dispose(),r(!1)}),(a,s)=>(v(),c(i(V),null,{default:d(()=>[C(i(A),{fullscreen:!0},{default:d(()=>[(v(),c(w,{to:"body"},[s[0]||(s[0]=n("div",{class:"absolute inset-0 flex h-full w-full overflow-clip bg-black z-1199 text-white"},[n("div",{id:"player1",class:"group nomercyplayer"})],-1))]))]),_:1})]),_:1}))}}),ee=F;export{ee as default};
