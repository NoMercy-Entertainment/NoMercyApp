import{C as n,Et as _,J as c,S as p,Tt as l,c as P,ct as d,gt as w,j as h,k as I,ot as C,y as S}from"./i18n-Bgv5p1Yb.js";import{ya as o}from"./ionic-B1wlflFe.js";import{C as M,I as T,L as x,_ as B}from"./vue-core-Dey0Eikg.js";import"./query-xyWPY_A0.js";import{Gt as V,H as v,Vi as m,Vt as D,Wt as U,Xt as L,Yt as A,k as a,on as N,qi as j,s as i,xa as z}from"./index-DLX3dE7o.js";import"./useInfiniteServerClient-DG5_vM7O.js";import{t as E}from"./useServerClient-BXRsp2bm.js";import{a as q,i as F,n as G,o as H,r as J}from"./VideoPlayer-D_qlXqbb.js";import"./buttons-CU4wCn28.js";P();var O=h({__name:"Mobile",setup(R){const{data:u}=E({}),e=w();function r(t){const s={muted:!1,controls:!1,preload:"auto",debug:!1,autoPlay:!0,playlist:t?.filter(y=>!!y.id)??[],controlsTimeout:3e3,doubleClickDelay:300,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2],accessToken:z.value?.accessToken||localStorage.getItem("access_token")||"",basePath:j.value?.serverBaseUrl,imageBasePath:"https://app.nomercy.tv/tmdb-images",forceTvMode:(o("android")||o("ios"))&&!o("mobile"),disableTouchControls:!1,disableMediaControls:"mediaSession"in navigator||o("capacitor"),renderAhead:100};e.value=J("player1").setup(s),e.value?.once("back",()=>{history.state.back?a.back():a.replace("/")});const f=new F;e.value?.registerPlugin("desktopUI",f),e.value?.usePlugin("desktopUI");const g=new q;e.value?.registerPlugin("autoSkip",g),e.value?.usePlugin("autoSkip");const b=new H;e.value?.registerPlugin("sync",b),e.value?.usePlugin("sync");const k=new G;e.value?.registerPlugin("octopus",k),e.value?.usePlugin("octopus"),e.value?.once("play",()=>{e.value?.enterFullscreen()}),e.value?.on("playlistComplete",()=>{history.state.back?a.back():a.replace("/")}),e.value?.on("dispose",async()=>{await L(),await U(),history.state.back?a.back():await a.replace("/")}),e.value?.on("back",()=>{e.value?.dispose()}),e.value?.on("play",()=>{i(!0)}),e.value?.on("pause",()=>{i(!1)}),e.value?.on("ready",async()=>{await A(),await N(),await V(),v.stop()}),e.value?.on("item",()=>{e.value?.play()}),D.addListener("backButton",()=>{e.value?.emit("back-button-hyjack"),e.value?.dispose()})}return C(u,t=>{t?.length&&r(t)}),T(()=>{v.stop(),r(u.value)}),x(()=>{e.value?.dispose(),i(!1)}),(t,s)=>(c(),n(l(M),null,{default:d(()=>[I(l(B),{fullscreen:!0},{default:d(()=>[(c(),n(S,{to:"body"},[p("div",{class:_([{"mb-28":l(m),"mb-0":!l(m)},"absolute inset-0 flex h-full w-full overflow-clip bg-black z-1199 text-white"])},[...s[0]||(s[0]=[p("div",{id:"player1",class:"group nomercyplayer"},null,-1)])],2)]))]),_:1})]),_:1}))}}),te=O;export{te as default};
