import{An as d,Lt as p,Tt as m}from"./index-CymNhKD_.js";import{r as y}from"./currentServer-DzE7mepP.js";var g=class{player;isMouseDown=!1;isScrubbing=!1;valuePercentage=0;dragPercentage=0;sliderBar={};sliderValue={};sliderNipple={};sliderHover={};targetElement;callbackFn;getSizeFn;constructor(e,t,i,s){this.player=t,this.targetElement=e,this.callbackFn=i,this.getSizeFn=s,this.targetElement&&(this.sliderBar=this.targetElement.querySelector(".slider-bar"),this.sliderValue=this.targetElement.querySelector(".slider-value"),this.sliderNipple=this.targetElement.querySelector(".slider-nipple"),this.sliderHover=this.targetElement.querySelector(".slider-hover"),!(!this.sliderBar||!this.sliderValue||!this.sliderNipple||!this.sliderHover)&&this.init())}getScrubTime(e,t){const i=t.getBoundingClientRect();let s=(e.clientX??e.touches?.[0]?.clientX??e.changedTouches?.[0]?.clientX??0)-i.left;s<=0&&(s=0),s>=i.width&&(s=i.width);let r=100;return this.getSizeFn&&typeof this.player[this.getSizeFn]=="function"&&(r=this.player[this.getSizeFn]()),{scrubValue:s/t.offsetWidth*100,scrubValuePlayer:s/t.offsetWidth*r}}handleMouseDown(){this.isMouseDown=!0}handleMouseUp(e){this.isMouseDown=!1,this.isScrubbing=!1,this.sliderNipple.style.removeProperty("--force-left"),this.sliderValue.style.removeProperty("--force-width");const t=this.getScrubTime(e,this.sliderBar);typeof this.player[this.callbackFn]=="function"&&this.player[this.callbackFn](t.scrubValuePlayer)}handleMouseMove(e){const t=this.getScrubTime(e,this.sliderBar);this.isMouseDown&&(this.sliderNipple.style.setProperty("--force-left",`${t.scrubValue}%`),this.sliderValue.style.setProperty("--force-width",`${t.scrubValue}%`),this.valuePercentage=t.scrubValue,typeof this.player[this.callbackFn]=="function"&&!this.getSizeFn&&this.player[this.callbackFn](t.scrubValue)),this.dragPercentage=Math.round(t.scrubValue),this.sliderHover.style.width=`${t.scrubValue}%`}handleMouseEnter(){this.sliderNipple.style.display="flex"}handleMouseLeave(){this.isScrubbing=!1,this.isMouseDown=!1,this.sliderNipple.style.removeProperty("--force-left"),this.sliderValue.style.removeProperty("--force-width"),this.sliderNipple.style.display="",this.sliderHover.style.width="0"}handleTouchStart(){this.isMouseDown=!0,this.sliderNipple.style.display="flex"}handleTouchMove(e){if(this.isMouseDown){this.isScrubbing=!0;const t=this.getScrubTime(e,this.sliderBar);this.sliderNipple.style.setProperty("--force-left",`${t.scrubValue}%`),this.sliderValue.style.setProperty("--force-width",`${t.scrubValue}%`),typeof this.player[this.callbackFn]=="function"&&this.player[this.callbackFn](t.scrubValuePlayer)}}handleTouchEnd(e){this.isMouseDown=!1,this.isScrubbing=!1,this.sliderNipple.style.display="",this.sliderNipple.style.removeProperty("--force-left"),this.sliderValue.style.removeProperty("--force-width");const t=this.getScrubTime(e,this.sliderBar);typeof this.player[this.callbackFn]=="function"&&this.player[this.callbackFn](t.scrubValuePlayer)}init(){this.sliderBar.addEventListener("mousedown",this.handleMouseDown.bind(this)),this.sliderBar.addEventListener("mouseup",this.handleMouseUp.bind(this)),this.sliderBar.addEventListener("mousemove",this.handleMouseMove.bind(this)),this.sliderBar.addEventListener("mouseenter",this.handleMouseEnter.bind(this)),this.sliderBar.addEventListener("mouseleave",this.handleMouseLeave.bind(this)),this.sliderBar.addEventListener("touchstart",this.handleTouchStart.bind(this)),this.sliderBar.addEventListener("touchmove",this.handleTouchMove.bind(this)),this.sliderBar.addEventListener("touchend",this.handleTouchEnd.bind(this))}};HTMLElement.prototype.sliderBar=function(e,t,i){return!(this instanceof HTMLElement)||this.dataset.type!=="slider-bar"?null:new g(this,e,t,i)};HTMLElement.prototype.scrollHorizontalIntoView=function(e){if(!(this instanceof HTMLElement))return;const t=this.getBoundingClientRect(),i=e??this.parentElement;if(!i)return;const s=t.left-i.getBoundingClientRect().left;i.scrollTo({left:s,behavior:"smooth"})};HTMLElement.prototype.scrollVerticalIntoView=function(e){if(!(this instanceof HTMLElement))return;const t=this.getBoundingClientRect(),i=e??this.parentElement;if(!i)return;const s=t.top-i.getBoundingClientRect().top;i.scrollTo({top:s,behavior:"smooth"})};HTMLElement.prototype.animateVerticalIntoView=function(e=null,t=420){if(!(this instanceof HTMLElement))return;const i=this.getBoundingClientRect();if(e||(e=this.parentElement),!e)return;const s=i.top-e.getBoundingClientRect().top-e.getBoundingClientRect().height/2,r=performance.now(),l=e.scrollTop;function n(o){if(!e)return;const u=o-r;let a=Math.min(u/t,1);a=v(a),e.scrollTo(0,l+s*a),u<t&&requestAnimationFrame(n)}requestAnimationFrame(n)};HTMLElement.prototype.isVisible=function(e){if(!this)return!1;const t=this.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(e?.offsetHeight||document.documentElement.clientHeight)&&t.right<=(e?.offsetWidth||document.documentElement.clientWidth)};Document.prototype.querySelectorAllArray=function(e){return Array.from(this.querySelectorAll(e))};Element.prototype.querySelectorAllArray=function(e){return Array.from(this.querySelectorAll(e))};HTMLElement.prototype.querySelectorAllArray=function(e){return Array.from(this.querySelectorAll(e))};function v(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}var h;function b(e){clearTimeout(h);let t=null;e==="#"?t=document.querySelector("ion-tabs ion-router-outlet div.ion-page:not(.ion-page-hidden) [data-scroll]"):t=document.querySelector(`ion-tabs ion-router-outlet div.ion-page:not(.ion-page-hidden) [data-scroll='scroll_${e}']`),document.dispatchEvent(new CustomEvent("scrollToDiv",{detail:{top:t?.offsetTop}}));let i=document.querySelector(".ion-page:not(.ion-page-hidden) main .group\\/scrollContainer");i||(i=document.querySelector(".ion-page:not(.ion-page-hidden) ion-content .scroll-container")),t&&i&&(i.scrollTo({top:t.offsetTop-120,behavior:"smooth"}),h=setTimeout(()=>{t?.classList.add("flashing"),setTimeout(()=>{t?.classList.remove("flashing")},3e3)},700))}function E(e){if(e.key&&y("#","Z").includes(e.key.toUpperCase())){const t=e.key?.toUpperCase();b(t),document.dispatchEvent(new CustomEvent("scrollToLetter",{detail:{letter:t}}))}}m();var c=d(!1);const M=p(()=>c.value);function w(e){c.value=e}var f=d([]);function L(e){f.value=e}const V=p(()=>{const e=new Set;return f.value?.forEach(t=>{const i=t.props?.data?.title||t.props?.data?.name||t.props?.name||"";if(i){const s=i.charAt(0).toUpperCase();/[A-Z0-9]/.test(s)?e.add(s):e.add("#")}}),e});function B(e,t,i){const s=e==="#"?e:e.toUpperCase(),r=t.findIndex(l=>{const n=l.props?.data?.title||l.props?.data?.name||l.props?.name||"";if(!n)return!1;const o=n.charAt(0).toUpperCase();return s==="#"?!/[A-Z0-9]/.test(o):o===s});r>=0&&i(r)}var C=c;export{w as a,L as i,C as n,E as o,B as r,b as s,V as t};
