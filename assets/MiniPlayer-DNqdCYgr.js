import{C as f,Et as b,J as u,Ot as d,S as t,T as k,Tt as e,c as C,gt as c,j as P,k as h,kt as S,w as v,x as _}from"./i18n-Cs-AFcrY.js";import"./ionic-XwZpO7IE.js";import"./vue-core-CKeWI2Kt.js";import"./primevue-DNc5dNs0.js";import{Fa as B,U as M,X as a,_t as y,ca as j,g as z,ht as E,yr as $}from"./index-BnnbGJJT.js";import{n as T}from"./profileMenu-DR3NHKcg.js";import"./MusicButton-v8SrJ9sU.js";import"./BannerButton-C04tAEET.js";import{t as F}from"./MediaLikeButton-BQrqSND8.js";import{n as N,r as V,t as D}from"./TrackLinks-C6bqr9ht.js";C();var L={class:"flex flex-grow items-center justify-start gap-2.5 overflow-clip w-[65%]"},O={class:"frosting relative flex w-10 min-w-10 items-start justify-start gap-2 overflow-hidden rounded"},W={class:"w-auto self-stretch text-left text-sm font-medium leading-6 line-clamp-1"},X={class:"children:children:children:children:children:leading-6 w-auto self-stretch text-left text-sm"},q={class:"flex items-center justify-end gap-1"},A={class:"absolute left-0 w-full h-0.5 top-[54px] blur-[1px]"},I=P({__name:"MiniPlayer",setup(J){const w=_(()=>j.value?$(a.value?.color_palette?.cover,20,160):"var(--color-theme-7)"),p=c(null),m=c(null),o=_(()=>m.value?.offsetWidth),l=c("0"),i=c(1);function g(){l.value="0",i.value=1}const{isSwiping:x,lengthX:s}=B(p,{passive:!0,onSwipe(){if(o.value){const n=Math.abs(s.value);i.value=1.1-n/o.value,s.value<0?l.value=`${n}px`:l.value=`-${n}px`}},onSwipeEnd(){o.value&&(s.value<0&&Math.abs(s.value)/o.value>=.5||s.value>100&&Math.abs(s.value)/o.value>=.5)?(l.value="100%",i.value=0,M.stop(),g()):(l.value="0",i.value=1)}});return(n,r)=>!e(T)&&e(a)?(u(),k("div",{key:0,id:"miniPlayer",ref_key:"container",ref:m,style:d(`--color-theme-8: ${w.value}`),class:"flex absolute w-available justify-between items-center self-stretch bottom-0 h-14 overflow-hidden p-2 bg-surface-1 mt-auto z-0",onClick:r[0]||(r[0]=U=>e(E)())},[r[2]||(r[2]=t("div",{class:"absolute inset-0 h-full w-full bg-gradient-to-b to-black/40 from-focus/40"},null,-1)),t("div",L,[t("div",O,[e(a)?(u(),f(z,{key:0,data:e(a),size:100,"class-name":"relative aspect-square h-10 w-10 cursor-pointer overflow-hidden rounded-sm text-focus00 min-w-[2.5rem] min-h-[2.5rem]"},null,8,["data"])):v("",!0)]),t("div",{ref_key:"target",ref:p,class:b([{animated:!e(x)},"relative flex h-full flex-grow flex-col items-start justify-evenly overflow-clip w-inherit"]),style:d({left:l.value,opacity:i.value})},[t("p",W,S(e(a)?.name),1),t("p",X,[e(a)?(u(),f(D,{key:0,id:e(a).id,data:e(a).artist_track,type:"artists"},null,8,["id","data"])):v("",!0)])],6)]),t("div",q,[h(V,{"no-name":""}),(u(),f(F,{key:e(a)?.id+e(a)?.favorite,data:e(a),color:"var(--color-theme-8)"},null,8,["data"])),h(N,{class:"children:h-7 children:w-7"})]),t("div",A,[r[1]||(r[1]=t("div",{class:"absolute w-full h-0.5 left-[-1px] top-[-1px] bg-black/[0.22]"},null,-1)),t("div",{style:d(`width: ${e(y)}%;`),class:"w-0 h-0.5 absolute left-[-1px] top-[-1px] rounded-sm bg-gradient-to-r from-black/5 to-[var(--color-theme-8)] z-10"},null,4),t("div",{style:d(`left: ${e(y)}%;`),class:"w-1 h-0.5 absolute top-[-1px] rounded-sm bg-[#f1EEFE] -translate-x-[2px] z-0"},null,4)])],4)):v("",!0)}}),le=I;export{le as default};
