import{Gt as a,Ln as l,Lt as $,Rn as z,Rt as s,Tt as B,Vn as p,Vt as S,Wt as d,an as q,cn as c,i as R,kn as m,n as T,qt as D,u as V,xn as t,zt as f}from"./index-cywnPOBC.js";import"./dist-yzM0QGvF.js";import"./esm-CsGjMs42.js";import"./esm-D4f7ygqA.js";import"./dist-CG1k-g7C.js";import"./focus-visible-dQviwWa0.js";import"./index5-DWzlHdCO.js";import"./client-D7oxUmH6.js";import"./ionic-global-DCe2g38l.js";import"./hardware-back-button-Bqrrbg0Z.js";import"./index3-bIbYCfqw.js";import"./helpers-BGGXVDsd.js";import"./index6-vUi4VFUZ.js";import"./index8-5IzBz0Dr.js";import"./keyboard-CAPY05Np.js";import"./index2-DsYXeg3E.js";import"./ios.transition-DeZfFnMt.js";import"./keyboard2-CYwkuq6R.js";import"./md.transition-CoCDKCK7.js";import"./dir-VVnELOav.js";import"./basecomponent-Dn_g4DAz.js";import"./classnames-C7QsyfAI.js";import"./button-n8IYfWnY.js";import"./baseicon-DTjMEpRe.js";import"./times-bO8EOx7-.js";import"./ui-C0FA7XgL.js";import"./client-TRoQZYEY.js";import"./currentServer-ns-65dJg.js";import{a as j}from"./config-BZ-AEJ_J.js";import"./core-Byg9KrIc.js";import"./esm-D9ex0nT9.js";import"./global-oyc8MvKQ.js";import"./esm-B2mzPl6v.js";import{t as L}from"./bundle-mjs-BuAB9hD1.js";import{s as r}from"./user-DdN2xDWa.js";import"./serverClient-h83xvsoB.js";import"./router-b6Y7vD7A.js";import"./utils-CfbU6uFB.js";import"./useBaseQuery--g5SyDb6.js";import"./useInfiniteServerClient-DYu8wLRM.js";import"./SocketClient-BXQHVNG_.js";import"./useQueryClient-CeysrMlA.js";import"./useQuery-BSaIeQ43.js";import{t as N}from"./apiClient-cmnl9Hzw.js";import"./notifications-Cig9DoL1.js";import"./utils-D5nhA-44.js";import"./deviceInfo-D74C9RbC.js";import"./auth-Bz7Q9vHJ.js";import"./_plugin-vue_export-helper-pDp7unP0.js";import"./AppLogoSquare-BPMeAXGY.js";import"./MoooomIcon-DKjYVqpr.js";import{n as M}from"./dist-DxpR9Lgz.js";import"./md5-CDctkjKS.js";import{t as A}from"./fileupload-Cs3UY4Po.js";import"./useServerClient-BCJ_nw8c.js";import"./ScrollContainer-CLVULms8.js";import"./useMounted-Dkn4Sz-t.js";import"./RipperOverlay-Cv7S1oDX.js";import"./HubConnection-BtR614H-.js";import"./ripperSocket-DZD9yWI6.js";import{t as _}from"./Button-CDwGesU1.js";import"./FloatingBackButton-u0-nKBYi.js";import{t as I}from"./DashboardLayout-BUGBX_-2.js";import{t as P}from"./Avatar-BJlRJ_FY.js";B();var W={class:"flex flex-col gap-4 col-span-2"},E={class:"flex gap-4"},F=["src"],G={class:"flex flex-col justify-start items-start flex-grow relative gap-2"},H={class:"self-stretch flex-grow-0 flex-shrink-0 w-full text-sm text-left text-[#9ba1a6] whitespace-pre-line"},J=`Upload an image of max {{dimension}} pixels and {{size}} in size.
 We recommend a square image for best results.`,K=D({__name:"Desktop",setup(O){const{t:v}=M(),h=T(),o=m(),g=m(),i=m(r.value.avatarUrl),n=m(!0),x=`https://api${j}.nomercy.tv/avatar`;function b(){o.value.upload(),n.value=!0}function k(){h.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3}),N().get("/app_config").then(async({data:e})=>{r.value.avatarUrl=e.data.avatarUrl})}function w(e){i.value=e.files[0].objectURL,n.value=!1}function y(e){e.xhr.setRequestHeader("Authorization",`Bearer ${r.value.accessToken}`)}function U(){i.value=r.value.avatarUrl,o.value.clear()}q(()=>{setTimeout(()=>{o.value?.$el&&(o.value.$el.querySelector("span[files]").textContent=v("No file chosen"))},100)});const C=$(()=>L("!flex !justify-center !items-center !px-4 !py-2 !gap-2 !rounded-lg !text-sm","select-none !w-auto !font-semibold !leading-[100%] !transition-transform !duration-150 !border-none !text-white","!bg-gradient-to-b from-[var(--color-theme-11)] to-[var(--color-theme-10)] hover:from-[var(--color-theme-12)] hover:to-[var(--color-theme-11)] active:from-[var(--color-theme-10)] active:to-[var(--color-theme-9)] dark:from-[var(--color-theme-8)] dark:to-[var(--color-theme-5)] dark:hover:from-[var(--color-theme-8)] dark:hover:to-[var(--color-theme-6)] dark:active:from-[var(--color-theme-8)] dark:active:to-[var(--color-theme-4)] button-filled ",`
				 shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgb(from_var(--surface-11)_r_g_b/60%)_inset,0_22px_30px_-4px_rgb(from_var(--surface-11)_r_g_b/70%)]
				 dark:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--surface-1/30%)_inset,0_22px_30px_-4px_rgba(var(--surface-1/70%)]
				 active:!shadow-none
				 active:!dark:shadow-none
			 `));return(e,u)=>(c(),f(l(V),null,{default:t(()=>[a(l(R),{fullscreen:!0},{default:t(()=>[a(I,{"allow-anyone":!0,"grid-style":3,title:"Profile"},{cta:t(()=>[...u[0]||(u[0]=[])]),default:t(()=>[s("div",W,[s("div",E,[i.value?(c(),S("img",{key:0,ref_key:"image",ref:g,src:i.value,alt:"",class:"w-60 min-w-60 h-auto aspect-square object-cover rounded-lg"},null,8,F)):(c(),f(P,{key:1,email:l(r).email,size:250,class:"w-60 min-w-60 h-auto aspect-square rounded-lg"},null,8,["email"])),s("div",G,[a(l(A),{ref_key:"fileUpload",ref:o,"cancel-label":e.$t("Cancel"),"choose-label":e.$t("Choose image"),class:z(C.value),"max-file-size":2*1024*1024,url:x,accept:"image/*",mode:"basic",name:"image","with-credentials":"",onSelect:w,onUpload:k,onBeforeSend:y},null,8,["cancel-label","choose-label","class"]),a(_,{id:"upload",disabled:n.value,color:"theme","start-icon":"cloudUpload",onClick:b},{default:t(()=>[d(p(e.$t("Upload image")),1)]),_:1},8,["disabled"]),s("p",H,p(e.$t(J,{dimension:"2000x2000",size:"2MB"})),1),a(_,{id:"upload",color:"white","start-icon":"arrowCounterClockwise",variant:"text",onClick:U},{default:t(()=>[d(p(e.$t("Reset image")),1)]),_:1})])])])]),_:1})]),_:1})]),_:1}))}}),lt=K;export{lt as default};
