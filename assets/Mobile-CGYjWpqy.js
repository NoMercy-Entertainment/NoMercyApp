import{aw as Ke,b3 as Oe,I as u,aC as Ze,bt as Qe,J as Ie,aE as Xe,bZ as je,aT as Be,aU as Le,b_ as De,aD as He,aF as Ye,bd as et,e as s,a7 as P,aB as t,b1 as tt,b$ as I,aJ as Ae,cf as rt,o as l,v as Ee,a as p,aG as at,c0 as lt,cj as st,h as o,c as ot,c2 as it,t as Me,c3 as nt,c4 as ct,c1 as Ue,c5 as dt,au as pt,bE as ut,bF as mt,c6 as ft}from"./index-DY3uukPc.js";import{_ as Ve,a as Fe}from"./PersonCarousel.vue_vue_type_script_setup_true_lang-f0SNklYA.js";import{_ as We}from"./MediaCarousel.vue_vue_type_script_setup_true_lang-CA1lFWNo.js";import{_ as f}from"./InfoItem.vue_vue_type_script_setup_true_lang-Dpv25KXf.js";import{_ as gt}from"./Trailer.vue_vue_type_script_setup_true_lang-DeycMltR.js";import{_ as kt,a as S}from"./Collapsible.vue_vue_type_script_setup_true_lang-Cr5TILJW.js";import{_ as ht}from"./MobileInfoCard.vue_vue_type_script_setup_true_lang-D5YUv89v.js";import"./Carousel.vue_vue_type_script_setup_true_lang--1bQ9q_u.js";import"./swiper-config-CgkZJWOM.js";import"./PersonCard.vue_vue_type_script_setup_true_lang-6_XwtZE7.js";import"./MediaCard.vue_vue_type_script_setup_true_lang-DXpKxglR.js";import"./CardIndicator.vue_vue_type_script_setup_true_lang-BTIYqZD_.js";import"./subtitles-octopus-DBoL4k3D.js";import"./desktopUIPlugin-CH2-yZfE.js";import"./keyHandlerPlugin-BAJ87_TQ.js";const xt={class:"flex z-0 flex-col justify-start items-center self-stretch flex-grow overflow-hidden gap-4 will-change-auto text-slate-lightA-12/70 dark:text-slate-darkA-12/80 z-0",style:{"box-shadow":"0 2px 2px 0 rgba(0,0,0,0.16)"}},wt={class:"flex justify-start items-end flex-grow-0 flex-shrink-0 -mx-4 w-available h-[410px] relative gap-2"},_t={class:"flex bg-slate-light-3 dark:bg-slate-dark-1 flex-col justify-start items-start self-stretch flex-grow-0 flex-shrink-0 gap-3 pt-16 pb-5 will-change-auto w-inherit px-6"},yt=["innerHTML"],bt={key:1,class:"flex justify-start items-center self-stretch flex-grow-0 flex-shrink-0 relative gap-2"},vt={class:"whitespace-nowrap"},Tt={class:"whitespace-nowrap"},$t=Ke({__name:"Mobile",setup(Pt){const N=Oe(),Re=u(!1),Ge=u(!1),g=u(!1),C=u("loading"),d=u(-1),j=u(null),Je=u(null),k=u(),z=Ze(()=>{var r;return`${(r=tt.value)==null?void 0:r.serverBaseUrl}/images/original${I.value}`}),{data:e}=Qe({keepForever:!0,path:N==null?void 0:N.fullPath});Ie(e,r=>{var a,i,n,c;(i=(a=k.value)==null?void 0:a.$el)==null||i.scrollToTop(window.innerHeight),Re.value=!0,d.value=0,je((r==null?void 0:r.title)??(r==null?void 0:r.name)),r!=null&&r.backdrop&&Be(r==null?void 0:r.backdrop),r!=null&&r.poster&&Le(r==null?void 0:r.poster),r!=null&&r.logo&&De(r==null?void 0:r.logo),(n=r==null?void 0:r.color_palette)!=null&&n.poster&&He((c=r==null?void 0:r.color_palette)==null?void 0:c.poster),qe(r)}),Xe(()=>{var r,a,i,n,c,h,x,w,_,y,b,v,T;(a=(r=k.value)==null?void 0:r.$el)==null||a.scrollToTop(window.innerHeight),je((i=e==null?void 0:e.value)==null?void 0:i.name),(n=e==null?void 0:e.value)!=null&&n.backdrop&&Be((c=e==null?void 0:e.value)==null?void 0:c.backdrop),(h=e==null?void 0:e.value)!=null&&h.poster&&Le((x=e==null?void 0:e.value)==null?void 0:x.poster),(w=e==null?void 0:e.value)!=null&&w.logo&&De((_=e==null?void 0:e.value)==null?void 0:_.logo),(b=(y=e==null?void 0:e.value)==null?void 0:y.color_palette)!=null&&b.poster&&He((T=(v=e==null?void 0:e.value)==null?void 0:v.color_palette)==null?void 0:T.poster)}),Ye(()=>{var r,a;(a=(r=k.value)==null?void 0:r.$el)==null||a.scrollToTop(window.innerHeight)}),et.afterEach(()=>{setTimeout(()=>{var r,a;(a=(r=k.value)==null?void 0:r.$el)==null||a.scrollToTop(window.innerHeight)},100)});const B=u();Ie(Ge,r=>{var a,i;r?(i=(a=B.value)==null?void 0:a.$el)==null||i.classList.remove("line-clamp-3"):setTimeout(()=>{var n,c;(c=(n=B.value)==null?void 0:n.$el)==null||c.classList.add("line-clamp-3")},300)});const L=()=>{var a;if(!((a=e==null?void 0:e.value)!=null&&a.videos))return;g.value=!g.value;const r=document.querySelector("#main");r&&(r.style.overflow=g.value?"hidden":"auto")},D=()=>{var r,a,i;!(e!=null&&e.value)||((a=(r=e==null?void 0:e.value)==null?void 0:r.videos)==null?void 0:a.length)==0||(d.value==((i=e==null?void 0:e.value)==null?void 0:i.videos.length)-1?d.value=0:d.value++,d.value++)},qe=r=>{var a,i,n,c;if(C.value="loading",!r||((a=r.videos)==null?void 0:a.length)==0||!((i=r.videos)!=null&&i[d.value])){C.value=!1;return}j.value=r.duration&&new Date(new Date().getTime()+r.duration*60*1e3).toLocaleTimeString(Ae.language??"en-US",{hour:"2-digit",minute:"2-digit"}),Je.value=setInterval(()=>{j.value=r.duration&&new Date(new Date().getTime()+r.duration*60*1e3).toLocaleTimeString(Ae.language??"en-US",{hour:"2-digit",minute:"2-digit"})},1e3),rt.head(`https://trailer.nomercy.tv/${(n=r.videos[d.value])==null?void 0:n.src}/${(c=r.videos[d.value])==null?void 0:c.src}.webm`,{withCredentials:!1}).then(()=>{C.value=!0}).catch(()=>{D(),C.value=!1})};return(r,a)=>(l(),s(t(mt),null,{default:P(()=>[Ee(t(ut),{ref_key:"content",ref:k,fullscreen:!0,style:pt(`--background-image: ${z.value&&!z.value.includes("null")?`url(${z.value})`:""};`)},{default:P(()=>{var i,n,c,h,x,w,_,y,b,v,T,H,A,E,M,U,V,F,W,R,G,J,q,K,O,Z,Q,X,Y,ee,te,re,ae,le,se,oe,ie,ne,ce,de,pe,ue,me,fe,ge,ke,he,xe,we,_e,ye,be,ve,Te,$e,Pe,Se,Ce,Ne,ze;return[p("div",xt,[p("div",wt,[a[0]||(a[0]=p("div",{class:"absolute flex flex-col justify-start items-end flex-grow w-available -mx-20 h-[410px] z-10",style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.50) 0%, rgba(0, 0, 0, 0.50) 100%)"}},null,-1)),(l(),s(at,{key:t(I)??"background",autoShadow:!0,path:t(I),colorPalette:(n=(i=t(e))==null?void 0:i.color_palette)==null?void 0:n.poster,size:500,priority:"low",title:((c=t(e))==null?void 0:c.title)??((h=t(e))==null?void 0:h.name),aspect:"poster",loading:"eager",class:"absolute flex flex-col justify-start items-end flex-grow w-available -mx-20 h-[410px] bg-cover bg-top z-0 children:h-available",className:"bg-top max-h-available w-available !object-fill",type:"image"},null,8,["path","colorPalette","title"]))]),p("div",_t,[p("p",{class:"self-stretch flex-grow-0 flex-shrink-0 w-[351px] text-3xl font-bold text-left z-10",innerHTML:t(lt)(((x=t(e))==null?void 0:x.title)||t(st)||"","text-lg line-clamp-2")},null,8,yt),(w=t(e))!=null&&w.overview?(l(),s(kt,{key:0,text:(_=t(e))==null?void 0:_.overview,maxLines:3},null,8,["text"])):o("",!0),t(e)?(l(),ot("div",bt,[(y=t(e))!=null&&y.year?(l(),s(S,{key:0,title:"",data:(b=t(e))==null?void 0:b.year.toString()},null,8,["data"])):o("",!0),(v=t(e))!=null&&v.content_ratings.length?(l(),s(S,{key:1,title:""},{default:P(()=>{var m,$;return[(m=t(e))!=null&&m.content_ratings?(l(),s(it,{key:0,size:6,class:"h-full min-!h-[1rem] object-scale-down rounded-lg overflow-clip children:-m-0.5",ratings:($=t(e))==null?void 0:$.content_ratings},null,8,["ratings"])):o("",!0)]}),_:1})):o("",!0),(T=t(e))!=null&&T.have_items?(l(),s(S,{key:2,title:"",data:`${(H=t(e))==null?void 0:H.have_items}/${(A=t(e))==null?void 0:A.number_of_items}`},null,8,["data"])):o("",!0),(E=t(e))!=null&&E.duration?(l(),s(S,{key:3,title:""},{default:P(()=>{var m;return[p("span",vt,Me(t(nt)(t(ct),(m=t(e))==null?void 0:m.duration,!0)),1)]}),_:1})):o("",!0),(M=t(e))!=null&&M.voteAverage?(l(),s(S,{key:4,title:""},{default:P(()=>{var m,$;return[p("span",Tt,"⭐ ️"+Me(($=(m=t(e))==null?void 0:m.voteAverage)==null?void 0:$.toFixed(0))+"/10",1)]}),_:1})):o("",!0)])):(l(),s(t(Ue),{key:2,animated:!0,class:"h-6 will-change-auto"})),a[1]||(a[1]=p("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-slate-dark-7/[0.1] dark:bg-slate-dark-11/[0.1]"},null,-1)),(U=t(e))!=null&&U.genres?(l(),s(f,{key:3,data:t(e),title:"Genres",keyName:"genres",prefix:"genres"},null,8,["data"])):(l(),s(t(Ue),{key:4,animated:!0,class:"h-12 will-change-auto"})),a[2]||(a[2]=p("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-slate-dark-7/[0.1] dark:bg-slate-dark-11/[0.1]"},null,-1)),(V=t(e))!=null&&V.writer?(l(),s(f,{key:5,data:{writer:[(F=t(e))==null?void 0:F.writer]},title:"Writer",keyName:"writer",prefix:"person"},null,8,["data"])):o("",!0),(W=t(e))!=null&&W.creator?(l(),s(f,{key:6,data:{creator:[(R=t(e))==null?void 0:R.creator]},title:"Creator",keyName:"creator",prefix:"person"},null,8,["data"])):o("",!0),(G=t(e))!=null&&G.director?(l(),s(f,{key:7,data:{director:[(J=t(e))==null?void 0:J.director]},title:"Director",keyName:"director",prefix:"person"},null,8,["data"])):o("",!0),(q=t(e))!=null&&q.creators?(l(),s(f,{key:8,data:t(e),title:"Creators",keyName:"creators",prefix:"person"},null,8,["data"])):o("",!0),(K=t(e))!=null&&K.directors?(l(),s(f,{key:9,data:t(e),title:"Directors",keyName:"directors",prefix:"person"},null,8,["data"])):o("",!0),(O=t(e))!=null&&O.writers?(l(),s(f,{key:10,data:t(e),title:"Writers",keyName:"writers",prefix:"person"},null,8,["data"])):o("",!0),(Z=t(e))!=null&&Z.keywords?(l(),s(f,{key:11,data:t(e),title:"Keywords",keyName:"keywords"},null,8,["data"])):o("",!0),a[3]||(a[3]=p("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-slate-dark-7/[0.1] dark:bg-slate-dark-11/[0.1]"},null,-1)),(Q=t(e))!=null&&Q.cast&&((Y=(X=t(e))==null?void 0:X.cast)==null?void 0:Y.length)>0?(l(),s(Ve,{key:12,class:"-mx-6",data:(ee=t(e))==null?void 0:ee.cast,title:"Cast"},null,8,["data"])):o("",!0),(te=t(e))!=null&&te.crew&&((ae=(re=t(e))==null?void 0:re.crew)==null?void 0:ae.length)>0?(l(),s(Ve,{key:13,class:"-mx-6",data:t(dt)((le=t(e))==null?void 0:le.crew,"profile","id"),title:"Crew"},null,8,["data"])):o("",!0),(se=t(e))!=null&&se.posters&&((ie=(oe=t(e))==null?void 0:oe.posters)==null?void 0:ie.length)>0?(l(),s(Fe,{key:14,class:"-mx-6",data:(ne=t(e))==null?void 0:ne.posters,title:"Poster",type:"poster"},null,8,["data"])):o("",!0),(ce=t(e))!=null&&ce.backdrops&&((pe=(de=t(e))==null?void 0:de.backdrops)==null?void 0:pe.length)>0?(l(),s(Fe,{key:15,class:"-mx-6",colorPalette:(me=(ue=t(e))==null?void 0:ue.color_palette)==null?void 0:me.poster,data:(fe=t(e))==null?void 0:fe.backdrops,title:"Backdrop",type:"backdrop"},null,8,["colorPalette","data"])):o("",!0),(ge=t(e))!=null&&ge.recommendations&&((he=(ke=t(e))==null?void 0:ke.recommendations)==null?void 0:he.length)>0?(l(),s(We,{key:16,class:"-mx-6",colorPalette:(xe=t(e))==null?void 0:xe.color_palette,data:(we=t(e))==null?void 0:we.recommendations,title:"Recommendations",type:"poster"},null,8,["colorPalette","data"])):o("",!0),(_e=t(e))!=null&&_e.similar&&((be=(ye=t(e))==null?void 0:ye.similar)==null?void 0:be.length)>0?(l(),s(We,{key:17,class:"-mx-6",colorPalette:(ve=t(e))==null?void 0:ve.color_palette,data:(Te=t(e))==null?void 0:Te.similar,title:"Similar",type:"poster"},null,8,["colorPalette","data"])):o("",!0)])]),Ee(ht,{data:t(e),toggleTrailer:L},null,8,["data"]),($e=t(e))!=null&&$e.videos&&((Se=(Pe=t(e))==null?void 0:Pe.videos)==null?void 0:Se.length)>0&&g.value?(l(),s(gt,{key:d.value,incrementTrailerIndex:D,index:d.value,open:g.value,title:((Ce=t(e))==null?void 0:Ce.title)??((Ne=t(e))==null?void 0:Ne.name),toggle:L,videos:(ze=t(e))==null?void 0:ze.videos,class:"absolute inset-0 h-full w-full z-999"},null,8,["index","open","title","videos"])):o("",!0)]}),_:1},8,["style"])]),_:1}))}}),Ft=ft($t,[["__scopeId","data-v-666b4e42"]]);export{Ft as default};
//# sourceMappingURL=Mobile-CGYjWpqy.js.map
