import{At as y,C as r,Et as t,K as w,S as s,T as n,U as C,Y as a,_t as T,a as B,c as M,j as $,k as j,kt as S,lt as f,q as I,st as z,w as l,x as m}from"./i18n-DXLa9EKW.js";import"./ionic-B9XaRwPa.js";import{x as E,y as P}from"./vue-core-DBpBuPMK.js";import"./primevue-wrrgrfJj.js";import"./query-DJ5OsBey.js";import{$i as U,Bn as A,Br as H,Gn as d,Jn as _,Kn as p,bi as v,ir as R,k as q,si as K,v as N}from"./index-CLM6Y7vI.js";import"./useInfiniteServerClient-DbihGahL.js";import{t as V}from"./useServerClient-QYfn39K-.js";import"./MusicButton-E8_BNXYz.js";import"./BannerButton-BP0Yr5ty.js";import"./MediaLikeButton-CTr1VNS5.js";import"./swiper-DkXT2e8s.js";import"./CardIndicator-CN-BcQKi.js";import"./swiper-config-BqkNjSI4.js";import{t as D}from"./dist-bb6H8N6c.js";import{t as G}from"./ContentRating-UDLHof_-.js";import"./ShareButton-fPfMKtEf.js";import"./Carousel-B9m9x-iy.js";import"./PersonCard-D-H9ekYc.js";import{n as g,t as x}from"./ImageCarousel-D3BZXPjH.js";import{t as L}from"./InfoItem-BU1UDjqs.js";import{t as F}from"./MediaCarousel-DIkWHLQN.js";import{n as c,t as J}from"./Collapsible-CAWzl8DY.js";import{t as Y}from"./MobileInfoCard-DG3fXRE5.js";M();P();var h=D(),O={class:"flex flex-col justify-start items-center self-stretch flex-grow will-change-auto text-surface-12 z-0 bg-surface-3 dark:bg-surface-1",style:{"box-shadow":"0 2px 2px 0 rgba(0, 0, 0, 0.16)"}},Q={class:"flex justify-start items-end -mx-4 w-available h-[410px] relative gap-2"},W={class:"flex flex-col justify-start items-start self-stretch flex-grow-0 flex-shrink-0 gap-3 pt-16 pb-5 will-change-auto w-inherit px-6"},X=["innerHTML"],Z={key:1,class:"h-7 w-full rounded bg-surface-4 animate-pulse"},ee={key:3,class:"flex flex-wrap justify-start items-center self-stretch flex-grow-0 flex-shrink-0 relative gap-2"},te={class:"whitespace-nowrap"},ae={key:4,class:"h-6 w-full rounded bg-surface-4 animate-pulse"},re={key:6,class:"h-12 w-full rounded bg-surface-4 animate-pulse"},le=$({__name:"Mobile",setup(oe){const{data:e}=V({queryKey:["base","collection",E().params.id],limit:1e3,keepForever:!0}),u=T(),b=m(()=>`${U.value?.serverBaseUrl}/images/original${A.value||e.value?.backdrop}`);z(e,o=>{o&&(u.value?.scrollTo({top:0,behavior:"smooth"}),v(o?.title),o?.backdrop&&d(o?.backdrop),o?.poster&&_(o?.poster),o?.color_palette?.poster&&p(o?.color_palette?.poster))}),w(()=>{u.value?.scrollTo({top:0,behavior:"smooth"}),v(e?.value?.title),document.dispatchEvent(new Event("indexer")),e?.value?.backdrop&&d(e?.value?.backdrop),e?.value?.poster&&_(e?.value?.poster),e?.value?.color_palette?.poster&&p(e?.value?.color_palette?.poster)}),I(()=>{d(null),p(null)}),C(()=>{u.value?.scrollTo({top:0,behavior:"smooth"})}),q.afterEach(()=>{setTimeout(()=>{u.value?.scrollTo({top:0,behavior:"smooth"})},100)});const k=m(()=>`${(0,h.collect)(e.value?.collection).min("year")} - ${(0,h.collect)(e.value?.collection).max("year")}`);return(o,i)=>(a(),n("div",{ref_key:"scrollContainer",ref:u,class:"flex flex-col flex-1 h-full overflow-y-auto overflow-x-hidden"},[s("div",O,[s("div",Q,[s("div",{class:"absolute flex flex-col justify-start items-end flex-grow w-available -mx-20 h-[410px] bg-cover bg-top",style:S(`background: linear-gradient(0deg, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.5) 100%), url('${b.value}') lightgray 50% / cover no-repeat`)},null,4),j(Y,{data:t(e)},null,8,["data"])]),s("div",W,[t(e)?.title?(a(),n("p",{key:0,class:"self-stretch flex-grow-0 flex-shrink-0 w-[351px] text-3xl font-bold text-left z-10",innerHTML:t(K)(t(e)?.title??" ","text-lg line-clamp-2")},null,8,X)):(a(),n("div",Z)),t(e)?.overview?(a(),r(J,{key:2,"max-lines":3,text:t(e)?.overview},null,8,["text"])):l("",!0),t(e)?(a(),n("div",ee,[t(e)?.content_ratings?(a(),r(c,{key:0,class:"children:!border-none children:!bg-transparent",title:"Age rating"},{default:f(()=>[t(e)?.content_ratings?(a(),r(G,{key:0,ratings:t(e)?.content_ratings,size:6,class:"h-full min-!h-[1rem] object-scale-down rounded-lg overflow-clip children:-m-0.5"},null,8,["ratings"])):l("",!0)]),_:1})):l("",!0),t(e)?.have_items?(a(),r(c,{key:1,data:`${t(e)?.have_items}/${t(e)?.number_of_items}`,title:"Availability"},null,8,["data"])):l("",!0),t(e)?.year?(a(),r(c,{key:2,data:t(e)?.year.toString(),title:"Release date"},null,8,["data"])):l("",!0),t(e)?.collection?(a(),r(c,{key:3,title:"Timespan"},{default:f(()=>[s("span",te,y(k.value),1)]),_:1})):l("",!0),t(e)?.total_duration?(a(),r(c,{key:4,data:t(R)(t(B),t(e)?.total_duration),title:"Duration"},null,8,["data"])):l("",!0)])):(a(),n("div",ae)),i[0]||(i[0]=s("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-surface-7/[0.1] dark:bg-surface-11/[0.1]"},null,-1)),t(e)?.genres?(a(),r(L,{key:5,data:t(e),"key-name":"genres",prefix:"genres",title:"Genres"},null,8,["data"])):(a(),n("div",re)),i[1]||(i[1]=s("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-surface-7/[0.1] dark:bg-surface-11/[0.1]"},null,-1)),t(e)?.collection&&t(e)?.collection?.length>0?(a(),r(F,{key:7,"color-palette":t(e)?.color_palette,data:t(e)?.collection,"limit-card-count-by":1,class:"-mx-6",title:"Collection",type:"poster"},null,8,["color-palette","data"])):l("",!0),i[2]||(i[2]=s("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-surface-7/[0.1] dark:bg-surface-11/[0.1]"},null,-1)),t(e)?.cast&&t(e)?.cast?.length>0?(a(),r(g,{key:8,data:t(e)?.cast,class:"-mx-6",title:"Cast"},null,8,["data"])):l("",!0),t(e)?.crew&&t(e)?.crew?.length>0?(a(),r(g,{key:9,data:t(H)(t(e)?.crew,"profile","id"),class:"-mx-6",title:"Crew"},null,8,["data"])):l("",!0),t(e)?.posters&&t(e)?.posters?.length>0?(a(),r(x,{key:10,data:t(e)?.posters,class:"-mx-6",title:"Poster",type:"poster"},null,8,["data"])):l("",!0),t(e)?.backdrops&&t(e)?.backdrops?.length>0?(a(),r(x,{key:11,"color-palette":t(e)?.color_palette?.poster,data:t(e)?.backdrops,class:"-mx-6",title:"Backdrop",type:"backdrop"},null,8,["color-palette","data"])):l("",!0)])])],512))}}),Se=N(le,[["__scopeId","data-v-999c148e"]]);export{Se as default};
