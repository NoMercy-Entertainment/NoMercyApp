import{Y as f,aa as h,a7 as m,d as p,c as t,o as r,l as d}from"./vue-ionic-CB3fsSQu.js";import{bq as _}from"./vendor-D67oQ9Zt.js";import{_ as c}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-DQt-oQaH.js";import{_ as S}from"./MusicButton.vue_vue_type_script_setup_true_lang-Cm7aQ_Gx.js";const x=f({__name:"ShareButton",props:{shareData:{type:Object,required:!1},fallbackText:{type:String,required:!1,default:"Share"}},setup(l){const s=l,n=h(),{t:i}=m(),e=p(!1),u=async()=>{var a;await _.share(s.shareData??{title:document.title,text:((a=document.querySelector('meta[name="description"]'))==null?void 0:a.getAttribute("content"))??"",url:"https://app.nomercy.tv"+n.fullPath,dialogTitle:i("Share with buddies")}).then(()=>{e.value=!0,setTimeout(()=>{e.value=!1},2e3)}).catch(o=>{console.error("Share failed:",o),alert(s.fallbackText)})};return(a,o)=>(r(),t(S,{onclick:u,label:"Share"},{default:d(()=>[e.value?(r(),t(c,{key:0,icon:"shareSquare",class:""})):(r(),t(c,{key:1,icon:"shareSquare",class:""}))]),_:1}))}});export{x as _};
