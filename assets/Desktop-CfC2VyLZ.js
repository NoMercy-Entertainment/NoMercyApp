import"./useBaseQuery-BY-t-Gzr.js";import{n as V}from"./useInfiniteServerClient-y6YBLJ0V.js";import"./useQueryClient-B99FOWWO.js";import{As as r,Ba as R,Ds as y,Ir as z,Jo as F,Ka as $,Ms as k,Os as q,Ta as K,Us as m,Vs as C,Wi as g,X as _,Ys as i,_a as L,as as U,cs as b,hs as A,i as w,ln as E,ls as l,nc as t,or as G,os as J,ps as O,qa as W,rc as M,ss as o,ts as u,un as X,za as Y}from"./index-CRn9t40w.js";import"./musicPlaylists-DnVTAqC2.js";import"./contextMenuItems-my0hFbY9.js";import"./_plugin-vue_export-helper-CksOYaUN.js";import"./AppLogoSquare-C0kypuCn.js";import"./OptimizedIcon-BQR52E2e.js";import"./TMDBImage-lDpT9hfd.js";import"./dist-B5YmzeyA.js";import{t as j}from"./ScrollContainer-Cyc3XBXY.js";import"./CardIndicator-Co-VcsI9.js";import{t as H}from"./NMCard-ClogoEam.js";import{t as Q}from"./NotFound-BrNHQJpA.js";import{t as Z}from"./PersonCard-mr-7fj3i.js";import{n as ee,t as te}from"./EmptyCard-DznqAmCr.js";import"./NoResultImage-w0AXAKvc.js";F();Y();$();var ae="grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 2xl:grid-cols-4 3xl:grid-cols-5 4xl:grid-cols-5 5xl:grid-cols-9 tv:grid-cols-6",re="grid-cols-2 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-7 3xl:grid-cols-9 4xl:grid-cols-10 5xl:grid-cols-[repeat(14,minmax(0,1fr))] tv:grid-cols-6",se=A({__name:"Desktop",setup(oe){const d=W(),{data:s,fetchNextPage:f,hasNextPage:v,isError:B}=V({queryKey:["libraries",d?.params.id??d.name],limit:20,keepForever:!0});y(()=>{G(),E(null),X(null),document.dispatchEvent(new Event("sidebar")),setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},1e3)}),C(s,a=>{a&&setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},1e3)});const N=U(()=>{const a=s.value?.pages?.[0]?.data?.[0];return a&&z.value&&a.media_type!=="person"&&a.media_type!=="genres"});q(()=>{stop(),E(null)});const D=i(),I=i();y(()=>{I.value=d.params.id??d.name,v.value&&(s?.value?.pages?.length??0)<10&&f(),document.addEventListener("scrollToDiv",a=>{D.value?.scrollTo({top:a.detail.top-100,behavior:"smooth"})})}),R(()=>{document.dispatchEvent(new Event("indexer"))}),C(s,a=>{a&&v.value&&a?.pages?.length<10&&f()});const P=i(),S=i();function c(a,x){P.value=x,S.value.show(a)}return(a,x)=>(r(),o(t(K),null,{default:m(()=>[O(t(L),{fullscreen:!0},{default:m(()=>[t(B)&&!t(s)?.pages?(r(),o(Q,{key:0})):(r(),o(j,{key:1,id:t(w).currentRoute.value.fullPath,"auto-hide":!0,static:!0},{default:m(()=>[(r(),l("div",{key:t(w).currentRoute.value.params?.id,class:M([{"pb-24":t(g)&&!t(_),"pb-40":t(g)&&t(_),"children:pb-4 sm:children:pb-3":!t(g)&&t(_)},"z-0 flex flex-col gap-4 rounded-3xl border-0 p-4 w-available scrollbar-none border-surface-3 transform-gpu will-change-auto"])},[J("div",{class:M(`grid w-full gap-4 scroll-smooth music-showing:pb-0 whitespace-pre ${N.value?ae:re}`)},[(r(!0),l(u,null,k(t(s)?.pages??[],(h,T)=>(r(),l(u,{key:T},[h.data.length>0?(r(!0),l(u,{key:0},k(h.data??[],(e,p)=>(r(),l(u,null,[e?.media_type==="tv"||e?.media_type==="movie"||e?.media_type==="collection"||e?.media_type==="specials"?(r(),o(H,{key:e.id,data:e,index:p,onContextMenu:n=>c(n,e)},null,8,["data","index","onContextMenu"])):e?.media_type==="person"?(r(),o(Z,{key:`${e.id}_person`,data:e,index:p,onContextMenu:n=>c(n,e)},null,8,["data","index","onContextMenu"])):e?.media_type==="genres"?(r(),o(ee,{key:`${e.id}_genres`,data:e,index:p,onContextMenu:n=>c(n,e)},null,8,["data","index","onContextMenu"])):b("",!0)],64))),256)):t(s)?.pages?.[0]?.data?.length===0?(r(),o(te,{key:1})):b("",!0)],64))),128))],2)],2))]),_:1},8,["id"]))]),_:1})]),_:1}))}}),we=se;export{we as default};
