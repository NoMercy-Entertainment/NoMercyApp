import{At as f,C as m,Et as v,K as d,S as a,T as i,Y as l,Z as _,c as h,g as w,j as S,k}from"./i18n-DXLa9EKW.js";import"./ionic-B9XaRwPa.js";import"./vue-core-DBpBuPMK.js";import{c as x}from"./query-DJ5OsBey.js";import{F as y,Gn as b,H as g,I as C,Kn as B,Nt as j,Qi as o,Qn as L,Ri as M,Rn as n,Sn as Q,bn as E,ea as u,k as e,xn as I}from"./index-CLM6Y7vI.js";import{t as N}from"./ripperSocket-AoTnHHCA.js";import{t as P}from"./screensaver-C9dR2nxL.js";import{t as F}from"./EmptyBackdrop-Cw8_df0V.js";import{t as H}from"./ServerCard-BHsJCpp2.js";h();var K={class:"flex h-full w-full flex-auto flex-col items-center justify-center gap-8"},R={class:"flex w-full flex-grow flex-col justify-between p-2 min-h-auto"},T={class:"mt-16 mb-4 w-full whitespace-pre-line"},V={class:"relative text-center text-lg font-semibold"},q={class:"tv:children:w-[30%] tv:mt-0 -mt-24 tv:-ml-8 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4"},A=S({__name:"Mobile",setup(D){const c=x();async function p(r){u(r);try{const{data:t}=await o(5).get("setup/server-info");if(!t.data?.setup_complete){n.value="/setup/post-install",await e.replace({name:"Post Install"});return}}catch{await e.replace({name:"Server offline"});return}await o().get("libraries").then(({data:t})=>{M(t.data),L.value=!0,I.value=!0,setTimeout(async()=>{n.value==="/setup/select-servers"?await e.replace({name:"Home"}):await e.replace(n.value)},50)}).catch(async()=>{await e.replace({name:"Server offline"})})}return d(()=>{u(null),B(null),b(null),y(),C(),E(),P(),c.removeQueries(),g.value?.stop(),j.value?.stop(),N.value?.stop()}),(r,t)=>(l(),i("div",K,[k(F),a("div",R,[a("div",T,[a("h5",V,f(r.$t("Choose a server")),1)]),a("div",q,[(l(!0),i(w,null,_(v(Q),s=>(l(),m(H,{key:s.id,server:s,onclick:()=>p(s)},null,8,["server","onclick"]))),128))])])]))}}),X=A;export{X as default};
