import{At as n,C as m,Dt as $,Et as f,K as B,O as p,S as r,T as S,Y as c,_t as l,c as z,j as D,k as u,lt as s,n as T,x as j}from"./i18n-DBb78QAI.js";import"./ionic-DNKsarlx.js";import"./vue-core-C9HAaO_1.js";import{_ as q,w as N}from"./primevue-CDzFprnl.js";import{r as R}from"./utils-CSVBaoSS.js";import"./query-Dwz_k4KB.js";import{Di as A,Ea as t,vn as E,y as _}from"./index-A9ZXfM_l.js";import"./useInfiniteServerClient-CfrVy_UX.js";import"./useServerClient-D7utCp4C.js";import"./md5-CGFWI3rU.js";import"./ScrollContainer-COxBM-C8.js";import"./useMounted-BpvfXUCe.js";import"./RipperOverlay-Co5yS9RL.js";import"./ripperSocket-BF5Gj0oB.js";import"./FloatingBackButton-CFBsz6Nk.js";import{t as M}from"./DashboardLayout-_Yj4z20y.js";import{t as V}from"./Avatar-BMeRsHGz.js";z();var L={class:"flex flex-col gap-4 col-span-2"},F={class:"flex gap-4"},H=["src"],K={class:"flex flex-col justify-start items-start flex-grow relative gap-2"},O={class:"self-stretch flex-grow-0 flex-shrink-0 w-full text-sm text-left text-[#9ba1a6] whitespace-pre-line"},P=`Upload an image of max {{dimension}} pixels and {{size}} in size.
 We recommend a square image for best results.`,W=D({__name:"Desktop",setup(Y){const{t:v}=T(),h=N(),a=l(),g=l(),o=l(t.value.avatarUrl),i=l(!0),x=`https://api${A}.nomercy.tv/avatar`;function b(){a.value.upload(),i.value=!0}function k(){h.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3}),E().get("/app_config").then(async({data:e})=>{t.value.avatarUrl=e.data.avatarUrl})}function w(e){o.value=e.files[0].objectURL,i.value=!1}function y(e){e.xhr.setRequestHeader("Authorization",`Bearer ${t.value.accessToken}`)}function U(){o.value=t.value.avatarUrl,a.value.clear()}B(()=>{setTimeout(()=>{a.value?.$el&&(a.value.$el.querySelector("span[files]").textContent=v("No file chosen"))},100)});const C=j(()=>R("!flex !justify-center !items-center !px-4 !py-2 !gap-2 !rounded-lg !text-sm","select-none !w-auto !font-semibold !leading-[100%] !transition-transform !duration-150 !border-none !text-white","!bg-gradient-to-b from-[var(--color-theme-11)] to-[var(--color-theme-10)] hover:from-[var(--color-theme-12)] hover:to-[var(--color-theme-11)] active:from-[var(--color-theme-10)] active:to-[var(--color-theme-9)] dark:from-[var(--color-theme-8)] dark:to-[var(--color-theme-5)] dark:hover:from-[var(--color-theme-8)] dark:hover:to-[var(--color-theme-6)] dark:active:from-[var(--color-theme-8)] dark:active:to-[var(--color-theme-4)] button-filled ",`
				 shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgb(from_var(--surface-11)_r_g_b/60%)_inset,0_22px_30px_-4px_rgb(from_var(--surface-11)_r_g_b/70%)]
				 dark:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--surface-1/30%)_inset,0_22px_30px_-4px_rgba(var(--surface-1/70%)]
				 active:!shadow-none
				 active:!dark:shadow-none
			 `));return(e,d)=>(c(),m(M,{"allow-anyone":!0,"grid-style":3,title:"Profile"},{cta:s(()=>[...d[0]||(d[0]=[])]),default:s(()=>[r("div",L,[r("div",F,[o.value?(c(),S("img",{key:0,ref_key:"image",ref:g,src:o.value,alt:"",class:"w-60 min-w-60 h-auto aspect-square object-cover rounded-lg"},null,8,H)):(c(),m(V,{key:1,email:f(t).email,size:250,class:"w-60 min-w-60 h-auto aspect-square rounded-lg"},null,8,["email"])),r("div",K,[u(f(q),{ref_key:"fileUpload",ref:a,"cancel-label":e.$t("Cancel"),"choose-label":e.$t("Choose image"),class:$(C.value),"max-file-size":2*1024*1024,url:x,accept:"image/*",mode:"basic",name:"image","with-credentials":"",onSelect:w,onUpload:k,onBeforeSend:y},null,8,["cancel-label","choose-label","class"]),u(_,{id:"upload",disabled:i.value,color:"theme","start-icon":"cloudUpload",onClick:b},{default:s(()=>[p(n(e.$t("Upload image")),1)]),_:1},8,["disabled"]),r("p",O,n(e.$t(P,{dimension:"2000x2000",size:"2MB"})),1),u(_,{id:"upload",color:"white","start-icon":"arrowCounterClockwise",variant:"text",onClick:U},{default:s(()=>[p(n(e.$t("Reset image")),1)]),_:1})])])])]),_:1}))}}),de=W;export{de as default};
