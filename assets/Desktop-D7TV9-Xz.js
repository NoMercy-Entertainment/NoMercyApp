import{C as m,E as ge,Et as S,G as U,J as t,K as le,O as ye,Ot as V,Q as I,S as s,T as o,Tt as u,X as C,Z as O,c as _,ct as p,g as w,gt as A,j as b,k as v,kt as h,ot as q,w as f,x as j,z as he}from"./i18n-Cs-AFcrY.js";import"./ionic-XwZpO7IE.js";import{I as ie,P as ue}from"./vue-core-CKeWI2Kt.js";import"./primevue-DNc5dNs0.js";import"./query-28IwY2wK.js";import{t as xe}from"./esm-C_OAQAej.js";import{At as Y,Bn as ne,Dn as _e,H as Z,In as oe,It as ee,J as N,Ji as be,Qn as ke,Rr as G,Sa as de,V as te,Vn as J,Wn as Q,Xn as z,Y as T,Yn as B,_r as ce,b as L,bn as we,br as $e,bt as ve,ct as F,ft as Ce,g as X,gi as je,hi as Te,jn as Pe,k as Ae,q as Se,ui as Re,w as Le,xr as qe,zn as E}from"./index-ChgnbCd2.js";import{t as ze}from"./DropdownMenu-BHHT5p-4.js";import"./useInfiniteServerClient-B-gu57fq.js";import{t as Be}from"./useServerClient-D94XlueT.js";import{t as Me}from"./ScrollContainer-BoTtpHE_.js";import"./MusicButton-CkzqYPUO.js";import{t as M}from"./BannerButton-BrzgNExS.js";import{t as fe}from"./MediaLikeButton-CaHzHjGH.js";import{t as ae}from"./PlayerIcon-mPzxaxdU.js";import{r as Ee}from"./swiper-DjMBAKTb.js";import"./swiper-config-DSjndOK4.js";import"./MusicCardImage-DpZb0d_E.js";import{t as K}from"./NMMusicCard-CUp8Lla2.js";import{t as Oe}from"./TrackLinks-Dw7Uxv_S.js";import{t as Fe}from"./EqSpinner-BMT0Jhww.js";import{t as Ie}from"./NotFound-DrwmxLfU.js";import{t as De}from"./ShareButton-DE5nfP49.js";import{t as He}from"./Carousel-bIU_r4lh.js";ue();_();var Ne=["data-track-id"],Ve={class:"flex w-10 justify-center text-center min-w-10"},Ye={key:0,class:"group-focus-visible/track:sm:hidden group-hover/track:sm:hidden"},Ge={class:"flex h-12 items-center gap-2 overflow-hidden w-available sm:gap-4"},Je={class:"flex h-full flex-col justify-evenly overflow-clip w-inherit"},Qe={class:"flex h-5 flex-nowrap overflow-clip text-left font-bold line-clamp-1 w-inherit"},Ue=["data-size"],Xe={class:"flex whitespace-nowrap"},Ke={class:"flex items-center justify-between gap-2 text-end"},We={class:"mr-4 monospace sm:mr-0"},Ze=b({__name:"TrackRow",props:{data:{type:Object,required:!0},index:{type:Number,required:!0},displayList:{type:Array,required:!0},isAlbumRoute:{type:Boolean,default:!1},isFavoritesRoute:{type:Boolean,default:!1},routeParamId:{type:String,default:""}},setup(e){const a=e;function r(){const d=a.isAlbumRoute?"album":"artist",n=a.routeParamId;if(!de.value.features?.nomercyConnect){if(T.value?.id===a.data.id){te.togglePlayback();return}te.playTrack(a.data,a.displayList),ve(`/music/${d}/${n}`);return}Y.value?.invoke("StartPlaybackCommand",d,n,a.data.id)}return(d,n)=>{const c=I("RouterLink");return t(),o("button",{"data-track-id":e.data?.id,class:"grid w-full justify-start items-center self-stretch pr-3 sm:px-3 rounded-lg hover:bg-surface-6/8 group/track text-sm font-medium py-2 z-0 group/track home-grid gap-2","data-target":"track",tabindex:"0",onClick:n[0]||(n[0]=l=>r()),onContextmenu:n[1]||(n[1]=l=>u(Le)(l,{isAlbumRoute:e.isAlbumRoute,isArtistRoute:!0,isPlaylistsRoute:!1,routeParamId:e.routeParamId},e.data))},[s("span",Ve,[u(T)?.id!==e.data.id?(t(),o("span",Ye,h(e.index+1),1)):f("",!0),u(T)?.id===e.data.id?(t(),m(Fe,{key:1,playing:u(F),class:"hidden group-focus-visible/track:sm:!hidden group-hover/track:sm:!hidden",color:"var(--color-theme-8)"},null,8,["playing"])):f("",!0),u(T)?.id===e.data.id&&u(F)?(t(),m(ae,{key:2,class:"hidden h-6 w-6 group-focus-visible/track:sm:block group-hover/track:sm:block",icon:"nmPause"})):(t(),m(ae,{key:3,class:"hidden h-6 w-6 group-focus-visible/track:sm:block group-hover/track:sm:block",icon:"nmPlay"}))]),s("span",Ge,[e.isAlbumRoute?(t(),m(X,{key:0,data:e.data,size:100,"class-name":"relative hidden h-12 w-12 overflow-hidden min-w-[3rem] sm:block",loading:"eager"},null,8,["data"])):f("",!0),s("span",Je,[s("span",Qe,h(e.data.name),1),e.isFavoritesRoute?(t(),o("span",{key:0,"data-size":u(Ce),class:"inline-flex h-5 w-fit gap-1 overflow-hidden whitespace-nowrap text-surface-9 line-clamp-1 text-2xs hover:animate-pause"},[e.data?(t(),m(Oe,{key:0,id:e.data.id,data:e.data.artist_track,onclick:l=>l.stopPropagation(),"data-target":"artist",type:"artists"},null,8,["id","data","onclick"])):f("",!0)],8,Ue)):f("",!0)])]),e.data?(t(!0),o(w,{key:0},C(e.data.album_track,l=>(t(),o("span",{key:l.id,class:"max-w-sm items-center overflow-clip pr-2 line-clamp-2 h-inherit w-inherit"},[v(c,{onclick:x=>x.stopPropagation(),to:l?.link,class:"flex items-center gap-1 whitespace-nowrap text-xs font-semibold line-clamp-1 hover:underline focus:underline dark:font-medium","data-target":"album",tabindex:"0"},{default:p(()=>[s("span",Xe,h(l.name),1)]),_:2},1032,["onclick","to"])]))),128)):f("",!0),s("span",Ke,[(t(),m(fe,{key:e.data.id,data:e.data,onclick:l=>l.stopPropagation(),class:"hidden sm:flex",color:"var(--color-theme-8)"},null,8,["data","onclick"])),s("span",We,h(e.data.duration),1)]),v(ze,{direction:"down"},{button:p(()=>[v(M,{class:"mx-3",title:""},{default:p(()=>[v(L,{"class-name":"relative h-5 w-5",icon:"menuDotsVertical"})]),_:1})]),_:1})],40,Ne)}}}),et=Ze;_();var tt={key:0,class:"flex w-full flex-col items-start justify-start gap-4 self-stretch"},at={class:"self-stretch text-xl font-bold leading-loose"},rt={class:"flex flex-col items-start justify-start gap-1 self-stretch"},st={class:"z-10 grid items-center justify-start gap-4 self-stretch py-2 pr-3 text-sm font-medium home-grid sm:px-3"},lt={class:"shrink grow basis-0 text-sm leading-tight text-surface-12/11"},it={class:"shrink grow basis-0 text-sm leading-tight text-surface-12/11"},ut={class:"shrink grow basis-0 text-right text-sm leading-tight text-surface-12/11"},nt=b({__name:"TrackCard",props:{data:{type:Array,required:!0},title:{type:String,required:!0}},setup(e){const a=e,r=we,d=_e,n=j(()=>Ae.currentRoute.value.params.id),c=A(),l=A(0);function x(){if(!c.value||!E.value)return;const y=c.value.getBoundingClientRect(),i=E.value.getBoundingClientRect();l.value=y.top-i.top+E.value.scrollTop}q(()=>a.data,()=>{he(x)});const $=xe(j(()=>({count:a.data?.length??0,getScrollElement:()=>E.value??null,estimateSize:()=>64,overscan:10,scrollMargin:l.value})));return(y,i)=>e.data&&e.data?.length>0?(t(),o("div",tt,[s("div",at,h(y.$t(e.title)),1),s("div",rt,[s("div",st,[i[0]||(i[0]=s("div",{class:"w-10 text-center text-sm leading-tight text-surface-12/11"}," # ",-1)),s("div",lt,h(y.$t("Title")),1),s("div",it,h(y.$t("Album")),1),s("div",ut,h(y.$t("Duration")),1)])]),s("div",{ref_key:"virtualContainerRef",ref:c,style:V({height:`${u($).getTotalSize()}px`,width:"100%",position:"relative"})},[(t(!0),o(w,null,C(u($).getVirtualItems(),g=>(t(),o("div",{key:e.data[g.index]?.id+e.data[g.index]?.favorite,style:V({position:"absolute",top:0,left:0,width:"100%",height:`${g.size}px`,transform:`translateY(${g.start-l.value}px)`})},[v(et,{data:e.data[g.index],"display-list":e.data,index:g.index,"is-album-route":u(r),"is-favorites-route":u(d),"route-param-id":n.value},null,8,["data","display-list","index","is-album-route","is-favorites-route","route-param-id"])],4))),128))],4)])):f("",!0)}}),re=nt;_();var ot={key:0,class:"contents"},dt=b({__name:"Tab",props:{isActive:{type:Boolean,default:!1}},setup(e){return(a,r)=>e.isActive?(t(),o("div",ot,[O(a.$slots,"default")])):f("",!0)}}),P=dt;_();var ct={class:"flex w-full flex-col items-start justify-start gap-4"},vt={key:0,class:"absolute grid inset-0 bg-black/40 w-full items-center justify-center flex-col opacity-0 group-hover/cover:opacity-100 transition-all duration-100"},ft={class:"p-4 font-semibold text-theme-8 text-lg"},mt={class:"w-full whitespace-pre-line font-semibold leading-normal"},pt=b({__name:"ProfileCard",props:{data:{type:Object,required:!0}},setup(e){const a=e;U(()=>{a.data?.color_palette&&J(a.data?.color_palette?.cover)}),le(()=>{J(null),ne(null)});function r(){const d=new CustomEvent("showModal",{detail:{modalName:"createPlaylist",modalTitle:"Edit {{name}}",modalTitleArgs:{name:a.data?.name},modalProps:a.data}});document.dispatchEvent(d)}return(d,n)=>(t(),o("div",ct,[s("div",{class:"flex flex-col items-start justify-start self-stretch overflow-clip rounded-lg relative group/cover",onClick:r},[v(X,{data:e.data,size:500,class:"aspect-square h-auto w-full"},null,8,["data"]),e.data?.type!=="track"?(t(),o("div",vt,[s("span",ft,h(d.$t("Change cover")),1)])):f("",!0)]),s("div",mt,h(e.data.disambiguation||e.data.description?u(Re)(e.data.description??e.data.disambiguation,200):""),1)]))}}),gt=pt;_();var yt={class:"inline-flex w-auto flex-wrap items-start justify-start gap-2"},ht={class:"flex items-center justify-start gap-2 px-2"},xt=b({__name:"GenresCard",props:{data:{type:Object,required:!0}},setup(e){return(a,r)=>{const d=I("RouterLink");return t(),o("div",yt,[(t(!0),o(w,null,C(e.data.genres,n=>(t(),m(d,{key:n.id,to:n?.link,class:"flex items-center justify-start rounded-2xl py-1 px-1.5 bg-focus/10"},{default:p(()=>[s("div",ht,[s("div",{class:S([`${u($e)(u(ce)(u(oe)),100)?"text-black/12":"text-white/12"}`,"text-center text-sm font-medium leading-tight"])},h(a.$t(n.name)),3)])]),_:2},1032,["to"]))),128))])}}}),me=xt;_();var _t={key:0,class:"flex w-full flex-col items-start justify-start gap-4"},bt={class:"text-xl font-bold leading-loose text-surface-11"},kt={class:"grid grid-cols-2 gap-4"},wt={class:"flex h-16 w-16 items-center justify-center rounded px-px py-px"},$t={class:"flex items-center justify-start gap-2.5"},Ct={class:"text-sm font-semibold text-surface-8 text-balance line-clamp-2"},jt=b({__name:"FeaturedCard",props:{data:{type:Object,required:!0}},setup(e){const a=e,r=j(()=>{const d={};return a.data?.tracks?.forEach(n=>{n.artist_track?.forEach(c=>{c.id===a.data.id||!c.cover||(d[c.id]={id:c.id,name:c.name,cover:c.cover})})}),Object.values(d)});return(d,n)=>{const c=I("RouterLink");return r.value.length>0?(t(),o("div",_t,[s("div",bt,h(d.$t("Featured Artists")),1),s("div",kt,[(t(!0),o(w,null,C(r.value,l=>(t(),m(c,{key:l.id,to:l.link,class:"inline-flex items-center justify-start gap-4 underline-offset-4 hover:underline"},{default:p(()=>[s("div",wt,[v(X,{data:l,size:60,class:"h-14 w-14 rounded-lg"},null,8,["data"])]),s("div",$t,[s("div",Ct,h(l.name),1)])]),_:2},1032,["to"]))),128))])])):f("",!0)}}}),Tt=jt;_();var Pt={class:"flex flex-row items-start justify-start gap-8 overflow-clip w-available"},At={class:"inline-flex flex-col items-start justify-start gap-8 w-[clamp(200px,25%,500px)]"},St=b({__name:"TabFrame",props:{data:{type:Object,required:!0},activeTab:{type:String,required:!0}},setup(e){return(a,r)=>(t(),o("div",Pt,[s("div",At,[v(gt,{data:e.data},null,8,["data"]),e.activeTab!=="About"?(t(),m(me,{key:0,data:e.data,class:"max-w-md"},null,8,["data"])):f("",!0),e.activeTab!=="About"?(t(),m(Tt,{key:1,data:e.data},null,8,["data"])):f("",!0)]),s("div",{class:S(["z-0 flex h-min w-0 flex-1 flex-col gap-x-2 gap-y-8 overflow-clip",e.activeTab==="About"?"ml-8 w-[60%]":""])},[O(a.$slots,"default")],2)]))}}),D=St;_();var Rt={class:"flex flex-1 basis-0 items-start justify-start gap-8 self-stretch p-8 pb-0"},Lt=b({__name:"Home",props:{data:{type:Object,required:!0},displayType:{type:String,default:"list"},activeTab:{type:String,required:!0}},setup(e){const a=[{name:"list"},{name:"card"}];return(r,d)=>(t(),o("div",Rt,[v(D,{"active-tab":e.activeTab,data:e.data},{default:p(()=>[v(P,{"is-active":e.displayType===a[0].name},{default:p(()=>[v(re,{data:e.data.favorite_tracks??[],title:"Your most played"},null,8,["data"]),v(re,{data:e.data.tracks??[],title:"All songs"},null,8,["data"])]),_:1},8,["is-active"]),v(P,{"is-active":e.displayType===a[1].name},null,8,["is-active"])]),_:1},8,["active-tab","data"])]))}}),qt=Lt;_();var zt={class:"flex flex-1 basis-0 items-start justify-start gap-8 self-stretch p-8 pb-0"},Bt=b({__name:"Albums",props:{data:{type:Object,required:!0},item:{type:String,required:!0},activeTab:{type:String,required:!0}},setup(e){return(a,r)=>(t(),o("div",zt,[v(D,{"active-tab":e.activeTab,data:e.data},{default:p(()=>[s("div",{class:S([{"pb-4 sm:pb-4":!u(T)},"z-0 w-full h-available h-fit grid gap-4 music-showing:pb-0 grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-5 3xl:grid-cols-7 4xl:grid-cols-7 5xl:grid-cols-[repeat(8,minmax(0,1fr))] tv:grid-cols-6 scroll-smooth items-start"]),style:{opacity:"1"}},[Array.isArray(e.data?.[e.item])?(t(!0),o(w,{key:0},C(e.data[e.item],d=>(t(),o(w,{key:d?.id},[d?(t(),m(K,{key:0,data:d},null,8,["data"])):f("",!0)],64))),128)):f("",!0)],2)]),_:1},8,["active-tab","data"])]))}}),se=Bt;_();var Mt={class:"flex flex-1 basis-0 items-start justify-start gap-8 self-stretch p-8 pb-0"},Et=b({__name:"Playlists",props:{data:{type:Object,required:!0},activeTab:{type:String,required:!0}},setup(e){return(a,r)=>(t(),o("div",Mt,[v(D,{"active-tab":e.activeTab,data:e.data},{default:p(()=>[s("div",{class:S([{"pb-4 sm:pb-4":u(T)},"z-0 w-available h-available w-full h-fit grid gap-4 pl-4 pr-4 pt-4 pb-4 music-showing:pb-0 grid-cols-2 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-7 3xl:grid-cols-9 4xl:grid-cols-9 5xl:grid-cols-[repeat(14,minmax(0,1fr))] tv:grid-cols-6 scroll-smooth"]),style:{opacity:"1"}},[Array.isArray(e.data.playlists)?(t(!0),o(w,{key:0},C(e.data.playlists,d=>(t(),m(K,{key:d.id,data:d},null,8,["data"]))),128)):f("",!0)],2)]),_:1},8,["active-tab","data"])]))}}),Ot=Et;_();var Ft=b({__name:"MusicCarousel",props:{data:{type:Object,required:!0},index:{type:Number,required:!1,default:0},limitCardCountBy:{type:Number,required:!1}},setup(e){function a(r){setTimeout(()=>{r.color_palette},50)}return(r,d)=>{const n=I("RouterLink");return e.data.items?.length>0?(t(),m(He,{key:0,"disable-auto-aspect":!0,index:e.index,"limit-card-count-by":e.limitCardCountBy,title:e.data.title},ge({default:p(()=>[(t(!0),o(w,null,C(e.data.items,(c,l)=>(t(),m(u(Ee),{key:c?.id,"virtual-index":l,class:"flex py-1"},{default:p(()=>[c?.id?(t(),m(K,{key:0,id:`item-${c?.name}-${c?.id}`,data:c,onclick:()=>a(c),class:""},null,8,["id","data","onclick"])):f("",!0)]),_:2},1032,["virtual-index"]))),128))]),_:2},[e.data.moreLink?{name:"link",fn:p(()=>[v(n,{to:e.data.moreLink,class:"mr-auto ml-4 font-medium underline underline-offset-4"},{default:p(()=>[...d[0]||(d[0]=[ye(" see more ",-1)])]),_:1},8,["to"])]),key:"0"}:void 0]),1032,["index","limit-card-count-by","title"])):f("",!0)}}}),It=Ft;_();var Dt={key:0,class:"flex flex-1 basis-0 items-start justify-start self-stretch overflow-clip px-8 py-8 w-available"},Ht={class:"flex flex-col gap-2 overflow-clip w-available max-w-[75ch]"},Nt=["innerHTML"],Vt={class:"max-w-available"},Yt=b({__name:"About",props:{data:{type:Object,required:!0},activeTab:{type:String,required:!0}},setup(e){const a=e,r=j(()=>{const n={};return a.data?.tracks?.forEach(c=>{c.artist_track?.forEach(l=>{l.id===a.data.id||!l.cover||(n[l.id]=l)})}),Object.values(n)}),d=j(()=>[{title:"Featuring artists",moreLink:"",children:r.value}]);return(n,c)=>e.activeTab?(t(),o("div",Dt,[v(D,{data:e.data,"active-tab":e.activeTab},{default:p(()=>[s("div",Ht,[(t(!0),o(w,null,C((e.data.description??"")?.split(`
`)??[],l=>(t(),o("div",{key:l,class:"flex flex-col gap-1"},[(t(!0),o(w,null,C(l.split(`
`),x=>(t(),o("span",{key:x,class:"bionic-text font-semibold !text-base",innerHTML:x},null,8,Nt))),128))]))),128))]),v(me,{data:e.data},null,8,["data"]),s("div",Vt,[(t(!0),o(w,null,C(d.value??[],l=>(t(),m(It,{key:l.title,data:l,class:"-mx-3","limit-card-count-by":2},null,8,["data"]))),128))])]),_:1},8,["data","active-tab"])])):f("",!0)}}),Gt=Yt;_();var Jt={class:"z-0 flex shrink grow basis-0 flex-col items-start justify-start self-stretch"},Qt={class:"sticky -top-1 z-10 h-14 w-full border-b border-surface-12/6 bg-surface-1"},Ut={class:"absolute left-4 inline-flex flex-col items-start justify-start gap-2 top-[15px]"},Xt={class:"inline-flex items-start justify-start gap-4"},Kt=["onClick"],Wt=b({__name:"Tabs",props:{tabs:{type:Array,required:!0}},setup(e){const a=e,r=A(a.tabs[0].name);function d(n){r.value=a.tabs[n].name}return(n,c)=>(t(),o("div",Jt,[s("div",Qt,[s("nav",Ut,[s("ul",Xt,[(t(!0),o(w,null,C(e.tabs,(l,x)=>(t(),o("button",{key:l.name,class:S(`px-1 pb-4 ${r.value===l.name?"border-b-2":""} empty:hidden transition-transform duration-100 border-focus justify-center items-center gap-2 flex cursor-pointer`),onClick:$=>d(x)},[l?.name?(t(),o("div",{key:0,class:S(`${r.value===l.name?"text-focus":""} text-base font-semibold leading-normal`)},h(n.$t(l.name)),3)):f("",!0)],10,Kt))),128))])]),O(n.$slots,"extra",{activeTab:r.value})]),O(n.$slots,"default",{activeTab:r.value,class:"z-0"})]))}}),Zt=Wt;_();var ea={class:"flex flex-shrink-0 flex-grow-0 items-end justify-start gap-4 w-[710px]"},ta={class:"relative flex flex-grow flex-col items-start justify-start gap-4"},aa={class:"flex-shrink-0 flex-grow-0 self-stretch text-5xl font-bold w-[710px]"},ra={class:"relative flex flex-shrink-0 flex-grow-0 items-center justify-start gap-2.5"},sa={key:0,class:"flex-shrink-0 flex-grow-0 text-sm"},la={class:"flex-shrink-0 flex-grow-0 text-sm"},ia={class:"flex-shrink-0 flex-grow-0 text-sm"},ua={class:"flex flex-shrink-0 flex-grow-0 items-center justify-start gap-2"},na=b({__name:"Header",props:{data:{type:Object,required:!0}},setup(e){const a=e,r=ie(),d=A("");U(()=>{d.value=ke(a.data)});const n=j(()=>{let y=a.data?.images?.toSorted((i,g)=>g.voteCount-i.voteCount)?.find(i=>i.type==="banner");if(y||(y=a.data?.images?.toSorted((i,g)=>g.voteCount-i.voteCount)?.find(i=>i.type==="background")),!!y)return`${be.value?.serverBaseUrl}${y?.src}`}),c=j(()=>`/music/${a.data?.type?.replace(/s$/u,"")}/${a.data?.id}`);function l(){if(!a.data?.tracks)return;if(!de.value.features?.nomercyConnect){if(N.value===c.value){Z.togglePlayback();return}const g=G(a.data.tracks,z.value,B.value,Q);Z.playTrack(g.at(0),g),ve(c.value);return}Se.value||Y.value?.invoke("ChangeDeviceCommand",ee.value).then(()=>{console.log("Switched to device:",ee.value)}).catch(g=>{console.error("Error switching device:",g)});const y=G(a.data.tracks,z.value,B.value,Q),i=y.some(g=>g.id===T.value?.id)?T.value?.id:y.at(0)?.id;Y.value?.invoke("StartPlaybackCommand",a.data.type.replace(/s$/u,""),a.data.id,i)}const x=j(()=>({title:a.data?.name??"",url:`https://app.nomercy.tv${r.fullPath}`})),$=j(()=>qe(ce(oe.value),150));return(y,i)=>(t(),o("div",{class:S([{"h-[425px]":n.value,"h-[200px]":!n.value,"text-black/12":$.value,"text-white/12":!$.value},"relative -mx-2 flex flex-shrink-0 flex-grow-0 items-end justify-between self-stretch overflow-hidden bg-cover bg-start bg-no-repeat object-cover p-9 w-available !h-[306px]"]),style:V(n.value?`background-image: url('${n.value}')`:"background-image: linear-gradient(180deg, var(--color-theme-8) 0%, var(--color-theme-8) 100%)")},[i[2]||(i[2]=s("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-black via-black/60"},null,-1)),s("div",ea,[s("div",ta,[s("p",aa,h(e.data.name),1),s("div",ra,[e.data.playlists?.length?(t(),o("p",sa,[s("span",null,h(u(je)("Appears in {0} Playlists",e.data.playlists?.length??0)),1),i[0]||(i[0]=s("svg",{class:"flex-shrink-0 flex-grow-0",fill:"none",height:"4",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 3 4",width:"3",xmlns:"http://www.w3.org/2000/svg"},[s("circle",{cx:"1.5",cy:"2",fill:"#9BA1A6",r:"1.5"})],-1))])):f("",!0),s("p",la,h(e.data.tracks?.length)+" "+h(e.data.tracks?.length===1?y.$t("song"):y.$t("songs")),1),i[1]||(i[1]=s("svg",{class:"flex-shrink-0 flex-grow-0",fill:"none",height:"4",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 3 4",width:"3",xmlns:"http://www.w3.org/2000/svg"},[s("circle",{cx:"1.5",cy:"2",fill:"#9BA1A6",r:"1.5"})],-1)),s("p",ia,h(d.value),1)])])]),s("div",ua,[v(M,{onclick:l,title:u(F)&&u(N)===c.value?y.$t("Pause"):y.$t("Play")},{default:p(()=>[u(F)&&u(N)===c.value?(t(),m(L,{key:0,"class-name":"relative h-6 w-6",icon:"pause"})):(t(),m(L,{key:1,"class-name":"relative h-6 w-6",icon:"play"}))]),_:1},8,["title"]),v(De,{"share-data":x.value,class:"!p-1"},null,8,["share-data"]),e.data&&!u(Pe)?(t(),m(fe,{key:0,data:e.data,"class-name":"h-5 w-5",color:"var(--color-theme-8)"},null,8,["data"])):f("",!0),v(M,{title:y.$t("More")},{default:p(()=>[v(L,{"class-name":"relative h-5 w-5",icon:"menuDotsHorizontal"})]),_:1},8,["title"])])],6))}}),oa=na;_();ue();var da={key:0,class:"inline-flex w-full flex-1 flex-col items-start justify-start overflow-clip rounded-2xl bg-surface-2/1"},ca={key:0,class:"absolute right-4 inline-flex items-center justify-start top-[9.65px] gap-2.5"},va=b({__name:"Desktop",setup(e){const a=ie(),{data:r,isError:d}=Be({path:a.fullPath,keepForever:!0});U(()=>{document.dispatchEvent(new Event("sidebar"))}),le(()=>{J(null),ne(null)});const n=A(),c=A("");q(B,i=>{l(r.value?.tracks??[],z.value,i,c.value)}),q(z,i=>{l(r.value?.tracks??[],i,B.value,c.value)}),q(c,i=>{l(r.value?.tracks??[],z.value,B.value,i)}),q(r,i=>{Te(i?.name??null)});function l(i,g,k,R){const W=G(i??[],g,k,Q);R===""?n.value=W:n.value=W?.filter(H=>H.name?.toLowerCase().includes(R?.toLowerCase?.())||H.artist_track?.some(pe=>pe.name.toLowerCase().includes(R?.toLowerCase?.()))||H.album_track?.[0]?.name.toLowerCase().includes(R?.toLowerCase?.()))??[]}const x=j(()=>[{name:"Home"},{name:"Albums"},{name:"Featured"},{name:"Playlists"},{name:"About"}].filter(i=>(i.name==="Albums"&&r.value?.albums?.length===0&&(i.name=""),i.name==="Playlists"&&r.value?.playlists?.length===0&&(i.name=""),i.name==="Playlists"&&r.value?.featured?.length===0&&(i.name=""),!0))),$=A("list");function y(i){$.value=i}return(i,g)=>u(d)&&!u(r)?(t(),m(Ie,{key:0})):(t(),m(Me,{key:1,"auto-hide":!0,static:!0},{default:p(()=>[u(r)?.id===u(a).params.id?(t(),o("div",da,[u(r)?(t(),m(oa,{key:0,data:u(r)},null,8,["data"])):f("",!0),v(Zt,{tabs:x.value,class:"min-h-[calc(100vh-175px)] !flex-1"},{extra:p(({activeTab:k})=>[k===x.value[0].name?(t(),o("div",ca,[v(M,{"is-active":$.value==="list",title:"List",onClick:g[0]||(g[0]=R=>y("list"))},{default:p(()=>[v(L,{"class-name":"relative h-5 w-5",icon:"bulletList"})]),_:1},8,["is-active"]),v(M,{"is-active":$.value==="card",title:"Grid",onClick:g[1]||(g[1]=R=>y("card"))},{default:p(()=>[v(L,{"class-name":"relative h-5 w-5",icon:"collection"})]),_:1},8,["is-active"])])):f("",!0)]),default:p(({activeTab:k})=>[v(P,{"is-active":k===x.value[0].name},{default:p(()=>[u(r)?(t(),m(qt,{key:0,"active-tab":k,data:u(r),"display-type":$.value},null,8,["active-tab","data","display-type"])):f("",!0)]),_:2},1032,["is-active"]),v(P,{"is-active":k===x.value[1].name},{default:p(()=>[u(r)?(t(),m(se,{key:0,"active-tab":k,data:u(r),item:"albums"},null,8,["active-tab","data"])):f("",!0)]),_:2},1032,["is-active"]),v(P,{"is-active":k===x.value[2].name},{default:p(()=>[u(r)?(t(),m(se,{key:0,"active-tab":k,data:u(r),item:"featured"},null,8,["active-tab","data"])):f("",!0)]),_:2},1032,["is-active"]),v(P,{"is-active":k===x.value[3].name},{default:p(()=>[u(r)?(t(),m(Ot,{key:0,"active-tab":k,data:u(r)},null,8,["active-tab","data"])):f("",!0)]),_:2},1032,["is-active"]),v(P,{"is-active":k===x.value[4].name},{default:p(()=>[u(r)?(t(),m(Gt,{key:0,"active-tab":k,data:u(r)},null,8,["active-tab","data"])):f("",!0)]),_:2},1032,["is-active"])]),_:1},8,["tabs"])])):f("",!0)]),_:1}))}}),Ea=va;export{Ea as default};
