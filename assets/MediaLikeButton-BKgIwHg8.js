import{C as i,Et as s,K as n,c as k,it as p,j as g,k as c,mt as d,ot as f,wt as v}from"./i18n-Rm1NkeNf.js";import{Ki as _,b as m,v as b}from"./index-Dfm86O85.js";import{t as y}from"./MusicButton-DOwQUOio.js";import{t as h}from"./BannerButton-X7AerRvE.js";k();var B=g({__name:"MediaLikeButton",props:{data:{type:Object,required:!0},color:{type:String,required:!1,default:"var(--color-green-500)"},className:{type:String,required:!1},noBackground:{type:Boolean,required:!1,default:!1},type:{type:String,required:!1,default:"music"}},setup(a){const o=a,e=d(o.data?.favorite),l=d(!1);function u(t){t?.stopPropagation(),!l.value&&(l.value=!0,e.value=!e.value,_().post(`${o.data?.link}/like`,{value:e.value}).then(({data:r})=>{e.value=r.args?.[0]==="liked"||r.args?.[1]==="liked"}).catch(()=>{e.value=!e.value}).finally(()=>{l.value=!1}))}return p(o,t=>{e.value=t.data?.favorite}),(t,r)=>a.type==="music"?(n(),i(y,{key:0,disabled:l.value,"no-background":a.noBackground,onclick:u,label:"Favorite"},{default:f(()=>[c(m,{class:v([{"heart text-focus ![color:var(--fill-color)]":e.value," ":!e.value,className:a.className},"absolute inset-2 transition-all duration-150"]),style:s(e.value?"--fill-color: rgb(from var(--color-theme-8, var(--color-red-8)) r g b)":"--fill-color: transparent;"),icon:"heart"},null,8,["class","style"])]),_:1},8,["disabled","no-background"])):(n(),i(h,{key:1,disabled:l.value,"no-background":a.noBackground,title:e.value?"Remove from liked":"Add to liked",label:"Favorite",onClick:u},{default:f(()=>[c(m,{class:v([{"heart ![color:var(--fill-color)]":e.value," ":!e.value,className:a.className},"absolute top-1.5 left-1.5 transition-all duration-150 w-7"]),style:s(e.value?"--fill-color: rgb(from var(--color-theme-8, var(--color-red-8)) r g b)":"--fill-color: transparent;"),icon:"heart"},null,8,["class","style"])]),_:1},8,["disabled","no-background","title"]))}}),L=b(B,[["__scopeId","data-v-8a7385fe"]]);export{L as t};
