import{t as y}from"./useQueryClient-CyA4NbEt.js";import{Ai as f,As as w,Bn as g,Cs as b,Ds as k,Fc as i,Gs as C,Is as e,Ls as d,Mo as S,Mt as j,No as L,Oi as T,Pa as B,Qi as M,Qn as v,Ra as p,Us as r,Vn as N,ac as n,ao as I,gc as V,h as O,hr as Q,i as u,jc as t,ko as q,mr as z,nc as A,po as D,rc as E,rr as U,sa as m,sc as $,vc as c,wc as F,yc as P,zs as R}from"./index-Dmf9ueR9.js";import{t as _}from"./MoooomIcon-ChUMO6UV.js";import"./dist-DLnM1qUV.js";import"./md5-BZd0nTIc.js";import{t as G}from"./NoMercyAvatar-B-LICmac.js";import"./HubConnection-klX5ssCm.js";import{t as H}from"./ripperSocket-DAYR8gib.js";import"./DeviceIcon-BjczurEE.js";import{t as W}from"./ServerCard-cfG_c6ZD.js";b();L();var J={class:"flex h-full w-full flex-auto flex-col items-center justify-center gap-8 p-8"},K={class:"flex w-full flex-grow flex-col justify-between p-2 min-h-auto"},X={class:"flex justify-between items-center self-stretch flex-grow-0 flex-shrink-0 w-full relative gap-2.5 mb-2"},Y={class:"flex justify-start items-center relative gap-2.5",inert:""},Z={class:"size-12 my-auto"},ee={class:"w-48 text-base font-semibold text-left"},te={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},se={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},re=C({__name:"Tv",setup(ae){const x=y(),l=F();async function h(s){f(s),await T().get("libraries").then(({data:a})=>{M(a.data),z.value=!0,g.value=!0,setTimeout(async()=>{v.value==="/setup/select-servers"?await u.replace({name:"Home"}):await u.replace(v.value)},50)}).catch(async()=>{await u.replace({name:"Server offline"})})}return A(()=>{f(null),U(),x.removeQueries(),O.value?.stop(),j.value?.stop(),H.value?.stop()}),E(()=>{Q()}),q(()=>{setTimeout(()=>{l.value?.querySelector("button")?.focus()},100)}),V(l,s=>{setTimeout(()=>{s?.querySelector("button")?.focus()},100)}),(s,a)=>(n(),d(t(D),null,{default:c(()=>[r(t(I),{fullscreen:!0},{default:c(()=>[e("div",J,[e("div",K,[e("div",X,[e("div",Y,[e("div",Z,[r(G,{size:40,user:t(m)},null,8,["user"])]),e("p",ee,i(t(m).name),1)]),P(e("button",{class:"flex justify-center items-center ml-auto relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",tabindex:"0",onClick:a[0]||(a[0]=o=>p.value=!t(p))},[r(_,{class:"",icon:"doorOut"}),e("span",te,i(s.$t("Exit TV mode")),1)],512),[[k,!t(B)]]),r(t(S),{class:"flex justify-center items-center relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",to:"/logout"},{default:c(()=>[r(_,{class:"",icon:"doorOut"}),e("span",se,i(s.$t("Logout")),1)]),_:1})]),e("div",{ref_key:"serverList",ref:l,class:"tv:children:w-[30%] tv:mt-0 -mt-24 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4"},[(n(!0),R(w,null,$(t(N),o=>(n(),d(W,{key:o.id,onclick:()=>h(o),server:o},null,8,["onclick","server"]))),128))],512)])])]),_:1})]),_:1}))}}),me=re;export{me as default};
