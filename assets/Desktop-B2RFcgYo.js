import{$ as ye,At as L,C as le,Et as Y,K as Re,O as Be,R as Ge,S as y,T as X,U as Ye,Y as F,Z as ie,_t as ee,c as de,ct as ze,g as re,ht as Ue,j as fe,k as B,kt as Ce,lt as q,ot as Qe,st as ae,w as me,x as De}from"./i18n-DBb78QAI.js";import"./ionic-DNKsarlx.js";import"./vue-core-C9HAaO_1.js";import"./query-Dwz_k4KB.js";import{Mr as Je,Ra as Ze,Zi as je,b as ge,dr as he,si as Fe,ur as Me,x as We}from"./index-A9ZXfM_l.js";import"./useInfiniteServerClient-CfrVy_UX.js";import{t as _e}from"./useServerClient-D7utCp4C.js";import{t as be}from"./DropdownMenu-Cyc87lbu.js";import"./utils-Cd28jKyc.js";import{t as Xe}from"./ScrollContainer-COxBM-C8.js";import"./useMounted-BpvfXUCe.js";import{s as $e}from"./RipperOverlay-Co5yS9RL.js";import"./ripperSocket-BF5Gj0oB.js";import"./FloatingBackButton-CFBsz6Nk.js";import{t as se}from"./Checkbox-98T3OB16.js";import{n as et,t as tt}from"./DashboardLayout-_Yj4z20y.js";de();var nt={207:(e,n,t)=>{e.exports=t(452)},452:e=>{var n=function(t){var l,C=Object.prototype,b=C.hasOwnProperty,j=typeof Symbol=="function"?Symbol:{},h=j.iterator||"@@iterator",g=j.asyncIterator||"@@asyncIterator",v=j.toStringTag||"@@toStringTag";function x(a,r,p){return Object.defineProperty(a,r,{value:p,enumerable:!0,configurable:!0,writable:!0}),a[r]}try{x({},"")}catch{x=function(r,p,m){return r[p]=m}}function T(a,r,p,m){var f=r&&r.prototype instanceof M?r:M,V=Object.create(f.prototype);return V._invoke=function(A,U,N){var I=G;return function(te,W){if(I===z)throw new Error("Generator is already running");if(I===O){if(te==="throw")throw W;return $()}for(N.method=te,N.arg=W;;){var Ne=N.delegate;if(Ne){var pe=_(Ne,N);if(pe){if(pe===S)continue;return pe}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(I===G)throw I=O,N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);I=z;var oe=R(A,U,N);if(oe.type==="normal"){if(I=N.done?O:E,oe.arg===S)continue;return{value:oe.arg,done:N.done}}oe.type==="throw"&&(I=O,N.method="throw",N.arg=oe.arg)}}}(a,p,new Z(m||[])),V}function R(a,r,p){try{return{type:"normal",arg:a.call(r,p)}}catch(m){return{type:"throw",arg:m}}}t.wrap=T;var G="suspendedStart",E="suspendedYield",z="executing",O="completed",S={};function M(){}function J(){}function o(){}var d={};x(d,h,function(){return this});var u=Object.getPrototypeOf,s=u&&u(u(K([])));s&&s!==C&&b.call(s,h)&&(d=s);var i=o.prototype=M.prototype=Object.create(d);function w(a){["next","throw","return"].forEach(function(r){x(a,r,function(p){return this._invoke(r,p)})})}function k(a,r){function p(f,V,A,U){var N=R(a[f],a,V);if(N.type!=="throw"){var I=N.arg,te=I.value;return te&&typeof te=="object"&&b.call(te,"__await")?r.resolve(te.__await).then(function(W){p("next",W,A,U)},function(W){p("throw",W,A,U)}):r.resolve(te).then(function(W){I.value=W,A(I)},function(W){return p("throw",W,A,U)})}U(N.arg)}var m;this._invoke=function(f,V){function A(){return new r(function(U,N){p(f,V,U,N)})}return m=m?m.then(A,A):A()}}function _(a,r){var p=a.iterator[r.method];if(p===l){if(r.delegate=null,r.method==="throw"){if(a.iterator.return&&(r.method="return",r.arg=l,_(a,r),r.method==="throw"))return S;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var m=R(p,a.iterator,r.arg);if(m.type==="throw")return r.method="throw",r.arg=m.arg,r.delegate=null,S;var f=m.arg;return f?f.done?(r[a.resultName]=f.value,r.next=a.nextLoc,r.method!=="return"&&(r.method="next",r.arg=l),r.delegate=null,S):f:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,S)}function D(a){var r={tryLoc:a[0]};1 in a&&(r.catchLoc=a[1]),2 in a&&(r.finallyLoc=a[2],r.afterLoc=a[3]),this.tryEntries.push(r)}function P(a){var r=a.completion||{};r.type="normal",delete r.arg,a.completion=r}function Z(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(D,this),this.reset(!0)}function K(a){if(a){var r=a[h];if(r)return r.call(a);if(typeof a.next=="function")return a;if(!isNaN(a.length)){var p=-1,m=function f(){for(;++p<a.length;)if(b.call(a,p))return f.value=a[p],f.done=!1,f;return f.value=l,f.done=!0,f};return m.next=m}}return{next:$}}function $(){return{value:l,done:!0}}return J.prototype=o,x(i,"constructor",o),x(o,"constructor",J),J.displayName=x(o,v,"GeneratorFunction"),t.isGeneratorFunction=function(a){var r=typeof a=="function"&&a.constructor;return!!r&&(r===J||(r.displayName||r.name)==="GeneratorFunction")},t.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,o):(a.__proto__=o,x(a,v,"GeneratorFunction")),a.prototype=Object.create(i),a},t.awrap=function(a){return{__await:a}},w(k.prototype),x(k.prototype,g,function(){return this}),t.AsyncIterator=k,t.async=function(a,r,p,m,f){f===void 0&&(f=Promise);var V=new k(T(a,r,p,m),f);return t.isGeneratorFunction(r)?V:V.next().then(function(A){return A.done?A.value:V.next()})},w(i),x(i,v,"Generator"),x(i,h,function(){return this}),x(i,"toString",function(){return"[object Generator]"}),t.keys=function(a){var r=[];for(var p in a)r.push(p);return r.reverse(),function m(){for(;r.length;){var f=r.pop();if(f in a)return m.value=f,m.done=!1,m}return m.done=!0,m}},t.values=K,Z.prototype={constructor:Z,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(P),!a)for(var r in this)r.charAt(0)==="t"&&b.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=l)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if(a.type==="throw")throw a.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var r=this;function p(N,I){return V.type="throw",V.arg=a,r.next=N,I&&(r.method="next",r.arg=l),!!I}for(var m=this.tryEntries.length-1;m>=0;--m){var f=this.tryEntries[m],V=f.completion;if(f.tryLoc==="root")return p("end");if(f.tryLoc<=this.prev){var A=b.call(f,"catchLoc"),U=b.call(f,"finallyLoc");if(A&&U){if(this.prev<f.catchLoc)return p(f.catchLoc,!0);if(this.prev<f.finallyLoc)return p(f.finallyLoc)}else if(A){if(this.prev<f.catchLoc)return p(f.catchLoc,!0)}else{if(!U)throw new Error("try statement without catch or finally");if(this.prev<f.finallyLoc)return p(f.finallyLoc)}}}},abrupt:function(a,r){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc<=this.prev&&b.call(m,"finallyLoc")&&this.prev<m.finallyLoc){var f=m;break}}f&&(a==="break"||a==="continue")&&f.tryLoc<=r&&r<=f.finallyLoc&&(f=null);var V=f?f.completion:{};return V.type=a,V.arg=r,f?(this.method="next",this.next=f.finallyLoc,S):this.complete(V)},complete:function(a,r){if(a.type==="throw")throw a.arg;return a.type==="break"||a.type==="continue"?this.next=a.arg:a.type==="return"?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):a.type==="normal"&&r&&(this.next=r),S},finish:function(a){for(var r=this.tryEntries.length-1;r>=0;--r){var p=this.tryEntries[r];if(p.finallyLoc===a)return this.complete(p.completion,p.afterLoc),P(p),S}},catch:function(a){for(var r=this.tryEntries.length-1;r>=0;--r){var p=this.tryEntries[r];if(p.tryLoc===a){var m=p.completion;if(m.type==="throw"){var f=m.arg;P(p)}return f}}throw new Error("illegal catch attempt")},delegateYield:function(a,r,p){return this.delegate={iterator:K(a),resultName:r,nextLoc:p},this.method==="next"&&(this.arg=l),S}},t}(e.exports);try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}}},Se={};function Q(e){var n=Se[e];if(n!==void 0)return n.exports;var t=Se[e]={exports:{}};return nt[e](t,t.exports,Q),t.exports}Q.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return Q.d(n,{a:n}),n},Q.d=(e,n)=>{for(var t in n)Q.o(n,t)&&!Q.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},Q.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var Ie={};function we(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,l=new Array(n);t<n;t++)l[t]=e[t];return l}function Ke(e,n){if(e){if(typeof e=="string")return we(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?we(e,n):void 0}}function ue(e){return function(n){if(Array.isArray(n))return we(n)}(e)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(e)||Ke(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ce(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Q.d(Ie,{A:()=>st});var c=(Le={Fragment:()=>re,computed:()=>De,createTextVNode:()=>Be,createVNode:()=>B,defineComponent:()=>fe,reactive:()=>Ue,ref:()=>ee,watch:()=>ae,watchEffect:()=>ze},ve={},Q.d(ve,Le),ve),rt=(0,c.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var e=this.data,n=this.onClick;return(0,c.createVNode)("span",{class:"vjs-tree-brackets",onClick:n},[e])}}),ot=(0,c.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(e,n){var t=n.emit;return{uiType:(0,c.computed)(function(){return e.isMultiple?"checkbox":"radio"}),model:(0,c.computed)({get:function(){return e.checked},set:function(l){return t("update:modelValue",l)}})}},render:function(){var e=this.uiType,n=this.model,t=this.$emit;return(0,c.createVNode)("label",{class:["vjs-check-controller",n?"is-checked":""],onClick:function(l){return l.stopPropagation()}},[(0,c.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(e)},null),(0,c.createVNode)("input",{checked:n,class:"vjs-check-controller-original is-".concat(e),type:e,onChange:function(){return t("change",n)}},null)])}}),at=(0,c.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var e=this.nodeType,n=this.onClick,t=e==="objectStart"||e==="arrayStart";return t||e==="objectCollapsed"||e==="arrayCollapsed"?(0,c.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(t?"open":"close"),onClick:n},[(0,c.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,c.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}}),Le,ve;function xe(e){return xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xe(e)}function He(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function ne(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=(arguments.length>3?arguments[3]:void 0)||{},C=l.key,b=l.index,j=l.type,h=j===void 0?"content":j,g=l.showComma,v=g!==void 0&&g,x=l.length,T=x===void 0?1:x,R=He(e);if(R==="array"){var G=Oe(e.map(function(O,S,M){return ne(O,"".concat(n,"[").concat(S,"]"),t+1,{index:S,showComma:S!==M.length-1,length:T,type:h})}));return[ne("[",n,t,{showComma:!1,key:C,length:e.length,type:"arrayStart"})[0]].concat(G,ne("]",n,t,{showComma:v,length:e.length,type:"arrayEnd"})[0])}if(R==="object"){var E=Object.keys(e),z=Oe(E.map(function(O,S,M){return ne(e[O],/^[a-zA-Z_]\w*$/.test(O)?"".concat(n,".").concat(O):"".concat(n,'["').concat(O,'"]'),t+1,{key:O,showComma:S!==M.length-1,length:T,type:h})}));return[ne("{",n,t,{showComma:!1,key:C,index:b,length:E.length,type:"objectStart"})[0]].concat(z,ne("}",n,t,{showComma:v,length:E.length,type:"objectEnd"})[0])}return[{content:e,level:t,key:C,index:b,path:n,showComma:v,length:T,type:h}]}function Oe(e){if(typeof Array.prototype.flat=="function")return e.flat();for(var n=ue(e),t=[];n.length;){var l=n.shift();Array.isArray(l)?n.unshift.apply(n,ue(l)):t.push(l)}return t}function ke(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e==null)return e;if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(xe(e)!=="object")return e;if(n.get(e))return n.get(e);if(Array.isArray(e)){var t=e.map(function(b){return ke(b,n)});return n.set(e,t),t}var l={};for(var C in e)l[C]=ke(e[C],n);return n.set(e,l),l}function Ve(e,n,t,l,C,b,j){try{var h=e[b](j),g=h.value}catch(v){t(v);return}h.done?n(g):Promise.resolve(g).then(l,C)}var lt=Q(207),Te=Q.n(lt);function Ee(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(C){return Object.getOwnPropertyDescriptor(e,C).enumerable})),t.push.apply(t,l)}return t}function Pe(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Ee(Object(t),!0).forEach(function(l){ce(e,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ee(Object(t)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(t,l))})}return e}var qe={data:{type:[String,Number,Boolean,Array,Object],default:null},rootPath:{type:String,default:"root"},indent:{type:Number,default:2},showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,renderNodeActions:{type:[Boolean,Function],default:void 0},selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},theme:{type:String,default:"light"},showKeyValueSpace:{type:Boolean,default:!0},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onNodeMouseover:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}},it=(0,c.defineComponent)({name:"TreeNode",props:Pe(Pe({},qe),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","nodeMouseover","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(e,n){var t=n.emit,l=(0,c.computed)(function(){return He(e.node.content)}),C=(0,c.computed)(function(){return"vjs-value vjs-value-".concat(l.value)}),b=(0,c.computed)(function(){return e.showDoubleQuotes?'"'.concat(e.node.key,'"'):e.node.key}),j=(0,c.computed)(function(){return e.selectableType==="multiple"}),h=(0,c.computed)(function(){return e.selectableType==="single"}),g=(0,c.computed)(function(){return e.nodeSelectable(e.node)&&(j.value||h.value)}),v=(0,c.reactive)({editing:!1}),x=function(u){var s,i;t("valueChange",(i=(s=u.target)===null||s===void 0?void 0:s.value)==="null"?null:i==="undefined"?void 0:i==="true"||i!=="false"&&(i[0]+i[i.length-1]==='""'||i[0]+i[i.length-1]==="''"?i.slice(1,-1):typeof Number(i)=="number"&&!isNaN(Number(i))||i==="NaN"?Number(i):i),e.node.path)},T=(0,c.computed)(function(){var u,s=(u=e.node)===null||u===void 0?void 0:u.content;return s===null?s="null":s===void 0&&(s="undefined"),l.value==="string"?'"'.concat(s,'"'):s+""}),R=function(){var u=e.renderNodeValue;return u?u({node:e.node,defaultValue:T.value}):T.value},G=function(){t("bracketsClick",!e.collapsed,e.node)},E=function(){t("iconClick",!e.collapsed,e.node)},z=function(){t("selectedChange",e.node)},O=function(){t("nodeClick",e.node),g.value&&e.selectOnClickNode&&t("selectedChange",e.node)},S=function(){t("nodeMouseover",e.node)},M=function(u){if(e.editable&&!v.editing){v.editing=!0;var s=function i(w){var k;w.target!==u.target&&((k=w.target)===null||k===void 0?void 0:k.parentElement)!==u.target&&(v.editing=!1,document.removeEventListener("click",i))};document.removeEventListener("click",s),document.addEventListener("click",s)}},J=function(){var u=(0,c.ref)(!1);return{copy:function(){var s,i=(s=Te().mark(function w(k){return Te().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.prev=0,_.next=3,navigator.clipboard.writeText(k);case 3:u.value=!0,setTimeout(function(){u.value=!1},300),_.next=10;break;case 7:_.prev=7,_.t0=_.catch(0),console.error("[vue-json-pretty] Copy failed: ",_.t0);case 10:case"end":return _.stop()}},w,null,[[0,7]])}),function(){var w=this,k=arguments;return new Promise(function(_,D){var P=s.apply(w,k);function Z($){Ve(P,_,D,Z,K,"next",$)}function K($){Ve(P,_,D,Z,K,"throw",$)}Z(void 0)})});return function(w){return i.apply(this,arguments)}}()}}().copy,o=function(){var u=e.node,s=u.key,i=u.path,w=e.rootPath,k=new Function("data","return data".concat(i.slice(w.length)))(e.data);J(JSON.stringify(s?ce({},s,k):k,null,2))},d=function(){var u=e.renderNodeActions;if(!u)return null;var s={copy:o};return typeof u=="function"?u({node:e.node,defaultActions:s}):(0,c.createVNode)("span",{onClick:o,class:"vjs-tree-node-actions-item"},[(0,c.createTextVNode)("copy")])};return function(){var u,s=e.node;return(0,c.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":e.showSelectController,"has-carets":e.showIcon,"is-highlight":e.highlightSelectedNode&&e.checked,dark:e.theme==="dark"},onClick:O,onMouseover:S,style:e.style},[e.showLineNumber&&(0,c.createVNode)("span",{class:"vjs-node-index"},[s.id+1]),e.showSelectController&&g.value&&s.type!=="objectEnd"&&s.type!=="arrayEnd"&&(0,c.createVNode)(ot,{isMultiple:j.value,checked:e.checked,onChange:z},null),(0,c.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(s.level)).map(function(i,w){return(0,c.createVNode)("div",{key:w,class:{"vjs-indent-unit":!0,"has-line":e.showLine}},[Array.from(Array(e.indent)).map(function(){return(0,c.createVNode)(c.Fragment,null,[(0,c.createTextVNode)("Â ")])})])}),e.showIcon&&(0,c.createVNode)(at,{nodeType:s.type,onClick:E},null)]),s.key&&(0,c.createVNode)("span",{class:"vjs-key"},[(u=e.renderNodeKey,u?u({node:e.node,defaultKey:b.value||""}):b.value),(0,c.createVNode)("span",{class:"vjs-colon"},[":".concat(e.showKeyValueSpace?" ":"")])]),(0,c.createVNode)("span",null,[s.type!=="content"&&s.content?(0,c.createVNode)(rt,{data:s.content.toString(),onClick:G},null):(0,c.createVNode)("span",{class:C.value,onClick:!e.editable||e.editableTrigger&&e.editableTrigger!=="click"?void 0:M,onDblclick:e.editable&&e.editableTrigger==="dblclick"?M:void 0},[e.editable&&v.editing?(0,c.createVNode)("input",{value:T.value,onChange:x,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):R()]),s.showComma&&(0,c.createVNode)("span",null,[","]),e.showLength&&e.collapsed&&(0,c.createVNode)("span",{class:"vjs-comment"},[(0,c.createTextVNode)(" // "),s.length,(0,c.createTextVNode)(" items ")])]),e.renderNodeActions&&(0,c.createVNode)("span",{class:"vjs-tree-node-actions"},[d()])])}}});function Ae(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(C){return Object.getOwnPropertyDescriptor(e,C).enumerable})),t.push.apply(t,l)}return t}function H(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Ae(Object(t),!0).forEach(function(l){ce(e,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ae(Object(t)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(t,l))})}return e}var st=(0,c.defineComponent)({name:"Tree",props:H(H({},qe),{},{collapsedNodeLength:{type:Number,default:1/0},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function},theme:{type:String,default:"light"}}),slots:["renderNodeKey","renderNodeValue","renderNodeActions"],emits:["nodeClick","nodeMouseover","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(e,n){var t=n.emit,l=n.slots,C=(0,c.ref)(),b=(0,c.computed)(function(){return ne(e.data,e.rootPath)}),j=function(o,d){return b.value.reduce(function(u,s){var i,w=s.level>=o||s.length>=d,k=(i=e.pathCollapsible)===null||i===void 0?void 0:i.call(e,s);return s.type!=="objectStart"&&s.type!=="arrayStart"||!w&&!k?u:H(H({},u),{},ce({},s.path,1))},{})},h=(0,c.reactive)({translateY:0,visibleData:null,hiddenPaths:j(e.deep,e.collapsedNodeLength)}),g=(0,c.computed)(function(){for(var o=null,d=[],u=b.value.length,s=0;s<u;s++){var i=H(H({},b.value[s]),{},{id:s}),w=h.hiddenPaths[i.path];if(o&&o.path===i.path){var k=o.type==="objectStart",_=H(H(H({},i),o),{},{showComma:i.showComma,content:k?"{...}":"[...]",type:k?"objectCollapsed":"arrayCollapsed"});o=null,d.push(_)}else{if(w&&!o){o=i;continue}if(o)continue;d.push(i)}}return d}),v=(0,c.computed)(function(){var o=e.selectedValue;return o&&e.selectableType==="multiple"&&Array.isArray(o)?o:[o]}),x=(0,c.computed)(function(){return!e.selectableType||e.selectOnClickNode||e.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),T=function(){var o=g.value;if(e.virtual){var d,u=e.height/e.itemHeight,s=((d=C.value)===null||d===void 0?void 0:d.scrollTop)||0,i=Math.floor(s/e.itemHeight),w=i<0?0:i+u>o.length?o.length-u:i;w<0&&(w=0);var k=w+u;h.translateY=w*e.itemHeight,h.visibleData=o.filter(function(_,D){return D>=w&&D<k})}else h.visibleData=o},R=function(){T()},G=function(o){var d,u,s=o.path,i=e.selectableType;if(i==="multiple"){var w=v.value.findIndex(function(P){return P===s}),k=ue(v.value);w!==-1?k.splice(w,1):k.push(s),t("update:selectedValue",k),t("selectedChange",k,ue(v.value))}else if(i==="single"&&v.value[0]!==s){var _=(d=v.value,u=1,function(P){if(Array.isArray(P))return P}(d)||function(P,Z){var K=P==null?null:typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(K!=null){var $,a,r=[],p=!0,m=!1;try{for(K=K.call(P);!(p=($=K.next()).done)&&(r.push($.value),!Z||r.length!==Z);p=!0);}catch(f){m=!0,a=f}finally{try{p||K.return==null||K.return()}finally{if(m)throw a}}return r}}(d,u)||Ke(d,u)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())[0],D=s;t("update:selectedValue",D),t("selectedChange",D,_)}},E=function(o){t("nodeClick",o)},z=function(o){t("nodeMouseover",o)},O=function(o,d){if(o)h.hiddenPaths=H(H({},h.hiddenPaths),{},ce({},d,1));else{var u=H({},h.hiddenPaths);delete u[d],h.hiddenPaths=u}},S=function(o,d){e.collapsedOnClickBrackets&&O(o,d.path),t("bracketsClick",o,d)},M=function(o,d){O(o,d.path),t("iconClick",o,d)},J=function(o,d){var u=ke(e.data),s=e.rootPath;new Function("data","val","data".concat(d.slice(s.length),"=val"))(u,o),t("update:data",u)};return(0,c.watchEffect)(function(){x.value&&function(o){throw new Error("[VueJSONPretty] ".concat(o))}(x.value)}),(0,c.watchEffect)(function(){g.value&&T()}),(0,c.watch)(function(){return e.deep},function(o){o&&(h.hiddenPaths=j(o,e.collapsedNodeLength))}),(0,c.watch)(function(){return e.collapsedNodeLength},function(o){o&&(h.hiddenPaths=j(e.deep,o))}),function(){var o,d,u,s,i=(o=e.renderNodeKey)!==null&&o!==void 0?o:l.renderNodeKey,w=(d=e.renderNodeValue)!==null&&d!==void 0?d:l.renderNodeValue,k=(u=(s=e.renderNodeActions)!==null&&s!==void 0?s:l.renderNodeActions)!==null&&u!==void 0&&u,_=h.visibleData&&h.visibleData.map(function(D){return(0,c.createVNode)(it,{key:D.id,data:e.data,rootPath:e.rootPath,indent:e.indent,node:D,collapsed:!!h.hiddenPaths[D.path],theme:e.theme,showDoubleQuotes:e.showDoubleQuotes,showLength:e.showLength,checked:v.value.includes(D.path),selectableType:e.selectableType,showLine:e.showLine,showLineNumber:e.showLineNumber,showSelectController:e.showSelectController,selectOnClickNode:e.selectOnClickNode,nodeSelectable:e.nodeSelectable,highlightSelectedNode:e.highlightSelectedNode,editable:e.editable,editableTrigger:e.editableTrigger,showIcon:e.showIcon,showKeyValueSpace:e.showKeyValueSpace,renderNodeKey:i,renderNodeValue:w,renderNodeActions:k,onNodeClick:E,onNodeMouseover:z,onBracketsClick:S,onIconClick:M,onSelectedChange:G,onValueChange:J,style:e.itemHeight&&e.itemHeight!==20?{lineHeight:"".concat(e.itemHeight,"px")}:{}},null)});return(0,c.createVNode)("div",{ref:C,class:{"vjs-tree":!0,"is-virtual":e.virtual,dark:e.theme==="dark"},onScroll:e.virtual?R:void 0,style:e.showLineNumber?H({paddingLeft:"".concat(12*Number(b.value.length.toString().length),"px")},e.style):e.style},[e.virtual?(0,c.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(e.height,"px")}},[(0,c.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(g.value.length*e.itemHeight,"px")}},[(0,c.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(h.translateY,"px)")}},[_])])]):_])}}}),ct=Ie.A;de();var ut={key:0,class:"my-6 w-full text-sm"},dt={class:"flex h-min w-full flex-1 flex-col justify-center overflow-auto"},ft={class:"relative flex flex-grow items-center justify-start gap-2 whitespace-nowrap px-3 text-xs line-clamp-1 w-available"},pt={class:"relative flex flex-grow items-center justify-start gap-2 whitespace-nowrap px-3 text-xs line-clamp-1 w-available"},ht={class:"relative flex flex-grow items-center justify-start gap-2 whitespace-nowrap px-3 text-xs line-clamp-1 w-available"},vt={class:"relative flex flex-grow flex-col items-start justify-start gap-4 overflow-clip px-3 text-xs line-clamp-1 w-available max-h-[60vh] whitespace-break-spaces"},yt=fe({__name:"LogModal",props:{open:{type:Boolean,required:!0},close:{type:Function,required:!0},id:{type:String,required:!0},name:{type:String,required:!0},data:{type:Object,required:!0}},setup(e){const n=e,t=De(()=>{if(n.data)try{return JSON.parse(Fe(n.data.message))}catch{return n.data.message}});return(l,C)=>{const b=ye("Button");return F(),le(We,{close:e.close,open:!0,"max-width":"max-w-7xl max-h-[80vh]",title:""},{actions:q(()=>[B(b,{id:"no",onclick:e.close,color:"auto",type:"button",variant:"text"},{default:q(()=>[Be(L(l.$t("Close")),1)]),_:1},8,["onclick"])]),default:q(()=>[e.data?(F(),X("div",ut,[y("div",dt,[y("div",ft,[y("span",null,L(l.$t("Time"))+":",1),y("span",null,L(Y(Me)(e.data.time)),1)]),y("div",pt,[y("span",null,L(l.$t("Type"))+":",1),y("span",{style:Ce(`background: ${e.data.color}`),class:"h-5 w-20 rounded-full px-2 text-center leading-5"},L(e.data.type),5)]),y("div",ht,[y("span",null,L(l.$t("Level"))+":",1),y("span",null,L(e.data.level),1)]),y("div",vt,[y("span",null,L(l.$t("Message"))+":",1),B(Xe,{static:!1},{default:q(()=>[B(Y(ct),{data:t.value,class:"h-fit"},null,8,["data"])]),_:1})])])])):me("",!0)]),_:1},8,["close"])}}}),mt=yt;de();var gt={class:"flex flex-col gap-2 overflow-auto py-2 max-h-[60vh]"},bt={class:"text-center text-xs font-semibold uppercase"},wt=["onClick"],xt={class:"text-center text-xs font-semibold uppercase"},kt=["onClick"],Ct=fe({__name:"LogTypeSelector",props:Ge({logTypes:{type:Array,required:!0}},{selectedTypes:{type:Array,required:!1,default:()=>[]},selectedTypesModifiers:{}}),emits:["update:selectedTypes"],setup(e){const n=e,t=Qe(e,"selectedTypes");function l(){n.logTypes&&(t.value.length===n.logTypes.length?t.value=[]:t.value=[...n.logTypes])}function C(j){t.value.some(h=>h.name===j.name)?t.value=t.value.filter(h=>h.name!==j.name):t.value=[...t.value,j]}function b(j){if(!n.logTypes)return;const h=n.logTypes.filter(g=>g.type===j.type);if(h.every(g=>t.value.some(v=>v.name===g.name)))t.value=t.value.filter(g=>!h.some(v=>v.name===g.name));else{const g=h.filter(v=>!t.value.some(x=>x.name===v.name));t.value=[...t.value,...g]}}return(j,h)=>(F(),le(be,{class:"relative flex items-center justify-center gap-2 rounded-lg transition-colors duration-200 hover:bg-surface-5/6"},{button:q(()=>[B(ge,{"class-name":"w-6",icon:"chevronDown"})]),default:q(()=>[y("div",gt,[y("div",{class:"-mb-2 flex flex-grow items-center justify-start gap-3 rounded-md px-2.5 cursor-pointer",onClick:l},[B(se,{"model-value":Y(he)(t.value,e.logTypes)},null,8,["model-value"]),y("p",bt,L(j.$t("All")),1)]),(F(!0),X(re,null,ie(Y(Je)(e.logTypes?.filter(g=>g.type!=="spacer")??[],"type"),g=>(F(),X(re,{key:g[0].type},[y("div",{class:"relative mt-2 -mb-1 flex items-center justify-start gap-2 self-stretch px-2.5 cursor-pointer",onClick:()=>b(g[0])},[B(se,{color:Y(he)(t.value?.filter(v=>v.type===g[0].type),g)===!0?`${g[0]?.color}44`:"","model-value":Y(he)(t.value?.filter(v=>v.type===g[0].type),g)},null,8,["color","model-value"]),y("p",xt,L(g[0].type),1),h[0]||(h[0]=y("div",{class:"flex-grow h-px bg-[#e2f0fd]/[0.08]"},null,-1))],8,wt),(F(!0),X(re,null,ie(g,v=>(F(),X("button",{key:v.name,class:"flex flex-grow items-center justify-start gap-3 rounded-md px-2.5",onClick:()=>C(v)},[B(se,{color:t.value?.some(x=>x.name===v.name)?`${v.color}44`:"","model-value":t.value?.some(x=>x.name===v.name)},null,8,["color","model-value"]),y("span",{style:Ce(`background: ${v.color}44`),class:"flex-grow text-sm font-medium text-[#eeecec] rounded-full px-2 w-32 h-5 leading-5 text-center"},L(v.display_name),5)],8,kt))),128))],64))),128))])]),_:1}))}}),Nt=Ct;de();var jt={class:"mx-2 flex flex-col overflow-auto rounded-lg outline outline-1 min-w-available min-h-available divide-y divide-surface-12/8 h-inherit outline-surface-5 max-h-[78vh] min-h-[78vh]"},_t={class:"flex flex-grow-0 items-start justify-start self-stretch rounded-tl-lg rounded-tr-lg w-available"},St={class:"flex w-full flex-1 gap-4 text-xs font-medium bg-surface-2/10"},Lt={class:"relative flex h-11 items-center justify-between gap-3 self-stretch p-3 group/tableButton w-[150px] min-w-[150px]"},Ot={class:"flex w-full flex-col items-start justify-between py-2 bg-surface-1"},Vt=["onClick"],Tt={class:"relative flex h-11 items-center justify-between gap-3 self-stretch p-3 group/tableButton w-[120px] min-w-[120px]"},Et={class:"relative flex h-11 items-center justify-between gap-3 self-stretch p-3 group/tableButton w-[120px] min-w-[120px]"},Pt={class:"flex w-full flex-col items-start justify-between py-2 bg-surface-1"},At=["onClick"],Bt={class:"relative flex h-11 items-center justify-between gap-3 self-stretch p-3 group/tableButton w-available"},Dt={class:"relative flex h-11 w-20 items-center justify-between gap-3 self-stretch p-3 group/tableButton min-w-20"},Ft={class:"overflow-auto divide-y divide-surface-12/5 max-h-available flex-1"},Mt={class:"relative flex flex-grow items-center justify-start whitespace-nowrap px-3 text-xs line-clamp-1 w-[150px] min-w-[150px]"},It={class:"relative flex flex-grow items-center justify-center whitespace-nowrap text-xs line-clamp-1 w-[120px] min-w-[120px]"},Kt={class:"relative flex flex-grow items-center justify-start whitespace-nowrap px-3 text-xs line-clamp-1 w-[120px] min-w-[120px]"},Ht=["onClick"],qt=fe({__name:"Desktop",setup(e){const n=ee([]),t=ee([]),l=ee([]),C=ee(50),b=ee([]),j=ee(""),h=Ze(j,500);let g=null;async function v(){g?.abort(),g=new AbortController;const o={limit:C.value,types:t.value.length>0?t.value:void 0,levels:l.value.length>0?l.value:void 0,filter:h.value||void 0};try{const d=await je().get("/dashboard/logs",{params:o,signal:g.signal}),u=d.data?.data??d.data;b.value=Array.isArray(u)?u:[]}catch(d){if(d?.name==="CanceledError"||d?.code==="ERR_CANCELED")return;console.error("[Logs] fetch failed:",d)}}const{data:x}=_e({path:"/dashboard/logs/types"}),{data:T}=_e({path:"/dashboard/logs/levels"});ae(T,o=>{o&&(l.value=[...o])}),ae(x,o=>{o&&(n.value=[...o])}),ae(n,o=>{o&&(t.value=o.map(d=>d.name))}),ae([t,l,C,h],()=>{v()});function R(o){l.value.includes(o.level)&&(t.value.length>0&&!t.value.includes(o.type)||h.value&&!o.message.toLowerCase().includes(h.value.toLowerCase())||(b.value=[o,...b.value.slice(0,b.value.length-1)]))}$e(et,"NewLog",R);let G=null;Re(()=>{v(),G=setInterval(v,300*1e3)}),Ye(()=>{G&&clearInterval(G)});const E=ee(null),z=ee(!1);function O(o){console.log(o),E.value=o,z.value=!0}function S(o){o.stopPropagation(),E.value=null,z.value=!1}function M(){je().delete("/dashboard/logs").catch(()=>{alert("you'd think this would actually do something huh ðŸ˜‹")}).then(()=>{b.value=[]})}function J(o){l.value.includes(o)?l.value=l.value.filter(d=>d!==o):l.value=[...l.value,o]}return(o,d)=>{const u=ye("InputText"),s=ye("Button");return F(),le(tt,{"grid-style":4,description:"",title:"Logs"},{cta:q(()=>[...d[2]||(d[2]=[])]),default:q(()=>[y("table",jt,[y("thead",_t,[y("tr",St,[y("th",Lt,[y("span",null,L(o.$t("Limit"))+" ("+L(C.value)+")",1),B(be,{class:"relative flex items-center justify-center gap-2 rounded-lg transition-colors duration-200 hover:bg-surface-5/6",translate:"translate-x-1/4"},{button:q(()=>[B(ge,{"class-name":"w-6",icon:"chevronDown"})]),default:q(()=>[y("div",Ot,[(F(),X(re,null,ie([5,10,20,50,100,500,1e3,2e3],i=>y("button",{class:"flex flex-grow items-center justify-start gap-3 rounded-md px-2.5",onClick:w=>C.value=i},[B(se,{"model-value":C.value===i},null,8,["model-value"]),y("span",null,L(i),1)],8,Vt)),64))])]),_:1})]),y("th",Tt,[y("span",null,L(o.$t("Type")),1),Y(x)?(F(),le(Nt,{key:0,"selected-types":n.value,"onUpdate:selectedTypes":d[0]||(d[0]=i=>n.value=i),"log-types":Y(x)},null,8,["selected-types","log-types"])):me("",!0)]),y("th",Et,[y("span",null,L(o.$t("Level")),1),B(be,{class:"relative flex items-center justify-center gap-2 rounded-lg transition-colors duration-200 hover:bg-surface-5/6"},{button:q(()=>[B(ge,{"class-name":"w-6",icon:"chevronDown"})]),default:q(()=>[y("div",Pt,[(F(!0),X(re,null,ie(Y(T),i=>(F(),X("button",{class:"flex flex-grow items-center justify-start gap-3 rounded-md px-2.5",onClick:()=>J(i)},[B(se,{"model-value":l.value?.includes(i)},null,8,["model-value"]),y("span",null,L(i),1)],8,At))),256))])]),_:1})]),y("th",Bt,[y("span",null,L(o.$t("Message")),1),B(u,{id:"filter",modelValue:j.value,"onUpdate:modelValue":d[1]||(d[1]=i=>j.value=i),class:"mr-auto ml-4 min-w-40",name:"",placeholder:"Filter...",size:"small",variant:"filled"},null,8,["modelValue"])]),y("th",Dt,[B(s,{id:"clear","class-name":"!py-1 !h-8",color:"theme",title:"Clear logs",variant:"text",onClick:M},{default:q(()=>[y("span",null,L(o.$t("clear")),1)]),_:1})])])]),y("tbody",Ft,[(F(!0),X(re,null,ie(b.value??[],(i,w)=>(F(),X("tr",{key:`${i.time}-${i.type}-${w}`,class:"flex h-12 w-full flex-1 justify-center gap-4 odd:bg-white/[0.04]"},[y("td",Mt,L(Y(Me)(i.time)),1),y("td",It,[y("div",{style:Ce(`background: ${i.color}55`),class:"h-5 w-min rounded-full px-2 text-center leading-5"},L(Y(x)?.find(k=>k.name===i.type)?.display_name),5)]),y("td",Kt,L(i.level),1),y("td",{class:"relative flex flex-grow cursor-pointer items-center justify-start whitespace-nowrap px-3 text-xs line-clamp-1 w-available",onClick:()=>O(i)},L(Y(Fe)(i.message)),9,Ht)]))),128))])]),E.value?.level?(F(),le(mt,{key:0,id:E.value?.level,close:S,data:E.value,name:E.value?.level,open:!0},null,8,["id","data","name"])):me("",!0)]),_:1})}}}),an=qt;export{an as default};
