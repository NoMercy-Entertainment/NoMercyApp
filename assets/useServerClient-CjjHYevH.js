import{t as c}from"./useInfiniteServerClient-CUj8KMRn.js";import{t as i}from"./useQuery-B-9-3q3r.js";import{$o as o,bc as v,du as y,es as n,ll as f,yc as w}from"./index-DhiB0zJh.js";f();w();function p(e){return Object.keys(e?.data??{}).reduce((t,d)=>(t[d]=y(e?.data[d].value)??e?.data[d],t),{})}function h(e){const t=v(),d=e?.type??"get";if(!n.value?.serverApiUrl)throw new Error("No server URL");const a=e?.path??t.fullPath;if(a.includes("undefined"))throw new Error("Invalid path");const u=p(e),l=o();return{...i({...e,queryKey:c(e),enabled:!!n.value?.id&&(e?.enabled??!0),retry:0,refetchOnMount:!0,refetchOnWindowFocus:!1,staleTime:e?.keepForever?1/0:1e3*60*5,queryFn:async({signal:s})=>{let r;switch(d){case"get":r=await l.get(a,{params:{letter:t.query?.letter,...u},signal:s});break;case"post":r=await l.post(a,{letter:t.query?.letter??void 0,...u},{signal:s});break;case"put":r=await l.put(a,{letter:t.query?.letter??void 0,...u},{signal:s});break;case"patch":r=await l.patch(a,{letter:t.query?.letter??void 0,...u},{signal:s});break;case"delete":r=await l.delete(a,{letter:t.query?.letter??void 0,...u},{signal:s});break;default:r=await l.get(a,{params:{letter:t.query?.letter,...u},signal:s})}return r.data?.data??r.data}})}}var _=h;export{_ as t};
