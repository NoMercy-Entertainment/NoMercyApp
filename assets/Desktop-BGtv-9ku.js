import"./useInfiniteServerClient-CUj8KMRn.js";import{$l as B,As as te,Bl as ae,Cl as d,Dl as c,El as de,Gl as R,Gt as X,Hi as oe,Hl as t,Js as ce,Ki as ve,Kl as P,Kr as se,Mi as fe,N as me,Oi as le,Rr as pe,Sl as m,T as V,Ur as re,Wl as w,X as ye,Xi as he,Xr as _e,Yi as ge,Z as J,_t as N,bc as Y,bl as l,ec as xe,es as ke,fi as be,gu as S,hl as b,hu as u,it as A,ji as we,k as M,kl as g,kt as $e,ll as x,ni as E,nt as Ce,nu as je,pl as Te,qr as I,rt as F,su as q,ti as H,tu as f,vu as Ae,wl as Pe,xl as v,xt as Se,yc as K,yl as j,yu as _,zl as U,zt as G}from"./index-DhiB0zJh.js";import{t as Le}from"./DropdownMenu-DWjz4oaE.js";import"./dist-T5InuRf4.js";import{t as Me}from"./useServerClient-CjjHYevH.js";import{t as qe}from"./ScrollContainer-BChm2UQW.js";import"./MusicButton-DnEHd5aQ.js";import{t as z}from"./BannerButton-w95GU84e.js";import{t as ie}from"./MediaLikeButton-BNAj_rdc.js";import{t as Z}from"./PlayerIcon-DsaVkjbf.js";import{n as ze}from"./swiper-vue-BTxAp8CV.js";import"./swiper-element-bundle-CigcYPsa.js";import{n as Be,t as Re}from"./EqSpinner-Djx9JNsT.js";import{t as Ne}from"./NotFound-CQo7Jl5t.js";import{t as De}from"./ShareButton-BeYn-vRW.js";import{t as Oe}from"./Carousel-iRmg9hXT.js";x();K();var Ee=["data-track-id"],Fe={class:"flex w-10 justify-center text-center min-w-10"},He={key:0,class:"group-focus-visible/track:sm:hidden group-hover/track:sm:hidden"},Ie={class:"flex h-12 items-center gap-2 overflow-hidden w-available sm:gap-4"},Ge={class:"flex h-full flex-col justify-evenly overflow-clip w-inherit"},Ve={class:"flex h-5 flex-nowrap overflow-clip text-left font-bold line-clamp-1 w-inherit"},Ye=["data-size"],Ke={class:"flex whitespace-nowrap"},Ue={class:"flex items-center justify-between gap-2 text-end"},We={class:"mr-4 monospace sm:mr-0"},Xe=g({__name:"TrackRow",props:{data:{type:Object,required:!0},index:{type:Number,required:!0},displayList:{type:Array,required:!0}},setup(e){const a=e,s=Y(),o=j(()=>s.path.startsWith("/music/album")),i=j(()=>s.path.startsWith("/music/playlists"));function y(){if(!te.value.features?.nomercyConnect){ye.playTrack(a.data,a.displayList);return}G.value?.invoke("StartPlaybackCommand",o.value?"album":"artist",o.value?a.data?.album_track.at(0)?.id:a.data?.artist_track.at(0)?.id,a.data.id)}return(n,h)=>{const $=P("RouterLink");return t(),d("button",{"data-track-id":e.data?.id,class:"grid justify-start items-center self-stretch pr-3 sm:px-3 rounded-lg hover:bg-surface-6/8 group/track text-sm font-medium py-2 z-0 group/track home-grid gap-2","data-target":"track",tabindex:"0",onClick:h[0]||(h[0]=p=>y()),onContextmenu:h[1]||(h[1]=p=>u(me)(p,n.$route,e.data))},[l("span",Fe,[u(A)?.id!==e.data.id?(t(),d("span",He,_(e.index+1),1)):m("",!0),u(A)?.id===e.data.id?(t(),v(Re,{key:1,playing:u(N),class:"hidden group-focus-visible/track:sm:!hidden group-hover/track:sm:!hidden",color:"var(--color-theme-8)"},null,8,["playing"])):m("",!0),u(A)?.id===e.data.id&&u(N)?(t(),v(Z,{key:2,class:"hidden h-6 w-6 group-focus-visible/track:sm:block group-hover/track:sm:block",icon:"nmPause"})):(t(),v(Z,{key:3,class:"hidden h-6 w-6 group-focus-visible/track:sm:block group-hover/track:sm:block",icon:"nmPlay"}))]),l("span",Ie,[o.value?(t(),v(V,{key:0,data:e.data,size:100,"class-name":"relative hidden h-12 w-12 overflow-hidden min-w-[3rem] sm:block",loading:"eager"},null,8,["data"])):m("",!0),l("span",Ge,[l("span",Ve,_(e.data.name),1),i.value?(t(),d("span",{key:0,"data-size":u(Se),class:"inline-flex h-5 w-fit gap-1 overflow-hidden whitespace-nowrap text-surface-9 line-clamp-1 text-2xs hover:animate-pause"},[e.data?(t(),v(Be,{key:0,id:e.data.id,data:e.data.artist_track,onclick:p=>p.stopPropagation(),"data-target":"artist",type:"artists"},null,8,["id","data","onclick"])):m("",!0)],8,Ye)):m("",!0)])]),e.data?(t(!0),d(b,{key:0},w(e.data.album_track,p=>(t(),d("span",{key:p.id,class:"max-w-sm items-center overflow-clip pr-2 line-clamp-2 h-inherit w-inherit"},[c($,{onclick:r=>r.stopPropagation(),to:p?.link,class:"flex items-center gap-1 whitespace-nowrap text-xs font-semibold line-clamp-1 hover:underline focus:underline dark:font-medium","data-target":"album",tabindex:"0"},{default:f(()=>[l("span",Ke,_(p.name),1)]),_:2},1032,["onclick","to"])]))),128)):m("",!0),l("span",Ue,[(t(),v(ie,{key:e.data.id,data:e.data,onclick:p=>p.stopPropagation(),class:"hidden sm:flex",color:"var(--color-theme-8)"},null,8,["data","onclick"])),l("span",We,_(e.data.duration),1)]),c(Le,{direction:"down"},{button:f(()=>[c(z,{class:"mx-3",title:""},{default:f(()=>[c(M,{"class-name":"relative h-5 w-5",icon:"menuDotsVertical"})]),_:1})]),_:1})],40,Ee)}}}),Je=Xe;x();var Ze={key:0,class:"flex w-full flex-col items-start justify-start gap-4 self-stretch"},Qe={class:"self-stretch text-xl font-bold leading-loose"},et={class:"flex flex-col items-start justify-start gap-1 self-stretch"},tt={class:"z-10 grid items-center justify-start gap-4 self-stretch py-2 pr-3 text-sm font-medium home-grid sm:px-3"},at={class:"shrink grow basis-0 text-sm leading-tight text-surface-12/11"},st={class:"shrink grow basis-0 text-sm leading-tight text-surface-12/11"},lt={class:"shrink grow basis-0 text-right text-sm leading-tight text-surface-12/11"},rt={class:"flex flex-col items-start justify-start gap-1 self-stretch"},it=g({__name:"TrackCard",props:{data:{type:Array,required:!0},title:{type:String,required:!0}},setup(e){return(a,s)=>e.data&&e.data?.length>0?(t(),d("div",Ze,[l("div",Qe,_(a.$t(e.title)),1),l("div",et,[l("div",tt,[s[0]||(s[0]=l("div",{class:"w-10 text-center text-sm leading-tight text-surface-12/11"}," # ",-1)),l("div",at,_(a.$t("Title")),1),l("div",st,_(a.$t("Album")),1),l("div",lt,_(a.$t("Duration")),1)])]),l("div",rt,[(t(!0),d(b,null,w(e.data,(o,i)=>(t(),v(Je,{key:o.id+o?.favorite,data:o,"display-list":e.data,index:i},null,8,["data","display-list","index"]))),128))])])):m("",!0)}}),Q=it;x();var ut={class:"contents"},nt=g({__name:"Tab",props:{isActive:{type:Boolean,default:!1}},setup(e){return(a,s)=>je((t(),d("div",ut,[R(a.$slots,"default")],512)),[[Te,e.isActive]])}}),T=nt;x();var dt={class:"flex w-full flex-col items-start justify-start gap-4"},ot={key:0,class:"absolute grid inset-0 bg-black/40 w-full items-center justify-center flex-col opacity-0 group-hover/cover:opacity-100 transition-all duration-100"},ct={class:"p-4 font-semibold text-theme-8 text-lg"},vt={class:"w-full whitespace-pre-line font-semibold leading-normal"},ft=g({__name:"ProfileCard",props:{data:{type:Object,required:!0}},setup(e){const a=e;U(()=>{a.data?.color_palette&&I(a.data?.color_palette?.cover)}),ae(()=>{I(null),se(null)});function s(){const o=new CustomEvent("showModal",{detail:{modalName:"createPlaylist",modalTitle:"Edit {{name}}",modalTitleArgs:{name:a.data?.name},modalProps:a.data}});document.dispatchEvent(o)}return(o,i)=>(t(),d("div",dt,[l("div",{class:"flex flex-col items-start justify-start self-stretch overflow-clip rounded-lg relative group/cover",onClick:s},[c(V,{data:e.data,size:500,class:"aspect-square h-auto w-full"},null,8,["data"]),e.data?.type!=="track"?(t(),d("div",ot,[l("span",ct,_(o.$t("Change cover")),1)])):m("",!0)]),l("div",vt,_(e.data.disambiguation||e.data.description?u(oe)(e.data.description??e.data.disambiguation,200):""),1)]))}}),mt=ft;x();var pt={class:"inline-flex w-auto flex-wrap items-start justify-start gap-2"},yt={class:"flex items-center justify-start gap-2 px-2"},ht=g({__name:"GenresCard",props:{data:{type:Object,required:!0}},setup(e){return(a,s)=>{const o=P("RouterLink");return t(),d("div",pt,[(t(!0),d(b,null,w(e.data.genres,i=>(t(),v(o,{key:i.id,to:i?.link,class:"flex items-center justify-start rounded-2xl py-1 px-1.5 bg-focus/10"},{default:f(()=>[l("div",yt,[l("div",{class:S([`${u(we)(u(le)(u(re)),100)?"text-black/12":"text-white/12"}`,"text-center text-sm font-medium leading-tight"])},_(a.$t(i.name)),3)])]),_:2},1032,["to"]))),128))])}}}),ue=ht;x();var _t={key:0,class:"flex w-full flex-col items-start justify-start gap-4"},gt={class:"text-xl font-bold leading-loose text-surface-11"},xt={class:"grid grid-cols-2 gap-4"},kt={class:"flex h-16 w-16 items-center justify-center rounded px-px py-px"},bt={class:"flex items-center justify-start gap-2.5"},wt={class:"text-sm font-semibold text-surface-8 text-balance line-clamp-2"},$t=g({__name:"FeaturedCard",props:{data:{type:Object,required:!0}},setup(e){const a=e,s=j(()=>{const o={};return a.data?.tracks?.forEach(i=>{i.artist_track?.forEach(y=>{y.id===a.data.id||!y.cover||(o[y.id]={id:y.id,name:y.name,cover:y.cover})})}),Object.values(o)});return(o,i)=>{const y=P("RouterLink");return s.value.length>0?(t(),d("div",_t,[l("div",gt,_(o.$t("Featured Artists")),1),l("div",xt,[(t(!0),d(b,null,w(s.value,n=>(t(),v(y,{key:n.id,to:n.link,class:"inline-flex items-center justify-start gap-4 underline-offset-4 hover:underline"},{default:f(()=>[l("div",kt,[c(V,{data:n,size:60,class:"h-14 w-14 rounded-lg"},null,8,["data"])]),l("div",bt,[l("div",wt,_(n.name),1)])]),_:2},1032,["to"]))),128))])])):m("",!0)}}}),Ct=$t;x();var jt={class:"flex flex-row items-start justify-start gap-8 overflow-clip w-available"},Tt={class:"inline-flex flex-col items-start justify-start gap-8 w-[clamp(200px,25%,500px)]"},At=g({__name:"TabFrame",props:{data:{type:Object,required:!0},activeTab:{type:String,required:!0}},setup(e){return(a,s)=>(t(),d("div",jt,[l("div",Tt,[c(mt,{data:e.data},null,8,["data"]),e.activeTab!=="About"?(t(),v(ue,{key:0,data:e.data,class:"max-w-md"},null,8,["data"])):m("",!0),e.activeTab!=="About"?(t(),v(Ct,{key:1,data:e.data},null,8,["data"])):m("",!0)]),l("div",{class:S(["z-0 flex h-min w-0 flex-1 flex-col gap-x-2 gap-y-8 overflow-clip",e.activeTab==="About"?"ml-8 w-[60%]":""])},[R(a.$slots,"default")],2)]))}}),D=At;x();var Pt={class:"flex flex-1 basis-0 items-start justify-start gap-8 self-stretch p-8 pb-0"},St=g({__name:"Home",props:{data:{type:Object,required:!0},displayType:{type:String,default:"list"},activeTab:{type:String,required:!0}},setup(e){const a=[{name:"list"},{name:"card"}];return(s,o)=>(t(),d("div",Pt,[c(D,{"active-tab":e.activeTab,data:e.data},{default:f(()=>[c(T,{"is-active":e.displayType===a[0].name},{default:f(()=>[c(Q,{data:e.data.favorite_tracks??[],title:"Your most played"},null,8,["data"]),c(Q,{data:e.data.tracks??[],title:"All songs"},null,8,["data"])]),_:1},8,["is-active"]),c(T,{"is-active":e.displayType===a[1].name},null,8,["is-active"])]),_:1},8,["active-tab","data"])]))}}),Lt=St;x();var Mt={class:"flex flex-1 basis-0 items-start justify-start gap-8 self-stretch p-8 pb-0"},qt=g({__name:"Albums",props:{data:{type:Object,required:!0},item:{type:String,required:!0},activeTab:{type:String,required:!0}},setup(e){return(a,s)=>{const o=P("NMMusicCard");return t(),d("div",Mt,[c(D,{"active-tab":e.activeTab,data:e.data},{default:f(()=>[l("div",{class:S([{"pb-4 sm:pb-4":!u(A)},"z-0 w-full h-available h-fit grid gap-4 music-showing:pb-0 grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-5 3xl:grid-cols-7 4xl:grid-cols-7 5xl:grid-cols-[repeat(8,minmax(0,1fr))] tv:grid-cols-6 scroll-smooth items-start"]),style:{opacity:"1"}},[Array.isArray(e.data?.[e.item])?(t(!0),d(b,{key:0},w(e.data[e.item],i=>(t(),d(b,{key:i?.id},[i?(t(),v(o,{key:0,data:i},null,8,["data"])):m("",!0)],64))),128)):m("",!0)],2)]),_:1},8,["active-tab","data"])])}}}),ee=qt;x();var zt={class:"flex flex-1 basis-0 items-start justify-start gap-8 self-stretch p-8 pb-0"},Bt=g({__name:"Playlists",props:{data:{type:Object,required:!0},activeTab:{type:String,required:!0}},setup(e){return(a,s)=>{const o=P("NMMusicCard");return t(),d("div",zt,[c(D,{"active-tab":e.activeTab,data:e.data},{default:f(()=>[l("div",{class:S([{"pb-4 sm:pb-4":u(A)},"z-0 w-available h-available w-full h-fit grid gap-4 pl-4 pr-4 pt-4 pb-4 music-showing:pb-0 grid-cols-2 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-7 3xl:grid-cols-9 4xl:grid-cols-9 5xl:grid-cols-[repeat(14,minmax(0,1fr))] tv:grid-cols-6 scroll-smooth"]),style:{opacity:"1"}},[Array.isArray(e.data.playlists)?(t(!0),d(b,{key:0},w(e.data.playlists,i=>(t(),v(o,{key:i.id,data:i},null,8,["data"]))),128)):m("",!0)],2)]),_:1},8,["active-tab","data"])])}}}),Rt=Bt;x();var Nt=g({__name:"MusicCarousel",props:{data:{type:Object,required:!0},index:{type:Number,required:!1,default:0},limitCardCountBy:{type:Number,required:!1}},setup(e){function a(s){setTimeout(()=>{s.color_palette},50)}return(s,o)=>{const i=P("RouterLink"),y=P("NMMusicCard");return e.data.items?.length>0?(t(),v(Oe,{key:0,"disable-auto-aspect":!0,index:e.index,"limit-card-count-by":e.limitCardCountBy,title:e.data.title},Pe({default:f(()=>[(t(!0),d(b,null,w(e.data.items,n=>(t(),v(u(ze),{key:n?.id,"virtual-index":e.index,class:"flex py-1"},{default:f(()=>[n?.id?(t(),v(y,{key:0,id:`item-${n?.name}-${n?.id}`,data:n,onclick:()=>a(n),class:""},null,8,["id","data","onclick"])):m("",!0)]),_:2},1032,["virtual-index"]))),128))]),_:2},[e.data.moreLink?{name:"link",fn:f(()=>[c(i,{to:e.data.moreLink,class:"mr-auto ml-4 font-medium underline underline-offset-4"},{default:f(()=>[...o[0]||(o[0]=[de(" see more ",-1)])]),_:1},8,["to"])]),key:"0"}:void 0]),1032,["index","limit-card-count-by","title"])):m("",!0)}}}),Dt=Nt;x();var Ot={key:0,class:"flex flex-1 basis-0 items-start justify-start self-stretch overflow-clip px-8 py-8 w-available"},Et={class:"flex flex-col gap-2 overflow-clip w-available max-w-[75ch]"},Ft=["innerHTML"],Ht={class:"max-w-available"},It=g({__name:"About",props:{data:{type:Object,required:!0},activeTab:{type:String,required:!0}},setup(e){const a=e,s=j(()=>{const i={};return a.data?.tracks?.forEach(y=>{y.artist_track?.forEach(n=>{n.id===a.data.id||!n.cover||(i[n.id]=n)})}),Object.values(i)}),o=j(()=>[{title:"Featuring artists",moreLink:"",children:s.value}]);return(i,y)=>e.activeTab?(t(),d("div",Ot,[c(D,{data:e.data,"active-tab":e.activeTab},{default:f(()=>[l("div",Et,[(t(!0),d(b,null,w((e.data.description??"")?.split(`
`)??[],n=>(t(),d("div",{key:n,class:"flex flex-col gap-1"},[(t(!0),d(b,null,w(n.split(`
`),h=>(t(),d("span",{key:h,class:"bionic-text font-semibold !text-base",innerHTML:h},null,8,Ft))),128))]))),128))]),c(ue,{data:e.data},null,8,["data"]),l("div",Ht,[(t(!0),d(b,null,w(o.value??[],n=>(t(),v(Dt,{key:n.title,data:n,class:"-mx-3","limit-card-count-by":2},null,8,["data"]))),128))])]),_:1},8,["data","active-tab"])])):m("",!0)}}),Gt=It;x();var Vt={class:"z-0 flex shrink grow basis-0 flex-col items-start justify-start self-stretch"},Yt={class:"sticky -top-1 z-10 h-14 w-full border-b border-surface-12/6 bg-surface-1"},Kt={class:"absolute left-4 inline-flex flex-col items-start justify-start gap-2 top-[15px]"},Ut={class:"inline-flex items-start justify-start gap-4"},Wt=["onClick"],Xt=g({__name:"Tabs",props:{tabs:{type:Array,required:!0}},setup(e){const a=e,s=q(a.tabs[0].name);function o(i){s.value=a.tabs[i].name}return(i,y)=>(t(),d("div",Vt,[l("div",Yt,[l("nav",Kt,[l("ul",Ut,[(t(!0),d(b,null,w(e.tabs,(n,h)=>(t(),d("button",{key:n.name,class:S(`px-1 pb-4 ${s.value===n.name?"border-b-2":""} empty:hidden transition-transform duration-100 border-focus justify-center items-center gap-2 flex cursor-pointer`),onClick:$=>o(h)},[n?.name?(t(),d("div",{key:0,class:S(`${s.value===n.name?"text-focus":""} text-base font-semibold leading-normal`)},_(i.$t(n.name)),3)):m("",!0)],10,Wt))),128))])]),R(i.$slots,"extra",{activeTab:s.value})]),R(i.$slots,"default",{activeTab:s.value,class:"z-0"})]))}}),Jt=Xt;x();K();var Zt={class:"flex flex-shrink-0 flex-grow-0 items-end justify-start gap-4 w-[710px]"},Qt={class:"relative flex flex-grow flex-col items-start justify-start gap-4"},ea={class:"flex-shrink-0 flex-grow-0 self-stretch text-5xl font-bold w-[710px]"},ta={class:"relative flex flex-shrink-0 flex-grow-0 items-center justify-start gap-2.5"},aa={key:0,class:"flex-shrink-0 flex-grow-0 text-sm"},sa={class:"flex-shrink-0 flex-grow-0 text-sm"},la={class:"flex-shrink-0 flex-grow-0 text-sm"},ra={class:"flex flex-shrink-0 flex-grow-0 items-center justify-start gap-2"},ia=g({__name:"Header",props:{data:{type:Object,required:!0}},setup(e){const a=e,s=Y(),o=q("");U(()=>{o.value=be(a.data)});const i=j(()=>{let p=a.data?.images?.toSorted((r,C)=>C.voteCount-r.voteCount)?.find(r=>r.type==="banner");if(p||(p=a.data?.images?.toSorted((r,C)=>C.voteCount-r.voteCount)?.find(r=>r.type==="background")),!!p)return`${ke.value?.serverBaseUrl}${p?.src}`}),y=j(()=>`/music/${a.data?.type?.replace(/s$/u,"")}/${a.data?.id}`);function n(){if(!a.data?.tracks)return;if(!te.value.features?.nomercyConnect){if(F.value===y.value){J.togglePlayback();return}J.playTrack(a.data.tracks.at(0),a.data.tracks),$e(y.value);return}Ce.value||G.value?.invoke("ChangeDeviceCommand",X.value).then(()=>{console.log("Switched to device:",X.value)}).catch(r=>{console.error("Error switching device:",r)});const p=a.data.tracks.some(r=>r.id===A.value?.id)?A.value?.id:a.data.tracks.at(0)?.id;G.value?.invoke("StartPlaybackCommand",a.data.type.replace(/s$/u,""),a.data.id,p)}const h=j(()=>({title:a.data?.name??"",url:`https://app.nomercy.tv${s.fullPath}`})),$=j(()=>fe(le(re.value),150));return(p,r)=>(t(),d("div",{class:S([{"h-[425px]":i.value,"h-[200px]":!i.value,"text-black/12":$.value,"text-white/12":!$.value},"relative -mx-2 flex flex-shrink-0 flex-grow-0 items-end justify-between self-stretch overflow-hidden bg-cover bg-start bg-no-repeat object-cover p-9 w-available !h-[306px]"]),style:Ae(i.value?`background-image: url('${i.value}')`:"background-image: linear-gradient(180deg, var(--color-theme-8) 0%, var(--color-theme-8) 100%)")},[r[2]||(r[2]=l("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-black via-black/60"},null,-1)),l("div",Zt,[l("div",Qt,[l("p",ea,_(e.data.name),1),l("div",ta,[e.data.playlists?.length?(t(),d("p",aa,[l("span",null,_(u(he)("Appears in {0} Playlists",e.data.playlists?.length??0)),1),r[0]||(r[0]=l("svg",{class:"flex-shrink-0 flex-grow-0",fill:"none",height:"4",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 3 4",width:"3",xmlns:"http://www.w3.org/2000/svg"},[l("circle",{cx:"1.5",cy:"2",fill:"#9BA1A6",r:"1.5"})],-1))])):m("",!0),l("p",sa,_(e.data.tracks?.length)+" "+_(e.data.tracks?.length===1?p.$t("song"):p.$t("songs")),1),r[1]||(r[1]=l("svg",{class:"flex-shrink-0 flex-grow-0",fill:"none",height:"4",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 3 4",width:"3",xmlns:"http://www.w3.org/2000/svg"},[l("circle",{cx:"1.5",cy:"2",fill:"#9BA1A6",r:"1.5"})],-1)),l("p",la,_(o.value),1)])])]),l("div",ra,[c(z,{onclick:n,title:u(N)&&u(F)===y.value?p.$t("Pause"):p.$t("Play")},{default:f(()=>[u(N)&&u(F)===y.value?(t(),v(M,{key:0,"class-name":"relative h-6 w-6",icon:"pause"})):(t(),v(M,{key:1,"class-name":"relative h-6 w-6",icon:"play"}))]),_:1},8,["title"]),c(De,{"share-data":h.value,class:"!p-1"},null,8,["share-data"]),e.data&&!u(pe)?(t(),v(ie,{key:0,data:e.data,"class-name":"h-5 w-5",color:"var(--color-theme-8)"},null,8,["data"])):m("",!0),c(z,{title:p.$t("More")},{default:f(()=>[c(M,{"class-name":"relative h-5 w-5",icon:"menuDotsHorizontal"})]),_:1},8,["title"])])],6))}}),ua=ia;x();K();var na={key:0,class:"inline-flex w-full flex-1 flex-col items-start justify-start overflow-clip rounded-2xl bg-surface-2/1"},da={key:0,class:"absolute right-4 inline-flex items-center justify-start top-[9.65px] gap-2.5"},oa=g({__name:"Desktop",setup(e){const a=Y(),{data:s,isError:o}=Me({path:a.fullPath,keepForever:!0});U(()=>{document.dispatchEvent(new Event("sidebar"))}),ae(()=>{I(null),se(null)});const i=q(),y=q("");B(H,r=>{n(s.value?.tracks??[],E.value,r,y.value)}),B(E,r=>{n(s.value?.tracks??[],r,H.value,y.value)}),B(y,r=>{n(s.value?.tracks??[],E.value,H.value,r)}),B(s,r=>{ve(r?.name??null)});function n(r,C,k,L){const W=ge(r??[],C,k,_e);L===""?i.value=W:i.value=W?.filter(O=>O.name?.toLowerCase().includes(L?.toLowerCase?.())||O.artist_track?.some(ne=>ne.name.toLowerCase().includes(L?.toLowerCase?.()))||O.album_track?.[0]?.name.toLowerCase().includes(L?.toLowerCase?.()))??[]}const h=j(()=>[{name:"Home"},{name:"Albums"},{name:"Featured"},{name:"Playlists"},{name:"About"}].filter(r=>(r.name==="Albums"&&s.value?.albums?.length===0&&(r.name=""),r.name==="Playlists"&&s.value?.playlists?.length===0&&(r.name=""),r.name==="Playlists"&&s.value?.featured?.length===0&&(r.name=""),!0))),$=q("list");function p(r){$.value=r}return(r,C)=>(t(),v(u(xe),null,{default:f(()=>[c(u(ce),{fullscreen:!0},{default:f(()=>[u(o)&&!u(s)?(t(),v(Ne,{key:0})):(t(),v(qe,{key:1,"auto-hide":!0,static:!0},{default:f(()=>[u(s)?.id===u(a).params.id?(t(),d("div",na,[u(s)?(t(),v(ua,{key:0,data:u(s)},null,8,["data"])):m("",!0),c(Jt,{tabs:h.value,class:"min-h-[calc(100vh-175px)] !flex-1"},{extra:f(({activeTab:k})=>[k===h.value[0].name?(t(),d("div",da,[c(z,{"is-active":$.value==="list",title:"List",onClick:C[0]||(C[0]=L=>p("list"))},{default:f(()=>[c(M,{"class-name":"relative h-5 w-5",icon:"bulletList"})]),_:1},8,["is-active"]),c(z,{"is-active":$.value==="card",title:"Grid",onClick:C[1]||(C[1]=L=>p("card"))},{default:f(()=>[c(M,{"class-name":"relative h-5 w-5",icon:"collection"})]),_:1},8,["is-active"])])):m("",!0)]),default:f(({activeTab:k})=>[c(T,{"is-active":k===h.value[0].name},{default:f(()=>[u(s)?(t(),v(Lt,{key:0,"active-tab":k,data:u(s),"display-type":$.value},null,8,["active-tab","data","display-type"])):m("",!0)]),_:2},1032,["is-active"]),c(T,{"is-active":k===h.value[1].name},{default:f(()=>[u(s)?(t(),v(ee,{key:0,"active-tab":k,data:u(s),item:"albums"},null,8,["active-tab","data"])):m("",!0)]),_:2},1032,["is-active"]),c(T,{"is-active":k===h.value[2].name},{default:f(()=>[u(s)?(t(),v(ee,{key:0,"active-tab":k,data:u(s),item:"featured"},null,8,["active-tab","data"])):m("",!0)]),_:2},1032,["is-active"]),c(T,{"is-active":k===h.value[3].name},{default:f(()=>[u(s)?(t(),v(Rt,{key:0,"active-tab":k,data:u(s)},null,8,["active-tab","data"])):m("",!0)]),_:2},1032,["is-active"]),c(T,{"is-active":k===h.value[4].name},{default:f(()=>[u(s)?(t(),v(Gt,{key:0,"active-tab":k,data:u(s)},null,8,["active-tab","data"])):m("",!0)]),_:2},1032,["is-active"])]),_:1},8,["tabs"])])):m("",!0)]),_:1}))]),_:1})]),_:1}))}}),Ta=oa;export{Ta as default};
