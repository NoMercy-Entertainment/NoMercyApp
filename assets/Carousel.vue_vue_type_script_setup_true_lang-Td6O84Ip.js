import{aw as A,a_ as M,I as r,aC as V,aO as j,aW as E,aX as I,o,c as n,a as y,t as O,aB as c,r as k,aL as T,z as p,v as b,aM as x,h as u,e as w,a7 as z,m as D,aZ as G}from"./index-Dez-1wXm.js";import{r as W,b as B,s as R}from"./swiper-config-B0xamQfJ.js";const X={class:"mb-1 flex w-auto flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-2 self-stretch text-left"},Z={class:"flex w-available flex-1 flex-col gap-2"},F={class:"relative ml-2 flex flex-shrink-0 flex-grow-0 items-center self-stretch"},H={key:0,class:"text-2xl font-bold text-auto-12 mr-2 ml-4 sm:ml-3 text-slate-dark-1 dark:text-slate-light-1"},J={key:2,class:"flex flex-shrink-0 flex-grow-0 items-start justify-start gap-2 pr-4 ml-auto"},K=["onclick"],Q={class:"gap-3 py-1 pr-0 w-available swiper"},ee=A({__name:"Carousel",props:{title:{type:String,required:!1},type:{type:String,required:!1,default:"poster"},index:{type:Number,required:!1,default:0},limitCardCountBy:{type:Number,required:!1},moreLink:{type:String,required:!1},disableAutoAspect:{type:Boolean,required:!1,default:!1}},setup(d){const{t:C}=M(),i=d,v=r(!1),m=r(!0),l=r(!1),a=r(!1),f=r(),_=(e,s)=>{e.progress=Math.floor((s*100+1)/100),v.value=!e.isBeginning,m.value=e.progress<1,l.value=e.progress===1,a.value=!e.isLocked},$=e=>{e.progress=Math.floor((e.progress*100+1)/100),v.value=!e.isBeginning,m.value=e.progress<1,l.value=e.progress===1,a.value=!e.isLocked},S=e=>{setTimeout(()=>{var s;(s=e.el)==null||s.classList.remove("opacity-0")},150*i.index)};W();const L=()=>{var e,s,t;(t=(s=(e=f.value)==null?void 0:e.$el)==null?void 0:s.swiper)==null||t.slideTo(0,300),a.value=!0},P=()=>{var e,s,t;(t=(s=(e=f.value)==null?void 0:e.$el)==null?void 0:s.swiper)==null||t.slideNext(300)},q=()=>{var e,s,t;(t=(s=(e=f.value)==null?void 0:e.$el)==null?void 0:s.swiper)==null||t.slidePrev(300)},N=window.innerWidth<800?24:20,g=r(),h=V(()=>j&&!i.disableAutoAspect);return E(()=>{if(!i.limitCardCountBy){g.value=B(h.value);return}const e={};for(const[s,t]of I(B(h.value)))e[s]={...t,slidesPerView:t.slidesPerView-i.limitCardCountBy,slidesPerGroup:t.slidesPerGroup-i.limitCardCountBy};g.value=e}),(e,s)=>{var t;return o(),n("div",X,[y("div",Z,[y("div",F,[d.title?(o(),n("h3",H,O(c(C)(d.title??"Continue watching")),1)):k(e.$slots,"selector",{key:1}),k(e.$slots,"link"),c(T)?u("",!0):(o(),n("div",J,[a.value?(o(),n("button",{key:0,class:p(`hidden sm:flex justify-center items-center p-1 rounded-lg bg-auto-alpha-7 active:scale-95 hover:bg-auto-alpha-9 transition-transform duration-300 ${v.value?"":"cursor-not-allowed opacity-50"}`),onclick:q},[b(x,{class:"w-6",icon:"chevronLeft"})],2)):u("",!0),a.value?(o(),n("button",{key:1,class:p(`hidden sm:flex justify-center items-center p-1 rounded-lg bg-auto-alpha-7 active:scale-95 hover:bg-auto-alpha-9 transition-transform duration-300 ${a.value?"":"cursor-not-allowed opacity-50"}`),onclick:l.value?L:P},[a.value&&!l.value?(o(),w(x,{key:0,class:p(`w-6 ${!m.value&&l.value?"opacity-0":""}`),icon:"chevronRight"},null,8,["class"])):u("",!0),a.value&&l.value?(o(),w(x,{key:1,class:p(`w-6 ${l.value?"":"opacity-0"}`),icon:"chevronLeftDouble"},null,8,["class"])):u("",!0)],10,K)):u("",!0)]))]),y("div",Q,[b(c(G),D(c(R)(h.value),{ref_key:"swiper",ref:f,class:`swiper-${(t=d.title)==null?void 0:t.replace(/[\s&#]/gu,"-")} opacity-0`,slidesOffsetBefore:c(N),breakpoints:g.value,"data-spatial-container":"row",onProgress:_,onAfterInit:S,onSlideChange:$}),{default:z(()=>[k(e.$slots,"default")]),_:3},16,["class","slidesOffsetBefore","breakpoints"])])])])}}});export{ee as _};
//# sourceMappingURL=Carousel.vue_vue_type_script_setup_true_lang-Td6O84Ip.js.map
