import{t as d,w as r}from"./basecomponent-Ca5j6rsI.js";var n={name:"BaseEditableHolder",extends:d,emits:["update:modelValue","value-change"],props:{modelValue:{type:null,default:void 0},defaultValue:{type:null,default:void 0},name:{type:String,default:void 0},invalid:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},formControl:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0},$pcForm:{default:void 0},$pcFormField:{default:void 0}},data:function(){return{d_value:this.defaultValue!==void 0?this.defaultValue:this.modelValue}},watch:{modelValue:function(i){this.d_value=i},defaultValue:function(i){this.d_value=i},$formName:{immediate:!0,handler:function(i){var t,l;this.formField=((t=this.$pcForm)===null||t===void 0||(l=t.register)===null||l===void 0?void 0:l.call(t,i,this.$formControl))||{}}},$formControl:{immediate:!0,handler:function(i){var t,l;this.formField=((t=this.$pcForm)===null||t===void 0||(l=t.register)===null||l===void 0?void 0:l.call(t,this.$formName,i))||{}}},$formDefaultValue:{immediate:!0,handler:function(i){this.d_value!==i&&(this.d_value=i)}},$formValue:{immediate:!1,handler:function(i){var t;(t=this.$pcForm)!==null&&t!==void 0&&t.getFieldState(this.$formName)&&i!==this.d_value&&(this.d_value=i)}}},formField:{},methods:{writeValue:function(i,t){var l,e;this.controlled&&(this.d_value=i,this.$emit("update:modelValue",i)),this.$emit("value-change",i),(l=(e=this.formField).onChange)===null||l===void 0||l.call(e,{originalEvent:t,value:i})},findNonEmpty:function(){for(var i=arguments.length,t=new Array(i),l=0;l<i;l++)t[l]=arguments[l];return t.find(r)}},computed:{$filled:function(){return r(this.d_value)},$invalid:function(){var i,t;return!this.$formNovalidate&&this.findNonEmpty(this.invalid,(i=this.$pcFormField)===null||i===void 0||(i=i.$field)===null||i===void 0?void 0:i.invalid,(t=this.$pcForm)===null||t===void 0||(t=t.getFieldState(this.$formName))===null||t===void 0?void 0:t.invalid)},$formName:function(){var i;return this.$formNovalidate?void 0:this.name||((i=this.$formControl)===null||i===void 0?void 0:i.name)},$formControl:function(){var i;return this.formControl||((i=this.$pcFormField)===null||i===void 0?void 0:i.formControl)},$formNovalidate:function(){var i;return(i=this.$formControl)===null||i===void 0?void 0:i.novalidate},$formDefaultValue:function(){var i,t;return this.findNonEmpty(this.d_value,(i=this.$pcFormField)===null||i===void 0?void 0:i.initialValue,(t=this.$pcForm)===null||t===void 0||(t=t.initialValues)===null||t===void 0?void 0:t[this.$formName])},$formValue:function(){var i,t;return this.findNonEmpty((i=this.$pcFormField)===null||i===void 0||(i=i.$field)===null||i===void 0?void 0:i.value,(t=this.$pcForm)===null||t===void 0||(t=t.getFieldState(this.$formName))===null||t===void 0?void 0:t.value)},controlled:function(){return this.$inProps.hasOwnProperty("modelValue")||!this.$inProps.hasOwnProperty("modelValue")&&!this.$inProps.hasOwnProperty("defaultValue")},filled:function(){return this.$filled}}};export{n as t};
