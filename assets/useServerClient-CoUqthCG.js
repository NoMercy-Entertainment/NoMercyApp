import{a9 as F,d as O,aR as Q,R as j}from"./vue-ionic-DRNtAYzz.js";import{c as R,a}from"./index-DjUBSuR8.js";import{q as K}from"./useInfiniteServerClient-C09pilEJ.js";function v(e){return Object.keys((e==null?void 0:e.data)??{}).reduce((u,l)=>(u[l]=j(e==null?void 0:e.data[l].value)??(e==null?void 0:e.data[l]),u),{})}function D(e){var y;const u=F(),l=O((e==null?void 0:e.type)??"get");return{...Q({...e,queryKey:K(e),enabled:!!((y=R.value)!=null&&y.id)&&(e==null?void 0:e.enabled),retry:0,refetchOnMount:!0,refetchOnWindowFocus:!1,staleTime:e!=null&&e.keepForever?1/0:1e3*60*5,queryFn:({signal:h})=>new Promise((b,w)=>{setTimeout(()=>{var c,m,t,q,P,d;if(!((c=R.value)!=null&&c.serverApiUrl))return w();let f;return((e==null?void 0:e.path)??u.fullPath).includes("undefined")?Promise.reject():(l.value==="get"?f=a().get((e==null?void 0:e.path)??u.fullPath,{params:{letter:(m=u.query)==null?void 0:m.letter,...v(e)},signal:h}).then(r=>{var C;return((C=r.data)==null?void 0:C.data)??r.data}):l.value==="post"?f=a().post((e==null?void 0:e.path)??u.fullPath,{letter:((t=u.query)==null?void 0:t.letter)??void 0,...v(e)},{signal:h}).then(({data:r})=>(r==null?void 0:r.data)??r):l.value==="put"?f=a().put((e==null?void 0:e.path)??u.fullPath,{letter:((q=u.query)==null?void 0:q.letter)??void 0,...v(e)},{signal:h}).then(({data:r})=>(r==null?void 0:r.data)??r):l.value==="patch"?f=a().patch((e==null?void 0:e.path)??u.fullPath,{letter:((P=u.query)==null?void 0:P.letter)??void 0,...v(e)},{signal:h}).then(({data:r})=>(r==null?void 0:r.data)??r):l.value==="delete"&&(f=a().delete((e==null?void 0:e.path)??u.fullPath,{letter:((d=u.query)==null?void 0:d.letter)??void 0,...v(e)},{signal:h}).then(({data:r})=>(r==null?void 0:r.data)??r)),b(f))},(e==null?void 0:e.delay)??0)})})}}export{D as u};
