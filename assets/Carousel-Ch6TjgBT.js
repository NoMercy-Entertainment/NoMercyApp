import{a as N}from"./swiper-vue-Cn7NGdZD.js";import{r as j,b,s as V}from"./swiper-config-CtTFVzzL.js";import{I as E,l as o,C as x,a1 as M,W as D,w as G,c as r,o as a,a as d,r as h,b as i,t as w,K as C,X as T,n as f,j as _,d as $,s as W,m as z}from"./index-BzddMR-Z.js";import{_ as y}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-BC8tj0dR.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"mb-1 flex w-auto flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-2 self-stretch text-left relative"},R={class:"flex w-available flex-1 flex-col gap-2"},X={class:"relative ml-3 w-full flex flex-shrink-0 flex-grow-1 items-center self-stretch"},F={key:0,class:"mr-2 ml-3 sm:ml-3 my-2 text-slate-lightA-12/70 dark:text-slate-darkA-12/80 self-stretch flex-grow-0 flex-shrink-0 text-xl font-bold"},H={key:2,class:"flex flex-shrink-0 flex-grow-0 items-start justify-start gap-2 pr-4 ml-auto"},J=["aria-label"],Q=["aria-label","onclick"],U={class:"gap-3 py-1 pr-0 w-available swiper"},Y=E({__name:"Carousel",props:{title:{type:String,required:!1},type:{type:String,required:!1,default:"poster"},index:{type:Number,required:!1,default:0},limitCardCountBy:{type:Number,required:!1},moreLink:{type:String,required:!1},disableAutoAspect:{type:Boolean,required:!1,default:!1},nextId:{type:String,required:!1,default:"next-carousel"},prevId:{type:String,required:!1,default:"prev-carousel"}},setup(n){const l=n,p=o(!1),v=o(!0),t=o(!1),s=o(!1),u=o();function B(e,c){e.progress=Math.floor((c*100+1)/100),p.value=!e.isBeginning,v.value=e.progress<1,t.value=e.progress===1,s.value=!e.isLocked}function S(e){e.progress=Math.floor((e.progress*100+1)/100),p.value=!e.isBeginning,v.value=e.progress<1,t.value=e.progress===1,s.value=!e.isLocked}function q(e){setTimeout(()=>{e.el?.classList.remove("opacity-0")},150*l.index)}j();function P(){u.value?.$el?.swiper?.slideTo(0,300),s.value=!0}function A(){u.value?.$el?.swiper?.slideNext(300)}function I(){u.value?.$el?.swiper?.slidePrev(300)}const m=x(()=>M&&!l.disableAutoAspect),k=x(()=>{const e=b(m.value);if(l.limitCardCountBy)for(const[c,g]of D(b(m.value)))e[c]={...g,slidesPerView:g.slidesPerView-l.limitCardCountBy,slidesPerGroup:g.slidesPerGroup-l.limitCardCountBy};return{...V(m.value),breakpoints:e,slidesOffsetBefore:window.innerWidth<800?24:20}});G(k,e=>console.log(e));function L(){document.querySelector(`#${l.nextId}`)?.focus()}return(e,c)=>(a(),r("div",O,[d("div",R,[d("div",X,[n.title?(a(),r("h3",F,w(e.$t(n.title??"Continue watching")),1)):h(e.$slots,"selector",{key:1},void 0,!0),d("button",{class:"skip-navigation hidden sm:absolute opacity:0 sm:focus-within:opacity-100",onClick:L},w(e.$t("Skip to next carousel")),1),h(e.$slots,"link",{},void 0,!0),C(T)?i("",!0):(a(),r("div",H,[s.value?(a(),r("button",{key:0,"aria-label":e.$t("Previous slide"),tabindex:"-1",class:f(`hidden sm:flex justify-center items-center p-1 rounded-lg bg-auto-alpha-9 active:scale-95 hover:bg-auto-alpha-11 transition-transform duration-200 ${p.value?"":"cursor-not-allowed opacity-50"}`),onclick:I},[_(y,{class:"w-6",icon:"chevronLeft"})],10,J)):i("",!0),s.value?(a(),r("button",{key:1,"aria-label":t.value?e.$t("Start slide"):e.$t("Next slide"),tabindex:"-1",class:f(`hidden sm:flex justify-center items-center p-1 rounded-lg bg-auto-alpha-9 active:scale-95 hover:bg-auto-alpha-11 transition-transform duration-200 ${s.value?"":"cursor-not-allowed opacity-50"}`),onclick:t.value?P:A},[s.value&&!t.value?(a(),$(y,{key:0,class:f(`w-6 ${!v.value&&t.value?"opacity-0":""}`),icon:"chevronRight"},null,8,["class"])):i("",!0),s.value&&t.value?(a(),$(y,{key:1,class:f(`w-6 ${t.value?"":"opacity-0"}`),icon:"chevronLeftDouble"},null,8,["class"])):i("",!0)],10,Q)):i("",!0)]))]),d("div",U,[_(C(N),z(k.value,{ref_key:"swiper",ref:u,class:`swiper-${n.title?.replace(/[\s&#]/gu,"-")} opacity-0`,"data-spatial-container":"row",onProgress:B,onAfterInit:q,onSlideChange:S}),{default:W(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3},16,["class"])])])]))}}),le=K(Y,[["__scopeId","data-v-da93f5ad"]]);export{le as C};
