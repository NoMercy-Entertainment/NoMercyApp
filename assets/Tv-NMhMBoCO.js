import{I as w,l as y,D as g,eH as f,ei as k,f3 as b,ag as C,bM as S,f4 as j,a6 as L,w as B,d,o as i,s as n,j as o,K as a,bu as T,a as s,x as $,ae as m,t as c,aP as p,aN as N,aO as O,aM as q,c as I,F as M,h as V,e7 as D,bh as E,O as z,f5 as F,f6 as H,f7 as P,aq as x,a2 as u}from"./index-DkQngsHe.js";import{u as Q}from"./useQueryClient-Cy1MABnp.js";import{_ as U}from"./ServerCard.vue_vue_type_script_setup_true_lang-BEjCI2ED.js";import{_ as K}from"./NoMercyAvatar.vue_vue_type_script_setup_true_lang-BEeGK4lQ.js";import{_ as v}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-BBYVQkaB.js";import{r as R}from"./ripperSocket-BmFnZdbx.js";import"./DeviceIcon.vue_vue_type_script_setup_true_lang-CvGJR7fD.js";import"./index-Czi9s18M.js";import"./md5-DjzWtdxH.js";import"./HubConnection-CMQnVIkW.js";const W={class:"flex h-full w-full flex-auto flex-col items-center justify-center gap-8 p-8"},A={class:"flex w-full flex-grow flex-col justify-between p-2 min-h-auto"},G={class:"flex justify-between items-center self-stretch flex-grow-0 flex-shrink-0 w-full relative gap-2.5 mb-2"},J={class:"flex justify-start items-center relative gap-2.5",inert:""},X={class:"size-12 my-auto"},Y={class:"w-48 text-base font-semibold text-left text-slate-dark-1 dark:text-slate-light-1"},Z={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},ee={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},de=w({__name:"Tv",setup(te){const h=Q(),l=y();async function _(e){f(e),await z().get("libraries").then(({data:t})=>{F(t.data),H.value=!0,P.value=!0,setTimeout(async()=>{x.value==="/setup/select-servers"?await u.replace({name:"Home"}):await u.replace(x.value)},50)}).catch(async()=>{await u.replace({name:"Server offline"})})}return g(()=>{var e,t,r;f(null),k(),h.removeQueries(),(e=b.value)==null||e.stop(),(t=C.value)==null||t.stop(),(r=R.value)==null||r.stop()}),S(()=>{j()}),L(()=>{setTimeout(()=>{var e,t;(t=(e=l.value)==null?void 0:e.querySelector("button"))==null||t.focus()},100)}),B(l,e=>{setTimeout(()=>{var t;(t=e==null?void 0:e.querySelector("button"))==null||t.focus()},100)}),(e,t)=>(i(),d(a(E),null,{default:n(()=>[o(a(T),{fullscreen:!0},{default:n(()=>[s("div",W,[s("div",A,[s("div",G,[s("div",J,[s("div",X,[o(K,{user:a(m),size:40},null,8,["user"])]),s("p",Y,c(a(m).name),1)]),$(s("button",{tabindex:"0",class:"flex justify-center items-center ml-auto relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",onClick:t[0]||(t[0]=r=>p.value=!a(p))},[o(v,{icon:"doorOut",class:"text-slate-dark-1 dark:text-slate-light-1"}),s("span",Z,c(e.$t("Exit TV mode")),1)],512),[[N,!a(O)]]),o(a(q),{to:"/logout",class:"flex justify-center items-center relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]"},{default:n(()=>[o(v,{icon:"doorOut",class:"text-slate-dark-1 dark:text-slate-light-1"}),s("span",ee,c(e.$t("Logout")),1)]),_:1})]),s("div",{ref_key:"serverList",ref:l,class:"tv:children:w-[30%] tv:mt-0 -mt-24 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4"},[(i(!0),I(M,null,V(a(D),r=>(i(),d(U,{key:r.id,server:r,onclick:()=>_(r)},null,8,["server","onclick"]))),128))],512)])])]),_:1})]),_:1}))}});export{de as default};
