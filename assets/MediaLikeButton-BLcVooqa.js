import{C as d,Et as c,J as f,Ot as m,c as b,ct as k,gt as s,j as y,k as p,ot as B,x as _}from"./i18n-Bgv5p1Yb.js";import{Ki as M,b as g,v as h}from"./index-CyPt8zMH.js";import{t as x}from"./MusicButton-DmmUQn7D.js";import{t as C}from"./BannerButton-CtKBYIn5.js";b();var N=y({__name:"MediaLikeButton",props:{data:{type:Object,required:!0},color:{type:String,required:!1,default:"var(--color-green-500)"},className:{type:String,required:!1},noBackground:{type:Boolean,required:!1,default:!1},type:{type:String,required:!1,default:"music"}},setup(t){const u=t,e=s(u.data?.favorite),o=s(!1),l=s(!1),i=_(()=>e.value&&l.value?"heartBroken":"heart");function v(r){r?.stopPropagation(),!o.value&&(o.value=!0,e.value=!e.value,M().post(`${u.data?.link}/like`,{value:e.value}).then(({data:a})=>{e.value=a.args?.[0]==="liked"||a.args?.[1]==="liked"}).catch(()=>{e.value=!e.value}).finally(()=>{o.value=!1}))}return B(()=>u.data?.favorite,r=>{e.value=r}),(r,a)=>t.type==="music"?(f(),d(x,{key:0,disabled:o.value,"no-background":t.noBackground,onclick:v,label:"Favorite",onMouseenter:a[0]||(a[0]=n=>l.value=!0),onMouseleave:a[1]||(a[1]=n=>l.value=!1)},{default:k(()=>[p(g,{class:c([{"heart text-focus ![color:var(--fill-color)]":e.value&&!l.value,"text-focus ![color:var(--fill-color)]":e.value&&l.value," ":!e.value,className:t.className},"absolute inset-2 transition-all duration-150"]),style:m(e.value?"--fill-color: rgb(from var(--color-theme-8, var(--color-red-8)) r g b)":"--fill-color: transparent;"),icon:i.value},null,8,["class","style","icon"])]),_:1},8,["disabled","no-background"])):(f(),d(C,{key:1,disabled:o.value,"no-background":t.noBackground,title:e.value?"Remove from liked":"Add to liked",label:"Favorite",onClick:v,onMouseenter:a[2]||(a[2]=n=>l.value=!0),onMouseleave:a[3]||(a[3]=n=>l.value=!1)},{default:k(()=>[p(g,{class:c([{"heart ![color:var(--fill-color)]":e.value&&!l.value,"![color:var(--fill-color)]":e.value&&l.value," ":!e.value,className:t.className},"absolute top-1.5 left-1.5 transition-all duration-150 w-7"]),style:m(e.value?"--fill-color: rgb(from var(--color-theme-8, var(--color-red-8)) r g b)":"--fill-color: transparent;"),icon:i.value},null,8,["class","style","icon"])]),_:1},8,["disabled","no-background","title"]))}}),w=h(N,[["__scopeId","data-v-ffc0b72b"]]);export{w as t};
