import{$ as R,B as V,Cn as $,D as F,Dn as y,Ht as z,In as k,Qn as C,Rn as c,Sn as b,Tn as o,Wn as p,Y as L,Yt as d,Zn as t,cn as Y,en as q,in as s,nn as n,rn as w,tn as G,un as H,x as K}from"./index-04Sh3wNb.js";import"./dist-CVoPesok.js";import"./esm-BuFVrMo0.js";import"./esm-9iWgK55i.js";import"./esm-cDzTb79E.js";import"./esm-BfF1RlcU.js";import"./dist-B3n7-doU.js";import"./focus-visible-CHAJCf_J.js";import"./index5-B30D6T27.js";import"./client-rtF7IPPI.js";import"./ionic-global--aoJHCDL.js";import"./hardware-back-button-h528z6zo.js";import"./index3-CSo3jo06.js";import"./helpers-CXS86XKs.js";import"./index6-CZ6rqL_0.js";import"./index8-BpkFXja0.js";import"./keyboard-cU79cwdW.js";import"./index2-op38TIl9.js";import"./ios.transition-C8T7q-Bo.js";import"./keyboard2-DETZ41vp.js";import"./md.transition-BqH5iNQr.js";import"./dir-BUtgAzbR.js";import{a as E,o as Q}from"./ui-BT6EUdI0.js";import{d as U}from"./client-DMa-uSBE.js";import{v as W}from"./currentServer-B7-kbkE-.js";import"./config-BOA2pGQM.js";import"./esm-CcKFjObu.js";import{p as g}from"./global-gyhCjh_P.js";import"./esm-BuRgllmc.js";import"./user-C1ciKa7-.js";import"./serverClient-FHPKIHPu.js";import{t as M}from"./router-C_xBvmya.js";import"./utils-D5DD-7jP.js";import"./useBaseQuery-CNJp2kAB.js";import{n as Z}from"./useInfiniteServerClient-By5CuBlL.js";import{g as f}from"./SocketClient-DPmgFkP-.js";import"./useQueryClient-s6ZLwuD6.js";import"./apiClient-Cw7f36ko.js";import"./notifications-Bi_dU6lP.js";import"./utils-CdenF_Jv.js";import"./bundle-mjs-Xm_uQvzT.js";import"./deviceInfo-Bcw3-ht5.js";import"./helpers-fSCF1qXj.js";import"./auth-DfyD43WY.js";import"./musicPlaylists-CCn4HshY.js";import"./contextMenuItems-kfaglZX4.js";import"./_plugin-vue_export-helper-B_iOTHZb.js";import"./AppLogoSquare-DJq6h5gt.js";import"./TMDBImage-Dcp6aBnk.js";import"./MoooomIcon-DNWQYuYD.js";import"./dist-iWIfSzlj.js";import{t as j}from"./ScrollContainer-3_hZWeKa.js";import"./CardIndicator-B772HJka.js";import{t as A}from"./NMCard-KUR8tI59.js";import{t as J}from"./NotFound-C4uzBqO2.js";import{t as O}from"./PersonCard-COl_OvGL.js";import{n as X,t as ee}from"./EmptyCard-D7YHFz4l.js";import"./NoResultImage-DlrmSoaZ.js";z();L();var te="grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 2xl:grid-cols-4 3xl:grid-cols-5 4xl:grid-cols-5 5xl:grid-cols-9 tv:grid-cols-6",re="grid-cols-2 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-7 3xl:grid-cols-9 4xl:grid-cols-10 5xl:grid-cols-[repeat(14,minmax(0,1fr))] tv:grid-cols-6",oe=H({__name:"Desktop",setup(ae){const l=R(),{data:a,fetchNextPage:_,hasNextPage:v,isError:B}=Z({queryKey:["libraries",l?.params.id??l.name],limit:20,keepForever:!0});b(()=>{W(),E(null),Q(null),document.dispatchEvent(new Event("sidebar")),setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},1e3)}),k(a,r=>{r&&setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},1e3)});const N=q(()=>{const r=a.value?.pages?.[0]?.data?.[0];return r&&U.value&&r.media_type!=="person"&&r.media_type!=="genres"});$(()=>{stop(),E(null)});const D=p(),S=p();b(()=>{S.value=l.params.id??l.name,v.value&&(a?.value?.pages?.length??0)<10&&_(),document.addEventListener("scrollToDiv",r=>{D.value?.scrollTo({top:r.detail.top-100,behavior:"smooth"})})}),V(()=>{document.dispatchEvent(new Event("indexer"))}),k(a,r=>{r&&v.value&&r?.pages?.length<10&&_()});const I=p(),P=p();function m(r,x){I.value=x,P.value.show(r)}return(r,x)=>(o(),n(t(F),null,{default:c(()=>[Y(t(K),{fullscreen:!0},{default:c(()=>[t(B)&&!t(a)?.pages?(o(),n(J,{key:0})):(o(),n(j,{key:1,id:t(M).currentRoute.value.fullPath,"auto-hide":!0,static:!0},{default:c(()=>[(o(),s("div",{key:t(M).currentRoute.value.params?.id,class:C([{"pb-24":t(g)&&!t(f),"pb-40":t(g)&&t(f),"children:pb-4 sm:children:pb-3":!t(g)&&t(f)},"z-0 flex flex-col gap-4 rounded-3xl border-0 p-4 w-available scrollbar-none border-surface-3 transform-gpu will-change-auto"])},[G("div",{class:C(`grid w-full gap-4 scroll-smooth music-showing:pb-0 whitespace-pre ${N.value?te:re}`)},[(o(!0),s(d,null,y(t(a)?.pages??[],(h,T)=>(o(),s(d,{key:T},[h.data.length>0?(o(!0),s(d,{key:0},y(h.data??[],(e,u)=>(o(),s(d,null,[e?.media_type==="tv"||e?.media_type==="movie"||e?.media_type==="collection"||e?.media_type==="specials"?(o(),n(A,{key:e.id,data:e,index:u,onContextMenu:i=>m(i,e)},null,8,["data","index","onContextMenu"])):e?.media_type==="person"?(o(),n(O,{key:`${e.id}_person`,data:e,index:u,onContextMenu:i=>m(i,e)},null,8,["data","index","onContextMenu"])):e?.media_type==="genres"?(o(),n(X,{key:`${e.id}_genres`,data:e,index:u,onContextMenu:i=>m(i,e)},null,8,["data","index","onContextMenu"])):w("",!0)],64))),256)):t(a)?.pages?.[0]?.data?.length===0?(o(),n(ee,{key:1})):w("",!0)],64))),128))],2)],2))]),_:1},8,["id"]))]),_:1})]),_:1}))}}),pt=oe;export{pt as default};
