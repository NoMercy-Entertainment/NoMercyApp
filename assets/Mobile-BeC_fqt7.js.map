{"version":3,"file":"Mobile-BeC_fqt7.js","sources":["../../src/views/Base/Search/Mobile.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { onMounted, ref, watch } from 'vue';\nimport { IonPage, IonContent, onIonViewWillEnter, IonInput, useKeyboard } from '@ionic/vue';\n\nimport { parseYear } from '@/lib/dateTime';\nimport { setColorPalette } from '@/store/ui';\nimport { videoSearchResult, videoSearchValue, hasMoreResults, fetchNextPage } from '@/store/search';\n\nimport MoooomIcon from '@/components/Images/icons/MoooomIcon.vue';\nimport AppLogoSquare from '@/components/Images/icons/AppLogoSquare.vue';\nimport CosmosBg2 from '@/components/Images/CosmosBg2.vue';\nimport { greetingValue } from '@/config/global';\nimport { showScreensaver } from \"@/store/imageModal\";\n\nconst { isOpen, keyboardHeight } = useKeyboard();\n\nconst search = ref();\n\nonIonViewWillEnter(() => {\n  setColorPalette(null);\n});\n\nonMounted(() => {\n  setTimeout(() => {\n    search.value.$el.setFocus();\n  }, 100);\n});\n\nwatch(showScreensaver, (value) => {\n  if (value) {\n    document.body.focus();\n  }\n});\n\n</script>\n\n<template>\n  <ion-page>\n    <ion-content :fullscreen=\"true\">\n      <div :class=\"{\n        'relative flex flex-grow flex-col items-center justify-start gap-12 self-stretch overflow-hidden px-4 pt-8 h-full will-change-auto': true,\n        'mb-24': isOpen && videoSearchResult.length == 0,\n      }\">\n        <CosmosBg2 v-if=\"greetingValue && videoSearchResult.length == 0\" />\n        <div v-if=\"greetingValue && videoSearchResult.length == 0\"\n          class=\"relative z-10 mt-16 flex flex-shrink-0 flex-grow-0 flex-col items-center justify-end gap-3\">\n          <p\n            class=\"flex-grow-0 flex-shrink-0 text-5xl font-black text-left  text-slate-light-11 dark:text-slate-dark-11\">\n            {{ $t(`Good ${greetingValue}`) }}\n          </p>\n          <p class=\"flex-grow-0 flex-shrink-0 w-[333px] text-2xl text-center text-[#eff7ff]/[0.62]\">\n            {{ $t('What would you like to see?') }}\n          </p>\n        </div>\n\n        <div class=\"absolute top-0 flex w-full flex-col gap-4 px-2 pt-2 h-full overflow-clip\" :style=\"{\n          height: isOpen && videoSearchResult.length == 0\n            ? `calc(100vh - ${keyboardHeight + 100}px)`\n            : isOpen && videoSearchResult.length > 0\n              ? `calc(100vh - ${keyboardHeight + 70}px)`\n              : '87%',\n        }\" :class=\"videoSearchResult.length > 0 ? '' : ''\">\n          <div class=\"flex flex-wrap gap-2 sm:gap-4 overflow-auto\">\n            <template v-for=\"item in videoSearchResult ?? []\" :key=\"item.id\">\n\n              <RouterLink :to=\"`/${item.media_type}/${item.id}`\"\n                class=\"relative flex w-full gap-4 overflow-hidden rounded-lg bg-zinc-900 p-2 sm:w-[32.67%]\">\n                <img v-if=\"item?.backdrop_path\" :src=\"'https://image.tmdb.org/t/p/original' + item?.backdrop_path\"\n                  :alt=\"item?.title\" class=\"absolute inset-0 h-full w-full object-cover\" />\n\n                <div\n                  class=\"absolute inset-0 z-10 h-full w-full bg-gradient-to-r from-black via-black/75 to-black/40 from-25%\">\n                </div>\n\n                <div class=\"relative z-20 h-auto w-1/4 overflow-clip rounded-sm aspect-poster bg-auto-1 sm:w-1/4\">\n                  <img v-if=\"item?.poster_path || item?.profile_path\"\n                    :src=\"'https://image.tmdb.org/t/p/original' + (item?.poster_path ?? item?.profile_path)\"\n                    :alt=\"item?.title\" class=\"absolute inset-0 h-auto w-full object-cover\" />\n                  <AppLogoSquare v-else class=\"absolute inset-0 top-2 z-20 m-auto h-16 w-16\" />\n                </div>\n\n                <div class=\"relative z-20 flex h-full w-px flex-1 flex-col items-start justify-start gap-1\">\n                  <p class=\"flex-shrink-0 flex-grow-0 self-stretch text-left text-xl font-semibold line-clamp-1\">\n                    {{ item?.name || item?.title }}\n                  </p>\n                  <div class=\"relative flex flex-shrink-0 flex-grow-0 items-center justify-start gap-2 self-stretch\">\n                    <p class=\"flex flex-shrink-0 flex-grow-0 items-center gap-2 text-right text-base\">\n                      <MoooomIcon v-if=\"item?.media_type === 'tv'\" icon=\"monitor\" className=\"h-5 w-5 sm:h-4 sm:w-4\" />\n                      <MoooomIcon v-else-if=\"item?.media_type === 'movie'\" icon=\"film\"\n                        className=\"h-5 w-5 sm:h-4 sm:w-4\" />\n                      <MoooomIcon v-else-if=\"item?.media_type === 'person'\" icon=\"user\"\n                        className=\"h-5 w-5 sm:h-4 sm:w-4\" />\n                      <span v-if=\"item?.release_date || item?.first_air_date\" class=\"sm:text-2xs\">\n                        ({{ parseYear(item?.release_date ?? item?.first_air_date) }})\n                      </span>\n                    </p>\n                  </div>\n                  <p class=\"text-sm line-clamp-[4] sm:text-2xs sm:line-clamp-4\">\n                    {{ item?.overview }}\n                  </p>\n                </div>\n              </RouterLink>\n\n            </template>\n            <div class=\"z-50 mt-4 flex justify-center\" ref=\"loadMore\" v-if=\"hasMoreResults\">\n              <button @click=\"fetchNextPage()\" class=\"h-12 rounded bg-blue-500 px-4 py-2 text-white\">\n                {{ $t('Load more') }}\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div\n          class=\"absolute flex flex-shrink-0 flex-grow-0 items-center justify-start overflow-hidden rounded-2xl border-2 mb-4 mx-4 bg-black transition-all duration-0 gap-5r border-auto-10 w-available\"\n          :style=\"{\n            bottom: isOpen && videoSearchResult.length == 0\n              ? `${keyboardHeight - 50}px`\n              : isOpen && videoSearchResult.length > 0\n                ? `${keyboardHeight - 50}px`\n                : !isOpen && videoSearchResult.length > 0\n                  ? '0vh'\n                  : '50vh',\n          }\" :class=\"{\n              'mx-6': !isOpen,\n              'mb-6': isOpen,\n            }\">\n          <label class=\"flex w-available\">\n            <ion-input enterkeyhint=\"search\" id=\"search\" placeholder=\"Search for a Movie, TV Show or Actor...\"\n              class=\"w-full flex-shrink-0 border-transparent bg-transparent text-2xl shadow-transparent flex-grow-1 focus:border-transparent focus:shadow-transparent focus:outline-none active:border-transparent [box-shadow:none] focus:[box-shadow:none] !px-6 transition-all duration-150\"\n              :class=\"{\n                '!py-2': !isOpen,\n              }\" v-model=\"videoSearchValue\" name=\"search\" type=\"search\" ref=\"search\" autocomplete=\"off\" />\n          </label>\n        </div>\n      </div>\n    </ion-content>\n  </ion-page>\n</template>\n"],"names":["isOpen","keyboardHeight","useKeyboard","search","ref","onIonViewWillEnter","setColorPalette","onMounted","watch","showScreensaver","value"],"mappings":"g9CAcA,KAAM,CAAE,OAAAA,EAAQ,eAAAC,CAAe,EAAIC,EAAY,EAEzCC,EAASC,EAAI,EAEnB,OAAAC,EAAmB,IAAM,CACvBC,EAAgB,IAAI,CAAA,CACrB,EAEDC,EAAU,IAAM,CACd,WAAW,IAAM,CACRJ,EAAA,MAAM,IAAI,SAAS,GACzB,GAAG,CAAA,CACP,EAEKK,EAAAC,EAAkBC,GAAU,CAC5BA,GACF,SAAS,KAAK,MAAM,CACtB,CACD"}