import{Gn as C}from"./index-Dv83kAv_.js";import{n as S,t as f}from"./index5-Cn-unn0n.js";import{f as I,m as x}from"./helpers-D9i4TsoA.js";var k,D,p,R,d,w,v,y=C(()=>{S(),I(),k=i=>{if(f===void 0)return;let n=0,e,r,a;const _=i.getBoolean("animated",!0)&&i.getBoolean("rippleEffect",!0),l=new WeakMap,u=()=>{a&&clearTimeout(a),a=void 0,e&&(T(!1),e=void 0)},b=t=>{e||t.button===2||m(D(t),t)},g=t=>{m(void 0,t)},m=(t,o)=>{if(t&&t===e)return;a&&clearTimeout(a),a=void 0;const{x:c,y:s}=x(o);if(e){if(l.has(e))throw new Error("internal error");e.classList.contains(d)||E(e,c,s),T(!0)}if(t){const L=l.get(t);L&&(clearTimeout(L),l.delete(t)),t.classList.remove(d);const h=()=>{E(t,c,s),a=void 0};p(t)?h():a=setTimeout(h,w)}e=t},E=(t,o,c)=>{if(n=Date.now(),t.classList.add(d),!_)return;const s=R(t);s!==null&&(A(),r=s.addRipple(o,c))},A=()=>{r!==void 0&&(r.then(t=>t()),r=void 0)},T=t=>{A();const o=e;if(!o)return;const c=v-Date.now()+n;if(t&&c>0&&!p(o)){const s=setTimeout(()=>{o.classList.remove(d),l.delete(o)},v);l.set(o,s)}else o.classList.remove(d)};f.addEventListener("ionGestureCaptured",u),f.addEventListener("pointerdown",b,!0),f.addEventListener("pointerup",g,!0),f.addEventListener("pointercancel",u,!0)},D=i=>{if(i.composedPath!==void 0){const n=i.composedPath();for(let e=0;e<n.length-2;e++){const r=n[e];if(!(r instanceof ShadowRoot)&&r.classList.contains("ion-activatable"))return r}}else return i.target.closest(".ion-activatable")},p=i=>i.classList.contains("ion-activatable-instant"),R=i=>{if(i.shadowRoot){const n=i.shadowRoot.querySelector("ion-ripple-effect");if(n)return n}return i.querySelector("ion-ripple-effect")},d="ion-activated",w=100,v=150});y();export{k as startTapClick};
