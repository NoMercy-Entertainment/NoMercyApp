import"./useBaseQuery-xRjGNhws.js";import{n as V}from"./useInfiniteServerClient-Cn9ZDZa0.js";import"./useQueryClient-tT054wYn.js";import{Bs as i,Co as R,Ec as y,Gs as F,Ha as m,Hc as k,Js as l,Ks as s,Lo as L,Ns as $,Oc as g,Pc as u,Pi as q,Qs as z,Uo as G,Vc as t,Wo as H,Ws as K,X as _,_c as C,cr as U,ec as W,fc as b,hc as r,ho as J,i as w,ii as O,pc as Q,qs as E,sr as M}from"./index-CZ45xf6w.js";import"./musicPlaylists-D8wZnmUd.js";import"./contextMenuItems-Ddfq27dv.js";import"./_plugin-vue_export-helper-CEc1WwrB.js";import"./AppLogoSquare-DxvwOFWR.js";import"./TMDBImage-CVw0JaOE.js";import"./MoooomIcon-DCUz2XXR.js";import"./dist-Dq4NQZjp.js";import{t as X}from"./ScrollContainer-BO2slFOI.js";import"./CardIndicator-DvY-hlIP.js";import{t as j}from"./NMCard-Cif-S4nH.js";import{t as A}from"./NotFound-BAIffge5.js";import{t as Y}from"./PersonCard-CFL1DiNl.js";import{n as Z,t as ee}from"./EmptyCard-DMY0A6Hn.js";import"./NoResultImage-XaPLy041.js";$();G();var te="grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 2xl:grid-cols-4 3xl:grid-cols-5 4xl:grid-cols-5 5xl:grid-cols-9 tv:grid-cols-6",ae="grid-cols-2 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-7 3xl:grid-cols-9 4xl:grid-cols-10 5xl:grid-cols-[repeat(14,minmax(0,1fr))] tv:grid-cols-6",re=W({__name:"Desktop",setup(oe){const d=H(),{data:o,fetchNextPage:f,hasNextPage:v,isError:N}=V({queryKey:["libraries",d?.params.id??d.name],limit:20,keepForever:!0});b(()=>{O(),M(null),U(null),document.dispatchEvent(new Event("sidebar")),setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},1e3)}),y(o,a=>{a&&setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},1e3)});const B=K(()=>{const a=o.value?.pages?.[0]?.data?.[0];return a&&q.value&&a.media_type!=="person"&&a.media_type!=="genres"});Q(()=>{stop(),M(null)});const P=u(),S=u();b(()=>{S.value=d.params.id??d.name,v.value&&(o?.value?.pages?.length??0)<10&&f(),document.addEventListener("scrollToDiv",a=>{P.value?.scrollTo({top:a.detail.top-100,behavior:"smooth"})})}),L(()=>{document.dispatchEvent(new Event("indexer"))}),y(o,a=>{a&&v.value&&a?.pages?.length<10&&f()});const D=u(),I=u();function c(a,x){D.value=x,I.value.show(a)}return(a,x)=>(r(),s(t(R),null,{default:g(()=>[z(t(J),{fullscreen:!0},{default:g(()=>[t(N)&&!t(o)?.pages?(r(),s(A,{key:0})):(r(),s(X,{key:1,id:t(w).currentRoute.value.fullPath,"auto-hide":!0,static:!0},{default:g(()=>[(r(),l("div",{key:t(w).currentRoute.value.params?.id,class:k([{"pb-24":t(m)&&!t(_),"pb-40":t(m)&&t(_),"children:pb-4 sm:children:pb-3":!t(m)&&t(_)},"z-0 flex flex-col gap-4 rounded-3xl border-0 p-4 w-available scrollbar-none border-surface-3 transform-gpu will-change-auto"])},[F("div",{class:k(`grid w-full gap-4 scroll-smooth music-showing:pb-0 whitespace-pre ${B.value?te:ae}`)},[(r(!0),l(i,null,C(t(o)?.pages??[],(h,T)=>(r(),l(i,{key:T},[h.data.length>0?(r(!0),l(i,{key:0},C(h.data??[],(e,p)=>(r(),l(i,null,[e?.media_type==="tv"||e?.media_type==="movie"||e?.media_type==="collection"||e?.media_type==="specials"?(r(),s(j,{key:e.id,data:e,index:p,onContextMenu:n=>c(n,e)},null,8,["data","index","onContextMenu"])):e?.media_type==="person"?(r(),s(Y,{key:`${e.id}_person`,data:e,index:p,onContextMenu:n=>c(n,e)},null,8,["data","index","onContextMenu"])):e?.media_type==="genres"?(r(),s(Z,{key:`${e.id}_genres`,data:e,index:p,onContextMenu:n=>c(n,e)},null,8,["data","index","onContextMenu"])):E("",!0)],64))),256)):t(o)?.pages?.[0]?.data?.length===0?(r(),s(ee,{key:1})):E("",!0)],64))),128))],2)],2))]),_:1},8,["id"]))]),_:1})]),_:1}))}}),be=re;export{be as default};
