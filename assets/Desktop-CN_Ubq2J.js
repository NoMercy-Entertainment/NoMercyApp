import{aG as q,cg as D,e4 as G,ax as Q,aW as U,az as W,c9 as B,aP as P,aM as $,L as A,ch as J,K as N,j as o,o as s,a7 as f,x as O,aI as a,bQ as X,bH as Y,bn as R,c as p,C as S,cu as h,bh as v,a as Z,F as g,w as I,h as z,bP as ee}from"./index-Dt4h7nLc.js";import{_ as ae}from"./MediaCard.vue_vue_type_script_setup_true_lang-ByaxArCM.js";import{_ as se}from"./PersonCard.vue_vue_type_script_setup_true_lang-C_WRYwnW.js";import{_ as ne,a as re}from"./EmptyCard.vue_vue_type_script_setup_true_lang-DcVGOvVg.js";import{_ as oe}from"./NotFound.vue_vue_type_script_setup_true_lang-5t-o4LbT.js";import"./CardIndicator.vue_vue_type_script_setup_true_lang-BjWAQavu.js";import"./NoResultImage.vue_vue_type_script_setup_true_lang-DFo5qAQY.js";const te="grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 2xl:grid-cols-4 3xl:grid-cols-5 4xl:grid-cols-5 5xl:grid-cols-9 tv:grid-cols-6",le="grid-cols-2 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-7 3xl:grid-cols-9 4xl:grid-cols-10 5xl:grid-cols-[repeat(14,minmax(0,1fr))] tv:grid-cols-6",fe=q({__name:"Desktop",setup(de){var k,b,C;const y=D(),{data:t,fetchNextPage:F,hasNextPage:T,isError:V}=G({queryKey:["libraries",((b=(k=y.currentRoute)==null?void 0:k.value)==null?void 0:b.params.id)??((C=y.currentRoute)==null?void 0:C.value.name)],limit:20,keepForever:!0}),H=Q(()=>{var n,r,l,d,c,u;return U.value&&((l=(r=(n=t.value)==null?void 0:n.pages)==null?void 0:r[0])==null?void 0:l.data[0].media_type)!=="person"&&((u=(c=(d=t.value)==null?void 0:d.pages)==null?void 0:c[0])==null?void 0:u.data[0].media_type)!=="genres"});W(()=>{B(),P(null),$(null),document.dispatchEvent(new Event("sidebar")),setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},500)}),A(t,n=>{var r;n&&(T.value&&((r=n==null?void 0:n.pages)==null?void 0:r.length)<50&&F(),setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},500))}),J(()=>{B(),P(null),$(null)});const K=N(),L=N(),_=(n,r)=>{K.value=r,L.value.show(n)};return(n,r)=>(s(),o(a(ee),null,{default:f(()=>[O(a(X),{fullscreen:!0},{default:f(()=>{var l;return[a(V)&&!((l=a(t))!=null&&l.pages)?(s(),o(oe,{key:0})):(s(),o(Y,{key:1,autoHide:!0,static:!0,id:a(R).currentRoute.value.fullPath},{default:f(()=>{var d,c;return[(s(),p("div",{class:S(["z-0 flex flex-col gap-4 rounded-3xl border-0 p-4 w-available scrollbar-none border-auto-3",{"pb-24":a(h)&&!a(v),"pb-40":a(h)&&a(v),"children:pb-4 sm:children:pb-3":!a(h)&&a(v)}]),key:(d=a(R).currentRoute.value.params)==null?void 0:d.id},[Z("div",{class:S(`grid w-full gap-4 scroll-smooth music-showing:pb-0 whitespace-pre ${H.value?te:le}`)},[(s(!0),p(g,null,I(((c=a(t))==null?void 0:c.pages)??[],(u,j)=>{var m,w,M,E;return s(),p(g,{key:j},[u.data.length>0?(s(!0),p(g,{key:0},I(u.data??[],(e,x)=>(s(),p(g,null,[(e==null?void 0:e.media_type)==="tv"||(e==null?void 0:e.media_type)=="movie"||(e==null?void 0:e.media_type)=="collection"||(e==null?void 0:e.media_type)=="specials"?(s(),o(ae,{key:e.id,data:e,onContextMenu:i=>_(i,e),index:x},null,8,["data","onContextMenu","index"])):(e==null?void 0:e.media_type)==="person"?(s(),o(se,{key:e.id+"_person",data:e,onContextMenu:i=>_(i,e),index:x},null,8,["data","onContextMenu","index"])):(e==null?void 0:e.media_type)==="genres"?(s(),o(ne,{key:e.id+"_genres",data:e,onContextMenu:i=>_(i,e),index:x},null,8,["data","onContextMenu","index"])):z("",!0)],64))),256)):((E=(M=(w=(m=a(t))==null?void 0:m.pages)==null?void 0:w[0])==null?void 0:M.data)==null?void 0:E.length)==0?(s(),o(re,{key:1})):z("",!0)],64)}),128))],2)],2))]}),_:1},8,["id"]))]}),_:1})]),_:1}))}});export{fe as default};
//# sourceMappingURL=Desktop-CN_Ubq2J.js.map
