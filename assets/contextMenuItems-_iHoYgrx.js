import{aU as G,r as p,aV as S,aW as $,h as B,aX as D,t as v}from"./index-CBwAPrYN.js";import{bb as n}from"./vendor-DtQjLf9G.js";import{m as E}from"./musicPlaylists-DKr-uBH_.js";import{d as c,C as I}from"./vue-ionic-C6Zkx8AR.js";const H=(t,a)=>v().get(t);function L(t,a){return v().put(t,{data:a})}function O(t,a){return v().post(t,{data:a})}function V(t,a){return v().delete(t,{data:a})}function W(t,a){return v().patch(t,{data:a})}function Y(t){return t.map(a=>{let l;return a.method==="GET"?l=H:a.method==="PUT"?l=L:a.method==="POST"?l=O:a.method==="PATCH"?l=W:a.method==="DELETE"?l=V:l=a.command,{label:a.label,icon:a.icon,confirm:a.confirm,command:()=>{var r;return l((r=a.args)==null?void 0:r.url,X.value)}}})}const Z=c({}),U=c(),oo=I(()=>U.value);function eo(t){U.value=t}const N=c(null),X=I(()=>N.value);function ao(t){N.value=t}const j=c([]),z=c(),e=c();function to(t,a){var f,k,b,h,C,_,y,g,x,R,T,M,q,w,A,P;e.value=a;const l=[],r={label:n("Add to playlist"),icon:"mooooom-add",items:[{label:n("New Playlist"),icon:"mooooom-add",command:()=>{var o;alert((o=e.value)==null?void 0:o.id)}}]};E.value.length===0&&r.items.push({label:n("No playlist available"),icon:"mooooom-pause"});for(const o of E.value)r.items.push({label:o.name,icon:"mooooom-disk",command:()=>{var u;alert((u=e.value)==null?void 0:u.id)}});l.push(r),l.push({label:n("Save to your liked songs"),icon:"mooooom-heart",command:()=>{var o;alert((o=e.value)==null?void 0:o.id)}},{label:n("Add to queue"),icon:"mooooom-playlist1Add",command:()=>{var o;alert((o=e.value)==null?void 0:o.id)}},{separator:!0}),!G.value&&((f=e.value)!=null&&f.album_track)&&((b=(k=e.value)==null?void 0:k.album_track)==null?void 0:b.length)<2?l.push({label:n("Go to album"),icon:"mooooom-disk",command:()=>{var o,u,s,m,i,d;(s=(u=(o=e.value)==null?void 0:o.album_track)==null?void 0:u[0])!=null&&s.link&&p.push((d=(i=(m=e.value)==null?void 0:m.album_track)==null?void 0:i[0])==null?void 0:d.link)}}):!G.value&&((h=e.value)!=null&&h.album_track)&&((_=(C=e.value)==null?void 0:C.album_track)==null?void 0:_.length)>1&&l.push({label:n("Go to album"),icon:"mooooom-disk",items:(g=(y=e.value)==null?void 0:y.album_track)==null?void 0:g.map(o=>({label:o.name,icon:"mooooom-disk",command:()=>p.push(o.link)}))}),!S.value&&((x=e.value)!=null&&x.artist_track)&&((T=(R=e.value)==null?void 0:R.artist_track)==null?void 0:T.length)<2?l.push({label:n("Go to artist"),icon:"mooooom-user",command:()=>{var o,u,s,m,i,d;(s=(u=(o=e.value)==null?void 0:o.artist_track)==null?void 0:u[0])!=null&&s.link&&p.push((d=(i=(m=e.value)==null?void 0:m.artist_track)==null?void 0:i[0])==null?void 0:d.link)}}):!S.value&&((M=e.value)!=null&&M.artist_track)&&((w=(q=e.value)==null?void 0:q.artist_track)==null?void 0:w.length)>1&&l.push({label:n("Go to artist"),icon:"mooooom-user",items:(P=(A=e.value)==null?void 0:A.artist_track)==null?void 0:P.map(o=>({label:o.name,icon:"mooooom-user",command:()=>p.push(o.link)}))}),l.push({separator:!0},{label:n("Share"),icon:"mooooom-shareSquare",items:[{label:n("Copy page link"),icon:"mooooom-fileCopy",command:()=>$(window.location.href)},{label:n("Copy track link"),icon:"mooooom-fileCopy",command:()=>{var o,u,s,m;return e.value?$(`${(o=B.value)==null?void 0:o.serverBaseUrl}/${(u=e.value)==null?void 0:u.folder_id}${(s=e.value)==null?void 0:s.folder}${(m=e.value)==null?void 0:m.filename}?token=${D.value}`):{}}}]}),j.value=l,z.value.show(t)}export{Z as a,z as b,oo as c,ao as d,Y as m,to as o,eo as s,j as t};
