import{l as k,C as E,I as L,Z as R,a4 as n,E as S,bM as q,c as i,o as r,F as p,h as z,d as C,K as t,aM as I,s as A,a as m,t as x,cm as T,n as B,a2 as f,W as h}from"./index-BlsCkKvU.js";import{k as v,s as M}from"./scrollHandlers-Bq8eIOLn.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const s=k(!1);E(()=>s.value);function j(d){s.value=d}const N={class:"flex-shrink-0 flex-grow-0 text-center text-xs sm:text-base font-semibold leading-none"},P=["data-indexer","onClick"],$={class:"flex-shrink-0 flex-grow-0 text-center text-xs sm:text-base font-semibold leading-none"},D=L({__name:"Indexer",setup(d){const b=["Libraries","Library","Collections","Albums","Artists"],g=[new RegExp("music/albums"),new RegExp("music/artists"),new RegExp("libraries/[a-zA-Z0-9]+/letter/[a-zA-Z0-9_]")];function _(e){return b.some(a=>e.startsWith(a))}function l(e){return g.some(a=>e.match(a))}const y=R();function c(){setTimeout(()=>{document.querySelector(h.value?"ion-tabs ion-router-outlet  div.ion-page:not(.ion-page-hidden) [indexer]":"[indexer]")?.querySelectorAll("[data-indexer]").forEach(e=>{let a;e.dataset.indexer==="#"?a=document.querySelector?.("ion-tabs ion-router-outlet div.ion-page:not(.ion-page-hidden) [data-scroll]"):a=document.querySelector?.(`ion-tabs ion-router-outlet div.ion-page:not(.ion-page-hidden) [data-scroll='scroll_${e.dataset.indexer}']`),a||l(n.currentRoute.value.path)?e.classList.remove("opacity-20","!cursor-not-allowed"):e.classList.add("opacity-20","!cursor-not-allowed")})},500)}function w(){document.querySelector(h.value?"ion-tabs ion-router-outlet  div.ion-page:not(.ion-page-hidden) [indexer]":"[indexer]")?.querySelectorAll("[data-indexer]").forEach(e=>{e.classList.add("opacity-20","!cursor-not-allowed")})}function u(e){j(_(e)),c()}return n.afterEach(e=>{setTimeout(()=>{u(e.name??e.path)},150)}),n.beforeEach(()=>{l(n.currentRoute.value.path)||w()}),S(()=>{setTimeout(()=>{u(n.currentRoute.value.name??n.currentRoute.value.path)},150),document.addEventListener("indexer",c),document.addEventListener("keydown",v)}),q(()=>{document.removeEventListener("indexer",c),document.removeEventListener("keydown",v)}),(e,a)=>(r(),i("div",{indexer:"",class:B(["pointer-events-none z-0 h-available sm:h-available flex flex-col items-center justify-between self-stretch overflow-clip transition-width duration-200 text-slate-dark-1 dark:text-slate-light-1 sm:-translate-x-3 pt-2",{"w-8":t(s),"w-0":!t(s),"sm:ml-2":!t(f)&&t(s),"bottom-0":t(f)}])},[(r(!0),i(p,null,z(t(T)("#","Z"),o=>(r(),i(p,{key:o},[l(t(y).path)?(r(),C(t(I),{key:0,to:`${o.replace("#","_")}`,"data-indexer":o,tabindex:"-1",class:"pointer-events-auto relative flex p-1.5 size-6 sm:size-8 aspect-square rounded-lg overflow-clip cursor-pointer flex-col items-center justify-center hover:bg-auto-alpha-5"},{default:A(()=>[m("p",N,x(o),1)]),_:2},1032,["to","data-indexer"])):(r(),i("button",{key:1,"data-indexer":o,tabindex:"-1",class:"pointer-events-auto relative flex p-1.5 size-6 sm:size-8 aspect-square rounded-lg overflow-clip cursor-pointer flex-col items-center justify-center hover:bg-auto-alpha-5",onClick:F=>t(M)(o)},[m("p",$,x(o),1)],8,P))],64))),128))],2))}}),O=Z(D,[["__scopeId","data-v-843db99c"]]);export{O as I,s as i};
