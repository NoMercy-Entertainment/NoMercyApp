import{Bn as $,Gt as t,Ln as s,Lt as d,Rn as S,Rt as a,Tt as q,Vn as c,Vt as j,Wt as f,an as M,cn as p,i as R,kn as m,n as T,qt as V,u as L,xn as o,zt as v}from"./index-CJ3av9Nr.js";import"./dist-D2KbJ9bQ.js";import"./esm-BuMAAPtG.js";import"./esm-CHsjyJtd.js";import"./dist-C-vUBecy.js";import"./focus-visible-DPfccteu.js";import"./index5-DoEihQ4z.js";import"./client-wU_plCmB.js";import"./ionic-global-Dr2Ll5pB.js";import"./hardware-back-button-CHEiPn5H.js";import"./index3-DyhEBoCL.js";import"./helpers-WTIhTost.js";import"./index6-3cPFhgM2.js";import"./index8-_cfIjXvh.js";import"./keyboard-D6ipGNt8.js";import"./index2-DvhiMdzo.js";import"./ios.transition-CXaFvcuP.js";import"./keyboard2-D5yf7Lat.js";import"./md.transition-DZtzVTV5.js";import"./dir-DrmvtQ_Q.js";import"./basecomponent-DVHu1DCt.js";import"./classnames-C7QsyfAI.js";import"./button-f9Fw4Iaj.js";import"./baseicon-DamtKEYd.js";import"./times-bln7PGWn.js";import"./ui-BSE92Oro.js";import"./client-CPKuC57Q.js";import"./currentServer-DQ7i6d_b.js";import{a as N}from"./config-BZ-AEJ_J.js";import"./core-xCqnf7Bb.js";import"./esm-DLDUH9kj.js";import"./global-Cds4NWlw.js";import"./esm-DcigU03k.js";import{t as A}from"./bundle-mjs-BeXi21kK.js";import{s as l}from"./user-Creb9Pvq.js";import"./serverClient-Jb_BGG0d.js";import"./router-c8xd29EB.js";import"./utils-Cpofav5o.js";import"./useBaseQuery-D_SazeaR.js";import"./useInfiniteServerClient-D_hphnUM.js";import"./SocketClient-KaSDTymP.js";import"./useQueryClient-C-VM74mz.js";import"./useQuery-CR36PjxI.js";import{t as D}from"./apiClient-2-R0Hhnf.js";import"./notifications-BNlqfMjP.js";import"./utils-DY83qGh1.js";import"./deviceInfo-CVfVbLsA.js";import"./auth-BpTUxzzw.js";import"./_plugin-vue_export-helper-pDp7unP0.js";import"./AppLogoSquare-CX-E5xQc.js";import"./MoooomIcon-C2SwTMe7.js";import{n as I}from"./dist-DpPFups2.js";import"./md5-q-fU7o0q.js";import{t as P}from"./fileupload-DC2frNAp.js";import"./useServerClient-DftYwK_V.js";import"./ScrollContainer-BSI-lJ9a.js";import"./useMounted-B-Hy0TLa.js";import"./RipperOverlay-B3d-Ug-s.js";import"./HubConnection-Dx0QDLJI.js";import"./ripperSocket-C8MXLjKq.js";import{t as _}from"./Button-B0as3fug.js";import"./FloatingBackButton-BUv1S2c3.js";import{t as W}from"./DashboardLayout-DlEpBg1C.js";import{t as E}from"./Avatar-BEjPgEje.js";q();var F={class:"flex flex-col gap-4 col-span-2 p-4"},G={class:"flex flex-col gap-4 justify-center items-center"},H={class:"w-60 min-w-60 h-auto aspect-square object-cover bg-surface-1 border border-slate-5 rounded-full overflow-clip"},Y=["src"],J={class:"flex flex-col justify-center items-center flex-grow relative gap-2"},K={class:"self-stretch flex-grow-0 flex-shrink-0 w-full text-sm text-left text-[#9ba1a6] text-pretty"},O=`Upload an image of max {{dimension}} pixels and {{size}} in size.
 We recommend a square image for best results.`,Q=V({__name:"Mobile",setup(X){const{t:h}=I(),g=T(),r=m(),x=m(),i=m(l.value.avatarUrl),n=m(!0),b=`https://api${N}.nomercy.tv/avatar`;function w(){r.value.upload(),n.value=!0}function y(){g.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3}),D().get("/app_config").then(async({data:e})=>{l.value.avatarUrl=e.data.avatarUrl})}function k(e){i.value=e.files[0].objectURL,n.value=!1}function U(e){e.xhr.setRequestHeader("Authorization",`Bearer ${l.value.accessToken}`)}function C(){i.value=l.value.avatarUrl,r.value.clear()}M(()=>{setTimeout(()=>{r.value?.$el&&(r.value.$el.querySelector("span[files]").textContent=h("No file chosen"))},100)});const z=d(()=>({"--color-1":"var(--color-theme-1)","--color-2":"var(--color-theme-2)","--color-3":"var(--color-theme-3)","--color-4":"var(--color-theme-8)","--color-5":"var(--color-theme-5)","--color-6":"var(--color-theme-6)","--color-7":"var(--color-theme-7)","--color-8":"var(--color-theme-8)","--color-9":"var(--color-theme-9)","--color-10":"var(--color-theme-10)","--color-11":"var(--color-theme-11)","--color-12":"var(--color-theme-12)"})),B=d(()=>A("!flex !justify-center !items-center !px-4 !py-2 !gap-2 !rounded-lg !text-sm","select-none !w-auto !font-semibold !leading-[100%] !transition-transform !duration-150 !border-none !text-white","!bg-gradient-to-b from-[var(--color-11)] to-[var(--color-10)] hover:from-[var(--color-12)] hover:to-[var(--color-11)] active:from-[var(--color-10)] active:to-[var(--color-9)] dark:from-[var(--color-7)] dark:to-[var(--color-5)] dark:hover:from-[var(--color-8)] dark:hover:to-[var(--color-6)] dark:active:from-[var(--color-7)] dark:active:to-[var(--color-4)] button-filled ",`
				 shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgb(from_var(--surface-11)_r_g_b/60%)_inset,0_22px_30px_-4px_rgb(from_var(--surface-11)_r_g_b/70%)]
				 dark:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--surface-1/30%)_inset,0_22px_30px_-4px_rgba(var(--surface-1/70%)]
				 active:!shadow-none
				 active:!dark:shadow-none
			 `));return(e,u)=>(p(),v(s(L),null,{default:o(()=>[t(s(R),{fullscreen:!0},{default:o(()=>[t(W,{"grid-style":3,title:"Profile"},{cta:o(()=>[...u[0]||(u[0]=[])]),default:o(()=>[a("div",F,[a("div",G,[a("div",H,[i.value?(p(),j("img",{key:0,ref_key:"image",ref:x,src:i.value,alt:"Your profile image",class:"w-full min-w-full h-auto aspect-square object-cover",style:{"box-shadow":`0 1px 3px 0 rgba(16, 24, 40, 0.1),
                    0 1px 2px 0 rgba(16, 24, 40, 0.06)`}},null,8,Y)):(p(),v(E,{key:1,email:s(l).email,size:250,class:"w-60 min-w-60 h-auto aspect-square rounded-lg"},null,8,["email"]))]),a("div",J,[t(s(P),{ref_key:"fileUpload",ref:r,"cancel-label":e.$t("Cancel"),"choose-label":e.$t("Choose image"),class:S(B.value),"max-file-size":2*1024*1024,style:$(z.value),url:b,accept:"image/*",mode:"basic",name:"image","with-credentials":"",onSelect:k,onUpload:y,onBeforeSend:U},null,8,["cancel-label","choose-label","class","style"]),t(_,{id:"upload",disabled:n.value,color:"theme","start-icon":"cloudUpload",onClick:w},{default:o(()=>[f(c(e.$t("Upload image")),1)]),_:1},8,["disabled"]),a("p",K,c(e.$t(O,{dimension:"2000x2000",size:"2MB"})),1),t(_,{id:"upload",color:"white","start-icon":"arrowCounterClockwise",variant:"text",onClick:C},{default:o(()=>[f(c(e.$t("Reset image")),1)]),_:1})])])])]),_:1})]),_:1})]),_:1}))}}),no=Q;export{no as default};
