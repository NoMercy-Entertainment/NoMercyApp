import{An as q,Bn as P,Bt as f,Cn as ot,Gt as c,Hn as dt,Ht as ct,I as G,Lt as j,M as U,Mt as k,Rt as s,Sn as m,Tt as g,Un as _,Vt as o,Wt as vt,an as W,bn as z,cn as e,dn as R,fn as S,i as mt,kt as ft,on as et,qt as x,u as pt,un as w,zn as n,zt as v}from"./index-Dv83kAv_.js";import"./dist-BWFEUpD5.js";import"./esm-CjYSFQTD.js";import"./esm-B--WsoEr.js";import"./dist-CkXwLdCd.js";import"./client-Lt1iJPRU.js";import"./ionic-global-BrT5QOOk.js";import"./hardware-back-button-DUNt_0t6.js";import"./index3-D57DmiIb.js";import"./index8-CrgDNp2f.js";import"./keyboard-BGaVckUv.js";import"./index2-Bme3R7x6.js";import"./ios.transition-CmHvz4bI.js";import"./keyboard2-DeMt_g_-.js";import"./md.transition-DBZTZPtp.js";import"./basecomponent-BjQ2yHda.js";import"./button-BlCqSJTL.js";import{B as ht,L as at,V as yt,a as rt,h as E,l as _t,m as F,n as st,o as I,x as gt}from"./ui-Dy0BhNPE.js";import"./client-D4e5iciK.js";import{S as xt,m as bt,t as kt,v as wt,x as $t}from"./currentServer-CyRP1M2f.js";import"./config-BZ-AEJ_J.js";import"./esm-ANv1qkIu.js";import"./global-Cl9NRZH-.js";import"./esm-CLtwhlBL.js";import"./bundle-mjs-m3ebY3zV.js";import{s as lt}from"./user-Cpc-QsaC.js";import"./serverClient-Dh7JrGPq.js";import{b as Ct}from"./router-LUtA4OvS.js";import"./utils-S5luT9U1.js";import"./useInfiniteServerClient-r3ptfaNG.js";import{N as jt,V as Tt,Z as V,c as At,g as A,h as H,k as N,l as J,m as Pt}from"./SocketClient-CLd4yl1R.js";import"./apiClient-9DYr7MVK.js";import"./notifications-qUxNFD5p.js";import"./utils-DRKz5xy4.js";import{a as K}from"./deviceInfo-DoGAY46a.js";import"./auth-hpDtC4ST.js";import"./musicPlaylists-D6UXHs9I.js";import"./esm-CU7dLS2l.js";import{a as St}from"./contextMenuItems-BciBz7Zs.js";import"./AppLogoSquare-i1IW1kFU.js";import{t as M}from"./MoooomIcon-DnG74F3v.js";import{t as Lt}from"./DropdownMenu-ApthCE94.js";import"./dist-Be7NXLvN.js";import{t as Mt}from"./useServerClient-CvCiAwnH.js";import{t as Y}from"./CoverImage-D4HQmV-e.js";import{t as qt}from"./ScrollContainer-UnRcXO1f.js";import"./MusicButton-DnLkBuhm.js";import{t as B}from"./BannerButton-e4he2uED.js";import{t as it}from"./MediaLikeButton-CMUSbHSn.js";import{t as Q}from"./PlayerIcon-D31foD-s.js";import{n as Bt}from"./swiper-vue-BkqBCy7j.js";import"./swiper-element-bundle-DN6wfwb2.js";import{n as zt,t as Rt}from"./EqSpinner-CqW0Beaq.js";import{t as Nt}from"./NotFound-1d42OEvA.js";import{t as Dt}from"./ShareButton-w_aNyHaA.js";import{t as Ot}from"./Carousel-37NxATQB.js";g();U();var Et=["data-track-id"],Ft={class:"flex w-10 justify-center text-center min-w-10"},Ht={key:0,class:"group-focus-visible/track:sm:hidden group-hover/track:sm:hidden"},It={class:"flex h-12 items-center gap-2 overflow-hidden w-available sm:gap-4"},Vt={class:"flex h-full flex-col justify-evenly overflow-clip w-inherit"},Gt={class:"flex h-5 flex-nowrap overflow-clip text-left font-bold line-clamp-1 w-inherit"},Ut=["data-size"],Wt={class:"flex whitespace-nowrap"},Yt={class:"flex items-center justify-between gap-2 text-end"},Zt={class:"mr-4 monospace sm:mr-0"},Jt=x({__name:"TrackRow",props:{data:{type:Object,required:!0},index:{type:Number,required:!0},displayList:{type:Array,required:!0}},setup(t){const a=t,r=G(),d=j(()=>r.path.startsWith("/music/album")),i=j(()=>r.path.startsWith("/music/playlists"));function h(){if(!lt.value.features?.nomercyConnect){At.playTrack(a.data,a.displayList);return}V.value?.invoke("StartPlaybackCommand",d.value?"album":"artist",d.value?a.data?.album_track.at(0)?.id:a.data?.artist_track.at(0)?.id,a.data.id)}return(u,y)=>{const $=S("RouterLink");return e(),o("button",{"data-track-id":t.data?.id,class:"grid justify-start items-center self-stretch pr-3 sm:px-3 rounded-lg hover:bg-surface-6/8 group/track text-sm font-medium py-2 z-0 group/track home-grid gap-2","data-target":"track",tabindex:"0",onClick:y[0]||(y[0]=p=>h()),onContextmenu:y[1]||(y[1]=p=>n(St)(p,u.$route,t.data))},[s("span",Ft,[n(A)?.id!==t.data.id?(e(),o("span",Ht,_(t.index+1),1)):f("",!0),n(A)?.id===t.data.id?(e(),v(Rt,{key:1,playing:n(N),class:"hidden group-focus-visible/track:sm:!hidden group-hover/track:sm:!hidden",color:"var(--color-theme-8)"},null,8,["playing"])):f("",!0),n(A)?.id===t.data.id&&n(N)?(e(),v(Q,{key:2,class:"hidden h-6 w-6 group-focus-visible/track:sm:block group-hover/track:sm:block",icon:"nmPause"})):(e(),v(Q,{key:3,class:"hidden h-6 w-6 group-focus-visible/track:sm:block group-hover/track:sm:block",icon:"nmPlay"}))]),s("span",It,[d.value?(e(),v(Y,{key:0,data:t.data,size:100,"class-name":"relative hidden h-12 w-12 overflow-hidden min-w-[3rem] sm:block",loading:"eager"},null,8,["data"])):f("",!0),s("span",Vt,[s("span",Gt,_(t.data.name),1),i.value?(e(),o("span",{key:0,"data-size":n(jt),class:"inline-flex h-5 w-fit gap-1 overflow-hidden whitespace-nowrap text-surface-9 line-clamp-1 text-2xs hover:animate-pause"},[t.data?(e(),v(zt,{key:0,id:t.data.id,data:t.data.artist_track,onclick:p=>p.stopPropagation(),"data-target":"artist",type:"artists"},null,8,["id","data","onclick"])):f("",!0)],8,Ut)):f("",!0)])]),t.data?(e(!0),o(k,{key:0},w(t.data.album_track,p=>(e(),o("span",{key:p.id,class:"max-w-sm items-center overflow-clip pr-2 line-clamp-2 h-inherit w-inherit"},[c($,{onclick:l=>l.stopPropagation(),to:p?.link,class:"flex items-center gap-1 whitespace-nowrap text-xs font-semibold line-clamp-1 hover:underline focus:underline dark:font-medium","data-target":"album",tabindex:"0"},{default:m(()=>[s("span",Wt,_(p.name),1)]),_:2},1032,["onclick","to"])]))),128)):f("",!0),s("span",Yt,[(e(),v(it,{key:t.data.id,data:t.data,onclick:p=>p.stopPropagation(),class:"hidden sm:flex",color:"var(--color-theme-8)"},null,8,["data","onclick"])),s("span",Zt,_(t.data.duration),1)]),c(Lt,{direction:"down"},{button:m(()=>[c(B,{class:"mx-3",title:""},{default:m(()=>[c(M,{"class-name":"relative h-5 w-5",icon:"menuDotsVertical"})]),_:1})]),_:1})],40,Et)}}}),Kt=Jt;g();var Qt={key:0,class:"flex w-full flex-col items-start justify-start gap-4 self-stretch"},Xt={class:"self-stretch text-xl font-bold leading-loose"},te={class:"flex flex-col items-start justify-start gap-1 self-stretch"},ee={class:"z-10 grid items-center justify-start gap-4 self-stretch py-2 pr-3 text-sm font-medium home-grid sm:px-3"},ae={class:"shrink grow basis-0 text-sm leading-tight text-surface-12/11"},re={class:"shrink grow basis-0 text-sm leading-tight text-surface-12/11"},se={class:"shrink grow basis-0 text-right text-sm leading-tight text-surface-12/11"},le={class:"flex flex-col items-start justify-start gap-1 self-stretch"},ie=x({__name:"TrackCard",props:{data:{type:Array,required:!0},title:{type:String,required:!0}},setup(t){return(a,r)=>t.data&&t.data?.length>0?(e(),o("div",Qt,[s("div",Xt,_(a.$t(t.title)),1),s("div",te,[s("div",ee,[r[0]||(r[0]=s("div",{class:"w-10 text-center text-sm leading-tight text-surface-12/11"}," # ",-1)),s("div",ae,_(a.$t("Title")),1),s("div",re,_(a.$t("Album")),1),s("div",se,_(a.$t("Duration")),1)])]),s("div",le,[(e(!0),o(k,null,w(t.data,(d,i)=>(e(),v(Kt,{key:d.id+d?.favorite,data:d,"display-list":t.data,index:i},null,8,["data","display-list","index"]))),128))])])):f("",!0)}}),X=ie;g();var ne={class:"contents"},ue=x({__name:"Tab",props:{isActive:{type:Boolean,default:!1}},setup(t){return(a,r)=>ot((e(),o("div",ne,[R(a.$slots,"default")],512)),[[ft,t.isActive]])}}),T=ue;g();var oe={class:"flex w-full flex-col items-start justify-start gap-4"},de={key:0,class:"absolute grid inset-0 bg-black/40 w-full items-center justify-center flex-col opacity-0 group-hover/cover:opacity-100 transition-all duration-100"},ce={class:"p-4 font-semibold text-theme-8 text-lg"},ve={class:"w-full whitespace-pre-line font-semibold leading-normal"},me=x({__name:"ProfileCard",props:{data:{type:Object,required:!0}},setup(t){const a=t;W(()=>{a.data?.color_palette&&I(a.data?.color_palette?.cover)}),et(()=>{I(null),rt(null)});function r(){const d=new CustomEvent("showModal",{detail:{modalName:"createPlaylist",modalTitle:"Edit {{name}}",modalTitleArgs:{name:a.data?.name},modalProps:a.data}});document.dispatchEvent(d)}return(d,i)=>(e(),o("div",oe,[s("div",{class:"flex flex-col items-start justify-start self-stretch overflow-clip rounded-lg relative group/cover",onClick:r},[c(Y,{data:t.data,size:500,class:"aspect-square h-auto w-full"},null,8,["data"]),t.data?.type!=="track"?(e(),o("div",de,[s("span",ce,_(d.$t("Change cover")),1)])):f("",!0)]),s("div",ve,_(t.data.disambiguation||t.data.description?n(bt)(t.data.description??t.data.disambiguation,200):""),1)]))}}),fe=me;g();var pe={class:"inline-flex w-auto flex-wrap items-start justify-start gap-2"},he={class:"flex items-center justify-start gap-2 px-2"},ye=x({__name:"GenresCard",props:{data:{type:Object,required:!0}},setup(t){return(a,r)=>{const d=S("RouterLink");return e(),o("div",pe,[(e(!0),o(k,null,w(t.data.genres,i=>(e(),v(d,{key:i.id,to:i?.link,class:"flex items-center justify-start rounded-2xl py-1 px-1.5 bg-focus/10"},{default:m(()=>[s("div",he,[s("div",{class:P([`${n(ht)(n(at)(n(st)),100)?"text-black/12":"text-white/12"}`,"text-center text-sm font-medium leading-tight"])},_(a.$t(i.name)),3)])]),_:2},1032,["to"]))),128))])}}}),nt=ye;g();var _e={key:0,class:"flex w-full flex-col items-start justify-start gap-4"},ge={class:"text-xl font-bold leading-loose text-surface-11"},xe={class:"grid grid-cols-2 gap-4"},be={class:"flex h-16 w-16 items-center justify-center rounded px-px py-px"},ke={class:"flex items-center justify-start gap-2.5"},we={class:"text-sm font-semibold text-surface-8 text-balance line-clamp-2"},$e=x({__name:"FeaturedCard",props:{data:{type:Object,required:!0}},setup(t){const a=t,r=j(()=>{const d={};return a.data?.tracks?.forEach(i=>{i.artist_track?.forEach(h=>{h.id===a.data.id||!h.cover||(d[h.id]={id:h.id,name:h.name,cover:h.cover})})}),Object.values(d)});return(d,i)=>{const h=S("RouterLink");return r.value.length>0?(e(),o("div",_e,[s("div",ge,_(d.$t("Featured Artists")),1),s("div",xe,[(e(!0),o(k,null,w(r.value,u=>(e(),v(h,{key:u.id,to:u.link,class:"inline-flex items-center justify-start gap-4 underline-offset-4 hover:underline"},{default:m(()=>[s("div",be,[c(Y,{data:u,size:60,class:"h-14 w-14 rounded-lg"},null,8,["data"])]),s("div",ke,[s("div",we,_(u.name),1)])]),_:2},1032,["to"]))),128))])])):f("",!0)}}}),Ce=$e;g();var je={class:"flex flex-row items-start justify-start gap-8 overflow-clip w-available"},Te={class:"inline-flex flex-col items-start justify-start gap-8 w-[clamp(200px,25%,500px)]"},Ae=x({__name:"TabFrame",props:{data:{type:Object,required:!0},activeTab:{type:String,required:!0}},setup(t){return(a,r)=>(e(),o("div",je,[s("div",Te,[c(fe,{data:t.data},null,8,["data"]),t.activeTab!=="About"?(e(),v(nt,{key:0,data:t.data,class:"max-w-md"},null,8,["data"])):f("",!0),t.activeTab!=="About"?(e(),v(Ce,{key:1,data:t.data},null,8,["data"])):f("",!0)]),s("div",{class:P(["z-0 flex h-min w-0 flex-1 flex-col gap-x-2 gap-y-8 overflow-clip",t.activeTab==="About"?"ml-8 w-[60%]":""])},[R(a.$slots,"default")],2)]))}}),D=Ae;g();var Pe={class:"flex flex-1 basis-0 items-start justify-start gap-8 self-stretch p-8 pb-0"},Se=x({__name:"Home",props:{data:{type:Object,required:!0},displayType:{type:String,default:"list"},activeTab:{type:String,required:!0}},setup(t){const a=[{name:"list"},{name:"card"}];return(r,d)=>(e(),o("div",Pe,[c(D,{"active-tab":t.activeTab,data:t.data},{default:m(()=>[c(T,{"is-active":t.displayType===a[0].name},{default:m(()=>[c(X,{data:t.data.favorite_tracks??[],title:"Your most played"},null,8,["data"]),c(X,{data:t.data.tracks??[],title:"All songs"},null,8,["data"])]),_:1},8,["is-active"]),c(T,{"is-active":t.displayType===a[1].name},null,8,["is-active"])]),_:1},8,["active-tab","data"])]))}}),Le=Se;g();var Me={class:"flex flex-1 basis-0 items-start justify-start gap-8 self-stretch p-8 pb-0"},qe=x({__name:"Albums",props:{data:{type:Object,required:!0},item:{type:String,required:!0},activeTab:{type:String,required:!0}},setup(t){return(a,r)=>{const d=S("NMMusicCard");return e(),o("div",Me,[c(D,{"active-tab":t.activeTab,data:t.data},{default:m(()=>[s("div",{class:P([{"pb-4 sm:pb-4":!n(A)},"z-0 w-full h-available h-fit grid gap-4 music-showing:pb-0 grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-5 3xl:grid-cols-7 4xl:grid-cols-7 5xl:grid-cols-[repeat(8,minmax(0,1fr))] tv:grid-cols-6 scroll-smooth items-start"]),style:{opacity:"1"}},[Array.isArray(t.data?.[t.item])?(e(!0),o(k,{key:0},w(t.data[t.item],i=>(e(),o(k,{key:i?.id},[i?(e(),v(d,{key:0,data:i},null,8,["data"])):f("",!0)],64))),128)):f("",!0)],2)]),_:1},8,["active-tab","data"])])}}}),tt=qe;g();var Be={class:"flex flex-1 basis-0 items-start justify-start gap-8 self-stretch p-8 pb-0"},ze=x({__name:"Playlists",props:{data:{type:Object,required:!0},activeTab:{type:String,required:!0}},setup(t){return(a,r)=>{const d=S("NMMusicCard");return e(),o("div",Be,[c(D,{"active-tab":t.activeTab,data:t.data},{default:m(()=>[s("div",{class:P([{"pb-4 sm:pb-4":n(A)},"z-0 w-available h-available w-full h-fit grid gap-4 pl-4 pr-4 pt-4 pb-4 music-showing:pb-0 grid-cols-2 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-7 3xl:grid-cols-9 4xl:grid-cols-9 5xl:grid-cols-[repeat(14,minmax(0,1fr))] tv:grid-cols-6 scroll-smooth"]),style:{opacity:"1"}},[Array.isArray(t.data.playlists)?(e(!0),o(k,{key:0},w(t.data.playlists,i=>(e(),v(d,{key:i.id,data:i},null,8,["data"]))),128)):f("",!0)],2)]),_:1},8,["active-tab","data"])])}}}),Re=ze;g();var Ne=x({__name:"MusicCarousel",props:{data:{type:Object,required:!0},index:{type:Number,required:!1,default:0},limitCardCountBy:{type:Number,required:!1}},setup(t){function a(r){setTimeout(()=>{r.color_palette},50)}return(r,d)=>{const i=S("RouterLink"),h=S("NMMusicCard");return t.data.items?.length>0?(e(),v(Ot,{key:0,"disable-auto-aspect":!0,index:t.index,"limit-card-count-by":t.limitCardCountBy,title:t.data.title},ct({default:m(()=>[(e(!0),o(k,null,w(t.data.items,u=>(e(),v(n(Bt),{key:u?.id,"virtual-index":t.index,class:"flex py-1"},{default:m(()=>[u?.id?(e(),v(h,{key:0,id:`item-${u?.name}-${u?.id}`,data:u,onclick:()=>a(u),class:""},null,8,["id","data","onclick"])):f("",!0)]),_:2},1032,["virtual-index"]))),128))]),_:2},[t.data.moreLink?{name:"link",fn:m(()=>[c(i,{to:t.data.moreLink,class:"mr-auto ml-4 font-medium underline underline-offset-4"},{default:m(()=>[...d[0]||(d[0]=[vt(" see more ",-1)])]),_:1},8,["to"])]),key:"0"}:void 0]),1032,["index","limit-card-count-by","title"])):f("",!0)}}}),De=Ne;g();var Oe={key:0,class:"flex flex-1 basis-0 items-start justify-start self-stretch overflow-clip px-8 py-8 w-available"},Ee={class:"flex flex-col gap-2 overflow-clip w-available max-w-[75ch]"},Fe=["innerHTML"],He={class:"max-w-available"},Ie=x({__name:"About",props:{data:{type:Object,required:!0},activeTab:{type:String,required:!0}},setup(t){const a=t,r=j(()=>{const i={};return a.data?.tracks?.forEach(h=>{h.artist_track?.forEach(u=>{u.id===a.data.id||!u.cover||(i[u.id]=u)})}),Object.values(i)}),d=j(()=>[{title:"Featuring artists",moreLink:"",children:r.value}]);return(i,h)=>t.activeTab?(e(),o("div",Oe,[c(D,{data:t.data,"active-tab":t.activeTab},{default:m(()=>[s("div",Ee,[(e(!0),o(k,null,w((t.data.description??"")?.split(`
`)??[],u=>(e(),o("div",{key:u,class:"flex flex-col gap-1"},[(e(!0),o(k,null,w(u.split(`
`),y=>(e(),o("span",{key:y,class:"bionic-text font-semibold !text-base",innerHTML:y},null,8,Fe))),128))]))),128))]),c(nt,{data:t.data},null,8,["data"]),s("div",He,[(e(!0),o(k,null,w(d.value??[],u=>(e(),v(De,{key:u.title,data:u,class:"-mx-3","limit-card-count-by":2},null,8,["data"]))),128))])]),_:1},8,["data","active-tab"])])):f("",!0)}}),Ve=Ie;g();var Ge={class:"z-0 flex shrink grow basis-0 flex-col items-start justify-start self-stretch"},Ue={class:"sticky -top-1 z-10 h-14 w-full border-b border-surface-12/6 bg-surface-1"},We={class:"absolute left-4 inline-flex flex-col items-start justify-start gap-2 top-[15px]"},Ye={class:"inline-flex items-start justify-start gap-4"},Ze=["onClick"],Je=x({__name:"Tabs",props:{tabs:{type:Array,required:!0}},setup(t){const a=t,r=q(a.tabs[0].name);function d(i){r.value=a.tabs[i].name}return(i,h)=>(e(),o("div",Ge,[s("div",Ue,[s("nav",We,[s("ul",Ye,[(e(!0),o(k,null,w(t.tabs,(u,y)=>(e(),o("button",{key:u.name,class:P(`px-1 pb-4 ${r.value===u.name?"border-b-2":""} empty:hidden transition-transform duration-100 border-focus justify-center items-center gap-2 flex cursor-pointer`),onClick:$=>d(y)},[u?.name?(e(),o("div",{key:0,class:P(`${r.value===u.name?"text-focus":""} text-base font-semibold leading-normal`)},_(i.$t(u.name)),3)):f("",!0)],10,Ze))),128))])]),R(i.$slots,"extra",{activeTab:r.value})]),R(i.$slots,"default",{activeTab:r.value,class:"z-0"})]))}}),Ke=Je;g();U();var Qe={class:"flex flex-shrink-0 flex-grow-0 items-end justify-start gap-4 w-[710px]"},Xe={class:"relative flex flex-grow flex-col items-start justify-start gap-4"},ta={class:"flex-shrink-0 flex-grow-0 self-stretch text-5xl font-bold w-[710px]"},ea={class:"relative flex flex-shrink-0 flex-grow-0 items-center justify-start gap-2.5"},aa={key:0,class:"flex-shrink-0 flex-grow-0 text-sm"},ra={class:"flex-shrink-0 flex-grow-0 text-sm"},sa={class:"flex-shrink-0 flex-grow-0 text-sm"},la={class:"flex flex-shrink-0 flex-grow-0 items-center justify-start gap-2"},ia=x({__name:"Header",props:{data:{type:Object,required:!0}},setup(t){const a=t,r=G(),d=q("");W(()=>{d.value=gt(a.data)});const i=j(()=>{let p=a.data?.images?.toSorted((l,C)=>C.voteCount-l.voteCount)?.find(l=>l.type==="banner");if(p||(p=a.data?.images?.toSorted((l,C)=>C.voteCount-l.voteCount)?.find(l=>l.type==="background")),!!p)return`${kt.value?.serverBaseUrl}${p?.src}`}),h=j(()=>`/music/${a.data?.type?.replace(/s$/u,"")}/${a.data?.id}`);function u(){if(!a.data?.tracks)return;if(!lt.value.features?.nomercyConnect){if(H.value===h.value){J.togglePlayback();return}J.playTrack(a.data.tracks.at(0),a.data.tracks),Tt(h.value);return}Pt.value||V.value?.invoke("ChangeDeviceCommand",K.value).then(()=>{console.log("Switched to device:",K.value)}).catch(l=>{console.error("Error switching device:",l)});const p=a.data.tracks.some(l=>l.id===A.value?.id)?A.value?.id:a.data.tracks.at(0)?.id;V.value?.invoke("StartPlaybackCommand",a.data.type.replace(/s$/u,""),a.data.id,p)}const y=j(()=>({title:a.data?.name??"",url:`https://app.nomercy.tv${r.fullPath}`})),$=j(()=>yt(at(st.value),150));return(p,l)=>(e(),o("div",{class:P([{"h-[425px]":i.value,"h-[200px]":!i.value,"text-black/12":$.value,"text-white/12":!$.value},"relative -mx-2 flex flex-shrink-0 flex-grow-0 items-end justify-between self-stretch overflow-hidden bg-cover bg-start bg-no-repeat object-cover p-9 w-available !h-[306px]"]),style:dt(i.value?`background-image: url('${i.value}')`:"background-image: linear-gradient(180deg, var(--color-theme-8) 0%, var(--color-theme-8) 100%)")},[l[2]||(l[2]=s("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-black via-black/60"},null,-1)),s("div",Qe,[s("div",Xe,[s("p",ta,_(t.data.name),1),s("div",ea,[t.data.playlists?.length?(e(),o("p",aa,[s("span",null,_(n(xt)("Appears in {0} Playlists",t.data.playlists?.length??0)),1),l[0]||(l[0]=s("svg",{class:"flex-shrink-0 flex-grow-0",fill:"none",height:"4",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 3 4",width:"3",xmlns:"http://www.w3.org/2000/svg"},[s("circle",{cx:"1.5",cy:"2",fill:"#9BA1A6",r:"1.5"})],-1))])):f("",!0),s("p",ra,_(t.data.tracks?.length)+" "+_(t.data.tracks?.length===1?p.$t("song"):p.$t("songs")),1),l[1]||(l[1]=s("svg",{class:"flex-shrink-0 flex-grow-0",fill:"none",height:"4",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 3 4",width:"3",xmlns:"http://www.w3.org/2000/svg"},[s("circle",{cx:"1.5",cy:"2",fill:"#9BA1A6",r:"1.5"})],-1)),s("p",sa,_(d.value),1)])])]),s("div",la,[c(B,{onclick:u,title:n(N)&&n(H)===h.value?p.$t("Pause"):p.$t("Play")},{default:m(()=>[n(N)&&n(H)===h.value?(e(),v(M,{key:0,"class-name":"relative h-6 w-6",icon:"pause"})):(e(),v(M,{key:1,"class-name":"relative h-6 w-6",icon:"play"}))]),_:1},8,["title"]),c(Dt,{"share-data":y.value,class:"!p-1"},null,8,["share-data"]),t.data&&!n(Ct)?(e(),v(it,{key:0,data:t.data,"class-name":"h-5 w-5",color:"var(--color-theme-8)"},null,8,["data"])):f("",!0),c(B,{title:p.$t("More")},{default:m(()=>[c(M,{"class-name":"relative h-5 w-5",icon:"menuDotsHorizontal"})]),_:1},8,["title"])])],6))}}),na=ia;g();U();var ua={key:0,class:"inline-flex w-full flex-1 flex-col items-start justify-start overflow-clip rounded-2xl bg-surface-2/1"},oa={key:0,class:"absolute right-4 inline-flex items-center justify-start top-[9.65px] gap-2.5"},da=x({__name:"Desktop",setup(t){const a=G(),{data:r,isError:d}=Mt({path:a.fullPath,keepForever:!0});W(()=>{document.dispatchEvent(new Event("sidebar"))}),et(()=>{I(null),rt(null)});const i=q(),h=q("");z(F,l=>{u(r.value?.tracks??[],E.value,l,h.value)}),z(E,l=>{u(r.value?.tracks??[],l,F.value,h.value)}),z(h,l=>{u(r.value?.tracks??[],E.value,F.value,l)}),z(r,l=>{wt(l?.name??null)});function u(l,C,b,L){const Z=$t(l??[],C,b,_t);L===""?i.value=Z:i.value=Z?.filter(O=>O.name?.toLowerCase().includes(L?.toLowerCase?.())||O.artist_track?.some(ut=>ut.name.toLowerCase().includes(L?.toLowerCase?.()))||O.album_track?.[0]?.name.toLowerCase().includes(L?.toLowerCase?.()))??[]}const y=j(()=>[{name:"Home"},{name:"Albums"},{name:"Featured"},{name:"Playlists"},{name:"About"}].filter(l=>(l.name==="Albums"&&r.value?.albums?.length===0&&(l.name=""),l.name==="Playlists"&&r.value?.playlists?.length===0&&(l.name=""),l.name==="Playlists"&&r.value?.featured?.length===0&&(l.name=""),!0))),$=q("list");function p(l){$.value=l}return(l,C)=>(e(),v(n(pt),null,{default:m(()=>[c(n(mt),{fullscreen:!0},{default:m(()=>[n(d)&&!n(r)?(e(),v(Nt,{key:0})):(e(),v(qt,{key:1,"auto-hide":!0,static:!0},{default:m(()=>[n(r)?.id===n(a).params.id?(e(),o("div",ua,[n(r)?(e(),v(na,{key:0,data:n(r)},null,8,["data"])):f("",!0),c(Ke,{tabs:y.value,class:"min-h-[calc(100vh-175px)] !flex-1"},{extra:m(({activeTab:b})=>[b===y.value[0].name?(e(),o("div",oa,[c(B,{"is-active":$.value==="list",title:"List",onClick:C[0]||(C[0]=L=>p("list"))},{default:m(()=>[c(M,{"class-name":"relative h-5 w-5",icon:"bulletList"})]),_:1},8,["is-active"]),c(B,{"is-active":$.value==="card",title:"Grid",onClick:C[1]||(C[1]=L=>p("card"))},{default:m(()=>[c(M,{"class-name":"relative h-5 w-5",icon:"collection"})]),_:1},8,["is-active"])])):f("",!0)]),default:m(({activeTab:b})=>[c(T,{"is-active":b===y.value[0].name},{default:m(()=>[n(r)?(e(),v(Le,{key:0,"active-tab":b,data:n(r),"display-type":$.value},null,8,["active-tab","data","display-type"])):f("",!0)]),_:2},1032,["is-active"]),c(T,{"is-active":b===y.value[1].name},{default:m(()=>[n(r)?(e(),v(tt,{key:0,"active-tab":b,data:n(r),item:"albums"},null,8,["active-tab","data"])):f("",!0)]),_:2},1032,["is-active"]),c(T,{"is-active":b===y.value[2].name},{default:m(()=>[n(r)?(e(),v(tt,{key:0,"active-tab":b,data:n(r),item:"featured"},null,8,["active-tab","data"])):f("",!0)]),_:2},1032,["is-active"]),c(T,{"is-active":b===y.value[3].name},{default:m(()=>[n(r)?(e(),v(Re,{key:0,"active-tab":b,data:n(r)},null,8,["active-tab","data"])):f("",!0)]),_:2},1032,["is-active"]),c(T,{"is-active":b===y.value[4].name},{default:m(()=>[n(r)?(e(),v(Ve,{key:0,"active-tab":b,data:n(r)},null,8,["active-tab","data"])):f("",!0)]),_:2},1032,["is-active"])]),_:1},8,["tabs"])])):f("",!0)]),_:1}))]),_:1})]),_:1}))}}),mr=da;export{mr as default};
