import{t as y}from"./useQueryClient-6VbozcbB.js";import{Ac as t,Bn as w,Cc as g,Di as b,Es as k,Fs as e,Hs as s,Is as f,La as d,Mo as C,Mt as S,Na as j,Oo as L,Pc as i,Qn as v,Rs as T,Ss as B,Vn as M,Ws as N,Zi as I,_c as n,fo as V,h as E,hc as O,hr as q,i as u,ic as c,io as D,jo as Q,ki as m,ks as $,mr as z,nc as A,oa as p,oc as F,rr as H,tc as P,vc as R}from"./index-hMnv1PVv.js";import{t as _}from"./MoooomIcon-mzdi33MS.js";import"./dist-BZgawwfv.js";import"./md5-hU5Pi18S.js";import{t as U}from"./NoMercyAvatar-BfxN4QXR.js";import"./HubConnection-klX5ssCm.js";import{t as W}from"./ripperSocket-BbIckhfA.js";import"./DeviceIcon-x9fv_1kC.js";import{t as Z}from"./ServerCard-BCxDdnm6.js";B();C();var G={class:"flex h-full w-full flex-auto flex-col items-center justify-center gap-8 p-8"},J={class:"flex w-full flex-grow flex-col justify-between p-2 min-h-auto"},K={class:"flex justify-between items-center self-stretch flex-grow-0 flex-shrink-0 w-full relative gap-2.5 mb-2"},X={class:"flex justify-start items-center relative gap-2.5",inert:""},Y={class:"size-12 my-auto"},ee={class:"w-48 text-base font-semibold text-left"},te={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},re={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},se=N({__name:"Tv",setup(ae){const h=y(),l=g();async function x(r){m(r),await b().get("libraries").then(({data:a})=>{I(a.data),z.value=!0,w.value=!0,setTimeout(async()=>{v.value==="/setup/select-servers"?await u.replace({name:"Home"}):await u.replace(v.value)},50)}).catch(async()=>{await u.replace({name:"Server offline"})})}return P(()=>{m(null),H(),h.removeQueries(),E.value?.stop(),S.value?.stop(),W.value?.stop()}),A(()=>{q()}),L(()=>{setTimeout(()=>{l.value?.querySelector("button")?.focus()},100)}),O(l,r=>{setTimeout(()=>{r?.querySelector("button")?.focus()},100)}),(r,a)=>(c(),f(t(V),null,{default:n(()=>[s(t(D),{fullscreen:!0},{default:n(()=>[e("div",G,[e("div",J,[e("div",K,[e("div",X,[e("div",Y,[s(U,{size:40,user:t(p)},null,8,["user"])]),e("p",ee,i(t(p).name),1)]),R(e("button",{class:"flex justify-center items-center ml-auto relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",tabindex:"0",onClick:a[0]||(a[0]=o=>d.value=!t(d))},[s(_,{class:"",icon:"doorOut"}),e("span",te,i(r.$t("Exit TV mode")),1)],512),[[k,!t(j)]]),s(t(Q),{class:"flex justify-center items-center relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",to:"/logout"},{default:n(()=>[s(_,{class:"",icon:"doorOut"}),e("span",re,i(r.$t("Logout")),1)]),_:1})]),e("div",{ref_key:"serverList",ref:l,class:"tv:children:w-[30%] tv:mt-0 -mt-24 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4"},[(c(!0),T($,null,F(t(M),o=>(c(),f(Z,{key:o.id,onclick:()=>x(o),server:o},null,8,["onclick","server"]))),128))],512)])])]),_:1})]),_:1}))}}),pe=se;export{pe as default};
