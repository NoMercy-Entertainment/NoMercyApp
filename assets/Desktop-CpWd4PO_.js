import{aG as q,cf as D,e3 as H,ax as O,aV as U,az as A,c8 as B,a_ as $,aM as N,L as J,cg as Q,K as P,j as o,o as s,a7 as f,x as W,aI as a,bP as X,bG as Y,bm as R,c as p,C as S,ct as v,bf as y,a as Z,F as g,w as I,h as V,bO as ee}from"./index-dgetXQPU.js";import{_ as ae}from"./MediaCard.vue_vue_type_script_setup_true_lang-CSq397ES.js";import{_ as se}from"./PersonCard.vue_vue_type_script_setup_true_lang-D8d9RMGF.js";import{_ as ne,a as re}from"./EmptyCard.vue_vue_type_script_setup_true_lang-C3HF5EWj.js";import{_ as oe}from"./NotFound.vue_vue_type_script_setup_true_lang-kj70gcKP.js";import"./CardIndicator.vue_vue_type_script_setup_true_lang-BlRhB6On.js";import"./NoResultImage.vue_vue_type_script_setup_true_lang-Bl8kBcOD.js";const te="grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 2xl:grid-cols-4 3xl:grid-cols-5 4xl:grid-cols-5 5xl:grid-cols-9 tv:grid-cols-6",le="grid-cols-2 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-7 3xl:grid-cols-9 4xl:grid-cols-10 5xl:grid-cols-[repeat(14,minmax(0,1fr))] tv:grid-cols-6",fe=q({__name:"Desktop",setup(de){var k,b,m;const h=D(),{data:t,fetchNextPage:z,hasNextPage:F,isError:T}=H({queryKey:["libraries",((b=(k=h.currentRoute)==null?void 0:k.value)==null?void 0:b.params.id)??((m=h.currentRoute)==null?void 0:m.value.name)],limit:20,keepForever:!0}),G=O(()=>{var n,r,l,d,c,u;return U.value&&((l=(r=(n=t.value)==null?void 0:n.pages)==null?void 0:r[0])==null?void 0:l.data[0].media_type)!=="person"&&((u=(c=(d=t.value)==null?void 0:d.pages)==null?void 0:c[0])==null?void 0:u.data[0].media_type)!=="genres"});A(()=>{B(),$(null),N(null),document.dispatchEvent(new Event("sidebar")),setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},500)}),J(t,n=>{var r;n&&(F.value&&((r=n==null?void 0:n.pages)==null?void 0:r.length)<50&&z(),setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},500))}),Q(()=>{B(),$(null),N(null)});const K=P(),L=P(),_=(n,r)=>{K.value=r,L.value.show(n)};return(n,r)=>(s(),o(a(ee),null,{default:f(()=>[W(a(X),{fullscreen:!0},{default:f(()=>{var l;return[a(T)&&!((l=a(t))!=null&&l.pages)?(s(),o(oe,{key:0})):(s(),o(Y,{key:1,autoHide:!0,static:!0,id:a(R).currentRoute.value.fullPath},{default:f(()=>{var d,c;return[(s(),p("div",{class:S(["z-0 flex flex-col gap-4 rounded-3xl border-0 p-4 w-available scrollbar-none border-auto-3",{"pb-24":a(v)&&!a(y),"pb-40":a(v)&&a(y),"children:pb-4 sm:children:pb-3":!a(v)&&a(y)}]),key:(d=a(R).currentRoute.value.params)==null?void 0:d.id},[Z("div",{class:S(`grid w-full gap-4 scroll-smooth music-showing:pb-0 whitespace-pre ${G.value?te:le}`)},[(s(!0),p(g,null,I(((c=a(t))==null?void 0:c.pages)??[],(u,j)=>{var C,w,M,E;return s(),p(g,{key:j},[u.data.length>0?(s(!0),p(g,{key:0},I(u.data??[],(e,x)=>(s(),p(g,null,[(e==null?void 0:e.media_type)==="tv"||(e==null?void 0:e.media_type)=="movie"||(e==null?void 0:e.media_type)=="collection"||(e==null?void 0:e.media_type)=="specials"?(s(),o(ae,{key:e.id,data:e,onContextMenu:i=>_(i,e),index:x},null,8,["data","onContextMenu","index"])):(e==null?void 0:e.media_type)==="person"?(s(),o(se,{key:e.id+"_person",data:e,onContextMenu:i=>_(i,e),index:x},null,8,["data","onContextMenu","index"])):(e==null?void 0:e.media_type)==="genres"?(s(),o(ne,{key:e.id+"_genres",data:e,onContextMenu:i=>_(i,e),index:x},null,8,["data","onContextMenu","index"])):V("",!0)],64))),256)):((E=(M=(w=(C=a(t))==null?void 0:C.pages)==null?void 0:w[0])==null?void 0:M.data)==null?void 0:E.length)==0?(s(),o(re,{key:1})):V("",!0)],64)}),128))],2)],2))]}),_:1},8,["id"]))]}),_:1})]),_:1}))}});export{fe as default};
//# sourceMappingURL=Desktop-CpWd4PO_.js.map
