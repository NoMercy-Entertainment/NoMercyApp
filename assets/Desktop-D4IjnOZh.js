import{At as f,C as m,Et as v,K as d,S as a,T as o,Y as l,Z as _,c as h,g as w,j as k,k as y}from"./i18n-DBb78QAI.js";import"./ionic-DNKsarlx.js";import"./vue-core-C9HAaO_1.js";import{c as S}from"./query-Dwz_k4KB.js";import{$i as i,F as x,Gn as g,H as C,I as b,Li as B,Ln as n,Mt as L,Wn as j,Zi as u,Zn as D,bn as E,k as e,xn as I,yn as P}from"./index-A9ZXfM_l.js";import{t as Z}from"./ripperSocket-BF5Gj0oB.js";import{t as F}from"./screensaver-CYB_zAni.js";import{t as H}from"./EmptyBackdrop-DBJkud75.js";import{t as M}from"./ServerCard-MDFf2Oz5.js";h();var N={class:"flex h-full w-full flex-auto flex-col items-center justify-center gap-8"},Q={class:"flex w-full flex-grow flex-col justify-between p-2 min-h-auto"},T={class:"mt-16 mb-4 w-full whitespace-pre-line"},V={class:"relative text-center text-lg font-semibold"},$={class:"tv:children:w-[30%] tv:mt-0 -mt-24 tv:-ml-8 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4"},q=k({__name:"Desktop",setup(A){const c=S();async function p(r){i(r);try{const{data:t}=await u(5).get("setup/server-info");if(!t.data?.setup_complete){n.value="/setup/post-install",await e.replace({name:"Post Install"});return}}catch{await e.replace({name:"Server offline"});return}await u().get("libraries").then(async({data:t})=>{B(t.data),D.value=!0,E.value=!0,setTimeout(async()=>{n.value==="/setup/select-servers"?await e.replace({name:"Home"}):await e.replace(n.value)},500)}).catch(async()=>{await e.replace({name:"Server offline"})})}return d(()=>{i(null),g(null),j(null),x(),b(),P(),F(),c.removeQueries(),C.value?.stop(),L.value?.stop(),Z.value?.stop()}),(r,t)=>(l(),o("div",N,[y(H),a("div",Q,[a("div",T,[a("h5",V,f(r.$t("Choose a server")),1)]),a("div",$,[(l(!0),o(w,null,_(v(I),s=>(l(),m(M,{key:s.id,server:s,onclick:()=>p(s)},null,8,["server","onclick"]))),128))])])]))}}),X=q;export{X as default};
