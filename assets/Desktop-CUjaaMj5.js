import{D as k,Dn as y,Ht as v,Rn as a,Tn as t,Yt as p,Zn as s,cn as c,in as u,nn as l,rn as x,tn as n,tr as w,un as b,x as C,y as D}from"./index-04Sh3wNb.js";import"./dist-CVoPesok.js";import"./esm-BuFVrMo0.js";import"./esm-9iWgK55i.js";import"./esm-cDzTb79E.js";import"./esm-BfF1RlcU.js";import"./dist-B3n7-doU.js";import"./focus-visible-CHAJCf_J.js";import"./index5-B30D6T27.js";import"./client-rtF7IPPI.js";import"./ionic-global--aoJHCDL.js";import"./hardware-back-button-h528z6zo.js";import"./index3-CSo3jo06.js";import"./helpers-CXS86XKs.js";import"./index6-CZ6rqL_0.js";import"./index8-BpkFXja0.js";import"./keyboard-cU79cwdW.js";import"./index2-op38TIl9.js";import"./ios.transition-C8T7q-Bo.js";import"./keyboard2-DETZ41vp.js";import"./md.transition-BqH5iNQr.js";import"./dir-BUtgAzbR.js";import"./ui-BT6EUdI0.js";import"./client-DMa-uSBE.js";import{S as f}from"./currentServer-B7-kbkE-.js";import"./config-BOA2pGQM.js";import"./esm-CcKFjObu.js";import"./global-gyhCjh_P.js";import"./esm-BuRgllmc.js";import"./user-C1ciKa7-.js";import{t as S}from"./serverClient-FHPKIHPu.js";import"./router-C_xBvmya.js";import"./utils-D5DD-7jP.js";import"./useBaseQuery-CNJp2kAB.js";import"./useInfiniteServerClient-By5CuBlL.js";import"./SocketClient-DPmgFkP-.js";import{t as A}from"./useQueryClient-s6ZLwuD6.js";import"./useQuery-C7DDAmeN.js";import"./apiClient-Cw7f36ko.js";import"./notifications-Bi_dU6lP.js";import"./utils-CdenF_Jv.js";import"./bundle-mjs-Xm_uQvzT.js";import"./deviceInfo-Bcw3-ht5.js";import"./helpers-fSCF1qXj.js";import"./auth-DfyD43WY.js";import{t as P}from"./MoooomIcon-DNWQYuYD.js";import{n as E}from"./dist-iWIfSzlj.js";import{t as I}from"./useServerClient-CroZbKWw.js";import"./ScrollContainer-3_hZWeKa.js";import"./useMounted-CBZpV1fi.js";import"./RipperOverlay-BWEr7uxe.js";import"./HubConnection-BtQMN1V5.js";import"./ripperSocket-C9kIp3Ty.js";import"./Button-BOqv4y1r.js";import"./FloatingBackButton-D3UgtlFi.js";import{t as V}from"./DashboardLayout-CXf1x5EO.js";import{t as $}from"./DashboardCard-1p8adrLL.js";import{t as q}from"./DeviceIcon-C6eWrZ7A.js";v();var B={class:"flex flex-col justify-start items-start self-stretch bg-surface-1 bg-[radial-gradient(81.87%_66.22%_at_0%_0%,rgba(255,255,255,0.2)_0%,rgba(255,255,255,0)_100%)] w-full h-auto aspect-video"},M={class:"relative m-auto flex aspect-video h-auto w-full flex-shrink-0 flex-grow-0 flex-col items-center justify-center self-stretch bg-focus/8"},T=b({__name:"ServerDeviceCard",props:{server:{type:Object,required:!0},basePath:{type:String,required:!1,default:"server"}},setup(r){const o=r;let e;switch(o.server.browser.replace(/[\d.]+/gu,"").trim()){case"android":case"Android":case"android tv":case"Android TV":case"Chrome WebView":case"Android 10":case"Android 11":case"Android 12":case"Android 13":case"Android 14":case"Android 15":e="android";break;case"apple":case"Apple":case"Apple iPhone":case"iPhone":case"iPad":e="apple";break;case"Mobile Safari":e="safari";break;case"arc":case"Arc":e="arc";break;case"brave":case"Brave":e="brave";break;case"chrome":case"Chrome":case"chromium":case"Chromium":case"Mobile Chrome":case"google chrome":case"Google Chrome":e="chrome";break;case"edge":case"Edge":case"microsoft edge":case"Microsoft Edge":e="edgeOld";break;case"edge chromium":case"Edge Chromium":e="edge";break;case"firefox":case"Firefox":e="firefox";break;case"html5":case"Html5":e="html5";break;case"kodi":case"Kodi":e="kodi";break;case"msie":case"Msie":e="msie";break;case"opera":case"Opera":case"opera gx":case"Opera GX":e="opera";break;case"playstation":case"Playstation":e="playstation";break;case"safari":case"Safari":e="safari";break;case"samsung":case"Samsung":case"samsung tv":case"Samsung TV":e="samsung";break;case"samsung internet":case"Samsung Internet":e="samsungInternet";break;case"windows":case"Windows":e="windows";break;case"xbox":case"Xbox":e="xbox";break;case"electron":case"Electron":e="electron";break;case"linux":case"Linux":e="linux";break;default:e="html5";break}return console.log("ServerDeviceCard",o.server.browser,e),(i,d)=>(t(),l($,{line1:r.server.custom_name??r.server.name,line2:r.server.ip,route:`/dashboard/${r.basePath}/${r.server.id}`},{image:a(()=>[n("div",B,[n("div",M,[c(q,{icon:s(e),"class-name":"!w-[40%]"},null,8,["icon"])])])]),_:1},8,["line1","line2","route"]))}}),j=T;v();var O={class:"text-left text-xs font-semibold line-clamp-1 sm:text-sm"},K=b({__name:"Desktop",setup(r){const o=A(),e=D(),{t:i}=E(),{data:d,error:h}=I({path:"dashboard/devices",queryKey:["dashboard","devices"]});async function g(){await S().delete("/dashboard/devices",{forceUpdate:!0,synchronous:!1}).then(()=>{o.invalidateQueries({queryKey:["devices"]}),e.add({severity:"success",summary:f("Success"),detail:i("Activity logs deleted"),life:5e3})}).catch(()=>{e.add({severity:"error",summary:f("Error"),detail:`${i("Something went wrong")} ${i("trying to delete activity logs")}`,life:5e3})})}return(_,L)=>(t(),l(s(k),null,{default:a(()=>[c(s(C),{fullscreen:!0},{default:a(()=>[c(V,{error:s(h),"grid-style":1,title:"Devices"},{cta:a(()=>[n("button",{class:"relative flex h-10 flex-shrink-0 flex-grow-0 items-center justify-center gap-2 overflow-hidden rounded-lg border px-4 py-2.5 bg-theme-9 border-theme-5",onClick:g},[c(P,{icon:"trash"}),n("p",O,w(_.$t("Delete all")),1)])]),default:a(()=>[(t(!0),u(p,null,y(s(d)??[],m=>(t(),u(p,{key:m.id},[m?.id?(t(),l(j,{key:0,server:m,"base-path":"devices"},null,8,["server"])):x("",!0)],64))),128))]),_:1},8,["error"])]),_:1})]),_:1}))}}),Qe=K;export{Qe as default};
