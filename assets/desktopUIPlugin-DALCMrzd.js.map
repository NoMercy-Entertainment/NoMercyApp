{"version":3,"file":"desktopUIPlugin-DALCMrzd.js","sources":["../../src/lib/VideoPlayer/plugins/UIPlugin/desktopUIPlugin.ts"],"sourcesContent":["import {\n\thumanTime,\n\tconvertToSeconds,\n\tlimitSentenceByCharacters,\n\tlineBreakShowTitle,\n\tunique\n} from  '@nomercy-entertainment/nomercy-video-player/src/helpers';\n\nimport {BaseUIPlugin} from \"./baseUIPlugin\";\n\nimport type { Chapter, PlaylistItem, Position } from  '@nomercy-entertainment/nomercy-video-player/src/types';\nimport type { Icon } from './buttons';\n\nexport class DesktopUIPlugin extends BaseUIPlugin {\n\ttopBar: HTMLDivElement = <HTMLDivElement>{};\n\tbottomRow: HTMLDivElement = <HTMLDivElement>{};\n\tframe: HTMLDivElement = <HTMLDivElement>{};\n\tcenter: HTMLDivElement = <HTMLDivElement>{};\n\n\tisMouseDown = false;\n\tpipEnabled = false;\n\tlockActive = false;\n\n\tbottomBar: HTMLDivElement = <HTMLDivElement>{};\n\ttopRow: HTMLDivElement = <HTMLDivElement>{};\n\n\ttooltip: HTMLDivElement = <HTMLDivElement>{};\n\tepisodeTip: HTMLDivElement = <HTMLDivElement>{};\n\n\tscrollContainerStyles = [\n\t\t'scroll-container',\n\t\t'flex',\n\t\t'flex-col',\n\t\t'gap-1',\n\t\t'language-scroll-container',\n\t\t'overflow-x-hidden',\n\t\t'overflow-y-auto',\n\t\t'p-2',\n\t\t'transition-all',\n\t\t'duration-300',\n\t\t'w-available',\n\t\t'scroll-p-4',\n\t\t'scroll-snap-align-center',\n\t\t'scroll-smooth',\n\t\t'scroll-p-4',\n\t];\n\n\tsubMenuContentStyles = [\n\t\t'sub-menu-content',\n\t\t'flex',\n\t\t'flex-col',\n\t\t'gap-1',\n\t\t'max-h-available',\n\t\t'w-available',\n\t\t'overflow-auto',\n\t\t'min-w-52',\n\t];\n\n\tuse() {\n\n\t\tthis.topBar = this.createTopBar(this.overlay);\n\n\t\tthis.createBackButton(this.topBar);\n\t\tthis.createCloseButton(this.topBar);\n\t\tthis.createDivider(this.topBar);\n\t\tthis.createTvCurrentItem(this.topBar);\n\n\t\tif (!this.player.options.disableTouchControls) {\n\t\t\tthis.center = this.createCenter(this.overlay);\n\t\t}\n\n\t\tthis.bottomBar = this.createBottomBar(this.overlay);\n\n\t\tthis.bottomBar.onmouseleave = (e) => {\n\t\t\tconst playerRect = this.player.getVideoElement()?.getBoundingClientRect();\n\t\t\tif (!playerRect || (e.x > playerRect.left && e.x < playerRect.right && e.y > playerRect.top && e.y < playerRect.bottom)) return;\n\t\t\tthis.player.emit('hide-tooltip');\n\t\t};\n\n\t\tthis.topRow = this.createTopRow(this.bottomBar);\n\n\t\tthis.player.addClasses(this.topRow, ['mt-4']);\n\n\t\tthis.bottomRow = this.createBottomRow(this.bottomBar);\n\n\t\tthis.createProgressBar(this.topRow);\n\n\t\tthis.createPlaybackButton(this.bottomRow, true);\n\n\t\tthis.createPreviousButton(this.bottomRow, true);\n\n\t\tif (this.player.options.seekButtons) {\n\t\t\tthis.createSeekBackButton(this.bottomRow, true);\n\n\t\t\tthis.createSeekForwardButton(this.bottomRow, true);\n\t\t}\n\n\t\tthis.createChapterBackButton(this.bottomRow, true);\n\n\t\tthis.createChapterForwardButton(this.bottomRow, true);\n\n\t\tthis.createNextButton(this.bottomRow, true);\n\n\t\tthis.createVolumeButton(this.bottomRow, true);\n\n\t\tthis.createTime(this.bottomRow, 'current', ['ml-2']);\n\t\tthis.createDivider(this.bottomRow);\n\t\tthis.createTime(this.bottomRow, 'remaining', ['mr-2']);\n\n\t\tthis.createTheaterButton(this.bottomRow, true);\n\t\tthis.createPIPButton(this.bottomRow, true);\n\n\t\tthis.createPlaylistsButton(this.bottomRow, true);\n\n\t\tthis.createSpeedButton(this.bottomRow, true);\n\t\tthis.createCaptionsButton(this.bottomRow, true);\n\t\tthis.createAudioButton(this.bottomRow, true);\n\t\tthis.createQualityButton(this.bottomRow, true);\n\t\tthis.createSettingsButton(this.bottomRow, true);\n\n\t\tthis.createFullscreenButton(this.bottomRow, true);\n\n\t\tthis.frame = this.createMenuFrame(this.bottomRow);\n\n\t\tthis.createMainMenu(this.frame);\n\n\t\tthis.createToolTip(this.overlay);\n\n\t\tthis.episodeTip = this.createEpisodeTip(this.overlay);\n\n\t\tthis.modifySpinner(this.overlay);\n\n\t\tthis.eventHandlers();\n\t}\n\n\tdispose() {\n\n\t\tthis.topBar.remove();\n\t\tthis.bottomBar.remove();\n\t\tthis.bottomRow.remove();\n\t\tthis.frame.remove();\n\t\tthis.center?.remove();\n\t\tthis.tooltip.remove();\n\t\tthis.episodeTip.remove();\n\t\tthis.loader.remove();\n\t}\n\n\tcreateTopRow(parent: HTMLDivElement) {\n\t\treturn this.player.createElement('div', 'top-row')\n\t\t\t.addClasses([\n\t\t\t\t'top-row',\n\t\t\t\t'flex',\n\t\t\t\t'gap-1',\n\t\t\t\t'h-2',\n\t\t\t\t'items-center',\n\t\t\t\t'pl-2',\n\t\t\t\t'pr-2',\n\t\t\t\t'relative',\n\t\t\t\t'w-available',\n\t\t\t])\n\t\t\t.appendTo(parent);\n\t}\n\n\tcreateBottomRow(parent: HTMLDivElement) {\n\t\treturn this.player.createElement('div', 'bottom-row')\n\t\t\t.addClasses([\n\t\t\t\t'bottom-row',\n\t\t\t\t'flex',\n\t\t\t\t'h-10',\n\t\t\t\t'lg:mb-2',\n\t\t\t\t'p-1',\n\t\t\t\t'lg:px-4',\n\t\t\t\t'items-center',\n\t\t\t\t'relative',\n\t\t\t\t'w-available',\n\t\t\t])\n\t\t\t.appendTo(parent);\n\t}\n\n\teventHandlers() {\n\t\tthis.player.on('controls', (showing) => {\n\t\t\tif (this.player.getElement()) {\n\t\t\t\tif (showing) {\n\t\t\t\t\tthis.player.getElement()?.setAttribute('active', 'true');\n\t\t\t\t} else {\n\t\t\t\t\tthis.player.getElement()?.setAttribute('active', 'false');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.player.on('chapters', () => {\n\t\t\tthis.createChapterMarkers();\n\t\t});\n\n\t\tthis.player.on('back-button', () => {\n\t\t\tswitch (this.currentMenu) {\n\t\t\t\tcase 'episode':\n\t\t\t\tcase 'language':\n\t\t\t\tcase 'quality':\n\t\t\t\t\tthis.player.emit('showPauseScreen');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'seek':\n\t\t\t\tcase 'pause':\n\t\t\t\t\tthis.seekContainer.style.transform = '';\n\t\t\t\t\tthis.player.play().then();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\twindow.addEventListener('resize', () => {\n\t\t\tthis.sizeMenuFrame();\n\t\t});\n\t}\n\n\tcreateCenter(parent: HTMLElement) {\n\n\t\tconst center = this.player.createElement('div', 'center')\n\t\t\t.addClasses([\n\t\t\t\t'center',\n\t\t\t\t'absolute',\n\t\t\t\t'grid',\n\t\t\t\t'grid-cols-3',\n\t\t\t\t'grid-rows-6',\n\t\t\t\t'h-full',\n\t\t\t\t'w-full',\n\t\t\t\t'z-0',\n\n\t\t\t\t'transition-all',\n\t\t\t\t'duration-300',\n\n\t\t\t\t'bg-transparent',\n\t\t\t\t'group-[&.nomercyplayer.buffering]:bg-gradient-circle-c',\n\t\t\t\t'group-[&.nomercyplayer.error]:bg-gradient-circle-c',\n\t\t\t\t'group-[&.nomercyplayer.paused]:bg-gradient-circle-c',\n\t\t\t\t'from-black/50',\n\t\t\t\t'from-15%',\n\t\t\t\t'via-60%',\n\t\t\t\t'via-black/30',\n\t\t\t\t'to-100%',\n\t\t\t\t'to-black/0',\n\t\t\t])\n\t\t\t.appendTo(parent);\n\n\t\tthis.createSpinnerContainer(center);\n\n\t\tif (this.player.isMobile()) {\n\t\t\tthis.createTouchSeekBack(center, { x: { start: 1, end: 1 }, y: { start: 2, end: 6 } });\n\t\t\tthis.createTouchPlayback(center, { x: { start: 2, end: 2 }, y: { start: 3, end: 5 } });\n\t\t\tthis.createTouchSeekForward(center, { x: { start: 3, end: 3 }, y: { start: 2, end: 6 } });\n\t\t\tthis.createTouchVolUp(center, { x: { start: 2, end: 2 }, y: { start: 1, end: 3 } });\n\t\t\tthis.createTouchVolDown(center, { x: { start: 2, end: 2 }, y: { start: 5, end: 7 } });\n\t\t}\n\t\telse {\n\t\t\tthis.createTouchSeekBack(center, { x: { start: 1, end: 2 }, y: { start: 2, end: 6 } });\n\t\t\tthis.createTouchPlayback(center, { x: { start: 2, end: 3 }, y: { start: 2, end: 6 } });\n\t\t\tthis.createTouchSeekForward(center, { x: { start: 3, end: 4 }, y: { start: 2, end: 6 } });\n\t\t}\n\n\t\treturn center;\n\n\t}\n\n\tcreateTouchSeekBack(parent: HTMLElement, currentTime: Position) {\n\t\tconst touchSeekBack = this.createTouchBox(parent, 'touchSeekBack', currentTime);\n\t\t['click'].forEach((event) => {\n\t\t\ttouchSeekBack.addEventListener(event, this.doubleTap(() => {\n\t\t\t\tthis.player.rewindVideo();\n\t\t\t}));\n\t\t});\n\n\t\tthis.createSeekRipple(touchSeekBack, 'left');\n\n\t\treturn touchSeekBack;\n\n\t}\n\n\t/**\n\t * Attaches a double tap event listener to the element.\n\t * @param callback - The function to execute when a double tap event occurs.\n\t * @param callback2 - An optional function to execute when a second double tap event occurs.\n\t * @returns A function that detects double tap events.\n\t */\n\tdoubleTap(callback: (event: Event) => void, callback2?: (event2: Event) => void) {\n\t\tconst delay = this.player.options.doubleClickDelay ?? 500;\n\t\tlet lastTap = 0;\n\t\tlet timeout: NodeJS.Timeout;\n\t\tlet timeout2: NodeJS.Timeout;\n\t\treturn function detectDoubleTap(event: Event, event2?: Event) {\n\t\t\tconst curTime = new Date().getTime();\n\t\t\tconst tapLen = curTime - lastTap;\n\t\t\tif (tapLen > 0 && tapLen < delay) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tcallback(event);\n\t\t\t\tclearTimeout(timeout2);\n\t\t\t} else {\n\t\t\t\ttimeout = setTimeout(() => {\n\t\t\t\t\tclearTimeout(timeout);\n\t\t\t\t}, delay);\n\t\t\t\ttimeout2 = setTimeout(() => {\n\t\t\t\t\tcallback2?.(event2!);\n\t\t\t\t}, delay);\n\t\t\t}\n\t\t\tlastTap = curTime;\n\t\t};\n\t}\n\n\n\tcreateTouchSeekForward(parent: HTMLElement, currentTime: Position) {\n\t\tconst touchSeekForward = this.createTouchBox(parent, 'touchSeekForward', currentTime);\n\t\t['mouseup', 'touchend'].forEach((event) => {\n\t\t\ttouchSeekForward.addEventListener(event, this.doubleTap(() => {\n\t\t\t\tthis.player.forwardVideo();\n\t\t\t}));\n\t\t});\n\n\t\tthis.createSeekRipple(touchSeekForward, 'right');\n\n\t\treturn touchSeekForward;\n\t}\n\n\tcreateTouchPlayback(parent: HTMLElement, currentTime: Position, hovered = false) {\n\t\tconst touchPlayback = this.createTouchBox(parent, 'touchPlayback', currentTime);\n\t\tthis.player.addClasses(touchPlayback, [\n\t\t\t'touch-playback',\n\t\t\t'flex',\n\t\t\t'-ml-2',\n\t\t\t'items-center',\n\t\t\t'justify-center',\n\t\t]);\n\n\t\t['click'].forEach((event) => {\n\t\t\ttouchPlayback.addEventListener(event, this.doubleTap(\n\t\t\t\t() => this.player.getFullscreen(),\n\t\t\t\t() => {\n\t\t\t\t\t(this.controlsVisible || !this.player.options.disableTouchControls) && this.player.togglePlayback();\n\t\t\t\t}\n\t\t\t));\n\t\t});\n\n\t\tconst playButton = this.createSVGElement(touchPlayback, 'bigPlay', this.buttons.bigPlay, false,  hovered);\n\t\tthis.player.addClasses(playButton, [\n\t\t\t'touch-playback-button',\n\t\t\t'pointer-events-none',\n\t\t\t'fill-white',\n\t\t]);\n\n\t\tthis.player.on('ready', () => {\n\t\t\tplayButton.style.display = 'flex';\n\t\t});\n\t\tthis.player.on('pause', () => {\n\t\t\tplayButton.style.display = 'flex';\n\t\t});\n\n\t\tthis.player.on('play', () => {\n\t\t\tplayButton.style.display = 'none';\n\t\t});\n\t\tthis.player.on('time', () => {\n\t\t\tplayButton.style.display = 'none';\n\t\t});\n\t\tthis.player.on('firstFrame', () => {\n\t\t\tplayButton.style.display = 'none';\n\t\t});\n\n\t\treturn touchPlayback;\n\t}\n\n\tcreateTouchVolUp(parent: HTMLElement, currentTime: Position) {\n\t\tif (!this.player.isMobile()) return;\n\t\tconst touchVolUp = this.createTouchBox(parent, 'touchVolUp', currentTime);\n\t\t['click'].forEach((event) => {\n\t\t\ttouchVolUp.addEventListener(event, this.doubleTap(() => {\n\t\t\t\tthis.player.volumeUp();\n\t\t\t}));\n\t\t});\n\n\t\treturn touchVolUp;\n\t}\n\n\tcreateTouchVolDown(parent: HTMLElement, currentTime: Position) {\n\t\tif (!this.player.isMobile()) return;\n\t\tconst touchVolDown = this.createTouchBox(parent, 'touchVolDown', currentTime);\n\t\t['click'].forEach((event) => {\n\t\t\ttouchVolDown.addEventListener(event, this.doubleTap(() => {\n\t\t\t\tthis.player.volumeDown();\n\t\t\t}));\n\t\t});\n\n\t\treturn touchVolDown;\n\t}\n\n\tcreateTouchBox(parent: HTMLElement, id: string, currentTime: Position) {\n\t\tconst touch = this.player.createElement('div', `touch-box-${id}`)\n\t\t\t.addClasses([`touch-box-${id}`, 'z-40'])\n\t\t\t.appendTo(parent);\n\n\t\ttouch.style.gridColumnStart = currentTime.x.start.toString();\n\t\ttouch.style.gridColumnEnd = currentTime.x.end.toString();\n\t\ttouch.style.gridRowStart = currentTime.y.start.toString();\n\t\ttouch.style.gridRowEnd = currentTime.y.end.toString();\n\n\t\tparent.appendChild(touch);\n\n\t\treturn touch;\n\n\t}\n\n\n\tcreateSpeedButton(parent: HTMLDivElement, hovered = false) {\n\t\tif (this.player.isMobile()) return;\n\t\tconst speedButton = this.createUiButton(\n\t\t\tparent,\n\t\t\t'speed'\n\t\t);\n\n\t\tif (this.player.hasSpeeds()) {\n\t\t\tspeedButton.style.display = 'flex';\n\t\t} else {\n\t\t\tspeedButton.style.display = 'none';\n\t\t}\n\n\t\tthis.createSVGElement(speedButton, 'speed', this.buttons.speed, false, hovered);\n\n\t\tspeedButton.addEventListener('click', (event) => {\n\t\t\tevent.stopPropagation();\n\t\t\tthis.player.emit('hide-tooltip');\n\n\t\t\tif (this.speedMenuOpen) {\n\t\t\t\tthis.player.emit('show-menu', false);\n\n\t\t\t\tthis.menuFrame.close();\n\t\t\t} else {\n\t\t\t\tthis.player.emit('show-speed-menu', true);\n\n\t\t\t\tthis.menuFrame.showModal();\n\t\t\t}\n\t\t});\n\n\t\tthis.player.on('pip-internal', (data) => {\n\t\t\tif (data) {\n\t\t\t\tspeedButton.style.display = 'none';\n\t\t\t} else if (this.player.hasSpeeds()) {\n\t\t\t\tspeedButton.style.display = 'flex';\n\t\t\t}\n\t\t});\n\n\t\tparent.appendChild(speedButton);\n\t\treturn speedButton;\n\t}\n\n\tcreatePIPButton(parent: HTMLDivElement, hovered = false) {\n\t\tif (this.player.isMobile() || !this.player.hasPipEventHandler) return;\n\t\tconst pipButton = this.createUiButton(\n\t\t\tparent,\n\t\t\t'pip'\n\t\t);\n\n\t\tif (this.player.hasPIP()) {\n\t\t\tpipButton.style.display = 'flex';\n\t\t} else {\n\t\t\tpipButton.style.display = 'none';\n\t\t}\n\n\t\tpipButton.ariaLabel = this.buttons.pipEnter?.title;\n\n\t\tthis.createSVGElement(pipButton, 'pip-enter', this.buttons.pipEnter, false, hovered);\n\t\tthis.createSVGElement(pipButton, 'pip-exit', this.buttons.pipExit, true, hovered);\n\n\t\tdocument.addEventListener('visibilitychange', () => {\n\t\t\tif (this.pipEnabled) {\n\t\t\t\tif (document.hidden) {\n\t\t\t\t\tif (document.pictureInPictureEnabled) {\n\t\t\t\t\t\tthis.player.getVideoElement().requestPictureInPicture().then();\n\t\t\t\t\t}\n\t\t\t\t} else if (document.pictureInPictureElement) {\n\t\t\t\t\tdocument.exitPictureInPicture().then();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tpipButton.addEventListener('click', (event) => {\n\t\t\tevent.stopPropagation();\n\t\t\tthis.player.emit('hide-tooltip');\n\n\t\t\tthis.player.emit('controls', false);\n\n\t\t\tif (this.pipEnabled) {\n\t\t\t\tthis.pipEnabled = false;\n\t\t\t\tpipButton.querySelector<any>('.pip-exit-icon').style.display = 'none';\n\t\t\t\tpipButton.querySelector<any>('.pip-enter-icon').style.display = 'flex';\n\t\t\t\tpipButton.ariaLabel = this.buttons.pipEnter?.title;\n\t\t\t\tthis.player.emit('pip-internal', false);\n\t\t\t\tthis.player.emit('pip', false);\n\t\t\t} else {\n\t\t\t\tthis.pipEnabled = true;\n\t\t\t\tpipButton.querySelector<any>('.pip-enter-icon').style.display = 'none';\n\t\t\t\tpipButton.querySelector<any>('.pip-exit-icon').style.display = 'flex';\n\t\t\t\tpipButton.ariaLabel = this.buttons.pipExit?.title;\n\t\t\t\tthis.player.emit('pip-internal', true);\n\t\t\t\tthis.player.emit('pip', true);\n\t\t\t\tthis.player.emit('show-menu', false);\n\t\t\t}\n\t\t});\n\n\t\tthis.player.on('fullscreen', () => {\n\t\t\tif (this.player.getFullscreen()) {\n\t\t\t\tpipButton.style.display = 'none';\n\t\t\t} else {\n\t\t\t\tpipButton.style.display = 'flex';\n\t\t\t}\n\t\t});\n\n\t\tparent.appendChild(pipButton);\n\t\treturn pipButton;\n\t}\n\n\tcreateMenuFrame(parent: HTMLDivElement) {\n\n\t\tthis.menuFrame = this.player.createElement('dialog', 'menu-frame-dialog')\n\t\t\t.addClasses([\n\t\t\t\t'group-[&.nomercyplayer:has(.open)]:backdrop:bg-black/60',\n\t\t\t\t'group-[&.nomercyplayer:has(.open)]:backdrop:pointer-events-none',\n\t\t\t])\n\t\t\t.appendTo(parent);\n\n\t\tthis.menuFrame.setAttribute('popover', 'manual');\n\t\tthis.menuFrame.setAttribute('role', 'modal');\n\n\t\tconst menuWrapper = this.player.createElement('div', 'menu-wrapper')\n\t\t\t.addClasses([\n\t\t\t\t'menu-wrapper',\n\t\t\t\t'text-white',\n\t\t\t])\n\t\t\t.appendTo(this.menuFrame);\n\n\t\tconst menuFrame = this.player.createElement('div', 'menu-frame')\n\t\t\t.addClasses([\n\t\t\t\t'menu-frame',\n\t\t\t\t'absolute',\n\t\t\t\t'flex-col',\n\t\t\t\t'h-available',\n\t\t\t\t'hidden',\n\t\t\t\t'inset-4',\n\t\t\t\t'justify-self-end',\n\t\t\t\t'max-h-[calc(100%-2rem)]',\n\t\t\t\t'max-w-[min(70rem,calc(100%-2rem))]',\n\t\t\t\t'overflow-clip',\n\t\t\t\t'rounded-lg',\n\t\t\t\t'w-fit',\n\t\t\t\t'z-50',\n\t\t\t])\n\t\t\t.appendTo(menuWrapper);\n\n\t\tthis.sizeMenuFrame();\n\n\t\tconst menuContent = this.player.createElement('div', 'menu-content')\n\t\t\t.addClasses([\n\t\t\t\t'menu-content',\n\t\t\t\t'flex',\n\t\t\t\t'flex-row',\n\t\t\t\t'h-available',\n\t\t\t\t'justify-end',\n\t\t\t\t'mt-auto',\n\t\t\t\t'overflow-clip',\n\t\t\t\t'w-full',\n\t\t\t])\n\t\t\t.appendTo(menuFrame);\n\n\t\tthis.player.on('resize', () => {\n\t\t\tthis.sizeMenuFrame();\n\t\t});\n\t\tthis.player.on('fullscreen', () => {\n\t\t\tthis.sizeMenuFrame();\n\t\t});\n\n\t\tthis.player.on('show-menu', (showing) => {\n\t\t\tthis.menuOpen = showing;\n\t\t\tthis.lockActive = showing;\n\t\t\tif (showing) {\n\n\t\t\t\tthis.sizeMenuFrame();\n\n\t\t\t\tmenuFrame.style.display = 'flex';\n\t\t\t\tmenuFrame.classList.add('open');\n\n\t\t\t\tthis.menuFrame.showModal();\n\t\t\t} else {\n\t\t\t\tmenuFrame.style.display = 'none';\n\t\t\t\tmenuFrame.classList.remove('open');\n\n\t\t\t\tthis.menuFrame.close();\n\t\t\t}\n\t\t\tmenuContent.classList.add('translate-x-0');\n\t\t\tmenuContent.classList.remove('sub-menu-open');\n\n\t\t\tsetTimeout(() => {\n\t\t\t\t(Array.from(this.mainMenu.children).find(el =>\n\t\t\t\t\t(el as HTMLButtonElement).style.display != 'none' && el.id != 'menu-header') as HTMLButtonElement).focus();\n\t\t\t}, 200);\n\n\t\t\tthis.player.emit('show-language-menu', false);\n\t\t\tthis.player.emit('show-subtitles-menu', false);\n\t\t\tthis.player.emit('show-quality-menu', false);\n\t\t\tthis.player.emit('show-speed-menu', false);\n\t\t\tthis.player.emit('show-playlist-menu', false);\n\t\t});\n\t\tthis.player.on('show-main-menu', (showing) => {\n\t\t\tthis.mainMenuOpen = showing;\n\t\t\tthis.lockActive = showing;\n\t\t\tif (showing) {\n\t\t\t\tmenuFrame.classList.add('open');\n\t\t\t\tthis.player.emit('show-language-menu', false);\n\t\t\t\tthis.player.emit('show-subtitles-menu', false);\n\t\t\t\tthis.player.emit('show-quality-menu', false);\n\t\t\t\tthis.player.emit('show-speed-menu', false);\n\t\t\t\tthis.player.emit('show-playlist-menu', false);\n\t\t\t\tmenuContent.classList.add('translate-x-0');\n\t\t\t\tmenuContent.classList.remove('sub-menu-open');\n\t\t\t\tmenuFrame.style.display = 'flex';\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t(Array.from(this.mainMenu.children).find(el =>\n\t\t\t\t\t\t(el as HTMLButtonElement).style.display != 'none' && el.id != 'menu-header') as HTMLButtonElement).focus();\n\t\t\t\t}, 200);\n\t\t\t}\n\t\t});\n\t\tthis.player.on('show-language-menu', (showing) => {\n\t\t\tthis.languageMenuOpen = showing;\n\t\t\tthis.lockActive = showing;\n\t\t\tif (showing) {\n\t\t\t\tmenuFrame.classList.add('open');\n\t\t\t\tthis.player.emit('show-main-menu', false);\n\t\t\t\tthis.player.emit('show-subtitles-menu', false);\n\t\t\t\tthis.player.emit('show-quality-menu', false);\n\t\t\t\tthis.player.emit('show-speed-menu', false);\n\t\t\t\tthis.player.emit('show-playlist-menu', false);\n\t\t\t\tmenuContent.classList.remove('translate-x-0');\n\t\t\t\tmenuContent.classList.add('sub-menu-open');\n\t\t\t\tmenuFrame.style.display = 'flex';\n\t\t\t}\n\t\t});\n\t\tthis.player.on('show-subtitles-menu', (showing) => {\n\t\t\tthis.subtitlesMenuOpen = showing;\n\t\t\tthis.lockActive = showing;\n\t\t\tif (showing) {\n\t\t\t\tmenuFrame.classList.add('open');\n\t\t\t\tthis.player.emit('show-main-menu', false);\n\t\t\t\tthis.player.emit('show-language-menu', false);\n\t\t\t\tthis.player.emit('show-quality-menu', false);\n\t\t\t\tthis.player.emit('show-speed-menu', false);\n\t\t\t\tthis.player.emit('show-playlist-menu', false);\n\t\t\t\tmenuContent.classList.remove('translate-x-0');\n\t\t\t\tmenuContent.classList.add('sub-menu-open');\n\t\t\t\tmenuFrame.style.display = 'flex';\n\t\t\t}\n\t\t});\n\t\tthis.player.on('show-quality-menu', (showing) => {\n\t\t\tthis.qualityMenuOpen = showing;\n\t\t\tthis.lockActive = showing;\n\t\t\tif (showing) {\n\t\t\t\tmenuFrame.classList.add('open');\n\t\t\t\tthis.player.emit('show-main-menu', false);\n\t\t\t\tthis.player.emit('show-language-menu', false);\n\t\t\t\tthis.player.emit('show-subtitles-menu', false);\n\t\t\t\tthis.player.emit('show-speed-menu', false);\n\t\t\t\tthis.player.emit('show-playlist-menu', false);\n\t\t\t\tmenuContent.classList.remove('translate-x-0');\n\t\t\t\tmenuContent.classList.add('sub-menu-open');\n\t\t\t\tmenuFrame.style.display = 'flex';\n\t\t\t}\n\t\t});\n\t\tthis.player.on('show-speed-menu', (showing) => {\n\t\t\tthis.speedMenuOpen = showing;\n\t\t\tthis.lockActive = showing;\n\t\t\tif (showing) {\n\t\t\t\tmenuFrame.classList.add('open');\n\t\t\t\tthis.player.emit('show-main-menu', false);\n\t\t\t\tthis.player.emit('show-language-menu', false);\n\t\t\t\tthis.player.emit('show-subtitles-menu', false);\n\t\t\t\tthis.player.emit('show-quality-menu', false);\n\t\t\t\tthis.player.emit('show-playlist-menu', false);\n\t\t\t\tmenuContent.classList.remove('translate-x-0');\n\t\t\t\tmenuContent.classList.add('sub-menu-open');\n\t\t\t\tmenuFrame.style.display = 'flex';\n\t\t\t}\n\t\t});\n\t\tthis.player.on('show-playlist-menu', (showing) => {\n\t\t\t// this.createCalcMenu(menuContent);\n\t\t\tthis.playlistMenuOpen = showing;\n\t\t\tthis.lockActive = showing;\n\t\t\tif (showing) {\n\t\t\t\tmenuFrame.classList.add('open');\n\t\t\t\tthis.player.emit('show-main-menu', false);\n\t\t\t\tthis.player.emit('show-language-menu', false);\n\t\t\t\tthis.player.emit('show-subtitles-menu', false);\n\t\t\t\tthis.player.emit('show-quality-menu', false);\n\t\t\t\tthis.player.emit('show-speed-menu', false);\n\t\t\t\tmenuContent.classList.remove('translate-x-0');\n\t\t\t\tmenuContent.classList.add('sub-menu-open');\n\t\t\t\tmenuFrame.style.display = 'flex';\n\t\t\t} else {\n\t\t\t\tmenuFrame.style.width = '';\n\t\t\t}\n\t\t});\n\t\tthis.player.on('controls', (showing) => {\n\t\t\tthis.lockActive = showing;\n\t\t\tif (!showing) {\n\t\t\t\tthis.player.emit('show-menu', false);\n\t\t\t\tthis.player.emit('show-main-menu', false);\n\t\t\t\tthis.player.emit('show-language-menu', false);\n\t\t\t\tthis.player.emit('show-subtitles-menu', false);\n\t\t\t\tthis.player.emit('show-quality-menu', false);\n\t\t\t\tthis.player.emit('show-speed-menu', false);\n\t\t\t\tthis.player.emit('show-playlist-menu', false);\n\t\t\t}\n\t\t});\n\n\t\treturn menuContent;\n\t}\n\n\tsizeMenuFrame() {\n\t\tconst rect = this.player?.getElement()?.getBoundingClientRect();\n\t\tif (!rect) return;\n\n\t\tconst {\n\t\t\twidth,\n\t\t\theight,\n\t\t\ttop,\n\t\t\tbottom,\n\t\t\tleft,\n\t\t} = rect;\n\n\t\t(this.menuFrame.firstChild as HTMLDivElement).style.width = `${width}px`;\n\t\t(this.menuFrame.firstChild as HTMLDivElement).style.height = `${height}px`;\n\t\t(this.menuFrame.firstChild as HTMLDivElement).style.top = `${top}px`;\n\t\t(this.menuFrame.firstChild as HTMLDivElement).style.bottom = `${bottom}px`;\n\t\t(this.menuFrame.firstChild as HTMLDivElement).style.left = `${left}px`;\n\t\t(this.menuFrame.firstChild as HTMLDivElement).style.padding = '2rem';\n\t\t(this.menuFrame.firstChild as HTMLDivElement).style.position = 'fixed';\n\t\t// (this.menuFrame.firstChild as HTMLDivElement).style.background = 'red';\n\t}\n\n\tcreateMainMenu(parent: HTMLDivElement) {\n\n\t\tthis.mainMenu = this.player.createElement('div', 'main-menu')\n\t\t\t.addClasses([\n\t\t\t\t'main-menu',\n\t\t\t\t'bg-neutral-900/95',\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'gap-1',\n\t\t\t\t'group-[&.nomercyplayer:has(.sub-menu-open)]:!hidden',\n\t\t\t\t'h-auto',\n\t\t\t\t'max-h-full',\n\t\t\t\t'min-w-64',\n\t\t\t\t'mt-auto',\n\t\t\t\t'overflow-clip',\n\t\t\t\t'p-2',\n\t\t\t\t'pt-0',\n\t\t\t\t'rounded-lg',\n\t\t\t\t'pointer-events-auto',\n\t\t\t])\n\t\t\t.appendTo(parent);\n\n\t\tthis.mainMenu.style.transform = 'translateX(0)';\n\n\t\tconst mainHeader = this.createMainMenuHeader(this.mainMenu);\n\t\tmainHeader.classList.add('!min-h-[2rem]', '-mr-1');\n\n\t\tthis.player.addClasses(this.mainMenu, [\n\t\t\t'main-menu',\n\t\t\t'bg-neutral-900/95',\n\t\t\t'flex',\n\t\t\t'flex-col',\n\t\t\t'gap-1',\n\t\t\t'group-[&.nomercyplayer:has(.sub-menu-open)]:!hidden',\n\t\t\t'h-auto',\n\t\t\t'max-h-full',\n\t\t\t'min-w-64',\n\t\t\t'mt-auto',\n\t\t\t'overflow-clip',\n\t\t\t'p-2',\n\t\t\t'pt-0',\n\t\t\t'rounded-lg',\n\t\t]);\n\n\t\tthis.player.on('translationsLoaded', () => {\n\t\t\tthis.createMenuButton(this.mainMenu, 'language');\n\t\t\tthis.createMenuButton(this.mainMenu, 'subtitles');\n\t\t\tthis.createMenuButton(this.mainMenu, 'quality');\n\t\t\tthis.createMenuButton(this.mainMenu, 'speed');\n\t\t\tthis.createMenuButton(this.mainMenu, 'playlist');\n\t\t});\n\n\t\tthis.createSubMenu(parent);\n\n\t\treturn this.mainMenu;\n\t}\n\n\tcreateSubMenu(parent: HTMLDivElement) {\n\n\t\tconst submenu = this.player.createElement('div', 'sub-menu')\n\t\t\t.addClasses([\n\t\t\t\t'sub-menu',\n\t\t\t\t'bg-neutral-900/95',\n\t\t\t\t'flex-col',\n\t\t\t\t'gap-1',\n\t\t\t\t'group-[&.nomercyplayer:has(.sub-menu-open)]:flex',\n\t\t\t\t'h-auto',\n\t\t\t\t'hidden',\n\t\t\t\t'max-h-full',\n\t\t\t\t'min-w-64',\n\t\t\t\t'mt-auto',\n\t\t\t\t'overflow-clip',\n\t\t\t\t'rounded-lg',\n\t\t\t\t'pointer-events-auto',\n\t\t\t\t'w-full',\n\t\t\t])\n\t\t\t.appendTo(parent);\n\n\t\tsubmenu.style.transform = 'translateX(0)';\n\n\t\tthis.createLanguageMenu(submenu);\n\t\tthis.createSubtitleMenu(submenu);\n\t\tthis.createQualityMenu(submenu);\n\t\tthis.createSpeedMenu(submenu);\n\n\t\tif (this.player.options.playlist && Array.isArray(this.player.options.playlist)) {\n\t\t\tthis.createEpisodeMenu(submenu);\n\t\t} else {\n\t\t\tthis.player.once('playlist', () => {\n\t\t\t\tthis.createEpisodeMenu(submenu);\n\t\t\t});\n\t\t}\n\n\t\treturn submenu;\n\t}\n\n\tcreateMainMenuHeader(parent: HTMLDivElement, hovered = false) {\n\t\tconst menuHeader = this.player.createElement('div', 'menu-header')\n\t\t\t.addClasses([\n\t\t\t\t'menu-header',\n\t\t\t\t'flex',\n\t\t\t\t'h-9',\n\t\t\t\t'items-center',\n\t\t\t\t'min-h-[2.5rem]',\n\t\t\t\t'py-2',\n\t\t\t\t'text-white',\n\t\t\t\t'w-available',\n\t\t\t])\n\t\t\t.addClasses(['border-b', 'border-gray-300/20', '!p-0'])\n\t\t\t.appendTo(parent);\n\n\t\tconst close = this.createUiButton(\n\t\t\tmenuHeader,\n\t\t\t'close'\n\t\t);\n\n\t\tthis.createSVGElement(close, 'menu', this.buttons.close, hovered);\n\t\tthis.player.addClasses(close, ['ml-auto', 'w-8']);\n\t\tclose.classList.remove('w-5');\n\n\t\tclose.addEventListener('click', (event) => {\n\t\t\tevent.stopPropagation();\n\t\t\tthis.player.emit('show-menu', false);\n\t\t\tthis.lockActive = false;\n\t\t\tthis.player.emit('controls', false);\n\n\t\t\tthis.menuFrame.close();\n\t\t});\n\n\t\treturn menuHeader;\n\t}\n\n\tcreateMenuHeader(parent: HTMLDivElement, title: string, hovered = false) {\n\t\tconst menuHeader = this.player.createElement('div', 'menu-header')\n\t\t\t.addClasses([\n\t\t\t\t'menu-header',\n\t\t\t\t'flex',\n\t\t\t\t'h-9',\n\t\t\t\t'items-center',\n\t\t\t\t'min-h-[2.5rem]',\n\t\t\t\t'py-2',\n\t\t\t\t'text-white',\n\t\t\t\t'w-available',\n\t\t\t])\n\t\t\t.addClasses(['border-b', 'border-gray-300/20'])\n\t\t\t.appendTo(parent);\n\n\t\tif (title !== 'Episodes') {\n\t\t\tconst back = this.createUiButton(\n\t\t\t\tmenuHeader,\n\t\t\t\t'back'\n\t\t\t);\n\t\t\tthis.createSVGElement(back, 'menu', this.buttons.chevronL, hovered);\n\t\t\tthis.player.addClasses(back, ['w-8']);\n\t\t\tback.classList.remove('w-5');\n\n\t\t\tback.addEventListener('click', (event) => {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tthis.player.emit('show-main-menu', true);\n\n\t\t\t\tthis.player.emit('show-language-menu', false);\n\t\t\t\tthis.player.emit('show-subtitles-menu', false);\n\t\t\t\tthis.player.emit('show-quality-menu', false);\n\t\t\t\tthis.player.emit('show-speed-menu', false);\n\t\t\t\tthis.player.emit('show-playlist-menu', false);\n\t\t\t});\n\t\t}\n\n\t\tconst menuButtonText = this.player.createElement('span', 'menu-button-text')\n\t\t\t.addClasses(this.menuButtonTextStyles)\n\t\t\t.appendTo(menuHeader);\n\n\t\tmenuButtonText.innerText = this.player.localize(title).toTitleCase();\n\n\t\tif (title !== 'Seasons') {\n\t\t\tconst close = this.createUiButton(\n\t\t\t\tmenuHeader,\n\t\t\t\t'close'\n\t\t\t);\n\n\t\t\tthis.createSVGElement(close, 'menu', this.buttons.close, hovered);\n\t\t\tthis.player.addClasses(close, ['ml-auto', 'w-8']);\n\t\t\tclose.classList.remove('w-5');\n\n\t\t\tclose.addEventListener('click', (event) => {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tthis.player.emit('show-menu', false);\n\t\t\t\tthis.lockActive = false;\n\t\t\t\tthis.player.emit('controls', false);\n\n\t\t\t\tthis.menuFrame.close();\n\t\t\t});\n\t\t}\n\n\t\treturn menuHeader;\n\t}\n\n\tcreateMenuButton(parent: HTMLDivElement, item: string, hovered = false) {\n\t\tconst menuButton = this.player.createElement('button', `menu-button-${item}`)\n\t\t\t.addClasses(this.languageMenuStyles)\n\t\t\t.appendTo(parent);\n\n\t\tif (item !== 'speed') {\n\t\t\tmenuButton.style.display = 'none';\n\t\t}\n\t\telse if (this.player.hasSpeeds()) {\n\t\t\tmenuButton.style.display = 'flex';\n\t\t}\n\t\telse {\n\t\t\tmenuButton.style.display = 'none';\n\t\t}\n\n\t\tthis.createSVGElement(menuButton, 'menu', this.buttons[item], hovered);\n\n\t\tconst menuButtonText = this.player.createElement('span', `menu-button-${item}`)\n\t\t\t.addClasses(this.menuButtonTextStyles)\n\t\t\t.appendTo(menuButton);\n\n\t\tmenuButtonText.innerText = this.player.localize(item.toTitleCase());\n\n\t\tconst chevron = this.createSVGElement(menuButton, 'menu', this.buttons.chevronR, false, hovered);\n\t\tthis.player.addClasses(chevron, ['ml-auto']);\n\n\t\tmenuButton.addEventListener('click', (event) => {\n\t\t\tevent.stopPropagation();\n\t\t\tthis.player.emit(`show-${item}-menu`, true);\n\t\t});\n\n\t\tif (item === 'language') {\n\t\t\tthis.player.on('item', () => {\n\t\t\t\tmenuButton.style.display = 'none';\n\t\t\t});\n\t\t\tif (this.player.hasAudioTracks()) {\n\t\t\t\tmenuButton.style.display = 'flex';\n\t\t\t}\n\t\t\tthis.player.on('audioTracks', (tracks) => {\n\t\t\t\tif (tracks.length > 1) {\n\t\t\t\t\tmenuButton.style.display = 'flex';\n\t\t\t\t} else {\n\t\t\t\t\tmenuButton.style.display = 'none';\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse if (item === 'subtitles') {\n\t\t\tthis.player.on('item', () => {\n\t\t\t\tmenuButton.style.display = 'none';\n\t\t\t});\n\t\t\tif (this.player.hasCaptions()) {\n\t\t\t\tmenuButton.style.display = 'flex';\n\t\t\t}\n\t\t\tthis.player.on('captionsList', (captions) => {\n\t\t\t\tif (captions.length > 1) {\n\t\t\t\t\tmenuButton.style.display = 'flex';\n\t\t\t\t} else {\n\t\t\t\t\tmenuButton.style.display = 'none';\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse if (item === 'quality') {\n\t\t\tthis.player.on('item', () => {\n\t\t\t\tmenuButton.style.display = 'none';\n\t\t\t});\n\t\t\tif (this.player.hasQualities()) {\n\t\t\t\tmenuButton.style.display = 'flex';\n\t\t\t}\n\t\t\tthis.player.on('levels', (levels) => {\n\t\t\t\tif (levels.length > 1) {\n\t\t\t\t\tmenuButton.style.display = 'flex';\n\t\t\t\t} else {\n\t\t\t\t\tmenuButton.style.display = 'none';\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse if (item === 'playlist') {\n\t\t\tif (this.player.options.playlist && Array.isArray(this.player.options.playlist)) {\n\t\t\t\tmenuButton.style.display = 'flex';\n\t\t\t}\n\t\t\tthis.player.on('playlist', (playlist) => {\n\t\t\t\tif (playlist.length > 1) {\n\t\t\t\t\tmenuButton.style.display = 'flex';\n\t\t\t\t} else {\n\t\t\t\t\tmenuButton.style.display = 'none';\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tcreateLanguageMenu(parent: HTMLDivElement) {\n\t\tconst languageMenu = this.player.createElement('div', 'language-menu')\n\t\t\t.addClasses(this.subMenuContentStyles)\n\t\t\t.appendTo(parent);\n\n\t\tthis.createMenuHeader(languageMenu, 'Language');\n\n\t\tconst scrollContainer = this.player.createElement('div', 'language-scroll-container')\n\t\t\t.addClasses(this.scrollContainerStyles)\n\t\t\t.appendTo(languageMenu);\n\n\t\tscrollContainer.style.transform = 'translateX(0)';\n\n\t\tthis.player.on('item', () => {\n\t\t\tscrollContainer.innerHTML = '';\n\t\t});\n\n\t\tif (this.player.hasAudioTracks()) {\n\t\t\tObject.values(this.player.getAudioTracks()).forEach((track) => {\n\t\t\t\tthis.createLanguageMenuButton(scrollContainer, {\n\t\t\t\t\tlanguage: track.language!,\n\t\t\t\t\tlabel: track.label!,\n\t\t\t\t\ttype: 'audio',\n\t\t\t\t\tid: track.id!,\n\t\t\t\t\tbuttonType: 'audio',\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tthis.player.on('audioTracks', (tracks) => {\n\t\t\tscrollContainer.innerHTML = '';\n\n\t\t\tObject.values(tracks).forEach((track) => {\n\t\t\t\tthis.createLanguageMenuButton(scrollContainer, {\n\t\t\t\t\tlanguage: track.language!,\n\t\t\t\t\tlabel: track.label!,\n\t\t\t\t\ttype: 'audio',\n\t\t\t\t\tid: track.id!,\n\t\t\t\t\tbuttonType: 'audio',\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\tthis.player.on('show-language-menu', (showing) => {\n\t\t\tif (showing) {\n\t\t\t\tlanguageMenu.style.display = 'flex';\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t(scrollContainer.firstChild as HTMLButtonElement).focus();\n\t\t\t\t}, 200);\n\t\t\t} else {\n\t\t\t\tlanguageMenu.style.display = 'none';\n\t\t\t}\n\t\t});\n\n\t\treturn languageMenu;\n\t}\n\n\tcreateSubtitleMenu(parent: HTMLDivElement) {\n\t\tconst subtitleMenu = this.player.createElement('div', 'subtitle-menu')\n\t\t\t.addClasses(this.subMenuContentStyles)\n\t\t\t.appendTo(parent);\n\n\t\tthis.createMenuHeader(subtitleMenu, 'subtitles');\n\n\t\tconst scrollContainer = this.player.createElement('div', 'subtitle-scroll-container')\n\t\t\t.addClasses(this.scrollContainerStyles)\n\t\t\t.appendTo(subtitleMenu);\n\n\t\tscrollContainer.style.transform = 'translateX(0)';\n\n\t\tthis.player.on('item', () => {\n\t\t\tscrollContainer.innerHTML = '';\n\t\t});\n\n\t\tif (this.player.hasCaptions()) {\n\t\t\tObject.values(this.player.getCaptionsList()).forEach((track) => {\n\t\t\t\tthis.createLanguageMenuButton(scrollContainer, {\n\t\t\t\t\tlanguage: track.language!,\n\t\t\t\t\tlabel: track.label!,\n\t\t\t\t\ttype: track.type!,\n\t\t\t\t\tid: track.id!,\n\t\t\t\t\tbuttonType: 'subtitle',\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tthis.player.on('captionsList', (tracks) => {\n\t\t\tscrollContainer.innerHTML = '';\n\n\t\t\tObject.values(tracks).forEach((track) => {\n\t\t\t\tthis.createLanguageMenuButton(scrollContainer, {\n\t\t\t\t\tlanguage: track.language!,\n\t\t\t\t\tlabel: track.label!,\n\t\t\t\t\ttype: track.type!,\n\t\t\t\t\tid: track.id!,\n\t\t\t\t\tbuttonType: 'subtitle',\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\tthis.player.on('show-subtitles-menu', (showing) => {\n\t\t\tif (showing) {\n\t\t\t\tsubtitleMenu.style.display = 'flex';\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t(scrollContainer.firstChild as HTMLButtonElement).focus();\n\t\t\t\t}, 200);\n\t\t\t} else {\n\t\t\t\tsubtitleMenu.style.display = 'none';\n\t\t\t}\n\t\t});\n\n\t\treturn subtitleMenu;\n\t}\n\n\tcreateSpeedMenu(parent: HTMLDivElement, hovered = false) {\n\t\tconst speedMenu = this.player.createElement('div', 'speed-menu')\n\t\t\t.addClasses(this.subMenuContentStyles)\n\t\t\t.appendTo(parent);\n\n\t\tthis.createMenuHeader(speedMenu, 'speed');\n\n\t\tconst scrollContainer = this.player.createElement('div', 'speed-scroll-container')\n\t\t\t.addClasses(this.scrollContainerStyles)\n\t\t\t.appendTo(speedMenu);\n\n\t\tscrollContainer.style.transform = 'translateX(0)';\n\n\t\tfor (const speed of this.player.getSpeeds() ?? []) {\n\t\t\tconst speedButton = this.player.createElement('button', `speed-button-${speed}`)\n\t\t\t\t.addClasses(this.languageMenuStyles)\n\t\t\t\t.appendTo(scrollContainer);\n\n\t\t\tconst speedButtonSpan = this.player.createElement('span', `menu-button-text-${speed}`)\n\t\t\t\t.appendTo(speedButton);\n\n\t\t\tconst speedButtonText = this.player.createElement('span', `menu-button-text-${speed}`)\n\t\t\t\t.addClasses(this.menuButtonTextStyles)\n\t\t\t\t.appendTo(speedButtonSpan);\n\n\t\t\tspeedButtonText.innerText = speed == 1 ? this.player.localize('Normal') : speed.toString();\n\n\t\t\tconst chevron = this.createSVGElement(speedButton, 'menu', this.buttons.checkmark, false, hovered);\n\t\t\tthis.player.addClasses(chevron, [\n\t\t\t\t'ml-auto',\n\t\t\t\t'hidden',\n\t\t\t]);\n\n\t\t\tthis.player.on('speed', (event) => {\n\t\t\t\tif (event === speed) {\n\t\t\t\t\tchevron.classList.remove('hidden');\n\t\t\t\t} else {\n\t\t\t\t\tchevron.classList.add('hidden');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tspeedButton.addEventListener('click', () => {\n\t\t\t\tthis.player.emit('show-menu', false);\n\t\t\t\tthis.player.setSpeed(speed);\n\t\t\t});\n\t\t}\n\n\t\tthis.player.on('show-speed-menu', (showing) => {\n\t\t\tif (showing) {\n\t\t\t\tspeedMenu.style.display = 'flex';\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t(scrollContainer.firstChild as HTMLButtonElement).focus();\n\t\t\t\t}, 200);\n\t\t\t} else {\n\t\t\t\tspeedMenu.style.display = 'none';\n\t\t\t}\n\t\t});\n\n\t\treturn speedMenu;\n\t}\n\n\tcreateQualityMenu(parent: HTMLDivElement) {\n\t\tconst qualityMenu = this.player.createElement('div', 'quality-menu')\n\t\t\t.addClasses(this.subMenuContentStyles)\n\t\t\t.appendTo(parent);\n\n\t\tthis.createMenuHeader(qualityMenu, 'quality');\n\n\t\tconst scrollContainer = this.player.createElement('div', 'quality-scroll-container')\n\t\t\t.addClasses(this.scrollContainerStyles)\n\t\t\t.appendTo(qualityMenu);\n\n\t\tscrollContainer.style.transform = 'translateX(0)';\n\n\t\tthis.player.on('item', () => {\n\t\t\tscrollContainer.innerHTML = '';\n\t\t});\n\n\t\tif (this.player.hasQualities()) {\n\t\t\tObject.values(this.player.getQualityLevels()).forEach((level) => {\n\t\t\t\tthis.createQualityMenuButton(scrollContainer, {\n\t\t\t\t\tid: level.id,\n\t\t\t\t\twidth: level.width ?? 0,\n\t\t\t\t\theight: level.height ?? 0,\n\t\t\t\t\tlabel: level.label,\n\t\t\t\t\tbitrate: level.bitrate ?? 0,\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tthis.player.on('levels', (levels) => {\n\t\t\tscrollContainer.innerHTML = '';\n\n\t\t\tObject.values(levels).forEach((level) => {\n\t\t\t\tthis.createQualityMenuButton(scrollContainer, {\n\t\t\t\t\tid: level.id,\n\t\t\t\t\twidth: level.width ?? 0,\n\t\t\t\t\theight: level.height ?? 0,\n\t\t\t\t\tlabel: level.label,\n\t\t\t\t\tbitrate: level.bitrate ?? 0,\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\tthis.player.on('show-quality-menu', (showing) => {\n\t\t\tif (showing) {\n\t\t\t\tqualityMenu.style.display = 'flex';\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t(scrollContainer.firstChild as HTMLButtonElement).focus();\n\t\t\t\t}, 200);\n\t\t\t} else {\n\t\t\t\tqualityMenu.style.display = 'none';\n\t\t\t}\n\t\t});\n\n\t\treturn qualityMenu;\n\t}\n\n\tcreateQualityMenuButton(parent: HTMLDivElement, data: {\n\t\twidth: number;\n\t\tid: number;\n\t\tbitrate: number;\n\t\tlabel: string;\n\t\theight: number\n\t}, hovered = false) {\n\n\t\tconst qualityButton = this.player.createElement('button', `quality-button-${data.height}-${data.bitrate}`)\n\t\t\t.addClasses(this.languageMenuStyles)\n\t\t\t.appendTo(parent);\n\n\t\tconst qualityButtonText = this.player.createElement('span', 'menu-button-text')\n\t\t\t.addClasses(this.menuButtonTextStyles)\n\t\t\t.appendTo(qualityButton);\n\n\t\tqualityButtonText.innerText = `${this.player.localize((data.label)\n\t\t\t?.replace('segment-metadata', 'Off'))}`;\n\n\t\tconst chevron = this.createSVGElement(qualityButton, 'checkmark', this.buttons.checkmark, false, hovered);\n\t\tthis.player.addClasses(chevron, ['ml-auto']);\n\n\t\tif (data.id > 0) {\n\t\t\tchevron.classList.add('hidden');\n\t\t}\n\n\t\tthis.player.on('levelsChanging', (level) => {\n\t\t\tif (level.id == data.id) {\n\t\t\t\tchevron.classList.remove('hidden');\n\t\t\t} else {\n\t\t\t\tchevron.classList.add('hidden');\n\t\t\t}\n\t\t});\n\n\t\tqualityButton.addEventListener('click', (event) => {\n\t\t\tevent.stopPropagation();\n\n\t\t\tthis.player.setCurrentQuality(data.id);\n\n\t\t\tthis.player.emit('show-menu', false);\n\t\t});\n\n\t\treturn qualityButton;\n\t}\n\n\tcreateSeekRipple(parent: HTMLDivElement, side: string) {\n\n\t\tconst seekRipple = this.player.createElement('div', 'seek-ripple')\n\t\t\t.addClasses(['seek-ripple', side])\n\t\t\t.appendTo(parent);\n\n\t\tconst arrowHolder = this.player.createElement('div', 'seek-ripple-arrow')\n\t\t\t.addClasses(['seek-ripple-arrow'])\n\t\t\t.appendTo(seekRipple);\n\n\t\tconst text = this.player.createElement('p', 'seek-ripple-text')\n\t\t\t.addClasses(['seek-ripple-text'])\n\t\t\t.appendTo(seekRipple);\n\n\t\tif (side == 'left') {\n\t\t\tseekRipple.style.borderRadius = '0 50% 50% 0';\n\t\t\tseekRipple.style.left = '0px';\n\t\t\tarrowHolder.innerHTML = `\n\t\t\t\t<div class=\"arrow arrow2 arrow-left\"></div>\n\t\t\t\t<div class=\"arrow arrow1 arrow-left\"></div>\n\t\t\t\t<div class=\"arrow arrow3 arrow-left\"></div>\n\t\t\t`;\n\t\t\tthis.player.on('rewind', (val: number) => {\n\t\t\t\ttext.innerText = `${Math.abs(val)} ${this.player.localize('seconds')}`;\n\t\t\t\tseekRipple.style.display = 'flex';\n\t\t\t});\n\t\t\tthis.player.on('remove-rewind', () => {\n\t\t\t\tseekRipple.style.display = 'none';\n\t\t\t});\n\t\t} else if (side == 'right') {\n\t\t\tseekRipple.style.borderRadius = '50% 0 0 50%';\n\t\t\tseekRipple.style.right = '0px';\n\t\t\tarrowHolder.innerHTML = `\n\t\t\t\t<div class=\"arrow arrow3 arrow-right\"></div>\n\t\t\t\t<div class=\"arrow arrow1 arrow-right\"></div>\n\t\t\t\t<div class=\"arrow arrow2 arrow-right\"></div>\n\t\t\t`;\n\t\t\tthis.player.on('forward', (val: number) => {\n\t\t\t\ttext.innerText = `${Math.abs(val)} ${this.player.localize('seconds')}`;\n\t\t\t\tseekRipple.style.display = 'flex';\n\t\t\t});\n\t\t\tthis.player.on('remove-forward', () => {\n\t\t\t\tseekRipple.style.display = 'none';\n\t\t\t});\n\t\t}\n\n\t\treturn seekRipple;\n\t}\n\n\tcreateProgressBar(parent: HTMLDivElement) {\n\n\t\tthis.sliderBar = this.player.createElement('div', 'slider-bar')\n\t\t\t.addClasses([\n\t\t\t\t'slider-bar',\n\t\t\t\t'bg-white/20',\n\t\t\t\t'flex',\n\t\t\t\t'group/slider',\n\t\t\t\t'h-2',\n\t\t\t\t'mx-4',\n\t\t\t\t'pointer-events-auto',\n\t\t\t\t'relative',\n\t\t\t\t'rounded-full',\n\t\t\t\t'w-available',\n\t\t\t])\n\t\t\t.appendTo(parent);\n\n\t\tconst sliderBuffer = this.player.createElement('div', 'slider-buffer')\n\t\t\t.addClasses([\n\t\t\t\t'slider-buffer',\n\t\t\t\t'absolute',\n\t\t\t\t'bg-white/20',\n\t\t\t\t'flex',\n\t\t\t\t'h-full',\n\t\t\t\t'overflow-clip',\n\t\t\t\t'overflow-hidden',\n\t\t\t\t'pointer-events-none',\n\t\t\t\t'rounded-full',\n\t\t\t\t'z-0',\n\t\t\t])\n\t\t\t.appendTo(this.sliderBar);\n\n\t\tconst sliderHover = this.player.createElement('div', 'slider-hover')\n\t\t\t.addClasses([\n\t\t\t\t'slider-hover',\n\t\t\t\t'absolute',\n\t\t\t\t'bg-white/30',\n\t\t\t\t'flex',\n\t\t\t\t'h-full',\n\t\t\t\t'opacity-1',\n\t\t\t\t'overflow-clip',\n\t\t\t\t'overflow-hidden',\n\t\t\t\t'pointer-events-none',\n\t\t\t\t'rounded-full',\n\t\t\t\t'z-0',\n\t\t\t])\n\t\t\t.appendTo(this.sliderBar);\n\n\t\tconst sliderProgress = this.player.createElement('div', 'slider-progress')\n\t\t\t.addClasses([\n\t\t\t\t'slider-progress',\n\t\t\t\t'absolute',\n\t\t\t\t'bg-white',\n\t\t\t\t'flex',\n\t\t\t\t'h-full',\n\t\t\t\t'overflow-clip',\n\t\t\t\t'overflow-hidden',\n\t\t\t\t'pointer-events-none',\n\t\t\t\t'rounded-full',\n\t\t\t\t'z-10',\n\t\t\t])\n\t\t\t.appendTo(this.sliderBar);\n\n\t\tthis.chapterBar = this.player.createElement('div', 'chapter-progress')\n\t\t\t.addClasses([\n\t\t\t\t'chapter-bar',\n\t\t\t\t'bg-transparent',\n\t\t\t\t'flex',\n\t\t\t\t'h-2',\n\t\t\t\t'overflow-clip',\n\t\t\t\t'relative',\n\t\t\t\t'rounded-full',\n\t\t\t\t'w-available',\n\t\t\t])\n\t\t\t.appendTo(this.sliderBar);\n\n\t\tconst sliderNipple = document.createElement('div');\n\t\tthis.player.addClasses(sliderNipple, [\n\t\t\t'slider-nipple',\n\t\t\t'!-translate-x-1/2',\n\t\t\t'!-translate-y-1/4',\n\t\t\t'absolute',\n\t\t\t'bg-white',\n\t\t\t'group-hover/slider:flex',\n\t\t\t'h-4',\n\t\t\t'hidden',\n\t\t\t'left-0',\n\t\t\t'rounded-full',\n\t\t\t'top-0',\n\t\t\t'w-4',\n\t\t\t'z-20',\n\t\t]);\n\t\tsliderNipple.id = 'slider-nipple';\n\n\t\tif (this.player.options.nipple != false) {\n\t\t\tthis.sliderBar.append(sliderNipple);\n\t\t}\n\n\t\tconst sliderPop = this.player.createElement('div', 'slider-pop')\n\t\t\t.addClasses([\n\t\t\t\t'slider-pop',\n\t\t\t\t'-translate-x-1/2',\n\t\t\t\t'absolute',\n\t\t\t\t'bg-neutral-900/95',\n\t\t\t\t'bottom-4',\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'font-semibold',\n\t\t\t\t'gap-1',\n\t\t\t\t'hover:scale-110',\n\t\t\t\t'overflow-clip',\n\t\t\t\t'pb-1',\n\t\t\t\t'pointer-events-none',\n\t\t\t\t'rounded-md',\n\t\t\t\t'text-center',\n\t\t\t\t'z-20',\n\t\t\t])\n\t\t\t.appendTo(this.sliderBar);\n\n\t\tsliderPop.style.setProperty('--visibility', '0');\n\t\tsliderPop.style.opacity = 'var(--visibility)';\n\n\t\tthis.sliderPopImage = this.player.createElement('div', 'slider-pop-image')\n\t\t\t.addClasses(['slider-pop-image'])\n\t\t\t.appendTo(sliderPop);\n\n\t\tconst sliderText = this.player.createElement('div', 'slider-text')\n\t\t\t.addClasses([\n\t\t\t\t'slider-pop-text',\n\t\t\t\t'font-mono',\n\t\t\t])\n\t\t\t.appendTo(sliderPop);\n\n\t\tthis.chapterText = this.player.createElement('div', 'chapter-text')\n\t\t\t.addClasses(['chapter-text'])\n\t\t\t.appendTo(sliderPop);\n\n\t\tif (this.player.options.chapters && !this.player.isTv() && this.player.getChapters()?.length > 0) {\n\t\t\tthis.sliderBar.style.background = '';\n\t\t}\n\n\t\t['mousedown', 'touchstart'].forEach((event) => {\n\t\t\tthis.sliderBar.addEventListener(event, () => {\n\t\t\t\tif (this.isMouseDown) return;\n\n\t\t\t\tthis.isMouseDown = true;\n\t\t\t\tthis.isScrubbing = true;\n\t\t\t}, {\n\t\t\t\tpassive: true,\n\t\t\t});\n\t\t});\n\n\t\tthis.bottomBar.addEventListener('click', (e: any) => {\n\t\t\tthis.player.emit('hide-tooltip');\n\t\t\tif (!this.isMouseDown) return;\n\n\t\t\tthis.isMouseDown = false;\n\t\t\tthis.isScrubbing = false;\n\t\t\tsliderPop.style.setProperty('--visibility', '0');\n\t\t\tconst scrubTime = this.getScrubTime(e);\n\t\t\tsliderNipple.style.left = `${scrubTime.scrubTime}%`;\n\t\t\tthis.player.seek(scrubTime.scrubTimePlayer);\n\t\t}, {\n\t\t\tpassive: true,\n\t\t});\n\n\t\t['mousemove', 'touchmove'].forEach((event) => {\n\t\t\tthis.sliderBar.addEventListener(event, (e: any) => {\n\t\t\t\tconst scrubTime = this.getScrubTime(e);\n\t\t\t\tthis.getSliderPopImage(scrubTime);\n\t\t\t\tsliderText.innerText = humanTime(scrubTime.scrubTimePlayer);\n\n\t\t\t\tconst sliderPopOffsetX = this.getSliderPopOffsetX(sliderPop, scrubTime);\n\t\t\t\tsliderPop.style.left = `${sliderPopOffsetX}%`;\n\n\t\t\t\tif (!this.player.options.chapters || this.player.getChapters()?.length == 0) {\n\t\t\t\t\tsliderHover.style.width = `${scrubTime.scrubTime}%`;\n\t\t\t\t}\n\n\t\t\t\tif (!this.isMouseDown) return;\n\n\t\t\t\tthis.chapterText.innerText = this.getChapterText(scrubTime.scrubTimePlayer) ?? '';\n\t\t\t\tsliderNipple.style.left = `${scrubTime.scrubTime}%`;\n\t\t\t\tif (this.previewTime.length > 0) {\n\t\t\t\t\tsliderPop.style.setProperty('--visibility', '1');\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\tpassive: true,\n\t\t\t});\n\t\t});\n\t\tthis.sliderBar.addEventListener('mouseover', (e: MouseEvent) => {\n\t\t\tconst scrubTime = this.getScrubTime(e);\n\t\t\tthis.getSliderPopImage(scrubTime);\n\t\t\tsliderText.innerText = humanTime(scrubTime.scrubTimePlayer);\n\t\t\tthis.chapterText.innerText = this.getChapterText(scrubTime.scrubTimePlayer) ?? '';\n\t\t\tif (this.previewTime.length > 0) {\n\t\t\t\tsliderPop.style.setProperty('--visibility', '1');\n\t\t\t\tconst sliderPopOffsetX = this.getSliderPopOffsetX(sliderPop, scrubTime);\n\t\t\t\tsliderPop.style.left = `${sliderPopOffsetX}%`;\n\t\t\t}\n\t\t}, {\n\t\t\tpassive: true,\n\t\t});\n\n\t\tthis.player.on('active', (value) => {\n\t\t\tif (value) return;\n\t\t\tsliderPop.style.setProperty('--visibility', '0');\n\t\t});\n\n\t\tthis.sliderBar.addEventListener('mouseleave', () => {\n\t\t\tsliderPop.style.setProperty('--visibility', '0');\n\t\t\tsliderHover.style.width = '0';\n\t\t}, {\n\t\t\tpassive: true,\n\t\t});\n\n\t\tthis.player.on('seeked', () => {\n\t\t\tsliderPop.style.setProperty('--visibility', '0');\n\t\t});\n\n\t\tthis.player.on('item', () => {\n\t\t\tthis.sliderBar.classList.add('bg-white/20');\n\t\t\tthis.previewTime = [];\n\t\t\tthis.chapters = [];\n\t\t\tsliderBuffer.style.width = '0';\n\t\t\tsliderProgress.style.width = '0';\n\t\t\tthis.fetchPreviewTime();\n\t\t});\n\n\t\tthis.player.on('chapters', () => {\n\t\t\tif (this.player.getChapters()?.length > 0 && !this.player.isTv()) {\n\t\t\t\tthis.sliderBar.classList.remove('bg-white/20');\n\t\t\t} else {\n\t\t\t\tthis.sliderBar.classList.add('bg-white/20');\n\t\t\t}\n\t\t});\n\n\t\tthis.player.on('time', (data) => {\n\t\t\tif (this.player.getChapters()?.length == 0) {\n\t\t\t\tsliderProgress.style.width = `${data.percentage}%`;\n\t\t\t}\n\t\t\tif (!this.isScrubbing) {\n\t\t\t\tsliderNipple.style.left = `${data.percentage}%`;\n\t\t\t}\n\t\t});\n\n\t\tthis.player.on('controls', (showing) => {\n\t\t\tif (!showing) {\n\t\t\t\tsliderPop.style.setProperty('--visibility', '0');\n\t\t\t\tthis.menuFrame.close();\n\t\t\t}\n\t\t});\n\n\t\tthis.player.on('pip-internal', (data) => {\n\t\t\tif (data) {\n\t\t\t\tthis.sliderBar.style.display = 'none';\n\t\t\t} else {\n\t\t\t\tthis.sliderBar.style.display = 'flex';\n\t\t\t}\n\t\t});\n\n\t\treturn this.sliderBar;\n\t}\n\n\tgetChapterText(scrubTimePlayer: number): string | null {\n\t\tif (this.player.getChapters().length == 0) return null;\n\n\t\tconst index = this.player.getChapters()?.findIndex((chapter: Chapter) => {\n\t\t\treturn chapter.startTime > scrubTimePlayer;\n\t\t});\n\n\t\treturn this.player.getChapters()[index - 1]?.title\n\t\t\t?? this.player.getChapters()[this.player.getChapters()?.length - 1]?.title\n\t\t\t?? null;\n\t}\n\n\tcreateChapterMarker(chapter: Chapter) {\n\t\tconst chapterMarker = this.player.createElement('div', `chapter-marker-${chapter.id.replace(/\\s/gu, '-')}`)\n\t\t\t.addClasses([\n\t\t\t\t'chapter-marker',\n\t\t\t\t'[&:last-child(2):.5px]',\n\t\t\t\t'absolute',\n\t\t\t\t'h-available',\n\t\t\t\t'last:translate-x-[1.5px]',\n\t\t\t\t'min-w-[2px]',\n\t\t\t\t'overflow-hidden',\n\t\t\t\t'rounded-sm',\n\t\t\t])\n\t\t\t.appendTo(this.chapterBar);\n\t\tchapterMarker.style.left = `${chapter.left}%`;\n\t\tchapterMarker.style.width = `calc(${chapter.width}% - 2px)`;\n\n\t\tthis.player.createElement('div', `chapter-marker-bg-${chapter.id.replace(/\\s/gu, '-')}`)\n\t\t\t.addClasses([\n\t\t\t\t'chapter-marker-bg',\n\t\t\t\t'absolute',\n\t\t\t\t'bg-white/20',\n\t\t\t\t'h-available',\n\t\t\t\t'left-0',\n\t\t\t\t'rounded-sm',\n\t\t\t\t'w-available',\n\t\t\t\t'z-0',\n\t\t\t])\n\t\t\t.appendTo(chapterMarker);\n\n\t\tconst chapterMarkerHover = this.player.createElement('div', `chapter-marker-hover-${chapter.id.replace(/\\s/gu, '-')}`)\n\t\t\t.addClasses([\n\t\t\t\t'chapter-marker-hover',\n\t\t\t\t'absolute',\n\t\t\t\t'bg-gray-200',\n\t\t\t\t'h-available',\n\t\t\t\t'left-0',\n\t\t\t\t'origin-left',\n\t\t\t\t'rounded-sm',\n\t\t\t\t'scale-x-0',\n\t\t\t\t'w-available',\n\t\t\t\t'z-10',\n\t\t\t])\n\t\t\t.appendTo(chapterMarker);\n\n\t\tconst chapterMarkerProgress = this.player.createElement('div', `chapter-marker-progress-${chapter.id.replace(/\\s/gu, '-')}`)\n\t\t\t.addClasses([\n\t\t\t\t'chapter-marker-progress',\n\t\t\t\t'absolute',\n\t\t\t\t'bg-white',\n\t\t\t\t'h-available',\n\t\t\t\t'left-0',\n\t\t\t\t'origin-left',\n\t\t\t\t'rounded-sm',\n\t\t\t\t'scale-x-0',\n\t\t\t\t'w-available',\n\t\t\t\t'z-20',\n\t\t\t])\n\t\t\t.appendTo(chapterMarker);\n\n\t\tconst left = chapter.left;\n\t\tconst right = chapter.left + chapter.width;\n\n\t\tthis.player.on('time', (data) => {\n\t\t\tif (data.percentage < left) {\n\t\t\t\tchapterMarkerProgress.style.transform = 'scaleX(0)';\n\t\t\t} else if (data.percentage > right) {\n\t\t\t\tchapterMarkerProgress.style.transform = 'scaleX(1)';\n\t\t\t} else {\n\t\t\t\tchapterMarkerProgress.style.transform = `scaleX(${(data.percentage - left) / (right - left)})`;\n\t\t\t}\n\t\t});\n\n\t\t['mousemove', 'touchmove'].forEach((event) => {\n\t\t\tthis.chapterBar.addEventListener(event, (e: any) => {\n\t\t\t\tconst { scrubTime } = this.getScrubTime(e);\n\n\t\t\t\tif (scrubTime < left) {\n\t\t\t\t\tchapterMarkerHover.style.transform = 'scaleX(0)';\n\t\t\t\t} else if (scrubTime > right) {\n\t\t\t\t\tchapterMarkerHover.style.transform = 'scaleX(1)';\n\t\t\t\t} else {\n\t\t\t\t\tchapterMarkerHover.style.transform = `scaleX(${(scrubTime - left) / (right - left)})`;\n\t\t\t\t}\n\n\t\t\t});\n\t\t});\n\n\t\tthis.chapterBar.addEventListener('mouseleave', () => {\n\t\t\tchapterMarkerHover.style.transform = 'scaleX(0)';\n\t\t});\n\n\t\treturn chapterMarker;\n\t}\n\n\tcreateChapterMarkers() {\n\t\tif (this.player.isTv()) return;\n\n\t\tthis.chapterBar.style.background = '';\n\n\t\tthis.player.on('item', () => {\n\t\t\tthis.chapterBar.style.background = '';\n\t\t});\n\n\t\tthis.chapterBar.querySelectorAll('.chapter-marker').forEach((element) => {\n\t\t\tthis.chapterBar.classList.add('bg-white/20');\n\t\t\telement.remove();\n\t\t});\n\t\tthis.player.getChapters()?.forEach((chapter: Chapter) => {\n\t\t\tthis.createChapterMarker(chapter);\n\t\t});\n\t}\n\n\tgetSliderPopOffsetX(sliderPop: HTMLDivElement, scrubTime: any) {\n\t\tconst sliderBarRect = this.sliderBar.getBoundingClientRect();\n\t\tconst sliderPopRect = sliderPop.getBoundingClientRect();\n\t\tconst sliderPopPercentageWidth = ((sliderPopRect.width * 0.5) / sliderBarRect.width) * 100;\n\t\tlet offsetX = scrubTime.scrubTime;\n\t\tif (offsetX <= sliderPopPercentageWidth) {\n\t\t\toffsetX = sliderPopPercentageWidth;\n\t\t}\n\t\tif (offsetX >= 100 - sliderPopPercentageWidth) {\n\t\t\toffsetX = 100 - sliderPopPercentageWidth;\n\t\t}\n\n\t\treturn offsetX;\n\t}\n\n\tcreateEpisodeMenu(parent: HTMLDivElement) {\n\t\tif (!this.player.getVideoElement())\treturn;\n\n\t\tconst playlistMenu = this.player.createElement('div', 'playlist-menu')\n\t\t\t.addClasses([\n\t\t\t\t...this.subMenuContentStyles,\n\t\t\t\t'!flex-row',\n\t\t\t\t'!gap-0',\n\t\t\t])\n\t\t\t.appendTo(parent);\n\n\t\tconst subMenu = this.player.createElement('div', 'sub-menu-content')\n\t\t\t.addClasses([\n\t\t\t\t...this.subMenuContentStyles,\n\t\t\t\t'!w-1/3',\n\t\t\t\t'border-r-2',\n\t\t\t\t'border-gray-500/20',\n\t\t\t])\n\t\t\t.appendTo(playlistMenu);\n\n\t\tthis.createMenuHeader(subMenu, 'Seasons');\n\n\t\tconst seasonScrollContainer = this.player.createElement('div', 'playlist-scroll-container')\n\t\t\t.addClasses(this.scrollContainerStyles)\n\t\t\t.appendTo(subMenu);\n\t\tseasonScrollContainer.style.transform = 'translateX(0)';\n\n\t\tseasonScrollContainer.innerHTML = '';\n\t\tfor (const [, item] of unique(this.player.getPlaylist(), 'season').entries() ?? []) {\n\t\t\tthis.createSeasonMenuButton(seasonScrollContainer, item);\n\t\t}\n\n\t\tconst episodeMenu = this.player.createElement('div', 'episode-menu')\n\t\t\t.addClasses([\n\t\t\t\t...this.subMenuContentStyles,\n\t\t\t\t'!w-[63rem]',\n\t\t\t])\n\t\t\t.appendTo(playlistMenu);\n\n\t\tthis.createMainMenuHeader(episodeMenu);\n\n\t\tconst scrollContainer = this.player.createElement('div', 'playlist-scroll-container')\n\t\t\t.addClasses(this.scrollContainerStyles)\n\t\t\t.appendTo(episodeMenu);\n\n\t\tscrollContainer.innerHTML = '';\n\t\tscrollContainer.tabIndex = 1;\n\n\t\tscrollContainer.addEventListener('focus', () => {\n\t\t\t(scrollContainer.firstChild as HTMLButtonElement)?.focus();\n\t\t});\n\n\t\tfor (const [index, item] of this.player.getPlaylist().entries() ?? []) {\n\t\t\tthis.createEpisodeMenuButton(scrollContainer, item, index);\n\t\t}\n\n\t\tthis.player.on('show-playlist-menu', (showing) => {\n\t\t\tif (showing) {\n\t\t\t\tplaylistMenu.style.display = 'flex';\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t(scrollContainer.firstChild as HTMLButtonElement).focus();\n\t\t\t\t}, 200);\n\t\t\t} else {\n\t\t\t\tplaylistMenu.style.display = 'none';\n\t\t\t}\n\t\t});\n\n\t\treturn playlistMenu;\n\t}\n\n\tcreateSeasonMenuButton(parent: HTMLDivElement, item: PlaylistItem, hovered = false) {\n\t\tif (!item?.season) return;\n\n\t\tconst seasonButton = this.player.createElement('button', `season-${item.id}`)\n\t\t\t.addClasses(this.languageMenuStyles)\n\t\t\t.appendTo(parent);\n\n\t\tconst buttonSpan = this.player.createElement('span', `season-${item.id}-span`)\n\t\t\t.addClasses(this.menuButtonTextStyles)\n\t\t\t.appendTo(seasonButton);\n\n\t\tbuttonSpan.innerText = item?.seasonName\n\t\t\t? item?.seasonName\n\t\t\t: item?.season\n\t\t\t\t? this.player.localize('Season') + ` ${item?.season}`\n\t\t\t\t: '';\n\n\t\tconst chevron = this.createSVGElement(seasonButton, 'menu', this.buttons.chevronR, false, hovered);\n\t\tthis.player.addClasses(chevron, ['ml-auto']);\n\n\t\tseasonButton.addEventListener('click', () => {\n\t\t\tthis.player.emit('switch-season', item?.season);\n\t\t});\n\n\t\tseasonButton.addEventListener('focus', () => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.scrollCenter(seasonButton, parent, {\n\t\t\t\t\tduration: 100,\n\t\t\t\t\tmargin: 1,\n\t\t\t\t});\n\t\t\t}, 50);\n\t\t});\n\n\t\treturn seasonButton;\n\t}\n\n\tcreateEpisodeMenuButton(parent: HTMLDivElement, item: PlaylistItem, index: number) {\n\n\t\tconst button = this.player.createElement('button', `playlist-${item.id}`)\n\t\t\t.addClasses([\n\t\t\t\t'playlist-menu-button',\n\t\t\t\t'duration-300',\n\t\t\t\t'flex',\n\t\t\t\t'focus-visible:outline-2',\n\t\t\t\t'focus-visible:outline-white',\n\t\t\t\t'gap-2',\n\t\t\t\t'hover:bg-neutral-600/20',\n\t\t\t\t'outline',\n\t\t\t\t'outline-1',\n\t\t\t\t'outline-solid',\n\t\t\t\t'outline-transparent',\n\t\t\t\t'p-2',\n\t\t\t\t'relative',\n\t\t\t\t'rounded-lg',\n\t\t\t\t'snap-center',\n\t\t\t\t'text-white',\n\t\t\t\t'transition-all',\n\t\t\t\t'w-available',\n\t\t\t])\n\t\t\t.appendTo(parent);\n\n\t\tif (this.player.playlistItem()?.season !== 1) {\n\t\t\tbutton.style.display = 'none';\n\t\t}\n\n\t\tconst leftSide = this.player.createElement('div', `playlist-${item.id}-left`)\n\t\t\t.addClasses([\n\t\t\t\t'episode-menu-button-left',\n\t\t\t\t'h-available',\n\t\t\t\t'overflow-clip',\n\t\t\t\t'pointer-events-none',\n\t\t\t\t'relative',\n\t\t\t\t'rounded-md',\n\t\t\t\t'self-center',\n\t\t\t\t'w-[30%]',\n\t\t\t])\n\t\t\t.appendTo(button);\n\n\t\tthis.player.createElement('div', `episode-${item.id}-shadow`)\n\t\t\t.addClasses([\n\t\t\t\t'episode-menu-button-shadow',\n\t\t\t\t'!h-available',\n\t\t\t\t'absolute',\n\t\t\t\t'bg-[linear-gradient(0deg,rgba(0,0,0,0.87)_0%,rgba(0,0,0,0.7)_25%,rgba(0,0,0,0)_50%,rgba(0,0,0,0)_100%)]',\n\t\t\t\t'bottom-0',\n\t\t\t\t'left-0',\n\t\t\t\t'shadow-[inset_0px_1px_0px_rgba(255,255,255,0.24),inset_0px_-1px_0px_rgba(0,0,0,0.24),inset_0px_-2px_0px_rgba(0,0,0,0.24)]',\n\t\t\t\t'w-available',\n\t\t\t])\n\t\t\t.appendTo(leftSide);\n\n\t\tconst image = this.player.createElement('img', `episode-${item.id}-image`)\n\t\t\t.addClasses([\n\t\t\t\t'episode-menu-button-image',\n\t\t\t\t'aspect-video',\n\t\t\t\t'h-auto',\n\t\t\t\t'object-cover',\n\t\t\t\t'w-available',\n\t\t\t])\n\t\t\t.appendTo(leftSide);\n\t\timage.setAttribute('loading', 'lazy');\n\t\timage.src = item.image && item.image != '' ? `${this.imageBaseUrl.includes('https') ? '' : this.imageBaseUrl}${item.image}` : '';\n\n\t\tconst progressContainer = this.player.createElement('div', `episode-${item.id}-progress-container`)\n\t\t\t.addClasses([\n\t\t\t\t'episode-menu-progress-container',\n\t\t\t\t'absolute',\n\t\t\t\t'bottom-0',\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'px-3',\n\t\t\t\t'w-available',\n\t\t\t])\n\t\t\t.appendTo(leftSide);\n\n\t\tconst progressContainerItemBox = this.player.createElement('div', `episode-${item.id}-progress-box`)\n\t\t\t.addClasses([\n\t\t\t\t'episode-menu-progress-box',\n\t\t\t\t'flex',\n\t\t\t\t'h-available',\n\t\t\t\t'justify-between',\n\t\t\t\t'mb-1',\n\t\t\t\t'px-1',\n\t\t\t\t'sm:mx-2',\n\t\t\t])\n\t\t\t.appendTo(progressContainer);\n\n\n\t\tconst progressContainerItemText = this.player.createElement('div', `episode-${item.id}-progress-item`)\n\t\t\t.addClasses([\n\t\t\t\t'progress-item-text',\n\t\t\t\t'text-[0.7rem]',\n\t\t\t])\n\t\t\t.appendTo(progressContainerItemBox);\n\n\t\tif (item.episode) {\n\t\t\tprogressContainerItemText.innerText = `${this.player.localize('E')}${item.episode}`;\n\t\t}\n\n\t\tconst progressContainerDurationText = this.player.createElement('div', `episode-${item.id}-progress-duration`)\n\t\t\t.addClasses([\n\t\t\t\t'progress-duration',\n\t\t\t\t'text-[0.7rem]',\n\t\t\t])\n\t\t\t.appendTo(progressContainerItemBox);\n\t\tprogressContainerDurationText.innerText = item.duration?.replace(/^00:/u, '') ?? '';\n\n\t\tconst sliderContainer = this.player.createElement('div', `episode-${item.id}-slider-container`)\n\t\t\t.addClasses([\n\t\t\t\t'slider-container',\n\t\t\t\t'bg-gray-500/80',\n\t\t\t\t'h-1',\n\t\t\t\t'hidden',\n\t\t\t\t'mb-2',\n\t\t\t\t'mx-1',\n\t\t\t\t'overflow-clip',\n\t\t\t\t'rounded-md',\n\t\t\t\t'sm:mx-2',\n\t\t\t])\n\t\t\t.appendTo(progressContainer);\n\n\t\tconst progressBar = this.player.createElement('div', `episode-${item.id}-progress-bar`)\n\t\t\t.addClasses([\n\t\t\t\t'progress-bar',\n\t\t\t\t'bg-white',\n\t\t\t])\n\t\t\t.appendTo(sliderContainer);\n\n\t\tif (item.progress?.time) {\n\t\t\tprogressBar.style.width = `${(item.progress.time / convertToSeconds(item.duration)) * 100}%`;\n\t\t\tsliderContainer.style.display = 'flex';\n\t\t}\n\n\t\tconst episodeMenuButtonRightSide = this.player.createElement('div', `episode-${item.id}-right-side`)\n\t\t\t.addClasses([\n\t\t\t\t'playlist-card-right',\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'gap-1',\n\t\t\t\t'pointer-events-none',\n\t\t\t\t'text-left',\n\t\t\t\t'w-3/4',\n\t\t\t])\n\t\t\t.appendTo(button);\n\n\t\tconst episodeMenuButtonTitle = this.player.createElement('span', `episode-${item.id}-title`)\n\t\t\t.addClasses([\n\t\t\t\t'playlist-menu-button-title',\n\t\t\t\t'font-bold',\n\t\t\t\t'line-clamp-2',\n\t\t\t\t'text-white',\n\t\t\t])\n\t\t\t.appendTo(episodeMenuButtonRightSide);\n\n\t\tif (item.episode) {\n\t\tepisodeMenuButtonTitle.innerText = lineBreakShowTitle(item.title?.replace(item.show ?? '', '').replace('%S', this.player.localize('S'))\n\t\t\t.replace('%E', this.player.localize('E')));\n\t\t}\n\n\t\tconst episodeMenuButtonOverview = this.player.createElement('span', `episode-${item.id}-overview`)\n\t\t\t.addClasses([\n\t\t\t\t'playlist-menu-button-overview',\n\t\t\t\t'leading-[1rem]',\n\t\t\t\t'line-clamp-4',\n\t\t\t\t'overflow-hidden',\n\t\t\t\t'text-[0.7rem]',\n\t\t\t\t'text-white',\n\t\t\t])\n\t\t\t.appendTo(episodeMenuButtonRightSide);\n\t\tepisodeMenuButtonOverview.innerText = limitSentenceByCharacters(item.description, 600);\n\n\t\tthis.player.on('item', (playlistItem) => {\n\t\t\tif (playlistItem.season == item.season) {\n\t\t\t\tbutton.style.display = 'flex';\n\t\t\t} else {\n\t\t\t\tbutton.style.display = 'none';\n\t\t\t}\n\n\t\t\tif (this.player.playlistItem().season == item.season && this.player.playlistItem().episode == item.episode) {\n\t\t\t\tbutton.style.background = 'rgba(255,255,255,.1)';\n\t\t\t} else {\n\t\t\t\tbutton.style.background = '';\n\t\t\t}\n\t\t});\n\n\t\tthis.player.on('switch-season', (season) => {\n\t\t\tif (season == item.season) {\n\t\t\t\tbutton.style.display = 'flex';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tbutton.style.display = 'none';\n\t\t\t}\n\t\t});\n\n\t\tthis.player.on('time', (data) => {\n\t\t\tif (this.player.playlistItem()?.id == item.id) {\n\t\t\t\tprogressBar.style.width = `${data.percentage}%`;\n\t\t\t\tif (data.percentage > 0) {\n\t\t\t\t\tsliderContainer.style.display = 'flex';\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (item.episode && item.show) {\n\t\t\tprogressContainerItemText.innerText\n\t\t\t\t= item.season == undefined ? `${item.episode}` : `${this.player.localize('S')}${item.season}: ${this.player.localize('E')}${item.episode}`;\n\t\t}\n\n\t\tbutton.addEventListener('click', () => {\n\t\t\tthis.player.emit('show-menu', false);\n\n\t\t\tif (item.episode && item.season) {\n\t\t\t\tthis.setEpisode(item.season, item.episode);\n\t\t\t} else {\n\t\t\t\tthis.player.playlistItem(index);\n\t\t\t}\n\t\t\tthis.player.emit('playlist-menu-button-clicked', item);\n\t\t});\n\n\t\tbutton.addEventListener('focus', () => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.scrollCenter(button, parent, {\n\t\t\t\t\tduration: 100,\n\t\t\t\t\tmargin: 1,\n\t\t\t\t});\n\t\t\t}, 50);\n\t\t});\n\n\t\treturn button;\n\t}\n\n\tcreateToolTip(parent: HTMLDivElement) {\n\t\tthis.tooltip = this.player.createElement('div', 'tooltip')\n\t\t\t.addClasses([\n\t\t\t\t'tooltip',\n\t\t\t\t'absolute',\n\t\t\t\t'bg-neutral-900/95',\n\t\t\t\t'bottom-0',\n\t\t\t\t'font-medium',\n\t\t\t\t'hidden',\n\t\t\t\t'left-0',\n\t\t\t\t'pointer-events-none',\n\t\t\t\t'px-3',\n\t\t\t\t'py-2',\n\t\t\t\t'rounded-lg',\n\t\t\t\t'text-white',\n\t\t\t\t'text-xs',\n\t\t\t\t'z-50',\n\t\t\t])\n\t\t\t.appendTo(parent);\n\n\t\tthis.tooltip.style.transform = 'translateX(10px)';\n\t\tthis.tooltip.innerText = 'Play (space)';\n\n\t\tthis.player.on('show-tooltip', (data) => {\n\t\t\tthis.tooltip.innerText = data.text;\n\t\t\tthis.tooltip.style.display = 'block';\n\t\t\tthis.tooltip.style.transform = `translate(calc(${data.x} - 50%), calc(${data.y} - 100%))`;\n\t\t\tif (data.currentTime == 'top') {\n\t\t\t\tthis.tooltip.classList.add('top-0');\n\t\t\t\tthis.tooltip.classList.remove('bottom-0');\n\t\t\t} else {\n\t\t\t\tthis.tooltip.classList.remove('top-0');\n\t\t\t\tthis.tooltip.classList.add('bottom-0');\n\t\t\t}\n\t\t});\n\n\t\tthis.player.on('hide-tooltip', () => {\n\t\t\tthis.tooltip.style.display = 'none';\n\t\t});\n\n\t\treturn this.tooltip;\n\t}\n\n\tcreateEpisodeTip(parent: HTMLDivElement) {\n\n\t\tconst nextTip = this.player.createElement('div', 'episode-tip')\n\t\t\t.addClasses([\n\t\t\t\t'episode-tip',\n\t\t\t\t'!w-96',\n\t\t\t\t'-bottom-10',\n\t\t\t\t'absolute',\n\t\t\t\t'bg-neutral-900/95',\n\t\t\t\t'font-medium',\n\t\t\t\t'gap-2',\n\t\t\t\t'h-24',\n\t\t\t\t'hidden',\n\t\t\t\t'left-0',\n\t\t\t\t'px-2',\n\t\t\t\t'py-2',\n\t\t\t\t'rounded-lg',\n\t\t\t\t'text-white',\n\t\t\t\t'text-xs',\n\t\t\t\t'z-50',\n\t\t\t])\n\t\t\t.appendTo(parent);\n\n\t\tconst leftSide = this.player.createElement('div', 'next-tip-left')\n\t\t\t.addClasses([\n\t\t\t\t'next-tip-left',\n\t\t\t\t'overflow-clip',\n\t\t\t\t'relative',\n\t\t\t\t'rounded-sm',\n\t\t\t\t'self-center',\n\t\t\t\t'w-[40%]',\n\t\t\t])\n\t\t\t.appendTo(nextTip);\n\n\t\tconst image = this.player.createElement('img', 'next-tip-image')\n\t\t\t.addClasses([\n\t\t\t\t'playlist-card-image',\n\t\t\t\t'aspect-video',\n\t\t\t\t'h-auto',\n\t\t\t\t'object-cover',\n\t\t\t\t'rounded-md',\n\t\t\t\t'w-available',\n\t\t\t])\n\t\t\t.appendTo(leftSide);\n\t\timage.setAttribute('loading', 'eager');\n\n\t\tconst rightSide = this.player.createElement('div', 'next-tip-right-side')\n\t\t\t.addClasses([\n\t\t\t\t'next-tip-right',\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'gap-1',\n\t\t\t\t'text-left',\n\t\t\t\t'w-[60%]',\n\t\t\t])\n\t\t\t.appendTo(nextTip);\n\n\t\tconst header = this.player.createElement('span', 'next-tip-header')\n\t\t\t.addClasses([\n\t\t\t\t'next-tip-header',\n\t\t\t\t'font-bold',\n\t\t\t])\n\t\t\t.appendTo(rightSide);\n\n\t\tconst title = this.player.createElement('span', 'next-tip-title')\n\t\t\t.addClasses([\n\t\t\t\t'next-tip-header',\n\t\t\t\t'font-bold',\n\t\t\t\t'font-sm',\n\t\t\t\t'line-clamp-3',\n\t\t\t])\n\t\t\t.appendTo(rightSide);\n\n\t\tthis.player.on('show-episode-tip', (data) => {\n\t\t\tthis.getTipData({ direction: data.direction, header, title, image });\n\t\t\tnextTip.style.display = 'flex';\n\t\t\tnextTip.style.transform = `translate(${data.x}, calc(${data.y} - 50%))`;\n\t\t});\n\n\t\tthis.player.on('hide-episode-tip', () => {\n\t\t\tnextTip.style.display = 'none';\n\t\t});\n\n\t\treturn nextTip;\n\t}\n\n\tgetTipDataIndex(direction: string) {\n\t\tlet index: number;\n\t\tif (direction == 'previous') {\n\t\t\tindex = this.player.playlistItem().episode ?? 0 - 1 - 1;\n\t\t} else {\n\t\t\tindex = this.player.getPlaylistIndex() + 1;\n\t\t}\n\n\t\treturn this.player.getPlaylist().at(index);\n\t}\n\n\tgetTipData({ direction, header, title, image }: { direction: string; header: HTMLSpanElement; title: HTMLSpanElement; image: HTMLImageElement; }) {\n\n\t\tconst item = this.getTipDataIndex(direction);\n\t\tif (!item) return;\n\n\t\timage.src = item.image && item.image != '' ? `${this.imageBaseUrl}${item.image}` : '';\n\t\theader.innerText = `${this.player.localize(`${direction.toTitleCase()} Episode`)} ${this.getButtonKeyCode(direction)}`;\n\t\ttitle.innerText = item.title?.replace(item.show ?? '', '').replace('%S', this.player.localize('S'))\n\t\t\t.replace('%E', this.player.localize('E'));\n\n\t\tthis.player.once('item', () => {\n\t\t\tthis.getTipData({ direction, header, title, image });\n\t\t});\n\t}\n\n\tcreateButton(match: string, id: string, insert: 'before'| 'after' = 'after', icon: Icon['path'], click?: () => void, rightClick?: () => void) {\n\n\t\tconst element = document.querySelector<HTMLButtonElement>(`${match}`);\n\t\tif (!element) {\n\t\t\tthrow new Error('Element not found');\n\t\t}\n\n\t\tconst button = this.createUiButton(element, id.replace(/\\s/gu, '_'));\n\t\tbutton.ariaLabel = id;\n\n\t\tif (insert === 'before') {\n\t\t\telement?.before(button);\n\t\t} else {\n\t\t\telement?.after(button);\n\t\t}\n\n\t\tthis.createSVGElement(button, `${id.replace(/\\s/gu, '_')}-enabled`, icon, true, false);\n\t\tthis.createSVGElement(button, id.replace(/\\s/gu, '_'), icon, false);\n\n\t\tbutton.addEventListener('click', (event) => {\n\t\t\tevent.stopPropagation();\n\t\t\tclick?.();\n\t\t\tthis.player.emit('hide-tooltip');\n\t\t});\n\t\tbutton.addEventListener('contextmenu', (event) => {\n\t\t\tevent.stopPropagation();\n\t\t\trightClick?.();\n\t\t\tthis.player.emit('hide-tooltip');\n\t\t});\n\n\t\treturn button;\n\t}\n}\n"],"names":["DesktopUIPlugin","BaseUIPlugin","__publicField","e","playerRect","_a","parent","showing","_b","center","currentTime","touchSeekBack","event","callback","callback2","delay","lastTap","timeout","timeout2","event2","curTime","tapLen","touchSeekForward","hovered","touchPlayback","playButton","touchVolUp","touchVolDown","id","touch","speedButton","data","pipButton","menuWrapper","menuFrame","menuContent","el","rect","width","height","top","bottom","left","submenu","menuHeader","close","title","back","menuButtonText","item","menuButton","chevron","tracks","captions","levels","playlist","languageMenu","scrollContainer","track","subtitleMenu","speedMenu","speed","speedButtonSpan","speedButtonText","qualityMenu","level","qualityButton","qualityButtonText","side","seekRipple","arrowHolder","text","val","sliderBuffer","sliderHover","sliderProgress","sliderNipple","sliderPop","sliderText","scrubTime","humanTime","sliderPopOffsetX","value","scrubTimePlayer","index","chapter","_d","_c","chapterMarker","chapterMarkerHover","chapterMarkerProgress","right","element","sliderBarRect","sliderPopPercentageWidth","offsetX","playlistMenu","subMenu","seasonScrollContainer","unique","episodeMenu","seasonButton","buttonSpan","button","leftSide","image","progressContainer","progressContainerItemBox","progressContainerItemText","progressContainerDurationText","sliderContainer","progressBar","convertToSeconds","episodeMenuButtonRightSide","episodeMenuButtonTitle","lineBreakShowTitle","episodeMenuButtonOverview","limitSentenceByCharacters","playlistItem","season","nextTip","rightSide","header","direction","match","insert","icon","click","rightClick"],"mappings":"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"}