import{l as s,cu as l,cv as m,a5 as c,cw as i,cx as d,R as h,cy as b,C as p,O as u}from"./index-BzddMR-Z.js";import{m as v}from"./musicPlaylists-ByQrpfkX.js";const y=(a,e)=>u().get(a);function C(a,e){return u().put(a,{data:e})}function g(a,e){return u().post(a,{data:e})}function _(a,e){return u().delete(a,{data:e})}function x(a,e){return u().patch(a,{data:e})}function A(a){return a.map(e=>{let t;return e.method==="GET"?t=y:e.method==="PUT"?t=C:e.method==="POST"?t=g:e.method==="PATCH"?t=x:e.method==="DELETE"?t=_:t=e.command,{label:e.label,icon:e.icon,confirm:e.confirm,args:e.args,command:()=>t(e.args?.url,R.value).then(()=>{e.args?.replaceKey&&document.dispatchEvent(new CustomEvent("mutateId",{detail:{id:e.args?.replaceKey}}))})}})}const E=s({}),k=s(),P=p(()=>k.value);function G(a){k.value=a}const f=s(null),R=p(()=>f.value);function I(a){f.value=a}const T=s([]),w=s(),o=s();function S(a,e){o.value=e;const t=[],r={label:l("Add to playlist"),icon:"mooooom-add",items:[{label:l("New Playlist"),icon:"mooooom-add",command:()=>{alert(o.value?.id)}}]};v.value.length===0&&r.items.push({label:l("No playlist available"),icon:"mooooom-pause"});for(const n of v.value)r.items.push({label:n.name,icon:"mooooom-disk",command:()=>{alert(o.value?.id)}});t.push(r),t.push({label:l("Save to your liked songs"),icon:"mooooom-heart",command:()=>{alert(o.value?.id)}},{label:l("Add to queue"),icon:"mooooom-playlist1Add",command:()=>{alert(o.value?.id)}},{separator:!0}),!m.value&&o.value?.album_track&&o.value?.album_track?.length<2?t.push({label:l("Go to album"),icon:"mooooom-disk",command:()=>{o.value?.album_track?.[0]?.link&&c.push(o.value?.album_track?.[0]?.link)}}):!m.value&&o.value?.album_track&&o.value?.album_track?.length>1&&t.push({label:l("Go to album"),icon:"mooooom-disk",items:o.value?.album_track?.map(n=>({label:n.name,icon:"mooooom-disk",command:()=>c.push(n.link)}))}),!i.value&&o.value?.artist_track&&o.value?.artist_track?.length<2?t.push({label:l("Go to artist"),icon:"mooooom-user",command:()=>{o.value?.artist_track?.[0]?.link&&c.push(o.value?.artist_track?.[0]?.link)}}):!i.value&&o.value?.artist_track&&o.value?.artist_track?.length>1&&t.push({label:l("Go to artist"),icon:"mooooom-user",items:o.value?.artist_track?.map(n=>({label:n.name,icon:"mooooom-user",command:()=>c.push(n.link)}))}),t.push({separator:!0},{label:l("Share"),icon:"mooooom-shareSquare",items:[{label:l("Copy page link"),icon:"mooooom-fileCopy",command:()=>d(window.location.href)},{label:l("Copy track link"),icon:"mooooom-fileCopy",command:()=>o.value?d(`${h.value?.serverBaseUrl}/${o.value?.folder_id}${o.value?.folder}${o.value?.filename}?token=${b.value}`):{}}]}),T.value=t,w.value.show(a)}export{E as a,w as b,P as c,I as d,A as m,S as o,G as s,T as t};
