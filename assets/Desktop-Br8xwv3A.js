import{$,D,Dn as E,H as N,Ht as T,In as v,Qn as V,Rn as y,Tn as a,U as R,Wn as _,Y as z,Yt as F,Zn as t,cn as h,in as L,nn as n,rn as P,tn as g,un as W,x as j}from"./index-04Sh3wNb.js";import"./dist-CVoPesok.js";import"./esm-BuFVrMo0.js";import"./esm-9iWgK55i.js";import"./esm-cDzTb79E.js";import"./esm-BfF1RlcU.js";import"./dist-B3n7-doU.js";import"./focus-visible-CHAJCf_J.js";import"./index5-B30D6T27.js";import"./client-rtF7IPPI.js";import"./ionic-global--aoJHCDL.js";import"./hardware-back-button-h528z6zo.js";import"./index3-CSo3jo06.js";import"./helpers-CXS86XKs.js";import"./index6-CZ6rqL_0.js";import"./index8-BpkFXja0.js";import"./keyboard-cU79cwdW.js";import"./index2-op38TIl9.js";import"./ios.transition-C8T7q-Bo.js";import"./keyboard2-DETZ41vp.js";import"./md.transition-BqH5iNQr.js";import"./dir-BUtgAzbR.js";import"./basecomponent-Dw-Pzf3B.js";import"./classnames-DtEYS8u9.js";import"./button-Bwdcz6Ds.js";import"./baseicon-pCfUe6Zj.js";import{a as O,l as Y,m as u,o as x,p as d}from"./ui-BT6EUdI0.js";import"./client-DMa-uSBE.js";import{v as A,x as M}from"./currentServer-B7-kbkE-.js";import"./config-BOA2pGQM.js";import"./esm-CcKFjObu.js";import{p as C}from"./global-gyhCjh_P.js";import"./esm-BuRgllmc.js";import"./user-C1ciKa7-.js";import"./serverClient-FHPKIHPu.js";import"./router-C_xBvmya.js";import"./utils-D5DD-7jP.js";import"./useBaseQuery-CNJp2kAB.js";import"./useInfiniteServerClient-By5CuBlL.js";import{g as b}from"./SocketClient-DPmgFkP-.js";import"./useQueryClient-s6ZLwuD6.js";import"./useQuery-C7DDAmeN.js";import"./apiClient-Cw7f36ko.js";import"./notifications-Bi_dU6lP.js";import"./utils-CdenF_Jv.js";import"./bundle-mjs-Xm_uQvzT.js";import"./deviceInfo-Bcw3-ht5.js";import"./helpers-fSCF1qXj.js";import"./auth-DfyD43WY.js";import"./musicPlaylists-CCn4HshY.js";import"./contextMenuItems-kfaglZX4.js";import"./_plugin-vue_export-helper-B_iOTHZb.js";import"./AppLogoSquare-DJq6h5gt.js";import"./MoooomIcon-DNWQYuYD.js";import"./DropdownMenu-DlwBmVb0.js";import"./dist-iWIfSzlj.js";import{t as Q}from"./useServerClient-CroZbKWw.js";import{t as U}from"./ScrollContainer-3_hZWeKa.js";import"./CoverImage-_aGqf_Rg.js";import"./MusicButton-OKP8kSIv.js";import"./BannerButton-BVJ9NTRE.js";import"./MediaLikeButton-Cg9WrOdx.js";import"./PlayerIcon-DPtv61Du.js";import"./Marquee-B69hKqb8.js";import"./BigPlayButton-BSACVqFp.js";import"./EqSpinner-DZk0vZKp.js";import{t as Z}from"./NotFound-C4uzBqO2.js";import"./ShareButton-B9i6bcLG.js";import{i as q,n as G,r as J,t as K}from"./TrackRow-pkDkuJkp.js";T();z();var X={class:"relative z-0 flex h-auto flex-shrink-0 flex-grow flex-col items-start justify-start self-stretch"},tt=W({__name:"Desktop",setup(et){const f=$(),{data:e,isError:B}=Q({path:f.fullPath}),S=_(null),c=_(),o=_("");v(e,r=>{r&&(A(r?.name??null),p(r?.tracks??[],u.value,d.value,o.value),x(r?.color_palette?.cover))}),v(d,r=>{p(e.value?.tracks??[],u.value,r,o.value)}),v(u,r=>{p(e.value?.tracks??[],r,d.value,o.value)}),v(o,r=>{p(e.value?.tracks??[],u.value,d.value,r)});function p(r,s,i,m){const w=M(r??[],s,i,Y);m===""?c.value=w:c.value=w?.filter(k=>k.name?.toLowerCase().includes(m?.toLowerCase?.())||k.artist_track?.some(I=>I.name.toLowerCase().includes(m?.toLowerCase?.()))||k.album_track?.[0]?.name.toLowerCase().includes(m?.toLowerCase?.()))??[]}N(()=>{e?.value?.tracks&&p(e?.value?.tracks??[],u.value,d.value,o.value),e.value?.color_palette?.cover&&x(e.value?.color_palette?.cover)}),R(()=>{document.getElementById("navbar")&&(document.getElementById("navbar").style.display="flex"),x(null),O(null)});const l=_();function H(){window.CSS.supports("container-type","scroll-state")||(Math.ceil(l.value?.$el?.getBoundingClientRect()?.top??500)<=67?(l.value?.$el?.classList.add("!bg-focus"),l.value?.$el?.firstChild?.classList.add("!bg-black/50")):(l.value?.$el?.classList.remove("!bg-focus"),l.value?.$el?.firstChild?.classList.remove("!bg-black/50")))}return(r,s)=>(a(),n(t(D),null,{default:y(()=>[h(t(j),{fullscreen:!0,class:"flex"},{default:y(()=>[t(B)&&!t(e)?(a(),n(Z,{key:0})):(a(),n(U,{key:1,"auto-hide":!0,static:!0,onScroll:H},{default:y(()=>[!t(f).params.id||t(f).params.id&&t(e)?.id===t(f).params.id?(a(),L("div",{key:0,ref_key:"main",ref:S,class:"flex flex-col w-available h-available sm:rounded-2xl"},[h(J,{data:t(e)},null,8,["data"]),g("div",X,[s[1]||(s[1]=g("div",{class:"pointer-events-none absolute z-0 h-96 w-full bg-spotifyBottom"},null,-1)),(a(),n(q,{key:t(e)?.id,data:t(e),filter:o.value,onFilterChange:s[0]||(s[0]=i=>o.value=i)},null,8,["data","filter"])),g("div",{class:V([{"pb-24":t(C)&&!t(b),"pb-40":t(C)&&t(b),"pb-4 sm:pb-4":!t(C)&&t(b)},"flex flex-1 flex-shrink-0 flex-col items-start justify-start self-stretch bg-surface-3 flex-grow-1 gap-0.5 sm:p-4"])},[(a(),n(G,{key:t(e)?.id,ref_key:"sortHeader",ref:l})),(a(!0),L(F,null,E(c.value,(i,m)=>(a(),n(K,{key:i.id+i?.favorite,data:i,"display-list":c.value,index:m},null,8,["data","display-list","index"]))),128))],2)])],512)):P("",!0)]),_:1}))]),_:1})]),_:1}))}}),ke=tt;export{ke as default};
