import{Jo as init_vue_runtime_esm_bundler,dc as __toESM,qs as reactive,sc as __commonJS,uc as __require}from"./index-DHmO9d-Y.js";var require_sha256=__commonJS({"node_modules/js-sha256/src/sha256.js":((exports,module)=>{/**
* [js-sha256]{@link https://github.com/emn178/js-sha256}
*
* @version 0.9.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2014-2017
* @license MIT
*/(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&typeof module=="object"&&module.exports,AMD=typeof define=="function"&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(m){return Object.prototype.toString.call(m)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(m){return typeof m=="object"&&m.buffer&&m.buffer.constructor===ArrayBuffer});var createOutputMethod=function(m,S){return function(C){return new Sha256(S,!0).update(C)[m]()}},createMethod=function(m){var S=createOutputMethod("hex",m);NODE_JS&&(S=nodeWrap(S,m)),S.create=function(){return new Sha256(m)},S.update=function(E){return S.create().update(E)};for(var C=0;C<OUTPUT_TYPES.length;++C){var g=OUTPUT_TYPES[C];S[g]=createOutputMethod(g,m)}return S},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(m){if(typeof m=="string")return crypto.createHash(algorithm).update(m,"utf8").digest("hex");if(m==null)throw new Error(ERROR);return m.constructor===ArrayBuffer&&(m=new Uint8Array(m)),Array.isArray(m)||ArrayBuffer.isView(m)||m.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(m)).digest("hex"):method(m)};return nodeMethod},createHmacOutputMethod=function(m,S){return function(C,g){return new HmacSha256(C,S,!0).update(g)[m]()}},createHmacMethod=function(m){var S=createHmacOutputMethod("hex",m);S.create=function(E){return new HmacSha256(E,m)},S.update=function(E,R){return S.create(E).update(R)};for(var C=0;C<OUTPUT_TYPES.length;++C){var g=OUTPUT_TYPES[C];S[g]=createHmacOutputMethod(g,m)}return S};function Sha256(m,S){S?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=m}Sha256.prototype.update=function(m){if(!this.finalized){var S,C=typeof m;if(C!=="string"){if(C==="object"){if(m===null)throw new Error(ERROR);if(ARRAY_BUFFER&&m.constructor===ArrayBuffer)m=new Uint8Array(m);else if(!Array.isArray(m)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(m)))throw new Error(ERROR)}else throw new Error(ERROR);S=!0}for(var g,E=0,R,i=m.length,U=this.blocks;E<i;){if(this.hashed&&(this.hashed=!1,U[0]=this.block,U[16]=U[1]=U[2]=U[3]=U[4]=U[5]=U[6]=U[7]=U[8]=U[9]=U[10]=U[11]=U[12]=U[13]=U[14]=U[15]=0),S)for(R=this.start;E<i&&R<64;++E)U[R>>2]|=m[E]<<SHIFT[R++&3];else for(R=this.start;E<i&&R<64;++E)g=m.charCodeAt(E),g<128?U[R>>2]|=g<<SHIFT[R++&3]:g<2048?(U[R>>2]|=(192|g>>6)<<SHIFT[R++&3],U[R>>2]|=(128|g&63)<<SHIFT[R++&3]):g<55296||g>=57344?(U[R>>2]|=(224|g>>12)<<SHIFT[R++&3],U[R>>2]|=(128|g>>6&63)<<SHIFT[R++&3],U[R>>2]|=(128|g&63)<<SHIFT[R++&3]):(g=65536+((g&1023)<<10|m.charCodeAt(++E)&1023),U[R>>2]|=(240|g>>18)<<SHIFT[R++&3],U[R>>2]|=(128|g>>12&63)<<SHIFT[R++&3],U[R>>2]|=(128|g>>6&63)<<SHIFT[R++&3],U[R>>2]|=(128|g&63)<<SHIFT[R++&3]);this.lastByteIndex=R,this.bytes+=R-this.start,R>=64?(this.block=U[16],this.start=R-64,this.hash(),this.hashed=!0):this.start=R}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var m=this.blocks,S=this.lastByteIndex;m[16]=this.block,m[S>>2]|=EXTRA[S&3],this.block=m[16],S>=56&&(this.hashed||this.hash(),m[0]=this.block,m[16]=m[1]=m[2]=m[3]=m[4]=m[5]=m[6]=m[7]=m[8]=m[9]=m[10]=m[11]=m[12]=m[13]=m[14]=m[15]=0),m[14]=this.hBytes<<3|this.bytes>>>29,m[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var m=this.h0,S=this.h1,C=this.h2,g=this.h3,E=this.h4,R=this.h5,i=this.h6,U=this.h7,F=this.blocks,q,M,I,X,j,P,N,G,Z,te,J;for(q=16;q<64;++q)j=F[q-15],M=(j>>>7|j<<25)^(j>>>18|j<<14)^j>>>3,j=F[q-2],I=(j>>>17|j<<15)^(j>>>19|j<<13)^j>>>10,F[q]=F[q-16]+M+F[q-7]+I<<0;for(J=S&C,q=0;q<64;q+=4)this.first?(this.is224?(G=300032,j=F[0]-1413257819,U=j-150054599<<0,g=j+24177077<<0):(G=704751109,j=F[0]-210244248,U=j-1521486534<<0,g=j+143694565<<0),this.first=!1):(M=(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10),I=(E>>>6|E<<26)^(E>>>11|E<<21)^(E>>>25|E<<7),G=m&S,X=G^m&C^J,N=E&R^~E&i,j=U+I+N+K[q]+F[q],P=M+X,U=g+j<<0,g=j+P<<0),M=(g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10),I=(U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7),Z=g&m,X=Z^g&S^G,N=U&E^~U&R,j=i+I+N+K[q+1]+F[q+1],P=M+X,i=C+j<<0,C=j+P<<0,M=(C>>>2|C<<30)^(C>>>13|C<<19)^(C>>>22|C<<10),I=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),te=C&g,X=te^C&m^Z,N=i&U^~i&E,j=R+I+N+K[q+2]+F[q+2],P=M+X,R=S+j<<0,S=j+P<<0,M=(S>>>2|S<<30)^(S>>>13|S<<19)^(S>>>22|S<<10),I=(R>>>6|R<<26)^(R>>>11|R<<21)^(R>>>25|R<<7),J=S&C,X=J^S&g^te,N=R&i^~R&U,j=E+I+N+K[q+3]+F[q+3],P=M+X,E=m+j<<0,m=j+P<<0;this.h0=this.h0+m<<0,this.h1=this.h1+S<<0,this.h2=this.h2+C<<0,this.h3=this.h3+g<<0,this.h4=this.h4+E<<0,this.h5=this.h5+R<<0,this.h6=this.h6+i<<0,this.h7=this.h7+U<<0},Sha256.prototype.hex=function(){this.finalize();var m=this.h0,S=this.h1,C=this.h2,g=this.h3,E=this.h4,R=this.h5,i=this.h6,U=this.h7,F=HEX_CHARS[m>>28&15]+HEX_CHARS[m>>24&15]+HEX_CHARS[m>>20&15]+HEX_CHARS[m>>16&15]+HEX_CHARS[m>>12&15]+HEX_CHARS[m>>8&15]+HEX_CHARS[m>>4&15]+HEX_CHARS[m&15]+HEX_CHARS[S>>28&15]+HEX_CHARS[S>>24&15]+HEX_CHARS[S>>20&15]+HEX_CHARS[S>>16&15]+HEX_CHARS[S>>12&15]+HEX_CHARS[S>>8&15]+HEX_CHARS[S>>4&15]+HEX_CHARS[S&15]+HEX_CHARS[C>>28&15]+HEX_CHARS[C>>24&15]+HEX_CHARS[C>>20&15]+HEX_CHARS[C>>16&15]+HEX_CHARS[C>>12&15]+HEX_CHARS[C>>8&15]+HEX_CHARS[C>>4&15]+HEX_CHARS[C&15]+HEX_CHARS[g>>28&15]+HEX_CHARS[g>>24&15]+HEX_CHARS[g>>20&15]+HEX_CHARS[g>>16&15]+HEX_CHARS[g>>12&15]+HEX_CHARS[g>>8&15]+HEX_CHARS[g>>4&15]+HEX_CHARS[g&15]+HEX_CHARS[E>>28&15]+HEX_CHARS[E>>24&15]+HEX_CHARS[E>>20&15]+HEX_CHARS[E>>16&15]+HEX_CHARS[E>>12&15]+HEX_CHARS[E>>8&15]+HEX_CHARS[E>>4&15]+HEX_CHARS[E&15]+HEX_CHARS[R>>28&15]+HEX_CHARS[R>>24&15]+HEX_CHARS[R>>20&15]+HEX_CHARS[R>>16&15]+HEX_CHARS[R>>12&15]+HEX_CHARS[R>>8&15]+HEX_CHARS[R>>4&15]+HEX_CHARS[R&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[i&15];return this.is224||(F+=HEX_CHARS[U>>28&15]+HEX_CHARS[U>>24&15]+HEX_CHARS[U>>20&15]+HEX_CHARS[U>>16&15]+HEX_CHARS[U>>12&15]+HEX_CHARS[U>>8&15]+HEX_CHARS[U>>4&15]+HEX_CHARS[U&15]),F},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var m=this.h0,S=this.h1,C=this.h2,g=this.h3,E=this.h4,R=this.h5,i=this.h6,U=this.h7,F=[m>>24&255,m>>16&255,m>>8&255,m&255,S>>24&255,S>>16&255,S>>8&255,S&255,C>>24&255,C>>16&255,C>>8&255,C&255,g>>24&255,g>>16&255,g>>8&255,g&255,E>>24&255,E>>16&255,E>>8&255,E&255,R>>24&255,R>>16&255,R>>8&255,R&255,i>>24&255,i>>16&255,i>>8&255,i&255];return this.is224||F.push(U>>24&255,U>>16&255,U>>8&255,U&255),F},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var m=new ArrayBuffer(this.is224?28:32),S=new DataView(m);return S.setUint32(0,this.h0),S.setUint32(4,this.h1),S.setUint32(8,this.h2),S.setUint32(12,this.h3),S.setUint32(16,this.h4),S.setUint32(20,this.h5),S.setUint32(24,this.h6),this.is224||S.setUint32(28,this.h7),m};function HmacSha256(m,S,C){var g,E=typeof m;if(E==="string"){var R=[],i=m.length,U=0,F;for(g=0;g<i;++g)F=m.charCodeAt(g),F<128?R[U++]=F:F<2048?(R[U++]=192|F>>6,R[U++]=128|F&63):F<55296||F>=57344?(R[U++]=224|F>>12,R[U++]=128|F>>6&63,R[U++]=128|F&63):(F=65536+((F&1023)<<10|m.charCodeAt(++g)&1023),R[U++]=240|F>>18,R[U++]=128|F>>12&63,R[U++]=128|F>>6&63,R[U++]=128|F&63);m=R}else if(E==="object"){if(m===null)throw new Error(ERROR);if(ARRAY_BUFFER&&m.constructor===ArrayBuffer)m=new Uint8Array(m);else if(!Array.isArray(m)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(m)))throw new Error(ERROR)}else throw new Error(ERROR);m.length>64&&(m=new Sha256(S,!0).update(m).array());var q=[],M=[];for(g=0;g<64;++g){var I=m[g]||0;q[g]=92^I,M[g]=54^I}Sha256.call(this,S,C),this.update(M),this.oKeyPad=q,this.inner=!0,this.sharedMemory=C}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var m=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(m),Sha256.prototype.finalize.call(this)}};var exports$1=createMethod();exports$1.sha256=exports$1,exports$1.sha224=createMethod(!0),exports$1.sha256.hmac=createHmacMethod(),exports$1.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports$1:(root.sha256=exports$1.sha256,root.sha224=exports$1.sha224,AMD&&define(function(){return exports$1}))})()})}),require_base64_js=__commonJS({"node_modules/keycloak-ionic/node_modules/base64-js/index.js":(m=>{m.byteLength=F,m.toByteArray=M,m.fromByteArray=j;for(var S=[],C=[],g=typeof Uint8Array<"u"?Uint8Array:Array,E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=0,i=E.length;R<i;++R)S[R]=E[R],C[E.charCodeAt(R)]=R;C[45]=62,C[95]=63;function U(P){var N=P.length;if(N%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var G=P.indexOf("=");G===-1&&(G=N);var Z=G===N?0:4-G%4;return[G,Z]}function F(P){var N=U(P),G=N[0],Z=N[1];return(G+Z)*3/4-Z}function q(P,N,G){return(N+G)*3/4-G}function M(P){for(var N,G=U(P),Z=G[0],te=G[1],J=new g(q(P,Z,te)),W=0,ee=te>0?Z-4:Z,$=0;$<ee;$+=4)N=C[P.charCodeAt($)]<<18|C[P.charCodeAt($+1)]<<12|C[P.charCodeAt($+2)]<<6|C[P.charCodeAt($+3)],J[W++]=N>>16&255,J[W++]=N>>8&255,J[W++]=N&255;return te===2&&(N=C[P.charCodeAt($)]<<2|C[P.charCodeAt($+1)]>>4,J[W++]=N&255),te===1&&(N=C[P.charCodeAt($)]<<10|C[P.charCodeAt($+1)]<<4|C[P.charCodeAt($+2)]>>2,J[W++]=N>>8&255,J[W++]=N&255),J}function I(P){return S[P>>18&63]+S[P>>12&63]+S[P>>6&63]+S[P&63]}function X(P,N,G){for(var Z,te=[],J=N;J<G;J+=3)Z=(P[J]<<16&16711680)+(P[J+1]<<8&65280)+(P[J+2]&255),te.push(I(Z));return te.join("")}function j(P){for(var N,G=P.length,Z=G%3,te=[],J=16383,W=0,ee=G-Z;W<ee;W+=J)te.push(X(P,W,W+J>ee?ee:W+J));return Z===1?(N=P[G-1],te.push(S[N>>2]+S[N<<4&63]+"==")):Z===2&&(N=(P[G-2]<<8)+P[G-1],te.push(S[N>>10]+S[N>>4&63]+S[N<<2&63]+"=")),te.join("")}})}),require_keycloak=__commonJS({"node_modules/keycloak-ionic/keycloak.js":((exports,module)=>{(function(root,factory){if(typeof exports=="object")typeof module=="object"?module.exports=factory(require_sha256(),require_base64_js()):exports.keycloak=factory(require_sha256(),require_base64_js());else{/**
* [js-sha256]{@link https://github.com/emn178/js-sha256}
*
* @version 0.9.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2014-2017
* @license MIT
*/(function(){function t(m,S){S?(d[0]=d[16]=d[1]=d[2]=d[3]=d[4]=d[5]=d[6]=d[7]=d[8]=d[9]=d[10]=d[11]=d[12]=d[13]=d[14]=d[15]=0,this.blocks=d):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=m}function i$1(m,S,C){var g,E=typeof m;if(E==="string"){var R,i=[],U=m.length,F=0;for(g=0;g<U;++g)(R=m.charCodeAt(g))<128?i[F++]=R:R<2048?(i[F++]=192|R>>6,i[F++]=128|63&R):R<55296||R>=57344?(i[F++]=224|R>>12,i[F++]=128|R>>6&63,i[F++]=128|63&R):(R=65536+((1023&R)<<10|1023&m.charCodeAt(++g)),i[F++]=240|R>>18,i[F++]=128|R>>12&63,i[F++]=128|R>>6&63,i[F++]=128|63&R);m=i}else{if(E!=="object")throw new Error(h);if(m===null)throw new Error(h);if(f&&m.constructor===ArrayBuffer)m=new Uint8Array(m);else if(!(Array.isArray(m)||f&&ArrayBuffer.isView(m)))throw new Error(h)}m.length>64&&(m=new t(S,!0).update(m).array());var q=[],M=[];for(g=0;g<64;++g){var I=m[g]||0;q[g]=92^I,M[g]=54^I}t.call(this,S,C),this.update(M),this.oKeyPad=q,this.inner=!0,this.sharedMemory=C}var h="input is invalid type",r=typeof window=="object",s=r?window:{};s.JS_SHA256_NO_WINDOW&&(r=!1);var e=!r&&typeof self=="object",n=!s.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;n?s=global:e&&(s=self);var o=!s.JS_SHA256_NO_COMMON_JS&&typeof module=="object"&&module.exports,a=typeof define=="function"&&define.amd,f=!s.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),c=[-2147483648,8388608,32768,128],y=[24,16,8,0],p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],l=["hex","array","digest","arrayBuffer"],d=[];!s.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(m){return Object.prototype.toString.call(m)==="[object Array]"}),!f||!s.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(m){return typeof m=="object"&&m.buffer&&m.buffer.constructor===ArrayBuffer});var A=function(m,S){return function(C){return new t(S,!0).update(C)[m]()}},w=function(m){var S=A("hex",m);n&&(S=b(S,m)),S.create=function(){return new t(m)},S.update=function(E){return S.create().update(E)};for(var C=0;C<l.length;++C){var g=l[C];S[g]=A(g,m)}return S},b=function(t$1,i$2){var r$1=eval("require('crypto')"),s$1=eval("require('buffer').Buffer"),e$1=i$2?"sha224":"sha256",n$1=function(m){if(typeof m=="string")return r$1.createHash(e$1).update(m,"utf8").digest("hex");if(m==null)throw new Error(h);return m.constructor===ArrayBuffer&&(m=new Uint8Array(m)),Array.isArray(m)||ArrayBuffer.isView(m)||m.constructor===s$1?r$1.createHash(e$1).update(new s$1(m)).digest("hex"):t$1(m)};return n$1},v=function(m,S){return function(C,g){return new i$1(C,S,!0).update(g)[m]()}},_=function(m){var S=v("hex",m);S.create=function(E){return new i$1(E,m)},S.update=function(E,R){return S.create(E).update(R)};for(var C=0;C<l.length;++C){var g=l[C];S[g]=v(g,m)}return S};t.prototype.update=function(m){if(!this.finalized){var S,C=typeof m;if(C!=="string"){if(C!=="object")throw new Error(h);if(m===null)throw new Error(h);if(f&&m.constructor===ArrayBuffer)m=new Uint8Array(m);else if(!(Array.isArray(m)||f&&ArrayBuffer.isView(m)))throw new Error(h);S=!0}for(var g,E,R=0,i=m.length,U=this.blocks;R<i;){if(this.hashed&&(this.hashed=!1,U[0]=this.block,U[16]=U[1]=U[2]=U[3]=U[4]=U[5]=U[6]=U[7]=U[8]=U[9]=U[10]=U[11]=U[12]=U[13]=U[14]=U[15]=0),S)for(E=this.start;R<i&&E<64;++R)U[E>>2]|=m[R]<<y[3&E++];else for(E=this.start;R<i&&E<64;++R)(g=m.charCodeAt(R))<128?U[E>>2]|=g<<y[3&E++]:g<2048?(U[E>>2]|=(192|g>>6)<<y[3&E++],U[E>>2]|=(128|63&g)<<y[3&E++]):g<55296||g>=57344?(U[E>>2]|=(224|g>>12)<<y[3&E++],U[E>>2]|=(128|g>>6&63)<<y[3&E++],U[E>>2]|=(128|63&g)<<y[3&E++]):(g=65536+((1023&g)<<10|1023&m.charCodeAt(++R)),U[E>>2]|=(240|g>>18)<<y[3&E++],U[E>>2]|=(128|g>>12&63)<<y[3&E++],U[E>>2]|=(128|g>>6&63)<<y[3&E++],U[E>>2]|=(128|63&g)<<y[3&E++]);this.lastByteIndex=E,this.bytes+=E-this.start,E>=64?(this.block=U[16],this.start=E-64,this.hash(),this.hashed=!0):this.start=E}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},t.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var m=this.blocks,S=this.lastByteIndex;m[16]=this.block,m[S>>2]|=c[3&S],this.block=m[16],S>=56&&(this.hashed||this.hash(),m[0]=this.block,m[16]=m[1]=m[2]=m[3]=m[4]=m[5]=m[6]=m[7]=m[8]=m[9]=m[10]=m[11]=m[12]=m[13]=m[14]=m[15]=0),m[14]=this.hBytes<<3|this.bytes>>>29,m[15]=this.bytes<<3,this.hash()}},t.prototype.hash=function(){var m,S,C,g,E,R,i,U,F,q=this.h0,M=this.h1,I=this.h2,X=this.h3,j=this.h4,P=this.h5,N=this.h6,G=this.h7,Z=this.blocks;for(m=16;m<64;++m)S=((E=Z[m-15])>>>7|E<<25)^(E>>>18|E<<14)^E>>>3,C=((E=Z[m-2])>>>17|E<<15)^(E>>>19|E<<13)^E>>>10,Z[m]=Z[m-16]+S+Z[m-7]+C<<0;for(F=M&I,m=0;m<64;m+=4)this.first?(this.is224?(R=300032,G=(E=Z[0]-1413257819)-150054599<<0,X=E+24177077<<0):(R=704751109,G=(E=Z[0]-210244248)-1521486534<<0,X=E+143694565<<0),this.first=!1):(S=(q>>>2|q<<30)^(q>>>13|q<<19)^(q>>>22|q<<10),g=(R=q&M)^q&I^F,G=X+(E=G+(C=(j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7))+(j&P^~j&N)+p[m]+Z[m])<<0,X=E+(S+g)<<0),S=(X>>>2|X<<30)^(X>>>13|X<<19)^(X>>>22|X<<10),g=(i=X&q)^X&M^R,N=I+(E=N+(C=(G>>>6|G<<26)^(G>>>11|G<<21)^(G>>>25|G<<7))+(G&j^~G&P)+p[m+1]+Z[m+1])<<0,S=((I=E+(S+g)<<0)>>>2|I<<30)^(I>>>13|I<<19)^(I>>>22|I<<10),g=(U=I&X)^I&q^i,P=M+(E=P+(C=(N>>>6|N<<26)^(N>>>11|N<<21)^(N>>>25|N<<7))+(N&G^~N&j)+p[m+2]+Z[m+2])<<0,S=((M=E+(S+g)<<0)>>>2|M<<30)^(M>>>13|M<<19)^(M>>>22|M<<10),g=(F=M&I)^M&X^U,j=q+(E=j+(C=(P>>>6|P<<26)^(P>>>11|P<<21)^(P>>>25|P<<7))+(P&N^~P&G)+p[m+3]+Z[m+3])<<0,q=E+(S+g)<<0;this.h0=this.h0+q<<0,this.h1=this.h1+M<<0,this.h2=this.h2+I<<0,this.h3=this.h3+X<<0,this.h4=this.h4+j<<0,this.h5=this.h5+P<<0,this.h6=this.h6+N<<0,this.h7=this.h7+G<<0},t.prototype.hex=function(){this.finalize();var m=this.h0,S=this.h1,C=this.h2,g=this.h3,E=this.h4,R=this.h5,i=this.h6,U=this.h7,F=u[m>>28&15]+u[m>>24&15]+u[m>>20&15]+u[m>>16&15]+u[m>>12&15]+u[m>>8&15]+u[m>>4&15]+u[15&m]+u[S>>28&15]+u[S>>24&15]+u[S>>20&15]+u[S>>16&15]+u[S>>12&15]+u[S>>8&15]+u[S>>4&15]+u[15&S]+u[C>>28&15]+u[C>>24&15]+u[C>>20&15]+u[C>>16&15]+u[C>>12&15]+u[C>>8&15]+u[C>>4&15]+u[15&C]+u[g>>28&15]+u[g>>24&15]+u[g>>20&15]+u[g>>16&15]+u[g>>12&15]+u[g>>8&15]+u[g>>4&15]+u[15&g]+u[E>>28&15]+u[E>>24&15]+u[E>>20&15]+u[E>>16&15]+u[E>>12&15]+u[E>>8&15]+u[E>>4&15]+u[15&E]+u[R>>28&15]+u[R>>24&15]+u[R>>20&15]+u[R>>16&15]+u[R>>12&15]+u[R>>8&15]+u[R>>4&15]+u[15&R]+u[i>>28&15]+u[i>>24&15]+u[i>>20&15]+u[i>>16&15]+u[i>>12&15]+u[i>>8&15]+u[i>>4&15]+u[15&i];return this.is224||(F+=u[U>>28&15]+u[U>>24&15]+u[U>>20&15]+u[U>>16&15]+u[U>>12&15]+u[U>>8&15]+u[U>>4&15]+u[15&U]),F},t.prototype.toString=t.prototype.hex,t.prototype.digest=function(){this.finalize();var m=this.h0,S=this.h1,C=this.h2,g=this.h3,E=this.h4,R=this.h5,i=this.h6,U=this.h7,F=[m>>24&255,m>>16&255,m>>8&255,255&m,S>>24&255,S>>16&255,S>>8&255,255&S,C>>24&255,C>>16&255,C>>8&255,255&C,g>>24&255,g>>16&255,g>>8&255,255&g,E>>24&255,E>>16&255,E>>8&255,255&E,R>>24&255,R>>16&255,R>>8&255,255&R,i>>24&255,i>>16&255,i>>8&255,255&i];return this.is224||F.push(U>>24&255,U>>16&255,U>>8&255,255&U),F},t.prototype.array=t.prototype.digest,t.prototype.arrayBuffer=function(){this.finalize();var m=new ArrayBuffer(this.is224?28:32),S=new DataView(m);return S.setUint32(0,this.h0),S.setUint32(4,this.h1),S.setUint32(8,this.h2),S.setUint32(12,this.h3),S.setUint32(16,this.h4),S.setUint32(20,this.h5),S.setUint32(24,this.h6),this.is224||S.setUint32(28,this.h7),m},i$1.prototype=new t,i$1.prototype.finalize=function(){if(t.prototype.finalize.call(this),this.inner){this.inner=!1;var m=this.array();t.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(m),t.prototype.finalize.call(this)}};var B=w();B.sha256=B,B.sha224=w(!0),B.sha256.hmac=_(),B.sha224.hmac=_(!0),o?module.exports=B:(s.sha256=B.sha256,s.sha224=B.sha224,a&&define(function(){return B}))})();/**
* [base64-js]{@link https://github.com/beatgammit/base64-js}
*
* @version v1.3.0
* @author Kirill, Fomichev
* @copyright Kirill, Fomichev 2014
* @license MIT
*/(function(m){if(typeof exports=="object"&&typeof module<"u")module.exports=m();else if(typeof define=="function"&&define.amd)define([],m);else{var S;typeof window<"u"?S=window:typeof global<"u"?S=global:typeof self<"u"?S=self:S=this,S.base64js=m()}})(function(){var m,S,C;return(function(){function g(E,R,i){function U(M,I){if(!R[M]){if(!E[M]){var X=typeof __require=="function"&&__require;if(!I&&X)return X(M,!0);if(F)return F(M,!0);var j=new Error("Cannot find module '"+M+"'");throw j.code="MODULE_NOT_FOUND",j}var P=R[M]={exports:{}};E[M][0].call(P.exports,function(N){var G=E[M][1][N];return U(G||N)},P,P.exports,g,E,R,i)}return R[M].exports}for(var F=typeof __require=="function"&&__require,q=0;q<i.length;q++)U(i[q]);return U}return g})()({"/":[function(g,E,R){R.byteLength=j,R.toByteArray=N,R.fromByteArray=te;for(var i=[],U=[],F=typeof Uint8Array<"u"?Uint8Array:Array,q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M=0,I=q.length;M<I;++M)i[M]=q[M],U[q.charCodeAt(M)]=M;U[45]=62,U[95]=63;function X(J){var W=J.length;if(W%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ee=J.indexOf("=");ee===-1&&(ee=W);var $=ee===W?0:4-ee%4;return[ee,$]}function j(J){var W=X(J),ee=W[0],$=W[1];return(ee+$)*3/4-$}function P(J,W,ee){return(W+ee)*3/4-ee}function N(J){for(var W,ee=X(J),$=ee[0],ae=ee[1],oe=new F(P(J,$,ae)),ie=0,le=ae>0?$-4:$,se=0;se<le;se+=4)W=U[J.charCodeAt(se)]<<18|U[J.charCodeAt(se+1)]<<12|U[J.charCodeAt(se+2)]<<6|U[J.charCodeAt(se+3)],oe[ie++]=W>>16&255,oe[ie++]=W>>8&255,oe[ie++]=W&255;return ae===2&&(W=U[J.charCodeAt(se)]<<2|U[J.charCodeAt(se+1)]>>4,oe[ie++]=W&255),ae===1&&(W=U[J.charCodeAt(se)]<<10|U[J.charCodeAt(se+1)]<<4|U[J.charCodeAt(se+2)]>>2,oe[ie++]=W>>8&255,oe[ie++]=W&255),oe}function G(J){return i[J>>18&63]+i[J>>12&63]+i[J>>6&63]+i[J&63]}function Z(J,W,ee){for(var $,ae=[],oe=W;oe<ee;oe+=3)$=(J[oe]<<16&16711680)+(J[oe+1]<<8&65280)+(J[oe+2]&255),ae.push(G($));return ae.join("")}function te(J){for(var W,ee=J.length,$=ee%3,ae=[],oe=16383,ie=0,le=ee-$;ie<le;ie+=oe)ae.push(Z(J,ie,ie+oe>le?le:ie+oe));return $===1?(W=J[ee-1],ae.push(i[W>>2]+i[W<<4&63]+"==")):$===2&&(W=(J[ee-2]<<8)+J[ee-1],ae.push(i[W>>10]+i[W>>4&63]+i[W<<2&63]+"=")),ae.join("")}},{}]},{},[])("/")});/**
* [promise-polyfill]{@link https://github.com/taylorhakes/promise-polyfill}
*
* @version v8.1.3
* @author Hakes, Taylor
* @copyright Hakes, Taylor 2014
* @license MIT
*/(function(m,S){typeof exports=="object"&&typeof module<"u"?S():typeof define=="function"&&define.amd?define(S):S()})(0,function(){function m(I){var X=this.constructor;return this.then(function(j){return X.resolve(I()).then(function(){return j})},function(j){return X.resolve(I()).then(function(){return X.reject(j)})})}function S(I){return!(!I||typeof I.length>"u")}function C(){}function g(I){if(!(this instanceof g))throw new TypeError("Promises must be constructed via new");if(typeof I!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],F(I,this)}function E(I,X){for(;I._state===3;)I=I._value;I._state!==0?(I._handled=!0,g._immediateFn(function(){var j=I._state===1?X.onFulfilled:X.onRejected;if(j!==null){var P;try{P=j(I._value)}catch(N){i(X.promise,N);return}R(X.promise,P)}else(I._state===1?R:i)(X.promise,I._value)})):I._deferreds.push(X)}function R(I,X){try{if(X===I)throw new TypeError("A promise cannot be resolved with itself.");if(X&&(typeof X=="object"||typeof X=="function")){var j=X.then;if(X instanceof g)return I._state=3,I._value=X,void U(I);if(typeof j=="function")return void F((function(P,N){return function(){P.apply(N,arguments)}})(j,X),I)}I._state=1,I._value=X,U(I)}catch(P){i(I,P)}}function i(I,X){I._state=2,I._value=X,U(I)}function U(I){I._state===2&&I._deferreds.length===0&&g._immediateFn(function(){I._handled||g._unhandledRejectionFn(I._value)});for(var X=0,j=I._deferreds.length;j>X;X++)E(I,I._deferreds[X]);I._deferreds=null}function F(I,X){var j=!1;try{I(function(P){j||(j=!0,R(X,P))},function(P){j||(j=!0,i(X,P))})}catch(P){if(j)return;j=!0,i(X,P)}}var q=setTimeout;g.prototype.catch=function(I){return this.then(null,I)},g.prototype.then=function(I,X){var j=new this.constructor(C);return E(this,new function(P,N,G){this.onFulfilled=typeof P=="function"?P:null,this.onRejected=typeof N=="function"?N:null,this.promise=G}(I,X,j)),j},g.prototype.finally=m,g.all=function(I){return new g(function(X,j){function P(te,J){try{if(J&&(typeof J=="object"||typeof J=="function")){var W=J.then;if(typeof W=="function")return void W.call(J,function(ee){P(te,ee)},j)}N[te]=J,--G==0&&X(N)}catch(ee){j(ee)}}if(!S(I))return j(new TypeError("Promise.all accepts an array"));var N=Array.prototype.slice.call(I);if(N.length===0)return X([]);for(var G=N.length,Z=0;N.length>Z;Z++)P(Z,N[Z])})},g.resolve=function(I){return I&&typeof I=="object"&&I.constructor===g?I:new g(function(X){X(I)})},g.reject=function(I){return new g(function(X,j){j(I)})},g.race=function(I){return new g(function(X,j){if(!S(I))return j(new TypeError("Promise.race accepts an array"));for(var P=0,N=I.length;N>P;P++)g.resolve(I[P]).then(X,j)})},g._immediateFn=typeof setImmediate=="function"&&function(I){setImmediate(I)}||function(I){q(I,0)},g._unhandledRejectionFn=function(I){console!==void 0&&console&&console.warn("Possible Unhandled Promise Rejection:",I)};var M=(function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw Error("unable to locate global object")})();"Promise"in M?M.Promise.prototype.finally||(M.Promise.prototype.finally=m):M.Promise=g});var Keycloak$1=factory(root.sha256,root.base64js);root.Keycloak=Keycloak$1,typeof define=="function"&&define.amd&&define("keycloak",[],function(){return Keycloak$1})}})(window,function(m,S){if(typeof Promise>"u")throw Error("Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.");var C=!1;function g(){C||(C=!0,console.warn("[KEYCLOAK] Usage of legacy style promise methods such as `.error()` and `.success()` has been deprecated and support will be removed in future versions. Use standard style promise methods such as `.then() and `.catch()` instead."))}function E(R){if(!(this instanceof E))return new E(R);for(var i=this,U,F=[],q,M={enable:!0,callbackList:[],interval:5},I=document.getElementsByTagName("script"),X=0;X<I.length;X++)(I[X].src.indexOf("keycloak.js")!==-1||I[X].src.indexOf("keycloak.min.js")!==-1)&&I[X].src.indexOf("version=")!==-1&&(i.iframeVersion=I[X].src.substring(I[X].src.indexOf("version=")+8).split("&")[0]);var j=!0,P=_e(console.info),N=_e(console.warn);i.init=function(k){if(i.authenticated=!1,q=be(),k&&["default","cordova","cordova-native","capacitor","capacitor-native"].indexOf(k.adapter)>-1?U=pe(k.adapter):k&&typeof k.adapter=="object"?U=k.adapter:window.Cordova||window.cordova?U=pe("cordova"):window.Capacitor||window.capacitor?U=pe("capacitor-native"):U=pe(),k){if(typeof k.useNonce<"u"&&(j=k.useNonce),typeof k.checkLoginIframe<"u"&&(M.enable=k.checkLoginIframe),k.checkLoginIframeInterval&&(M.interval=k.checkLoginIframeInterval),k.onLoad==="login-required"&&(i.loginRequired=!0),k.responseMode)if(k.responseMode==="query"||k.responseMode==="fragment")i.responseMode=k.responseMode;else throw"Invalid value for responseMode";if(k.flow){switch(k.flow){case"standard":i.responseType="code";break;case"implicit":i.responseType="id_token token";break;case"hybrid":i.responseType="code id_token token";break;default:throw"Invalid value for flow"}i.flow=k.flow}if(k.timeSkew!=null&&(i.timeSkew=k.timeSkew),k.redirectUri&&(i.redirectUri=k.redirectUri),k.silentCheckSsoRedirectUri&&(i.silentCheckSsoRedirectUri=k.silentCheckSsoRedirectUri),typeof k.silentCheckSsoFallback=="boolean"?i.silentCheckSsoFallback=k.silentCheckSsoFallback:i.silentCheckSsoFallback=!0,k.pkceMethod){if(k.pkceMethod!=="S256")throw"Invalid value for pkceMethod";i.pkceMethod=k.pkceMethod}typeof k.enableLogging=="boolean"?i.enableLogging=k.enableLogging:i.enableLogging=!1,typeof k.scope=="string"&&(i.scope=k.scope)}i.responseMode||(i.responseMode="fragment"),i.responseType||(i.responseType="code",i.flow="standard");var H=re(),x=re();x.promise.then(function(){i.onReady&&i.onReady(i.authenticated),H.setSuccess(i.authenticated)}).catch(function(L){H.setError(L)});var D=ae(R);function O(){var L=function(Q){Q||(Y.prompt="none"),i.login(Y).then(function(){x.setSuccess()}).catch(function(){x.setError()})},z=function(){var Q=document.createElement("iframe"),ne=i.createLoginUrl({prompt:"none",redirectUri:i.silentCheckSsoRedirectUri});Q.setAttribute("src",ne),Q.setAttribute("title","keycloak-silent-check-sso"),Q.style.display="none",document.body.appendChild(Q);var fe=function(he){if(!(he.origin!==window.location.origin||Q.contentWindow!==he.source)){var ue=ce(he.data);$(ue,x),document.body.removeChild(Q),window.removeEventListener("message",fe)}};window.addEventListener("message",fe)},Y={};switch(k.onLoad){case"check-sso":M.enable?ve().then(function(){de().then(function(Q){Q?x.setSuccess():i.silentCheckSsoRedirectUri?z():L(!1)}).catch(function(){x.setError()})}):i.silentCheckSsoRedirectUri?z():L(!1);break;case"login-required":L(!0);break;default:throw"Invalid value for onLoad"}}function V(){var L=ce(window.location.href);if(L&&window.history.replaceState(window.history.state,null,L.newUrl),L&&L.valid)return ve().then(function(){$(L,x)}).catch(function(z){x.setError()});k?k.token&&k.refreshToken?(ie(k.token,k.refreshToken,k.idToken),M.enable?ve().then(function(){de().then(function(z){z?(i.onAuthSuccess&&i.onAuthSuccess(),x.setSuccess(),ye()):x.setSuccess()}).catch(function(){x.setError()})}):i.updateToken(-1).then(function(){i.onAuthSuccess&&i.onAuthSuccess(),x.setSuccess()}).catch(function(){i.onAuthError&&i.onAuthError(),k.onLoad?O():x.setError()})):k.onLoad?O():x.setSuccess():x.setSuccess()}function T(){var L=re(),z=function(){(document.readyState==="interactive"||document.readyState==="complete")&&(document.removeEventListener("readystatechange",z),L.setSuccess())};return document.addEventListener("readystatechange",z),z(),L.promise}return D.then(function(){T().then(Se).then(V).catch(function(){H.setError()})}),D.catch(function(){H.setError()}),H.promise},i.login=function(k){return U.login(k)};function G(k){var H=null,x=window.crypto||window.msCrypto;if(x&&x.getRandomValues&&window.Uint8Array)return H=new Uint8Array(k),x.getRandomValues(H),H;H=new Array(k);for(var D=0;D<H.length;D++)H[D]=Math.floor(256*Math.random());return H}function Z(k){return te(k,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")}function te(k,H){for(var x=G(k),D=new Array(k),O=0;O<k;O++)D[O]=H.charCodeAt(x[O]%H.length);return String.fromCharCode.apply(null,D)}function J(k,H){switch(k){case"S256":var x=new Uint8Array(m.arrayBuffer(H));return S.fromByteArray(x).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"");default:throw"Invalid value for pkceMethod"}}i.createLoginUrl=function(k){var H=se(),x=se(),D=U.redirectUri(k),O={state:H,nonce:x,redirectUri:encodeURIComponent(D)};k&&k.prompt&&(O.prompt=k.prompt);var V;k&&k.action=="register"?V=i.endpoints.register():V=i.endpoints.authorize();var T=k&&k.scope||i.scope;T?T.indexOf("openid")===-1&&(T="openid "+T):T="openid";var L=V+"?client_id="+encodeURIComponent(i.clientId)+"&redirect_uri="+encodeURIComponent(D)+"&state="+encodeURIComponent(H)+"&response_mode="+encodeURIComponent(i.responseMode)+"&response_type="+encodeURIComponent(i.responseType)+"&scope="+encodeURIComponent(T);if(j&&(L=L+"&nonce="+encodeURIComponent(x)),k&&k.prompt&&(L+="&prompt="+encodeURIComponent(k.prompt)),k&&k.maxAge&&(L+="&max_age="+encodeURIComponent(k.maxAge)),k&&k.loginHint&&(L+="&login_hint="+encodeURIComponent(k.loginHint)),k&&k.idpHint&&(L+="&kc_idp_hint="+encodeURIComponent(k.idpHint)),k&&k.action&&k.action!="register"&&(L+="&kc_action="+encodeURIComponent(k.action)),k&&k.locale&&(L+="&ui_locales="+encodeURIComponent(k.locale)),i.pkceMethod){var z=Z(96);O.pkceCodeVerifier=z;var Y=J(i.pkceMethod,z);L+="&code_challenge="+Y,L+="&code_challenge_method="+i.pkceMethod}return q.add(O),L},i.logout=function(k){return U.logout(k)},i.createLogoutUrl=function(k){return i.endpoints.logout()+"?redirect_uri="+encodeURIComponent(U.redirectUri(k,!1))},i.register=function(k){return U.register(k)},i.createRegisterUrl=function(k){return k||(k={}),k.action="register",i.createLoginUrl(k)},i.createAccountUrl=function(k){var H=W(),x=void 0;return typeof H<"u"&&(x=H+"/account?referrer="+encodeURIComponent(i.clientId)+"&referrer_uri="+encodeURIComponent(U.redirectUri(k))),x},i.accountManagement=function(){return U.accountManagement()},i.hasRealmRole=function(k){var H=i.realmAccess;return!!H&&H.roles.indexOf(k)>=0},i.hasResourceRole=function(k,H){if(!i.resourceAccess)return!1;var x=i.resourceAccess[H||i.clientId];return!!x&&x.roles.indexOf(k)>=0},i.loadUserProfile=function(){var k=W()+"/account",H=new XMLHttpRequest;H.open("GET",k,!0),H.setRequestHeader("Accept","application/json"),H.setRequestHeader("Authorization","bearer "+i.token);var x=re();return H.onreadystatechange=function(){H.readyState==4&&(H.status==200?(i.profile=JSON.parse(H.responseText),x.setSuccess(i.profile)):x.setError())},H.send(),x.promise},i.loadUserInfo=function(){var k=i.endpoints.userinfo(),H=new XMLHttpRequest;H.open("GET",k,!0),H.setRequestHeader("Accept","application/json"),H.setRequestHeader("Authorization","bearer "+i.token);var x=re();return H.onreadystatechange=function(){H.readyState==4&&(H.status==200?(i.userInfo=JSON.parse(H.responseText),x.setSuccess(i.userInfo)):x.setError())},H.send(),x.promise},i.isTokenExpired=function(k){if(!i.tokenParsed||!i.refreshToken&&i.flow!="implicit")throw"Not authenticated";if(i.timeSkew==null)return P("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var H=i.tokenParsed.exp-Math.ceil(new Date().getTime()/1e3)+i.timeSkew;if(k){if(isNaN(k))throw"Invalid minValidity";H-=k}return H<0},i.updateToken=function(k){var H=re();if(!i.refreshToken)return H.setError(),H.promise;k=k||5;var x=function(){var D=!1;if(k==-1?(D=!0,P("[KEYCLOAK] Refreshing token: forced refresh")):(!i.tokenParsed||i.isTokenExpired(k))&&(D=!0,P("[KEYCLOAK] Refreshing token: token expired")),!D)H.setSuccess(!1);else{var O="grant_type=refresh_token&refresh_token="+i.refreshToken,V=i.endpoints.token();if(F.push(H),F.length==1){var T=new XMLHttpRequest;T.open("POST",V,!0),T.setRequestHeader("Content-type","application/x-www-form-urlencoded"),T.withCredentials=!0,O+="&client_id="+encodeURIComponent(i.clientId);var L=new Date().getTime();T.onreadystatechange=function(){if(T.readyState==4)if(T.status==200){P("[KEYCLOAK] Token refreshed"),L=(L+new Date().getTime())/2;var z=JSON.parse(T.responseText);ie(z.access_token,z.refresh_token,z.id_token,L),i.onAuthRefreshSuccess&&i.onAuthRefreshSuccess();for(var Y=F.pop();Y!=null;Y=F.pop())Y.setSuccess(!0)}else{N("[KEYCLOAK] Failed to refresh token"),T.status==400&&i.clearToken(),i.onAuthRefreshError&&i.onAuthRefreshError();for(var Y=F.pop();Y!=null;Y=F.pop())Y.setError(!0)}},T.send(O)}}};return M.enable?de().then(function(){x()}).catch(function(){H.setError()}):x(),H.promise},i.clearToken=function(){i.token&&(ie(null,null,null),i.onAuthLogout&&i.onAuthLogout(),i.loginRequired&&i.login())};function W(){if(typeof i.authServerUrl<"u")return i.authServerUrl.charAt(i.authServerUrl.length-1)=="/"?i.authServerUrl+"realms/"+encodeURIComponent(i.realm):i.authServerUrl+"/realms/"+encodeURIComponent(i.realm)}function ee(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function $(k,H){var x=k.code,D=k.error,O=k.prompt,V=new Date().getTime();if(k.kc_action_status&&i.onActionUpdate&&i.onActionUpdate(k.kc_action_status),D){if(O!="none"){var T={error:D,error_description:k.error_description};i.onAuthError&&i.onAuthError(T),H&&H.setError(T)}else H&&H.setSuccess();return}else i.flow!="standard"&&(k.access_token||k.id_token)&&Q(k.access_token,null,k.id_token,!0);if(i.flow!="implicit"&&x){var L="code="+x+"&grant_type=authorization_code",z=i.endpoints.token(),Y=new XMLHttpRequest;Y.open("POST",z,!0),Y.setRequestHeader("Content-type","application/x-www-form-urlencoded"),L+="&client_id="+encodeURIComponent(i.clientId),L+="&redirect_uri="+k.redirectUri,k.pkceCodeVerifier&&(L+="&code_verifier="+k.pkceCodeVerifier),Y.withCredentials=!0,Y.onreadystatechange=function(){if(Y.readyState==4)if(Y.status==200){var ne=JSON.parse(Y.responseText);Q(ne.access_token,ne.refresh_token,ne.id_token,i.flow==="standard"),ye()}else i.onAuthError&&i.onAuthError(),H&&H.setError()},Y.send(L)}function Q(ne,fe,he,ue){V=(V+new Date().getTime())/2,ie(ne,fe,he,V),j&&(i.tokenParsed&&i.tokenParsed.nonce!=k.storedNonce||i.refreshTokenParsed&&i.refreshTokenParsed.nonce!=k.storedNonce||i.idTokenParsed&&i.idTokenParsed.nonce!=k.storedNonce)?(P("[KEYCLOAK] Invalid nonce, clearing token"),i.clearToken(),H&&H.setError()):ue&&(i.onAuthSuccess&&i.onAuthSuccess(),H&&H.setSuccess())}}function ae(k){var H=re(),x;R?typeof R=="string"&&(x=R):x="keycloak.json";function D(Y){Y?i.endpoints={authorize:function(){return Y.authorization_endpoint},token:function(){return Y.token_endpoint},logout:function(){if(!Y.end_session_endpoint)throw"Not supported by the OIDC server";return Y.end_session_endpoint},checkSessionIframe:function(){if(!Y.check_session_iframe)throw"Not supported by the OIDC server";return Y.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!Y.userinfo_endpoint)throw"Not supported by the OIDC server";return Y.userinfo_endpoint}}:i.endpoints={authorize:function(){return W()+"/protocol/openid-connect/auth"},token:function(){return W()+"/protocol/openid-connect/token"},logout:function(){return W()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){var Q=W()+"/protocol/openid-connect/login-status-iframe.html";return i.iframeVersion&&(Q=Q+"?version="+i.iframeVersion),Q},thirdPartyCookiesIframe:function(){var Q=W()+"/protocol/openid-connect/3p-cookies/step1.html";return i.iframeVersion&&(Q=Q+"?version="+i.iframeVersion),Q},register:function(){return W()+"/protocol/openid-connect/registrations"},userinfo:function(){return W()+"/protocol/openid-connect/userinfo"}}}if(x){var O=new XMLHttpRequest;O.open("GET",x,!0),O.setRequestHeader("Accept","application/json"),O.onreadystatechange=function(){if(O.readyState==4)if(O.status==200||oe(O)){var Y=JSON.parse(O.responseText);i.authServerUrl=Y["auth-server-url"],i.realm=Y.realm,i.clientId=Y.resource,D(null),H.setSuccess()}else H.setError()},O.send()}else{if(!R.clientId)throw"clientId missing";i.clientId=R.clientId;var V=R.oidcProvider;if(V)if(typeof V=="string"){var z;V.charAt(V.length-1)=="/"?z=V+".well-known/openid-configuration":z=V+"/.well-known/openid-configuration";var O=new XMLHttpRequest;O.open("GET",z,!0),O.setRequestHeader("Accept","application/json"),O.onreadystatechange=function(){if(O.readyState==4)if(O.status==200||oe(O)){var Q=JSON.parse(O.responseText);D(Q),H.setSuccess()}else H.setError()},O.send()}else D(V),H.setSuccess();else{if(!R.url){for(var T=document.getElementsByTagName("script"),L=0;L<T.length;L++)if(T[L].src.match(/.*keycloak\.js/)){R.url=T[L].src.substr(0,T[L].src.indexOf("/js/keycloak.js"));break}}if(!R.realm)throw"realm missing";i.authServerUrl=R.url,i.realm=R.realm,D(null),H.setSuccess()}}return H.promise}function oe(k){return k.status==0&&k.responseText&&k.responseURL.startsWith("file:")}function ie(k,H,x,D){if(i.tokenTimeoutHandle&&(clearTimeout(i.tokenTimeoutHandle),i.tokenTimeoutHandle=null),H?(i.refreshToken=H,i.refreshTokenParsed=le(H)):(delete i.refreshToken,delete i.refreshTokenParsed),x?(i.idToken=x,i.idTokenParsed=le(x)):(delete i.idToken,delete i.idTokenParsed),k){if(i.token=k,i.tokenParsed=le(k),i.sessionId=i.tokenParsed.session_state,i.authenticated=!0,i.subject=i.tokenParsed.sub,i.realmAccess=i.tokenParsed.realm_access,i.resourceAccess=i.tokenParsed.resource_access,D&&(i.timeSkew=Math.floor(D/1e3)-i.tokenParsed.iat),i.timeSkew!=null&&(P("[KEYCLOAK] Estimated time difference between browser and server is "+i.timeSkew+" seconds"),i.onTokenExpired)){var O=(i.tokenParsed.exp-new Date().getTime()/1e3+i.timeSkew)*1e3;P("[KEYCLOAK] Token expires in "+Math.round(O/1e3)+" s"),O<=0?i.onTokenExpired():i.tokenTimeoutHandle=setTimeout(i.onTokenExpired,O)}}else delete i.token,delete i.tokenParsed,delete i.subject,delete i.realmAccess,delete i.resourceAccess,i.authenticated=!1}function le(k){switch(k=k.split(".")[1],k=k.replace(/-/g,"+"),k=k.replace(/_/g,"/"),k.length%4){case 0:break;case 2:k+="==";break;case 3:k+="=";break;default:throw"Invalid token"}return k=decodeURIComponent(escape(atob(k))),k=JSON.parse(k),k}function se(){var k="0123456789abcdef",H=te(36,k).split("");return H[14]="4",H[19]=k.substr(H[19]&3|8,1),H[8]=H[13]=H[18]=H[23]="-",H.join("")}function ce(k){var H=Ae(k);if(H){var x=q.get(H.state);return x&&(H.valid=!0,H.redirectUri=x.redirectUri,H.storedNonce=x.nonce,H.prompt=x.prompt,H.pkceCodeVerifier=x.pkceCodeVerifier),H}}function Ae(k){var H;switch(i.flow){case"standard":H=["code","state","session_state","kc_action_status"];break;case"implicit":H=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status"];break;case"hybrid":H=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status"];break}H.push("error"),H.push("error_description"),H.push("error_uri");var x=k.indexOf("?"),D=k.indexOf("#"),O,V;if(i.responseMode==="query"&&x!==-1?(O=k.substring(0,x),V=we(k.substring(x+1,D!==-1?D:k.length),H),V.paramsString!==""&&(O+="?"+V.paramsString),D!==-1&&(O+=k.substring(D))):i.responseMode==="fragment"&&D!==-1&&(O=k.substring(0,D),V=we(k.substring(D+1),H),V.paramsString!==""&&(O+="#"+V.paramsString)),V&&V.oauthParams){if(i.flow==="standard"||i.flow==="hybrid"){if((V.oauthParams.code||V.oauthParams.error)&&V.oauthParams.state)return V.oauthParams.newUrl=O,V.oauthParams}else if(i.flow==="implicit"&&(V.oauthParams.access_token||V.oauthParams.error)&&V.oauthParams.state)return V.oauthParams.newUrl=O,V.oauthParams}}function we(k,H){for(var x=k.split("&"),D={paramsString:"",oauthParams:{}},O=0;O<x.length;O++){var V=x[O].indexOf("="),T=x[O].slice(0,V);H.indexOf(T)!==-1?D.oauthParams[T]=x[O].slice(V+1):(D.paramsString!==""&&(D.paramsString+="&"),D.paramsString+=x[O])}return D}function re(){var k={setSuccess:function(H){k.resolve(H)},setError:function(H){k.reject(H)}};return k.promise=new Promise(function(H,x){k.resolve=H,k.reject=x}),k.promise.success=function(H){return g(),this.then(function(D){H(D)}),this},k.promise.error=function(H){return g(),this.catch(function(D){H(D)}),this},k}function ve(){var k=re();if(!M.enable||M.iframe)return k.setSuccess(),k.promise;var H=document.createElement("iframe");M.iframe=H,H.onload=function(){var O=i.endpoints.authorize();O.charAt(0)==="/"?M.iframeOrigin=ee():M.iframeOrigin=O.substring(0,O.indexOf("/",8)),k.setSuccess()};var x=i.endpoints.checkSessionIframe();H.setAttribute("src",x),H.setAttribute("title","keycloak-session-iframe"),H.style.display="none",document.body.appendChild(H);var D=function(O){if(!(O.origin!==M.iframeOrigin||M.iframe.contentWindow!==O.source)&&(O.data=="unchanged"||O.data=="changed"||O.data=="error")){O.data!="unchanged"&&i.clearToken();for(var V=M.callbackList.splice(0,M.callbackList.length),T=V.length-1;T>=0;--T){var L=V[T];O.data=="error"?L.setError():L.setSuccess(O.data=="unchanged")}}};return window.addEventListener("message",D,!1),k.promise}function ye(){M.enable&&i.token&&setTimeout(function(){de().then(function(k){k&&ye()})},M.interval*1e3)}function de(){var k=re();if(M.iframe&&M.iframeOrigin){var H=i.clientId+" "+(i.sessionId?i.sessionId:"");M.callbackList.push(k);var x=M.iframeOrigin;M.callbackList.length==1&&M.iframe.contentWindow.postMessage(H,x)}else k.setSuccess();return k.promise}function Se(){var k=re();if(M.enable||i.silentCheckSsoRedirectUri){var H=document.createElement("iframe");H.setAttribute("src",i.endpoints.thirdPartyCookiesIframe()),H.setAttribute("title","keycloak-3p-check-iframe"),H.style.display="none",document.body.appendChild(H);var x=function(D){H.contentWindow===D.source&&(D.data!=="supported"&&D.data!=="unsupported"||(D.data==="unsupported"&&(M.enable=!1,i.silentCheckSsoFallback&&(i.silentCheckSsoRedirectUri=!1),N("[KEYCLOAK] 3rd party cookies aren't supported by this browser. checkLoginIframe and silent check-sso are not available.")),document.body.removeChild(H),window.removeEventListener("message",x),k.setSuccess()))};window.addEventListener("message",x,!1)}else k.setSuccess();return k.promise}function pe(k,H){if(!k||k=="default")return{login:function(T){return window.location.replace(i.createLoginUrl(T)),re().promise},logout:function(T){return window.location.replace(i.createLogoutUrl(T)),re().promise},register:function(T){return window.location.replace(i.createRegisterUrl(T)),re().promise},accountManagement:function(){var T=i.createAccountUrl();if(typeof T<"u")window.location.href=T;else throw"Not supported by the OIDC server";return re().promise},redirectUri:function(T,L){return arguments.length==1&&(L=!0),T&&T.redirectUri?T.redirectUri:i.redirectUri?i.redirectUri:location.href}};if(k=="cordova"){M.enable=!1;var x=function(T,L,z){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(T,L,z):window.open(T,L,z)},D=function(T){return T&&T.cordovaOptions?Object.keys(T.cordovaOptions).reduce(function(L,z){return L[z]=T.cordovaOptions[z],L},{}):{}},O=function(T){return Object.keys(T).reduce(function(L,z){return L.push(z+"="+T[z]),L},[]).join(",")},V=function(T){var L=D(T);return L.location="no",T&&T.prompt=="none"&&(L.hidden="yes"),O(L)};return{login:function(T){var L=re(),z=V(T),Y=i.createLoginUrl(T),Q=x(Y,"_blank",z),ne=!1,fe=!1,he=function(){fe=!0,Q.close()};return Q.addEventListener("loadstart",function(ue){if(ue.url.indexOf("http://localhost")==0){var ge=ce(ue.url);$(ge,L),he(),ne=!0}}),Q.addEventListener("loaderror",function(ue){if(!ne)if(ue.url.indexOf("http://localhost")==0){var ge=ce(ue.url);$(ge,L),he(),ne=!0}else L.setError(),he()}),Q.addEventListener("exit",function(ue){fe||L.setError({reason:"closed_by_user"})}),L.promise},logout:function(T){var L=re(),z=i.createLogoutUrl(T),Y=x(z,"_blank","location=no,hidden=yes"),Q;return Y.addEventListener("loadstart",function(ne){ne.url.indexOf("http://localhost")==0&&Y.close()}),Y.addEventListener("loaderror",function(ne){ne.url.indexOf("http://localhost")==0||(Q=!0),Y.close()}),Y.addEventListener("exit",function(ne){Q?L.setError():(i.clearToken(),L.setSuccess())}),L.promise},register:function(T){var L=re(),z=i.createRegisterUrl(),Y=V(T),Q=x(z,"_blank",Y);return Q.addEventListener("loadstart",function(ne){if(ne.url.indexOf("http://localhost")==0){Q.close();var fe=ce(ne.url);$(fe,L)}}),L.promise},accountManagement:function(){var T=i.createAccountUrl();if(typeof T<"u"){var L=x(T,"_blank","location=no");L.addEventListener("loadstart",function(z){z.url.indexOf("http://localhost")==0&&L.close()})}else throw"Not supported by the OIDC server"},redirectUri:function(T){return"http://localhost"}}}if(k=="cordova-native")return M.enable=!1,{login:function(T){var L=re(),z=i.createLoginUrl(T);return universalLinks.subscribe("keycloak",function(Y){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var Q=ce(Y.url);$(Q,L)}),window.cordova.plugins.browsertab.openUrl(z),L.promise},logout:function(T){var L=re(),z=i.createLogoutUrl(T);return universalLinks.subscribe("keycloak",function(Y){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),i.clearToken(),L.setSuccess()}),window.cordova.plugins.browsertab.openUrl(z),L.promise},register:function(T){var L=re(),z=i.createRegisterUrl(T);return universalLinks.subscribe("keycloak",function(Y){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var Q=ce(Y.url);$(Q,L)}),window.cordova.plugins.browsertab.openUrl(z),L.promise},accountManagement:function(){var T=i.createAccountUrl();if(typeof T<"u")window.cordova.plugins.browsertab.openUrl(T);else throw"Not supported by the OIDC server"},redirectUri:function(T){return T&&T.redirectUri?T.redirectUri:i.redirectUri?i.redirectUri:"http://localhost"}};if(k=="capacitor")return M.enable=!1,{login:function(T){var L=re(),z=i.createLoginUrl(T);return window.Capacitor.Plugins.App.addListener("appUrlOpen",Y=>{window.cordova.plugins.browsertab.close();var Q=ce(Y.url);$(Q,L)}),window.cordova.plugins.browsertab.openUrl(z),L.promise},logout:function(T){var L=re(),z=i.createLogoutUrl(T);return window.Capacitor.Plugins.App.addListener("appUrlOpen",Y=>{window.cordova.plugins.browsertab.close(),i.clearToken(),L.setSuccess()}),window.cordova.plugins.browsertab.openUrl(z),L.promise},register:function(T){var L=re(),z=i.createRegisterUrl(T);return window.Capacitor.Plugins.App.addListener("appUrlOpen",Y=>{window.cordova.plugins.browsertab.close();var Q=ce(Y.url);$(Q,L)}),window.cordova.plugins.browsertab.openUrl(z),L.promise},accountManagement:function(){var T=i.createAccountUrl();if(typeof T<"u")window.cordova.plugins.browsertab.openUrl(T);else throw"Not supported by the OIDC server"},redirectUri:function(T){return T&&T.redirectUri?T.redirectUri:i.redirectUri?i.redirectUri:"http://localhost"}};if(k=="capacitor-native")return M.enable=!1,{login:function(T){var L=re(),z=i.createLoginUrl(T);const Y=window.Capacitor.Plugins.App.addListener("appUrlOpen",Q=>{var ne=ce(Q.url);$(ne,L),Y.remove()});return window.open(z,"_system"),L.promise},logout:function(T){var L=re(),z=i.createLogoutUrl(T);const Y=window.Capacitor.Plugins.App.addListener("appUrlOpen",Q=>{i.clearToken(),L.setSuccess(),Y.remove()});return window.open(z,"_system"),L.promise},register:function(T){var L=re(),z=i.createRegisterUrl(T);return window.Capacitor.Plugins.App.addListener("appUrlOpen",Y=>{var Q=ce(Y.url);$(Q,L)}),window.open(z,"_system"),L.promise},accountManagement:function(){var T=i.createAccountUrl();if(typeof T<"u")window.open(T,"_system");else throw"Not supported by the OIDC server"},redirectUri:function(T){return T&&T.redirectUri?T.redirectUri:i.redirectUri?i.redirectUri:"http://localhost"}};throw"invalid adapter type: "+k}var me=function(){if(!(this instanceof me))return new me;localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test");var k=this;function H(){for(var x=new Date().getTime(),D=0;D<localStorage.length;D++){var O=localStorage.key(D);if(O&&O.indexOf("kc-callback-")==0){var V=localStorage.getItem(O);if(V)try{var T=JSON.parse(V).expires;(!T||T<x)&&localStorage.removeItem(O)}catch{localStorage.removeItem(O)}}}}k.get=function(x){if(x){var D="kc-callback-"+x,O=localStorage.getItem(D);return O&&(localStorage.removeItem(D),O=JSON.parse(O)),H(),O}},k.add=function(x){H();var D="kc-callback-"+x.state;x.expires=new Date().getTime()+3600*1e3,localStorage.setItem(D,JSON.stringify(x))}},ke=function(){if(!(this instanceof ke))return new ke;var k=this;k.get=function(O){if(O){var V=x("kc-callback-"+O);if(D("kc-callback-"+O,"",H(-100)),V)return JSON.parse(V)}},k.add=function(O){D("kc-callback-"+O.state,JSON.stringify(O),H(60))},k.removeItem=function(O){D(O,"",H(-100))};var H=function(O){var V=new Date;return V.setTime(V.getTime()+O*60*1e3),V},x=function(O){for(var V=O+"=",T=document.cookie.split(";"),L=0;L<T.length;L++){for(var z=T[L];z.charAt(0)==" ";)z=z.substring(1);if(z.indexOf(V)==0)return z.substring(V.length,z.length)}return""},D=function(O,V,T){var L=O+"="+V+"; expires="+T.toUTCString()+"; ";document.cookie=L}};function be(){try{return new me}catch{}return new ke}function _e(k){return function(){i.enableLogging&&k.apply(console,Array.prototype.slice.call(arguments))}}}return E})})}),import_keycloak=__toESM(require_keycloak());init_vue_runtime_esm_bundler();var installed=!1,KeycloakSymbol=Symbol("keycloak"),mobile_keycloak_default={async install(m,S={}){if(installed)return;installed=!0;const C={config:window.__BASEURL__?`${window.__BASEURL__}/config`:"/config",init:{onLoad:"login-required"}},g=Object.assign({},C,S);if(assertOptions(g).hasError)throw new Error(`Invalid options given: ${assertOptions(g).error}`);const E=await vue2AndVue3Reactive(m,defaultEmptyVueKeycloakInstance());getConfig(g.config).then(R=>{init(R,E,g)}).catch(R=>{console.log(R)})},KeycloakSymbol};function defaultEmptyVueKeycloakInstance(){return{ready:!1,authenticated:!1,userName:void 0,fullName:void 0,token:void 0,tokenParsed:void 0,logoutFn:void 0,loginFn:void 0,login:void 0,createLoginUrl:void 0,createLogoutUrl:void 0,createRegisterUrl:void 0,register:void 0,accountManagement:void 0,createAccountUrl:void 0,loadUserProfile:void 0,subject:void 0,idToken:void 0,idTokenParsed:void 0,realmAccess:void 0,resourceAccess:void 0,refreshToken:void 0,refreshTokenParsed:void 0,timeSkew:void 0,responseMode:void 0,responseType:void 0,hasRealmRole:void 0,hasResourceRole:void 0,keycloak:void 0}}function vue2AndVue3Reactive(m,S){return new Promise((C,g)=>{if(m.prototype)try{const E=m.observable(S);Object.defineProperty(m.prototype,"$keycloak",{get(){return E}}),C(E)}catch(E){g(E)}else{const E=reactive(S);m.config.globalProperties.$keycloak=E,m.provide(KeycloakSymbol,E),C(E)}})}function init(m,S,C){const g=(0,import_keycloak.default)(m);g.onReady=function(R){E(R),S.ready=!0,typeof C.onReady=="function"&&C.onReady(g,S)},g.onAuthSuccess=function(){E(!0),S.ready=!0;const R=setInterval(()=>g.updateToken(60).catch(()=>{g.clearToken()}),1e4);S.logoutFn=()=>{clearInterval(R),g.logout(C.logout)}},g.onAuthRefreshSuccess=function(){E(!0),typeof C.onAuthRefreshSuccess=="function"&&C.onAuthRefreshSuccess(g)},g.onAuthRefreshError=function(){E(!1),typeof C.onAuthRefreshError=="function"&&C.onAuthRefreshError(g)},E(!1),C.init!==void 0&&g.init(C.init).then(R=>{E(R),typeof C.onInitSuccess=="function"&&C.onInitSuccess(R)}).catch(R=>{E(!1);const i=new Error("Failure during initialization of keycloak-js adapter");typeof C.onInitError=="function"?C.onInitError(i,R):console.error(i,R)});function E(R=!1){S.authenticated=R,S.loginFn=g.login,S.login=g.login,S.createLoginUrl=g.createLoginUrl,S.createLogoutUrl=g.createLogoutUrl,S.createRegisterUrl=g.createRegisterUrl,S.register=g.register,S.keycloak=g,R&&(S.accountManagement=g.accountManagement,S.createAccountUrl=g.createAccountUrl,S.hasRealmRole=g.hasRealmRole,S.hasResourceRole=g.hasResourceRole,S.loadUserProfile=g.loadUserProfile,S.token=g.token,S.subject=g.subject,S.idToken=g.idToken,S.idTokenParsed=g.idTokenParsed,S.realmAccess=g.realmAccess,S.resourceAccess=g.resourceAccess,S.refreshToken=g.refreshToken,S.refreshTokenParsed=g.refreshTokenParsed,S.timeSkew=g.timeSkew,S.responseMode=g.responseMode,S.responseType=g.responseType,S.tokenParsed=g.tokenParsed,S.userName=g.tokenParsed.preferred_username,S.fullName=g.tokenParsed.name)}}function assertOptions(m){const{config:S,init:C,onReady:g,onInitError:E,onAuthRefreshError:R}=m;return typeof S!="string"&&!_isObject(S)?{hasError:!0,error:`'config' option must be a string or an object. Found: '${S}'`}:!_isObject(C)||typeof C?.onLoad!="string"?{hasError:!0,error:`'init' option must be an object with an 'onLoad' property. Found: '${C}'`}:g&&typeof g!="function"?{hasError:!0,error:`'onReady' option must be a function. Found: '${g}'`}:E&&typeof E!="function"?{hasError:!0,error:`'onInitError' option must be a function. Found: '${E}'`}:R&&typeof R!="function"?{hasError:!0,error:`'onAuthRefreshError' option must be a function. Found: '${R}'`}:{hasError:!1,error:null}}function _isObject(m){return m!==null&&typeof m=="object"&&Object.prototype.toString.call(m)!=="[object Array]"}function getConfig(m){return _isObject(m)?Promise.resolve(m):new Promise((S,C)=>{const g=new XMLHttpRequest;g.open("GET",m),g.setRequestHeader("Accept","application/json"),g.onreadystatechange=()=>{g.readyState===4&&(g.status===200?S(JSON.parse(g.responseText)):C(new Error(g.statusText)))},g.send()})}export{mobile_keycloak_default as default};
