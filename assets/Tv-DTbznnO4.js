import{I as w,l as y,E as g,eJ as f,ej as k,f5 as b,ai as C,bM as S,ei as j,a8 as L,w as B,d,o as i,s as n,j as a,K as t,bu as T,a as e,x as $,ag as m,t as c,aP as p,aN as N,aO as O,aM as q,c as E,F as I,h as M,e8 as V,bh as z,O as D,f6 as F,f7 as P,f8 as Q,aq as v,a4 as u}from"./index-BlsCkKvU.js";import{u as U}from"./useQueryClient-DkDUGw6x.js";import{_ as H}from"./ServerCard.vue_vue_type_script_setup_true_lang-CcOjsGIr.js";import{_ as J}from"./NoMercyAvatar.vue_vue_type_script_setup_true_lang-Fd24VsoQ.js";import{_ as x}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-CcyaU_rN.js";import{r as K}from"./ripperSocket-D2R3KSkq.js";import"./DeviceIcon.vue_vue_type_script_setup_true_lang-B9hjpXej.js";import"./index-BYwqtu8U.js";import"./md5-CfV8Jf4N.js";import"./HubConnection-CMQnVIkW.js";const R={class:"flex h-full w-full flex-auto flex-col items-center justify-center gap-8 p-8"},W={class:"flex w-full flex-grow flex-col justify-between p-2 min-h-auto"},A={class:"flex justify-between items-center self-stretch flex-grow-0 flex-shrink-0 w-full relative gap-2.5 mb-2"},G={class:"flex justify-start items-center relative gap-2.5",inert:""},X={class:"size-12 my-auto"},Y={class:"w-48 text-base font-semibold text-left text-slate-dark-1 dark:text-slate-light-1"},Z={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},ee={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},de=w({__name:"Tv",setup(te){const h=U(),l=y();async function _(s){f(s),await D().get("libraries").then(({data:r})=>{F(r.data),P.value=!0,Q.value=!0,setTimeout(async()=>{v.value==="/setup/select-servers"?await u.replace({name:"Home"}):await u.replace(v.value)},50)}).catch(async()=>{await u.replace({name:"Server offline"})})}return g(()=>{f(null),k(),h.removeQueries(),b.value?.stop(),C.value?.stop(),K.value?.stop()}),S(()=>{j()}),L(()=>{setTimeout(()=>{l.value?.querySelector("button")?.focus()},100)}),B(l,s=>{setTimeout(()=>{s?.querySelector("button")?.focus()},100)}),(s,r)=>(i(),d(t(z),null,{default:n(()=>[a(t(T),{fullscreen:!0},{default:n(()=>[e("div",R,[e("div",W,[e("div",A,[e("div",G,[e("div",X,[a(J,{user:t(m),size:40},null,8,["user"])]),e("p",Y,c(t(m).name),1)]),$(e("button",{tabindex:"0",class:"flex justify-center items-center ml-auto relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",onClick:r[0]||(r[0]=o=>p.value=!t(p))},[a(x,{icon:"doorOut",class:"text-slate-dark-1 dark:text-slate-light-1"}),e("span",Z,c(s.$t("Exit TV mode")),1)],512),[[N,!t(O)]]),a(t(q),{to:"/logout",class:"flex justify-center items-center relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]"},{default:n(()=>[a(x,{icon:"doorOut",class:"text-slate-dark-1 dark:text-slate-light-1"}),e("span",ee,c(s.$t("Logout")),1)]),_:1})]),e("div",{ref_key:"serverList",ref:l,class:"tv:children:w-[30%] tv:mt-0 -mt-24 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4"},[(i(!0),E(I,null,M(t(V),o=>(i(),d(H,{key:o.id,server:o,onclick:()=>_(o)},null,8,["server","onclick"]))),128))],512)])])]),_:1})]),_:1}))}});export{de as default};
