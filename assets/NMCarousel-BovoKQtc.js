import{Y as F,d as c,aI as G,f as O,j as z,h as r,b as i,o as s,i as p,a as W,c as f,v as y,l as C,y as w,Z as m,t as k,F as q,p as X,af as Y,s as Z,m as N,ae as H}from"./vue-ionic-Cb5qD3-A.js";import{r as J}from"./swiper-D00Cnjmx.js";import{aX as K,d as Q,f as x,aL as L}from"./index-BwsYF_nP.js";import{b as P,s as U}from"./swiper-config-Caon8l1d.js";import{_ as h}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-BgDponKe.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";const te=["id","data-next-id","data-previous-id"],se={class:"flex w-available flex-1 flex-col gap-2"},ae={class:"relative ml-2 flex flex-shrink-0 flex-grow-0 items-center self-stretch tv:hidden"},re={key:0},oe={key:1},le={class:"leading-none pt-0.5"},ie={key:4,class:"flex flex-shrink-0 flex-grow-0 items-start justify-start gap-2 pr-4 ml-auto"},ne=["aria-label"],ue=["aria-label","onclick"],ce={class:"gap-3 py-1 pr-0 w-available swiper"},de=F({__name:"NMCarousel",props:{title:{type:String,required:!0},more_link:{type:String,required:!1},more_link_text:{type:String,required:!1,default:"See more"},items:{type:Array,required:!1,default:[]},type:{type:String,required:!1},limitCardCountBy:{type:Number,required:!1},backdropCards:{type:Boolean,required:!1,default:!1},index:{type:Number,required:!0},id:{type:String,required:!0},previous_id:{type:String,required:!0},next_id:{required:!0}},setup(a){const o=a,B=c(!1),g=c(!1),b=c(!0),n=c(!1),u=c(!1),v=c(),S=c(),M=(e,t)=>{e.progress=Math.floor((t*100+1)/100),g.value=!e.isBeginning,b.value=e.progress<1,n.value=e.progress===1,u.value=!e.isLocked},A=e=>{var t;e.progress=Math.floor((e.progress*100+1)/100),(t=e.el)==null||t.classList.remove("opacity-0"),g.value=!e.isBeginning,b.value=e.progress<1,n.value=e.progress===1,u.value=!e.isLocked},E=e=>{setTimeout(()=>{var t;(t=e.el)==null||t.classList.remove("opacity-0")},10*o.index)};J();const j=()=>{var e,t;(t=(e=v.value)==null?void 0:e.$el)==null||t.swiper.slideTo(0,300),u.value=!0},T=()=>{var e,t;(t=(e=v.value)==null?void 0:e.$el)==null||t.swiper.slideNext(300)},V=()=>{var e,t;(t=(e=v.value)==null?void 0:e.$el)==null||t.swiper.slidePrev(300)},I=window.innerWidth<800?24:20,_=c();G(()=>{if(!o.limitCardCountBy){_.value=P(o.backdropCards);return}const e={};for(const[t,d]of K(P(o.backdropCards)))e[t]={...d,slidesPerView:d.slidesPerView-o.limitCardCountBy,slidesPerGroup:d.slidesPerGroup-o.limitCardCountBy};_.value=e}),O(()=>{setTimeout(()=>{B.value=!0},150*o.index)});const R=()=>{var t;(t=document.querySelector(`#carousel_${o.next_id} button`))==null||t.focus();const e=document.querySelector(`#carousel_${o.next_id} h3`);!e||!x.value||L(e,x.value,{duration:300})},D=()=>{!x.value||!S.value||L(S.value,x.value,{duration:300})};return(e,t)=>{var $;const d=z("RouterLink");return($=a.items)!=null&&$.length&&B.value?(s(),r("div",{key:0,id:`carousel_${a.id}`,"data-next-id":`carousel_${a.next_id}`,"data-previous-id":`carousel_${a.previous_id}`,class:"mt-2 sm:mt-6 mb-2 flex w-auto flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-2 self-stretch text-left"},[p("div",se,[p("div",ae,[a.title?(s(),r("h3",{key:0,ref:"title",class:"mr-2 ml-3 sm:ml-3 my-2 text-slate-lightA-12/90 dark:text-slate-darkA-12/90 self-stretch flex-grow-0 flex-shrink-0 text-xl font-bold"},y(a.title),513)):W(e.$slots,"selector",{key:1},void 0,!0),a.next_id?(s(),r("button",{key:2,class:"skip-navigation hidden sm:flex sm:absolute opacity-0 focus-visible:opacity-100",onClick:R,onFocus:D},[a.next_id==="continue"?(s(),r("span",re,y(e.$t("Back to first carousel")),1)):(s(),r("span",oe,y(e.$t("Skip to next carousel")),1))],32)):i("",!0),a.more_link?(s(),f(d,{key:3,to:a.more_link,class:"text-base text-slate-lightA-8/90 dark:text-slate-darkA-8/90 flex items-center ml-auto sm:ml-4 mr-2 sm:mr-auto"},{default:C(()=>[p("span",le,y(a.more_link_text),1),w(h,{icon:"chevronRight",className:"w-6 mt-1"})]),_:1},8,["to"])):i("",!0),m(Q)?i("",!0):(s(),r("div",ie,[u.value?(s(),r("button",{key:0,"aria-label":e.$t("Previous slide"),tabindex:"-1",class:k(["hidden sm:flex justify-center items-center p-1 rounded-lg bg-auto-alpha-9 active:scale-95 hover:bg-auto-alpha-11 transition-transform duration-200",{"cursor-not-allowed opacity-50":!g.value}]),onclick:V},[w(h,{class:"w-6",icon:"chevronLeft"})],10,ne)):i("",!0),u.value?(s(),r("button",{key:1,"aria-label":n.value?e.$t("Start slide"):e.$t("Next slide"),tabindex:"-1",class:k(["hidden sm:flex justify-center items-center p-1 rounded-lg bg-auto-alpha-9 active:scale-95 hover:bg-auto-alpha-11 transition-transform duration-200",{"cursor-not-allowed opacity-50":!u.value}]),onclick:n.value?j:T},[u.value&&!n.value?(s(),f(h,{key:0,icon:"chevronRight",class:k(["w-6",{"opacity-0":!b.value&&n.value}])},null,8,["class"])):i("",!0),u.value&&n.value?(s(),f(h,{key:1,icon:"chevronLeftDouble",class:k(["w-6",{"opacity-0":!n.value}])},null,8,["class"])):i("",!0)],10,ue)):i("",!0)]))]),p("div",ce,[w(m(H),N(m(U)(a.backdropCards),{ref_key:"swiper",ref:v,class:"opacity-0",slidesOffsetBefore:m(I),breakpoints:_.value,"data-spatial-container":"row",onProgress:M,onAfterInit:E,onSlideChange:A}),{default:C(()=>[(s(!0),r(q,null,X(a.items,l=>(s(),r(q,{key:l==null?void 0:l.id},[l!=null&&l.id?(s(),f(m(Y),{key:0,class:"flex"},{default:C(()=>[(s(),f(Z(l.component),N({key:l.id,ref_for:!0},l.props),null,16))]),_:2},1024)):i("",!0)],64))),128))]),_:1},16,["slidesOffsetBefore","breakpoints"])])])],8,te)):i("",!0)}}}),xe=ee(de,[["__scopeId","data-v-4d67de5f"]]);export{xe as N};
