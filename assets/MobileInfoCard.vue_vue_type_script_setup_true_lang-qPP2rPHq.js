import{$ as L,aa as N,C as c,j as T,h as v,b as w,a0 as s,o as d,i as l,y as r,c as M,l as R,v as k,t as y}from"./vue-ionic-DNlOg-eX.js";import{br as f,i as _}from"./index-NjjXUda8.js";import{u as S}from"./useServerClient-CDyTS9IJ.js";import{_ as V}from"./CardShadow.vue_vue_type_script_setup_true_lang-SvGy78Xo.js";import{M as q}from"./MediaLikeButton-iyptxY4M.js";import{_ as D}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-DOdXMHkh.js";import{_ as I}from"./TMDBImage.vue_vue_type_script_setup_true_lang-Bs-wK2De.js";import{_ as P}from"./ShareButton.vue_vue_type_script_setup_true_lang-DPKE5FHr.js";const E={class:"flex flex-col justify-start items-start w-[280px] absolute left-0 top-0 bg-cover bg-no-repeat bg-center"},F={class:"flex justify-start items-start w-[280px] absolute left-0 top-[348px] gap-4 p-4 z-40"},O={class:"flex-grow w-[100px] text-[15px] font-semibold text-center text-[#151718]"},U={class:"flex-grow w-[100px] text-[15px] font-semibold text-center"},W={class:"flex justify-end items-start w-[280px] absolute left-0 top-0 gap-2 p-4"},A={class:"flex justify-start items-center flex-grow-0 flex-shrink-0 relative overflow-hidden gap-2 p-2 rounded-3xl bg-black/[0.48] border border-black/2 w-10 h-10"},G={class:"flex justify-start items-center flex-grow-0 flex-shrink-0 relative overflow-hidden gap-2 rounded-3xl bg-black/[0.48] border border-black/2"},H={class:"flex justify-start items-center flex-grow-0 flex-shrink-0 relative overflow-hidden gap-2 rounded-3xl bg-black/[0.48] border border-black/2"},ae=L({__name:"MobileInfoCard",props:{data:{type:Object,required:!1},toggleTrailer:{type:Function,required:!1}},setup(t){const o=t,i=N(),{data:n}=S({path:`${i==null?void 0:i.fullPath}/available`}),j=c(()=>{var e;return(e=n.value)!=null&&e.available?"Watch":o.data?"Unavailable":"Loading"}),$=c(()=>{var e,a;return((e=o.data)==null?void 0:e.title)??((a=o.data)==null?void 0:a.name)}),C=c(()=>{var e,a;return{title:((e=o.data)==null?void 0:e.title)??"",text:((a=o.data)==null?void 0:a.overview)??"",url:`https://app.nomercy.tv${i.fullPath}`}});return(e,a)=>{var p,u,x,h,m,b,g;const z=T("RouterLink");return(p=t.data)!=null&&p.poster||s(f)?(d(),v("div",{key:0,class:y(["frosting flex-grow-0 flex-shrink-0 w-[280px] h-[420px] z-10 absolute left-1/2 -translate-x-1/2 overflow-clip rounded-2xl",{"top-safe-offset-8":s(_),"top-12":!s(_)}])},[l("div",E,[(d(),M(I,{key:s(f)??"poster","auto-shadow":!0,path:((u=t.data)==null?void 0:u.poster)??s(f),"color-palette":(h=(x=t.data)==null?void 0:x.color_palette)==null?void 0:h.poster,size:760,priority:"high",title:$.value,aspect:"poster",loading:"eager","class-name":"pointer-events-none absolute -inset-1 z-20 flex h-auto scale-100 select-none items-center place-self-start overflow-hidden w-available h-available max-h-available",class:"m-auto children:w-full scale-100 max-h-available 5xl:w-inherit",type:"image"},null,8,["path","color-palette","title"]))]),r(V,{colored:!0}),l("div",F,[r(z,{to:`${(m=t.data)==null?void 0:m.link}/watch`,class:y(["frosting flex justify-start items-center flex-grow h-10 relative overflow-hidden gap-2 px-2 py-4 rounded-3xl bg-white/80",{"opacity-70":!((b=s(n))!=null&&b.available)}]),disabled:!((g=s(n))!=null&&g.available)},{default:R(()=>[l("p",O,k(e.$t(j.value)),1)]),_:1},8,["to","disabled","class"]),t.toggleTrailer?(d(),v("button",{key:0,class:"frosting flex justify-start items-center flex-grow h-10 relative overflow-hidden gap-2 px-2 py-4 rounded-3xl text-slate-light-1 bg-slate-light-12",onClick:a[0]||(a[0]=B=>t.toggleTrailer(B))},[l("p",U,k(e.$t(t.data?"Trailer":"loading")),1)])):w("",!0)]),l("div",W,[l("div",A,[r(D,{icon:"check","class-name":"w-6 text-white"})]),l("div",G,[r(q,{data:t.data,class:"!p-0 text-white"},null,8,["data"])]),l("div",H,[r(P,{"share-data":C.value,class:"!p-0 text-white"},null,8,["share-data"])])])],2)):w("",!0)}}});export{ae as _};
