import{cm as h,l as x,E as m,I as w}from"./index-DkQngsHe.js";var g=Symbol();function y(e,{i18next:n,rerenderOn:t=["languageChanged","loaded","added","removed"],slotStart:o="{",slotEnd:s="}"}){const r=x(new Date),a=()=>m(()=>{r.value=new Date}),l=()=>r.value;t.forEach(i=>{var c;switch(i){case"added":case"removed":(c=n.store)==null||c.on(i,a);break;default:n.on(i,a);break}}),e.component("i18next",C);const p=()=>n.isInitialized;e.config.globalProperties.$t=d(n.t.bind(n),l,p);const u=new Proxy(n,{get(i,c){return l(),Reflect.get(i,c)}});e.config.globalProperties.$i18next=u,e.provide(g,{i18next:u,slotPattern:I(o,s),withAccessRecording(i,c){return d(i,l,c)}})}function R(e,n){const{i18next:t,withAccessRecording:o}=f();let s;return s=t.getFixedT(null,null,void 0),{i18next:t,t:o(s,v(t,e))}}function v(e,n=[]){let t;return()=>{if(t===void 0)if(e.isInitialized){const s=(typeof n=="string"?[n]:n).filter(r=>!e.hasLoadedNamespace(r));s.length?(t=!1,e.loadNamespaces(s).then(()=>t=!0)):t=!0}else return!1;return t}}function d(e,n,t){return new Proxy(e,{apply:function(o,s,r){return n(),t()?Reflect.apply(o,s,r):""}})}function f(){const e=h(g);if(!e)throw new Error("i18next-vue: Make sure to register the i18next-vue plugin using app.use(...).");return e}function I(e,n){const t=`${e}\\s*([a-z0-9\\-]+)\\s*${n}`;return new RegExp(t,"gi")}var C=w({props:{translation:{type:String,required:!0}},setup(e,{slots:n}){const{slotPattern:t}=f();return()=>{const o=e.translation,s=[];let r,a=0;for(;(r=t.exec(o))!==null;){s.push(o.substring(a,r.index));const l=n[r[1]];l?s.push(...l()):s.push(r[0]),a=t.lastIndex}return s.push(o.substring(a)),s}}});export{y as i,R as u};
