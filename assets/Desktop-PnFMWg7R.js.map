{"version":3,"file":"Desktop-PnFMWg7R.js","sources":["../../src/views/Base/Search/Desktop.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport {onMounted, ref} from 'vue';\nimport {IonPage, IonContent, onIonViewWillEnter} from '@ionic/vue';\n\nimport {parseYear} from '@/lib/dateTime';\nimport {setColorPalette} from '@/store/ui';\n\nimport MoooomIcon from '@/components/Images/icons/MoooomIcon.vue';\nimport AppLogoSquare from '@/components/Images/icons/AppLogoSquare.vue';\nimport CosmosBg2 from '@/components/Images/CosmosBg2.vue';\nimport {videoSearchResult, videoSearchValue, hasMoreResults, fetchNextPage, musicSearchResult} from '@/store/search';\nimport {greetingValue} from '@/config/global';\n\nconst search = ref();\n\nonIonViewWillEnter(() => {\n  setColorPalette(null);\n});\n\nonMounted(() => {\n  setTimeout(() => {\n    search.value.focus();\n  }, 100);\n});\n\n</script>\n\n<template>\n  <ion-page>\n    <ion-content :fullscreen=\"true\">\n      <div :class=\"{\n        'w-available relative flex flex-col items-center gap-12 m-3 overflow-clip rounded-2xl transform-all duration-300 will-change-auto': true,\n        'h-24 min-h-24 ': videoSearchResult.length > 0,\n        'h-[360px] min-h-[260px] ': videoSearchResult.length == 0\n      }\">\n        <CosmosBg2 />\n        <div v-if=\"greetingValue && videoSearchResult.length == 0\" class=\"relative z-10 mt-16 flex flex-shrink-0 flex-grow-0 flex-col items-center justify-end gap-3\">\n          <p class=\"flex-shrink-0 flex-grow-0 text-7xl font-black\">\n            {{ $t('Good') }}\n            <span class=\"\" id=\"greeting\">\n                    {{ greetingValue }}\n                </span>\n          </p>\n          <p class=\"flex-shrink-0 flex-grow-0 text-3xl font-medium\">\n            {{ $t('What would you like to see?') }}\n          </p>\n        </div>\n        <div class=\"relative my-auto flex w-full flex-shrink-0 flex-grow-0 items-center justify-start gap-5 self-center overflow-hidden rounded-2xl border-2 bg-black border-auto-10 sm:w-5/6\"\n             :class=\"{\n              'mb-16': !videoSearchResult || videoSearchResult.length == 0\n            }\">\n          <label class=\"flex w-available\">\n            <input\n                id=\"search\"\n                placeholder=\"Search for a Movie, TV Show or Actor...\"\n                class=\"w-full flex-shrink-0 border-transparent bg-transparent px-6 py-4 text-2xl shadow-transparent flex-grow-1 focus:border-transparent focus:shadow-transparent focus:outline-none active:border-transparent [box-shadow:none] focus:[box-shadow:none]\"\n                v-model=\"videoSearchValue\"\n                name=\"search\"\n                type=\"search\"\n                ref=\"search\"\n                autocomplete=\"off\"\n            />\n          </label>\n        </div>\n      </div>\n\n      <div class=\"flex w-full flex-col gap-4 p-1 h-available sm:p-4\"\n           :class=\"videoSearchResult && videoSearchResult.length > 0 ? 'mt-4' : ''\">\n        <div class=\"flex flex-wrap gap-2 pb-3 sm:gap-4\">\n          <template v-for=\"item in videoSearchResult ?? []\" :key=\"item.id\">\n\n            <RouterLink\n                :to=\"`/${item.media_type}/${item.id}`\"\n                class=\"relative flex w-full gap-4 overflow-hidden rounded-lg bg-zinc-900 p-2 sm:w-[32.67%]\">\n              <img\n                  v-if=\"item?.backdrop_path\"\n                  :src=\"'https://image.tmdb.org/t/p/original' + item?.backdrop_path\"\n                  :alt=\"item?.title\"\n                  class=\"absolute inset-0 h-full w-full object-cover\"/>\n\n              <div class=\"absolute inset-0 z-10 h-full w-full bg-gradient-to-r from-black via-black/75 to-black/40 from-25%\"></div>\n\n              <div class=\"relative z-20 h-auto w-1/4 overflow-clip rounded-sm aspect-poster bg-auto-1 sm:w-1/4\">\n                <img\n                    v-if=\"item?.poster_path || item?.profile_path\"\n                    :src=\"'https://image.tmdb.org/t/p/original' + (item?.poster_path ?? item?.profile_path)\"\n                    :alt=\"item?.title\"\n                    class=\"absolute inset-0 h-auto w-full object-cover\"/>\n                <AppLogoSquare v-else class=\"absolute inset-0 top-2 z-20 m-auto h-16 w-16\"/>\n              </div>\n\n              <div\n                  class=\"relative z-20 flex h-full w-px flex-1 flex-col items-start justify-start gap-1\"\n              >\n                <p\n                    class=\"flex-shrink-0 flex-grow-0 self-stretch text-left text-xl font-semibold line-clamp-1\"\n                >\n                  {{ item?.name || item?.title }}\n                </p>\n                <div\n                    class=\"relative flex flex-shrink-0 flex-grow-0 items-center justify-start gap-2 self-stretch\"\n                >\n                  <p class=\"flex flex-shrink-0 flex-grow-0 items-center gap-2 text-right text-base\">\n                    <MoooomIcon v-if=\"item?.media_type === 'tv'\" icon=\"monitor\" className=\"h-5 w-5 sm:h-4 sm:w-4\" />\n                    <MoooomIcon v-else-if=\"item?.media_type === 'movie'\" icon=\"film\" className=\"h-5 w-5 sm:h-4 sm:w-4\" />\n                    <MoooomIcon v-else-if=\"item?.media_type === 'person'\" icon=\"user\" className=\"h-5 w-5 sm:h-4 sm:w-4\" />\n                    <span  v-if=\"item?.release_date || item?.first_air_date\" class=\"sm:text-2xs\">\n\t\t\t\t\t\t\t\t\t\t({{ parseYear(item?.release_date ?? item?.first_air_date) }})\n\t\t\t\t\t\t\t\t\t</span>\n                  </p>\n                </div>\n                <p class=\"text-sm line-clamp-[4] sm:text-2xs sm:line-clamp-4\">\n                  {{ item?.overview }}\n                </p>\n              </div>\n            </RouterLink>\n\n          </template>\n          <div class=\"z-50 mt-4 flex justify-center\" ref=\"loadMore\" v-if=\"hasMoreResults\">\n            <button @click=\"fetchNextPage()\" class=\"h-12 rounded bg-blue-500 px-4 py-2 text-white\">\n              {{ $t('Load more') }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </ion-content>\n  </ion-page>\n</template>\n"],"names":["search","ref","onIonViewWillEnter","setColorPalette","onMounted"],"mappings":"23CAaA,MAAMA,EAASC,EAAI,EAEnB,OAAAC,EAAmB,IAAM,CACvBC,EAAgB,IAAI,CAAA,CACrB,EAEDC,EAAU,IAAM,CACd,WAAW,IAAM,CACfJ,EAAO,MAAM,MAAM,GAClB,GAAG,CAAA,CACP"}