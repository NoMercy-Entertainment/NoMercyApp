import{As as o,Ds as L,Ga as S,Gn as q,Jo as b,Ka as R,Ms as z,Os as A,Ui as m,Us as C,Wi as x,Ys as I,as as T,hs as B,i as n,ls as s,nc as t,oc as v,os as f,qa as $,rc as j,ss as D,ts as _}from"./index-OqMItaco.js";import{n as M,t as h}from"./scrollHandlers-BT2gQYUO.js";import{t as N}from"./_plugin-vue_export-helper-CksOYaUN.js";b();var d=I(!1);const K=T(()=>d.value);function P(c){d.value=c}var u=d;b();R();var U={class:"flex-shrink-0 flex-grow-0 text-center text-xs sm:text-base font-semibold leading-none"},Z=["data-indexer","onClick"],G={class:"flex-shrink-0 flex-grow-0 text-center text-xs sm:text-base font-semibold leading-none"},O=B({__name:"Indexer",setup(c){const g=["Libraries","Library","Collections","Albums","Artists"],y=[new RegExp("music/albums"),new RegExp("music/artists"),new RegExp("libraries/[a-zA-Z0-9]+/letter/[a-zA-Z0-9_]")];function w(e){return g.some(a=>e.startsWith(a))}function i(e){return y.some(a=>e.match(a))}const k=$();function l(){setTimeout(()=>{document.querySelector(m.value?"ion-tabs ion-router-outlet  div.ion-page:not(.ion-page-hidden) [indexer]":"[indexer]")?.querySelectorAll("[data-indexer]").forEach(e=>{let a;e.dataset.indexer==="#"?a=document.querySelector?.("ion-tabs ion-router-outlet div.ion-page:not(.ion-page-hidden) [data-scroll]"):a=document.querySelector?.(`ion-tabs ion-router-outlet div.ion-page:not(.ion-page-hidden) [data-scroll='scroll_${e.dataset.indexer}']`),a||i(n.currentRoute.value.path)?e.classList.remove("opacity-20","!cursor-not-allowed"):e.classList.add("opacity-20","!cursor-not-allowed")})},500)}function E(){document.querySelector(m.value?"ion-tabs ion-router-outlet  div.ion-page:not(.ion-page-hidden) [indexer]":"[indexer]")?.querySelectorAll("[data-indexer]").forEach(e=>{e.classList.add("opacity-20","!cursor-not-allowed")})}function p(e){P(w(e)),l()}return n.afterEach(e=>{setTimeout(()=>{p(e.name??e.path)},150)}),n.beforeEach(()=>{i(n.currentRoute.value.path)||E()}),L(()=>{setTimeout(()=>{p(n.currentRoute.value.name??n.currentRoute.value.path)},150),document.addEventListener("indexer",l),document.addEventListener("keydown",h)}),A(()=>{document.removeEventListener("indexer",l),document.removeEventListener("keydown",h)}),(e,a)=>(o(),s("div",{class:j([{"w-8":t(u),"w-0":!t(u),"sm:ml-2":!t(x)&&t(u),"bottom-0":t(x)},"pointer-events-none z-0 h-available sm:h-available flex flex-col items-center justify-between self-stretch overflow-clip transition-width duration-200 sm:-translate-x-3 pt-2"]),indexer:""},[(o(!0),s(_,null,z(t(q)("#","Z"),r=>(o(),s(_,{key:r},[i(t(k).path)?(o(),D(t(S),{key:0,"data-indexer":r,to:`${r.replace("#","_")}`,class:"pointer-events-auto relative flex p-1.5 size-6 sm:size-8 aspect-square rounded-lg overflow-clip cursor-pointer flex-col items-center justify-center hover:bg-surface-5",tabindex:"-1"},{default:C(()=>[f("p",U,v(r),1)]),_:2},1032,["data-indexer","to"])):(o(),s("button",{key:1,"data-indexer":r,class:"pointer-events-auto relative flex p-1.5 size-6 sm:size-8 aspect-square rounded-lg overflow-clip cursor-pointer flex-col items-center justify-center hover:bg-surface-5/11",tabindex:"-1",onClick:W=>t(M)(r)},[f("p",G,v(r),1)],8,Z))],64))),128))],2))}}),Q=N(O,[["__scopeId","data-v-d8c0d98b"]]);export{u as n,Q as t};
