import"./useBaseQuery-DyClHEGi.js";import"./useInfiniteServerClient-BzuDfoKL.js";import"./useQueryClient-DvzHjPa-.js";import"./useQuery-DhBBeAhd.js";import{Ac as I,Bo as N,Bs as V,Co as $,Ec as v,Gc as e,Gs as y,Ha as C,Js as h,Ks as n,Ns as z,Oc as g,Qs as L,Rc as _,Uo as R,Wo as T,X as b,_c as D,_r as d,cr as w,dr as F,ec as O,gr as p,hc as r,ho as P,ii as W,qs as j,si as A,sr as G,zo as q}from"./index-CvoOE5FB.js";import"./basecomponent-Cy-yEYtK.js";import"./classnames-ai0DVBar.js";import"./button-CCOsHiGg.js";import"./baseicon-DN5gpX_-.js";import"./musicPlaylists-1aU86cjl.js";import"./contextMenuItems-s6-buwrq.js";import"./_plugin-vue_export-helper-CEc1WwrB.js";import"./AppLogoSquare-Bct34tVX.js";import"./MoooomIcon-DvzE7qOo.js";import"./DropdownMenu-CAbynUo7.js";import"./dist-5Wz2S8d-.js";import{t as J}from"./useServerClient-BusGKxx9.js";import{t as K}from"./ScrollContainer-dcdYhasp.js";import"./CoverImage-BdRA70DV.js";import"./MusicButton-DY0YdY1e.js";import"./MediaLikeButton-c4rvA3mE.js";import"./PlayerIcon-BPhLTLUK.js";import"./Marquee-AzofQc5n.js";import"./EqSpinner-DIF3jfOu.js";import"./BannerButton-CxOg9UI2.js";import"./FavoriteImage-B71WEZKk.js";import"./TrackLinks-BG7q1x0e.js";import"./BigPlayButton-B1JiN3wq.js";import{t as M}from"./NotFound-DwLxNcNI.js";import"./ShareButton-BI0ZOqKE.js";import{i as Q,n as U,r as X,t as Y}from"./TrackRow-CIuOdmvi.js";z();R();var Z={class:"relative z-0 flex h-auto flex-shrink-0 flex-grow flex-col items-start justify-start self-stretch"},ee=O({__name:"Desktop",setup(te){const m=T(),{data:t,isError:B}=J({path:m.fullPath}),S=_(null),f=_(),s=_("");v(t,a=>{a&&(W(a?.name??null),c(a?.tracks??[],d.value,p.value,s.value),w(a?.color_palette?.cover))}),v(p,a=>{c(t.value?.tracks??[],d.value,a,s.value)}),v(d,a=>{c(t.value?.tracks??[],a,p.value,s.value)}),v(s,a=>{c(t.value?.tracks??[],d.value,p.value,a)});function c(a,i,l,u){const x=A(a??[],i,l,F);u===""?f.value=x:f.value=x?.filter(k=>k.name?.toLowerCase().includes(u?.toLowerCase?.())||k.artist_track?.some(H=>H.name.toLowerCase().includes(u?.toLowerCase?.()))||k.album_track?.[0]?.name.toLowerCase().includes(u?.toLowerCase?.()))??[]}q(()=>{t?.value?.tracks&&c(t?.value?.tracks??[],d.value,p.value,s.value),t.value?.color_palette?.cover&&w(t.value?.color_palette?.cover)}),N(()=>{document.getElementById("navbar")&&(document.getElementById("navbar").style.display="flex"),w(null),G(null)});const o=_();function E(){window.CSS.supports("container-type","scroll-state")||(Math.ceil(o.value?.$el?.getBoundingClientRect()?.top??500)<=67?(o.value?.$el?.classList.add("!bg-focus"),o.value?.$el?.firstChild?.classList.add("!bg-black/50")):(o.value?.$el?.classList.remove("!bg-focus"),o.value?.$el?.firstChild?.classList.remove("!bg-black/50")))}return(a,i)=>(r(),n(e($),null,{default:g(()=>[L(e(P),{fullscreen:!0,class:"flex"},{default:g(()=>[e(B)&&!e(t)?(r(),n(M,{key:0})):(r(),n(K,{key:1,"auto-hide":!0,static:!0,onScroll:E},{default:g(()=>[!e(m).params.id||e(m).params.id&&e(t)?.id===e(m).params.id?(r(),h("div",{key:0,ref_key:"main",ref:S,class:"flex flex-col w-available h-available sm:rounded-2xl"},[L(X,{data:e(t)},null,8,["data"]),y("div",Z,[i[1]||(i[1]=y("div",{class:"pointer-events-none absolute z-0 h-96 w-full bg-spotifyBottom"},null,-1)),(r(),n(Q,{key:e(t)?.id,data:e(t),filter:s.value,onFilterChange:i[0]||(i[0]=l=>s.value=l)},null,8,["data","filter"])),y("div",{class:I([{"pb-24":e(C)&&!e(b),"pb-40":e(C)&&e(b),"pb-4 sm:pb-4":!e(C)&&e(b)},"flex flex-1 flex-shrink-0 flex-col items-start justify-start self-stretch bg-surface-3 flex-grow-1 gap-0.5 sm:p-4"])},[(r(),n(U,{key:e(t)?.id,ref_key:"sortHeader",ref:o})),(r(!0),h(V,null,D(f.value,(l,u)=>(r(),n(Y,{key:l.id+l?.favorite,data:l,"display-list":f.value,index:u},null,8,["data","display-list","index"]))),128))],2)])],512)):j("",!0)]),_:1}))]),_:1})]),_:1}))}}),$e=ee;export{$e as default};
