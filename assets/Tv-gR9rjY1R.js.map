{"version":3,"file":"Tv-gR9rjY1R.js","sources":["../../src/views/Setup/SelectServers/Tv.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport {onMounted, onUnmounted, ref, watch} from 'vue';\nimport {IonPage, IonContent, onIonViewWillEnter} from '@ionic/vue';\n\nimport type {Server} from '@/types/auth';\n\nimport router from '@/router';\nimport servers from '@/store/servers';\nimport {setCurrentServer} from '@/store/currentServer';\nimport {hideNavBar, showNavBar} from \"@/store/ui\";\n\nimport ServerCard from '@/views/Setup/SelectServers/components/ServerCard.vue';\nimport {user} from \"@/store/user\";\nimport NoMercyAvatar from \"@/components/Images/NoMercyAvatar.vue\";\nimport {RouterLink} from \"vue-router\";\nimport MoooomIcon from \"@/components/Images/icons/MoooomIcon.vue\";\n\nconst serverList = ref<HTMLElement>();\n\nconst handleSelectServer = (server: Server) => {\n  setCurrentServer(server);\n\n  router.replace('/home');\n};\n\nonMounted(() => {\n  setCurrentServer(null);\n  hideNavBar();\n});\n\nonUnmounted(() => {\n  showNavBar();\n});\n\nonIonViewWillEnter(() => {\n  setTimeout(() => {\n    serverList.value?.querySelector('button')?.focus();\n  }, 100);\n});\n\nwatch(serverList, (value) => {\n  setTimeout(() => {\n    value?.querySelector('button')?.focus();\n  }, 100);\n});\n\n</script>\n\n<template>\n  <ion-page>\n    <ion-content :fullscreen=\"true\">\n      <div class=\"flex h-full w-full flex-auto flex-col items-center justify-center gap-8 p-8\">\n        <!--        <EmptyBackdrop />-->\n\n        <div class=\"flex w-full flex-grow flex-col justify-between p-2 min-h-auto\">\n\n          <div class=\"flex justify-between items-center self-stretch flex-grow-0 flex-shrink-0 w-full relative gap-2.5 mb-2\">\n\n          <div class=\"flex justify-start items-center relative gap-2.5\" inert>\n            <div class=\"size-12 my-auto\">\n              <NoMercyAvatar :user=\"user\" :size=\"40\"/>\n            </div>\n            <p class=\"w-48 text-base font-semibold text-left text-slate-dark-1 dark:text-slate-light-1\">\n              {{ user.name }}\n            </p>\n          </div>\n\n          <RouterLink to=\"/logout\"\n                      class=\"flex justify-center items-center relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]\">\n            <MoooomIcon icon=\"doorOut\" class=\"text-slate-dark-1 dark:text-slate-light-1\"/>\n            <span class=\"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]\">\n                {{ $t('Logout') }}\n              </span>\n          </RouterLink>\n          </div>\n\n\n          <div ref=\"serverList\"\n               class=\"tv:children:w-[30%] tv:mt-0 -mt-24 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4\">\n            <template v-for=\"server in servers\" :key=\"server.id\">\n              <ServerCard :server=\"server\" :onclick=\"() => handleSelectServer(server)\"/>\n            </template>\n          </div>\n        </div>\n\n      </div>\n    </ion-content>\n  </ion-page>\n</template>\n"],"names":["serverList","ref","handleSelectServer","server","setCurrentServer","router","onMounted","hideNavBar","onUnmounted","showNavBar","onIonViewWillEnter","_b","_a","watch","value"],"mappings":"w9BAiBA,MAAMA,EAAaC,EAAiB,EAE9BC,EAAsBC,GAAmB,CAC7CC,EAAiBD,CAAM,EAEvBE,EAAO,QAAQ,OAAO,CACxB,EAEA,OAAAC,EAAU,IAAM,CACdF,EAAiB,IAAI,EACVG,EAAA,CAAA,CACZ,EAEDC,EAAY,IAAM,CACLC,EAAA,CAAA,CACZ,EAEDC,EAAmB,IAAM,CACvB,WAAW,IAAM,UACfC,GAAAC,EAAAZ,EAAW,QAAX,YAAAY,EAAkB,cAAc,YAAhC,MAAAD,EAA2C,SAC1C,GAAG,CAAA,CACP,EAEKE,EAAAb,EAAac,GAAU,CAC3B,WAAW,IAAM,QACRF,EAAAE,GAAA,YAAAA,EAAA,cAAc,YAAd,MAAAF,EAAyB,SAC/B,GAAG,CAAA,CACP"}