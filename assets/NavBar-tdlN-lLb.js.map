{"version":3,"file":"NavBar-tdlN-lLb.js","sources":["../../src/views/Base/Library/components/MobileLibraryHeader.vue","../../src/Layout/Mobile/components/NavBar.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport {ref} from 'vue';\nimport {useRoute} from \"vue-router\";\nimport {\n  IonToolbar,\n  IonSegment,\n  IonSegmentButton,\n  IonLabel,\n  SegmentCustomEvent,\n} from '@ionic/vue';\n\nimport router from '@/router';\nimport libraries from '@/store/Libraries';\n\nimport MoooomIcon from \"@/components/Images/icons/MoooomIcon.vue\";\n\nconst shownRoutes = [\n  '/libraries/',\n  '/genres',\n];\nconst endsWithRoutes = [\n  '/collection',\n  '/specials',\n  '/person',\n];\nconst route = useRoute();\n\nconst show = ref(\n    shownRoutes.some(r => route.fullPath.startsWith(r))\n    || endsWithRoutes.some(r => route.fullPath.endsWith(r))\n);\nrouter.afterEach(to => {\n  show.value = shownRoutes.some(route => to.fullPath.startsWith(route))\n      || endsWithRoutes.some(route => to.fullPath.endsWith(route));\n});\n\nconst onChange = async (event: SegmentCustomEvent) => {\n  await router.push(event.detail.value as string);\n};\n\n</script>\n\n<template>\n  <ion-toolbar v-if=\"show\" class=\"mt-safe transition-all duration-300\"\n  >\n    <ion-segment :scrollable=\"true\" mode=\"ios\" @ionChange=\"onChange\">\n\n      <template v-for=\"library in libraries?.filter(l => l.type != 'music') ?? []\" :key=\"library.id\">\n        <ion-segment-button :value=\"`/libraries/${library.id}`\" layout=\"icon-start\">\n          <MoooomIcon icon=\"folder\" class=\"mr-2\"/>\n          <ion-label>{{library.title}}</ion-label>\n        </ion-segment-button>\n      </template>\n\n      <ion-segment-button value=\"/collection\" layout=\"icon-start\"\n                          v-if=\"libraries?.some?.(l => l.type === 'movie')\">\n        <MoooomIcon icon=\"collection1\" class=\"mr-2\"/>\n        <ion-label>{{$t('Collections')}}</ion-label>\n      </ion-segment-button>\n\n      <ion-segment-button value=\"/specials\" layout=\"icon-start\">\n        <MoooomIcon icon=\"sparkles\" class=\"mr-2\"/>\n        <ion-label>{{$t('Specials')}}</ion-label>\n      </ion-segment-button>\n\n      <ion-segment-button value=\"/genres\" layout=\"icon-start\" v-if=\"libraries?.some?.(l => l.type !== 'music')\">\n        <MoooomIcon icon=\"witchHat\" class=\"mr-2\"/>\n        <ion-label>{{$t('Genres')}}</ion-label>\n      </ion-segment-button>\n\n      <ion-segment-button value=\"/person\" layout=\"icon-start\">\n        <MoooomIcon icon=\"user\" class=\"mr-2\"/>\n        <ion-label>{{$t('People')}}</ion-label>\n      </ion-segment-button>\n    </ion-segment>\n\n  </ion-toolbar>\n</template>\n\n<style scoped lang=\"scss\">\n  ion-toolbar {\n    @apply bg-slate-light-1 dark:bg-slate-dark-3;\n    --color-background: var(--color-background);\n    --background: transparent !important;\n  }\n\n  ion-segment {\n    @apply px-4;\n    --background: transparent !important;\n  }\n\n  ion-segment-button::part(indicator-background) {\n    @apply bg-focus;\n  }\n</style>\n","<script setup lang=\"ts\">\nimport {RouterLink} from 'vue-router';\n\nimport {\n  IonHeader,\n  IonProgressBar,\n  IonToolbar,\n  isPlatform,\n} from '@ionic/vue';\nimport {useIsFetching} from '@tanstack/vue-query';\n\nimport {closeSidebar, sidebar, toggleSidebar} from '@/store/sidebar';\nimport {isTv} from \"@/config/global\";\nimport {searchUrl} from '@/store/routeState';\n\nimport MobileLibraryHeader from '@/views/Base/Library/components/MobileLibraryHeader.vue';\nimport AppLogo from '@/components/Images/icons/AppLogo.vue';\nimport MoooomIcon from '@/components/Images/icons/MoooomIcon.vue';\n\nconst isFetching = useIsFetching();\n\n</script>\n\n<template>\n  <ion-header\n      class=\"pt-safe transition-all duration-300\"\n  >\n    <ion-toolbar v-if=\"!isPlatform('capacitor') && !isTv\" >\n      <div\n          class=\"pt-safe flex justify-between items-center self-stretch flex-grow-0 flex-shrink-0 h-[50px] overflow-hidden px-1 py-1.5\"\n      >\n        <button  @click=\"toggleSidebar\"\n                 aria-label=\"menu\"\n                 class=\"text-slate-dark-1 dark:text-slate-light-1 flex justify-center items-center flex-grow-0 flex-shrink-0 h-14 w-14 relative overflow-hidden gap-2 p-2.5 rounded-lg bg-transparent children:absolute children:transition-opacity children:duration-100 children:inset-4\"\n        >\n          <MoooomIcon icon=\"cross\" :class=\"{\n            'opacity-0': sidebar == 'closed' || sidebar == 'hidden',\n            'opacity-100': sidebar == 'open',\n          }\"/>\n          <MoooomIcon icon=\"menuBurger\"  :class=\"{\n            'opacity-100': sidebar == 'closed' || sidebar == 'hidden',\n            'opacity-0': sidebar == 'open',\n          }\"\n          />\n        </button>\n        <div class=\"flex justify-center items-center flex-grow-0 flex-shrink-0 relative gap-2 px-1 h-available\">\n          <AppLogo />\n        </div>\n        <RouterLink\n            :to=\"searchUrl\"\n            @click=\"closeSidebar\"\n            aria-label=\"search\"\n            class=\"flex justify-center items-center flex-grow-0 flex-shrink-0  h-14 w-14 relative overflow-hidden gap-2 p-2.5 rounded-lg bg-transparent\"\n        >\n          <MoooomIcon icon=\"searchMagnifyingGlass\" class=\"text-slate-dark-1 dark:text-slate-light-1\" />\n        </RouterLink>\n      </div>\n    </ion-toolbar>\n    <MobileLibraryHeader />\n  </ion-header>\n\n  <ion-progress-bar v-if=\"isFetching > 0\" type=\"indeterminate\" class=\"absolute mt-safe top-0 z-1199 bg-black\"></ion-progress-bar>\n</template>\n\n<style scoped>\nion-header {\n  background: var(--color-background);\n  box-shadow: none;\n}\n\nion-toolbar {\n  --background: var(--color-background);\n}\n\nion-progress-bar::part(track) {\n  @apply bg-focus/50;\n}\n\nion-progress-bar::part(progress) {\n  @apply bg-focus;\n}\n</style>\n"],"names":["shownRoutes","endsWithRoutes","route","useRoute","show","ref","r","router","to","onChange","event","isFetching","useIsFetching"],"mappings":"qVAgBA,MAAMA,EAAc,CAClB,cACA,SACF,EACMC,EAAiB,CACrB,cACA,YACA,SACF,EACMC,EAAQC,EAAS,EAEjBC,EAAOC,EACTL,EAAY,KAAKM,GAAKJ,EAAM,SAAS,WAAWI,CAAC,CAAC,GAC/CL,EAAe,KAAUK,GAAAJ,EAAM,SAAS,SAASI,CAAC,CAAC,CAC1D,EACAC,EAAO,UAAgBC,GAAA,CACrBJ,EAAK,MAAQJ,EAAY,KAAKE,GAASM,EAAG,SAAS,WAAWN,CAAK,CAAC,GAC7DD,EAAe,KAAKC,GAASM,EAAG,SAAS,SAASN,CAAK,CAAC,CAAA,CAChE,EAEK,MAAAO,EAAW,MAAOC,GAA8B,CACpD,MAAMH,EAAO,KAAKG,EAAM,OAAO,KAAe,CAChD,0nDCnBA,MAAMC,EAAaC,EAAc"}