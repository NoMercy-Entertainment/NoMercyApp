import{I as V,$ as R,l as c,w as k,C as W,R as E,bg as N,a9 as F,b1 as T,ab as C,cr as S,e9 as I,a8 as j,aa as K,a5 as O,bM as q,d as l,o as r,s as f,j as x,K as t,bu as G,A as J,a as s,b as o,c as Q,bm as X,ea as Y,t as B,e0 as Z,cu as ee,d$ as L,e1 as te,bh as ae,a6 as D,O as re}from"./index-H-vD2rqS.js";import{u as le}from"./useServerClient-DCS4BGnu.js";import{_ as H,a as z}from"./PersonCarousel.vue_vue_type_script_setup_true_lang-cg-RovOi.js";import{_ as A}from"./MediaCarousel.vue_vue_type_script_setup_true_lang-CMdOsTNt.js";import{_ as oe}from"./ContentRating.vue_vue_type_script_setup_true_lang-ryGGZIdq.js";import{_ as d}from"./InfoItem.vue_vue_type_script_setup_true_lang-BlAmWXEZ.js";import{_ as se,a as ie}from"./SeasonCarousel.vue_vue_type_script_setup_true_lang-BH1pH3KP.js";import{_ as ne,a as g}from"./Collapsible.vue_vue_type_script_setup_true_lang-DSLPDuh2.js";import{_ as ce}from"./MobileInfoCard.vue_vue_type_script_setup_true_lang-Cj4oNhVK.js";import{_ as de}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useQuery-C5_JtCKV.js";import"./useBaseQuery-x8hgGQVw.js";import"./useQueryClient-B5STIjF7.js";import"./useInfiniteServerClient-B-2LPPx2.js";import"./OptimizedIcon.vue_vue_type_script_setup_true_lang-CX14zQZK.js";import"./swiper-vue-DtqxTbxm.js";import"./imageModal-C5nVuKvF.js";import"./Carousel-DAn1rolp.js";import"./swiper-config-DVOKQR-u.js";import"./TMDBImage.vue_vue_type_script_setup_true_lang-8xduYhZZ.js";import"./AppLogoSquare-CvwU0jNv.js";import"./PersonCard.vue_vue_type_script_setup_true_lang-BBfyrJj2.js";import"./CardIndicator.vue_vue_type_script_setup_true_lang-CT5nh0HQ.js";import"./index-5TqZ8QDo.js";import"./autoSkipPlugin-0daGIOPY.js";import"./subtitles-octopus-B_9NHMgy.js";import"./buttons-IwPh3z7u.js";import"./desktopUIPlugin-BDzM5S8d.js";import"./keyHandlerPlugin-DSG1WiAT.js";import"./sidebar-baOBvRON.js";import"./Select.vue_vue_type_script_setup_true_lang-BJtjSU_r.js";import"./listbox-MfsbttSw.js";import"./render-D69qoVJs.js";import"./CardShadow.vue_vue_type_script_setup_true_lang-C1DEMKC7.js";import"./MediaLikeButton-DKgZDdH6.js";import"./MusicButton.vue_vue_type_script_setup_true_lang-BP4_NGbv.js";import"./index-B2WOLLeT.js";import"./index-C5qO4Eqs.js";import"./index-CkDSjnyt.js";import"./index-ZhWAdK_X.js";import"./ShareButton.vue_vue_type_script_setup_true_lang-KIvYQSGF.js";const ue={class:"flex flex-col justify-start items-center self-stretch flex-grow h-auto gap-4 will-change-auto text-slate-lightA-12/70 dark:text-slate-darkA-12/80 z-0",style:{"box-shadow":"0 2px 2px 0 rgba(0, 0, 0, 0.16)"}},pe={class:"flex bg-slate-light-3 dark:bg-slate-dark-1 flex-col justify-start items-start self-stretch flex-grow-0 flex-shrink-0 gap-3 pt-16 pb-5 will-change-auto w-inherit px-6"},me=["innerHTML"],fe={key:1,class:"flex justify-start items-center self-stretch flex-grow-0 flex-shrink-0 relative gap-2 flex-wrap"},ge={class:"whitespace-nowrap"},ve={class:"whitespace-nowrap"},ke=V({__name:"Mobile",setup(xe){const M=R(),P=c(!1),U=c(!1),u=c(!1),p=c("loading"),n=c(-1),h=c(null),w=c(null),m=c(),{data:e}=le({keepForever:!0,path:M?.fullPath});k(e,a=>{m.value?.$el?.scrollToTop(window.innerHeight),P.value=!0,n.value=0,T(a?.title??a?.name),a?.backdrop&&C(a?.backdrop),a?.poster&&S(a?.poster),a?.logo&&I(a?.logo),a?.color_palette?.poster&&j(a?.color_palette?.poster),$(a)});const v=W(()=>`${E.value?.serverBaseUrl}/images/original${e.value?.backdrop??N.value}`);F(()=>{m.value?.$el?.scrollToTop(window.innerHeight),T(e?.value?.name),e?.value?.backdrop&&C(e?.value?.backdrop),e?.value?.poster&&S(e?.value?.poster),e?.value?.logo&&I(e?.value?.logo),e?.value?.color_palette?.poster&&j(e?.value?.color_palette?.poster)}),K(()=>{m.value?.$el?.scrollToTop(window.innerHeight)}),O.afterEach(()=>{setTimeout(()=>{m.value?.$el?.scrollToTop(window.innerHeight)},100)});const _=c();k(U,a=>{a?_.value?.$el?.classList.remove("line-clamp-3"):setTimeout(()=>{_.value?.$el?.classList.add("line-clamp-3")},300)});function y(){if(!e?.value?.videos)return;u.value=!u.value;const a=document.querySelector("#main");a&&(a.style.overflow=u.value?"hidden":"auto")}function b(){!e?.value||e?.value?.videos?.length===0||(n.value===e?.value?.videos.length-1?n.value=0:n.value++)}function $(a){if(p.value="loading",!a||a.videos?.length===0||!a.videos?.[n.value]){p.value=!1;return}h.value=a.duration&&new Date(new Date().getTime()+a.duration*60*1e3).toLocaleTimeString(D.language??"en-US",{hour:"2-digit",minute:"2-digit"}),w.value=setInterval(()=>{h.value=a.duration&&new Date(new Date().getTime()+a.duration*60*1e3).toLocaleTimeString(D.language??"en-US",{hour:"2-digit",minute:"2-digit"})},1e3),re().head(`trailer/${a.videos[n.value]?.src}`,{withCredentials:!1}).then(()=>{p.value=!0}).catch(()=>{b(),p.value=!1})}return k(n,(a,i)=>{!a||a===i||$(e?.value)}),q(()=>{clearInterval(w.value??void 0)}),(a,i)=>(r(),l(t(ae),null,{default:f(()=>[x(t(G),{ref_key:"content",ref:m,fullscreen:!0,style:J(`--background-image: ${v.value&&!v.value.includes("null")?`url(${v.value})`:""};`)},{default:f(()=>[s("div",ue,[i[3]||(i[3]=s("div",{class:"flex justify-start items-end -mx-4 w-available h-[410px] relative gap-2"},[s("div",{class:"absolute flex flex-col justify-start items-end flex-grow w-available -mx-20 h-[410px] bg-cover bg-top",style:{background:`linear-gradient(
                  0deg,
                  rgba(0, 0, 0, 0.5) 0%,
                  rgba(0, 0, 0, 0.5) 100%
                ),
                var(--background-image) lightgray 50% / cover no-repeat`}}),s("div",{class:"absolute flex flex-col justify-start items-end flex-grow w-available -mx-20 h-[410px] bg-cover dark:bg-black/50"})],-1)),s("div",pe,[s("p",{class:"self-stretch flex-grow-0 flex-shrink-0 w-[351px] text-2xl font-bold text-left z-10",innerHTML:t(X)(t(e)?.title||t(Y)||"","text-lg line-clamp-2")},null,8,me),t(e)?.overview?(r(),l(ne,{key:0,text:t(e)?.overview,"max-lines":3},null,8,["text"])):o("",!0),t(e)?(r(),Q("div",fe,[t(e)?.year?(r(),l(g,{key:0,title:"",data:t(e)?.year.toString()},null,8,["data"])):o("",!0),t(e)?.content_ratings.length?(r(),l(g,{key:1,title:""},{default:f(()=>[x(oe,{size:4,class:"h-full object-scale-down rounded-lg overflow-clip",ratings:t(e)?.content_ratings},null,8,["ratings"])]),_:1})):o("",!0),t(e)?.have_items?(r(),l(g,{key:2,title:"",data:`${t(e)?.have_items}/${t(e)?.number_of_items}`},null,8,["data"])):o("",!0),t(e)?.duration?(r(),l(g,{key:3,title:""},{default:f(()=>[s("span",ge,B(t(Z)(t(ee),t(e)?.duration,!0)),1)]),_:1})):o("",!0),t(e)?.voteAverage?(r(),l(g,{key:4,title:""},{default:f(()=>[s("span",ve,"⭐ ️"+B(t(e)?.voteAverage?.toFixed(0))+"/10",1)]),_:1})):o("",!0)])):(r(),l(t(L),{key:2,animated:!0,class:"h-6 will-change-auto"})),i[0]||(i[0]=s("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-slate-dark-7/[0.1] dark:bg-slate-dark-11/[0.1]"},null,-1)),t(e)?.genres?(r(),l(d,{key:3,data:t(e),title:"Genres","key-name":"genres",prefix:"genres"},null,8,["data"])):(r(),l(t(L),{key:4,animated:!0,class:"h-12 will-change-auto"})),i[1]||(i[1]=s("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-slate-dark-7/[0.1] dark:bg-slate-dark-11/[0.1]"},null,-1)),t(e)?.writer?(r(),l(d,{key:5,data:{writer:[t(e)?.writer]},title:"Writer","key-name":"writer",prefix:"person"},null,8,["data"])):o("",!0),t(e)?.creator?(r(),l(d,{key:6,data:{creator:[t(e)?.creator]},title:"Creator","key-name":"creator",prefix:"person"},null,8,["data"])):o("",!0),t(e)?.director?(r(),l(d,{key:7,data:{director:[t(e)?.director]},title:"Director","key-name":"director",prefix:"person"},null,8,["data"])):o("",!0),t(e)?.creators?(r(),l(d,{key:8,data:t(e),title:"Creators","key-name":"creators",prefix:"person"},null,8,["data"])):o("",!0),t(e)?.directors?(r(),l(d,{key:9,data:t(e),title:"Directors","key-name":"directors",prefix:"person"},null,8,["data"])):o("",!0),t(e)?.writers?(r(),l(d,{key:10,data:t(e),title:"Writers","key-name":"writers",prefix:"person"},null,8,["data"])):o("",!0),t(e)?.keywords?(r(),l(d,{key:11,data:t(e),title:"Keywords","key-name":"keywords"},null,8,["data"])):o("",!0),i[2]||(i[2]=s("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-slate-dark-7/[0.1] dark:bg-slate-dark-11/[0.1]"},null,-1)),t(e)?.seasons&&t(e)?.seasons?.length>0?(r(),l(se,{key:12,data:t(e)?.seasons,type:"backdrop",class:"-mx-6","limit-card-count-by":0},null,8,["data"])):o("",!0),t(e)?.cast&&t(e)?.cast?.length>0?(r(),l(H,{key:13,class:"-mx-6",data:t(e)?.cast,title:"Cast"},null,8,["data"])):o("",!0),t(e)?.crew&&t(e)?.crew?.length>0?(r(),l(H,{key:14,class:"-mx-6",data:t(te)(t(e)?.crew,"profile","id"),title:"Crew"},null,8,["data"])):o("",!0),t(e)?.posters&&t(e)?.posters?.length>0?(r(),l(z,{key:15,class:"-mx-6",data:t(e)?.posters,title:"Poster",type:"poster"},null,8,["data"])):o("",!0),t(e)?.backdrops&&t(e)?.backdrops?.length>0?(r(),l(z,{key:16,class:"-mx-6","color-palette":t(e)?.color_palette?.poster,data:t(e)?.backdrops,title:"Backdrop",type:"backdrop"},null,8,["color-palette","data"])):o("",!0),t(e)?.recommendations&&t(e)?.recommendations?.length>0?(r(),l(A,{key:17,class:"-mx-6","color-palette":t(e)?.color_palette,data:t(e)?.recommendations,title:"Recommendations",type:"poster"},null,8,["color-palette","data"])):o("",!0),t(e)?.similar&&t(e)?.similar?.length>0?(r(),l(A,{key:18,class:"-mx-6","color-palette":t(e)?.color_palette,data:t(e)?.similar,title:"Similar",type:"poster"},null,8,["color-palette","data"])):o("",!0)])]),x(ce,{data:t(e),"toggle-trailer":y,"trailer-state":p.value},null,8,["data","trailer-state"]),t(e)?.videos&&t(e)?.videos?.length>0&&u.value?(r(),l(ie,{key:n.value,"increment-trailer-index":b,index:n.value,open:u.value,title:t(e)?.title??t(e)?.name,toggle:y,videos:t(e)?.videos,class:"inset-0 h-full w-available z-999"},null,8,["index","open","title","videos"])):o("",!0)]),_:1},8,["style"])]),_:1}))}}),st=de(ke,[["__scopeId","data-v-0d9fb121"]]);export{st as default};
