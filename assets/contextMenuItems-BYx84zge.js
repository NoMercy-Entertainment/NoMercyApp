import{l as m,cv as n,cw as P,a2 as f,cx as G,cy as I,R as K,cz as N,B as $,O as k}from"./index-C_qNKMWs.js";import{m as S}from"./musicPlaylists-B-XU7xsX.js";const O=(t,o)=>k().get(t);function z(t,o){return k().put(t,{data:o})}function D(t,o){return k().post(t,{data:o})}function H(t,o){return k().delete(t,{data:o})}function L(t,o){return k().patch(t,{data:o})}function W(t){return t.map(o=>{let l;return o.method==="GET"?l=O:o.method==="PUT"?l=z:o.method==="POST"?l=D:o.method==="PATCH"?l=L:o.method==="DELETE"?l=H:l=o.command,{label:o.label,icon:o.icon,confirm:o.confirm,args:o.args,command:()=>{var r;return l((r=o.args)==null?void 0:r.url,j.value).then(()=>{var i,d;(i=o.args)!=null&&i.replaceKey&&document.dispatchEvent(new CustomEvent("mutateId",{detail:{id:(d=o.args)==null?void 0:d.replaceKey}}))})}}})}const X=m({}),U=m(),Y=$(()=>U.value);function Z(t){U.value=t}const B=m(null),j=$(()=>B.value);function ee(t){B.value=t}const F=m([]),J=m(),a=m();function oe(t,o){var i,d,h,b,y,g,C,_,x,R,T,w,M,q,A,E;a.value=o;const l=[],r={label:n("Add to playlist"),icon:"mooooom-add",items:[{label:n("New Playlist"),icon:"mooooom-add",command:()=>{var e;alert((e=a.value)==null?void 0:e.id)}}]};S.value.length===0&&r.items.push({label:n("No playlist available"),icon:"mooooom-pause"});for(const e of S.value)r.items.push({label:e.name,icon:"mooooom-disk",command:()=>{var s;alert((s=a.value)==null?void 0:s.id)}});l.push(r),l.push({label:n("Save to your liked songs"),icon:"mooooom-heart",command:()=>{var e;alert((e=a.value)==null?void 0:e.id)}},{label:n("Add to queue"),icon:"mooooom-playlist1Add",command:()=>{var e;alert((e=a.value)==null?void 0:e.id)}},{separator:!0}),!P.value&&((i=a.value)!=null&&i.album_track)&&((h=(d=a.value)==null?void 0:d.album_track)==null?void 0:h.length)<2?l.push({label:n("Go to album"),icon:"mooooom-disk",command:()=>{var e,s,u,c,v,p;(u=(s=(e=a.value)==null?void 0:e.album_track)==null?void 0:s[0])!=null&&u.link&&f.push((p=(v=(c=a.value)==null?void 0:c.album_track)==null?void 0:v[0])==null?void 0:p.link)}}):!P.value&&((b=a.value)!=null&&b.album_track)&&((g=(y=a.value)==null?void 0:y.album_track)==null?void 0:g.length)>1&&l.push({label:n("Go to album"),icon:"mooooom-disk",items:(_=(C=a.value)==null?void 0:C.album_track)==null?void 0:_.map(e=>({label:e.name,icon:"mooooom-disk",command:()=>f.push(e.link)}))}),!G.value&&((x=a.value)!=null&&x.artist_track)&&((T=(R=a.value)==null?void 0:R.artist_track)==null?void 0:T.length)<2?l.push({label:n("Go to artist"),icon:"mooooom-user",command:()=>{var e,s,u,c,v,p;(u=(s=(e=a.value)==null?void 0:e.artist_track)==null?void 0:s[0])!=null&&u.link&&f.push((p=(v=(c=a.value)==null?void 0:c.artist_track)==null?void 0:v[0])==null?void 0:p.link)}}):!G.value&&((w=a.value)!=null&&w.artist_track)&&((q=(M=a.value)==null?void 0:M.artist_track)==null?void 0:q.length)>1&&l.push({label:n("Go to artist"),icon:"mooooom-user",items:(E=(A=a.value)==null?void 0:A.artist_track)==null?void 0:E.map(e=>({label:e.name,icon:"mooooom-user",command:()=>f.push(e.link)}))}),l.push({separator:!0},{label:n("Share"),icon:"mooooom-shareSquare",items:[{label:n("Copy page link"),icon:"mooooom-fileCopy",command:()=>I(window.location.href)},{label:n("Copy track link"),icon:"mooooom-fileCopy",command:()=>{var e,s,u,c;return a.value?I(`${(e=K.value)==null?void 0:e.serverBaseUrl}/${(s=a.value)==null?void 0:s.folder_id}${(u=a.value)==null?void 0:u.folder}${(c=a.value)==null?void 0:c.filename}?token=${N.value}`):{}}}]}),F.value=l,J.value.show(t)}export{X as a,J as b,Y as c,ee as d,W as m,oe as o,Z as s,F as t};
