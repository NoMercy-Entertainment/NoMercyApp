import{Y as z,d as O,w as j,f as F,aH as G,aC as H,c as M,o as T,l as U,y as Q,Z as l,ar as R,T as Y,i as N,t as Z,an as q,Q as t}from"./vue-ionic-D3xJGFcP.js";import{b0 as E}from"./vendor-CKnYbqeP.js";import{bG as J,am as K,bL as W,h as x,l as X,u as $,r as n,bM as ee,bN as ae,n as oe}from"./index-m4cPkZcj.js";import{g as i}from"./imageModal-Cufayies.js";import{A as se,S as le}from"./autoSkipPlugin-DnbvvCcT.js";import{D as te}from"./desktopUIPlugin-tMeOpW9a.js";import{n as re,O as ne}from"./video-player-B8ZC2WFO.js";import{u as ie}from"./useServerClient-DE6jxTTP.js";import"./media-C2AqgyMX.js";import"./icons-BW5E66pf.js";import"./api-BBofn2cc.js";import"./swiper-D00Cnjmx.js";import"./rxjs-BCp2L9Rn.js";import"./music-player-Ct3VsQMm.js";import"./buttons-DnucOQvv.js";import"./baseUIPlugin-D2klSchp.js";import"./subtitles-octopus-By2PrHjB.js";import"./useInfiniteServerClient-B1gkYmgo.js";const Me=z({__name:"Mobile",setup(ue){const{data:r}=ie(),e=O(),u=o=>{var c,p,m,d,f,v,b,g,k,y,P,S,C,w,I,_,h,B;const s={muted:!1,controls:!1,preload:"auto",debug:!1,autoPlay:!0,playlist:(o==null?void 0:o.filter(a=>!!a.id))??[],controlsTimeout:3e3,doubleClickDelay:300,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2],accessToken:((c=$.value)==null?void 0:c.accessToken)||localStorage.getItem("access_token")||"",basePath:(p=X.value)==null?void 0:p.serverBaseUrl,forceTvMode:(t("android")||t("ios"))&&!t("mobile"),disableTouchControls:!1,disableMediaControls:"mediaSession"in navigator||t("capacitor"),renderAhead:100};e.value=re("player1").setup(s),(m=e.value)==null||m.once("back",()=>{});const A=new te;(d=e.value)==null||d.registerPlugin("desktopUI",A),(f=e.value)==null||f.usePlugin("desktopUI");const D=new se;(v=e.value)==null||v.registerPlugin("autoSkip",D),(b=e.value)==null||b.usePlugin("autoSkip");const L=new le;(g=e.value)==null||g.registerPlugin("sync",L),(k=e.value)==null||k.usePlugin("sync");const V=new ne;(y=e.value)==null||y.registerPlugin("octopus",V),(P=e.value)==null||P.usePlugin("octopus"),(S=e.value)==null||S.once("play",()=>{var a;(a=e.value)==null||a.enterFullscreen()}),(C=e.value)==null||C.on("playlistComplete",()=>{var a;(a=e.value)==null||a.dispose(),n.back()}),(w=e.value)==null||w.on("back",()=>{n.back()}),(I=e.value)==null||I.on("play",()=>{i(!0)}),(_=e.value)==null||_.on("pause",()=>{i(!1)}),(h=e.value)==null||h.on("ready",()=>{ee(),ae(),oe.stop()}),(B=e.value)==null||B.on("item",()=>{var a;(a=e.value)==null||a.play()}),E.addListener("backButton",()=>{var a;(a=e.value)==null||a.emit("back-button-hyjack"),n.back()})};return j(r,o=>{o&&u(o)}),F(()=>{J(!1),r.value&&u(r.value)}),G(()=>{K(),W()}),H(()=>{var o;(o=e.value)==null||o.dispose(),i(!1)}),(o,s)=>(T(),M(l(q),null,{default:U(()=>[Q(l(R),{fullscreen:!0},{default:U(()=>[(T(),M(Y,{to:"body"},[N("div",{class:Z(["absolute inset-0 flex h-full w-full overflow-clip bg-black z-1199",{"mb-28":l(x),"mb-0":!l(x)}])},s[0]||(s[0]=[N("div",{id:"player1",class:"group nomercyplayer"},null,-1)]),2)]))]),_:1})]),_:1}))}});export{Me as default};
