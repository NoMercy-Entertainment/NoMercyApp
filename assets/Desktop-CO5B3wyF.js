import{$ as M,d as F,w as K,f as O,aG as j,c as G,o as N,l as Q,i as R,a0 as V,ar as $,Q as r}from"./vue-ionic-BZKAFNsD.js";import{g as n}from"./imageModal-DMXtofcP.js";import{A as q,S as z}from"./videoPlayer-Db4Ix_fL.js";import"./vendor-B4CMB5r9.js";import{D as E}from"./desktopUIPlugin-JM5pE7Nx.js";import{n as J,O as L}from"./video-player-DwTDwcfz.js";import{j as W,h as X,u as Y,r as I}from"./index-BZi9gin7.js";import{K as Z}from"./keyHandlerPlugin-DBBlIZsm.js";import{u as ee}from"./useServerClient-DxQwVy-B.js";import"./media-C2AqgyMX.js";import"./icons-BW5E66pf.js";import"./api-BBofn2cc.js";import"./swiper-D00Cnjmx.js";import"./buttons-DnucOQvv.js";import"./rxjs-BCp2L9Rn.js";import"./baseUIPlugin-FMGueVNv.js";import"./subtitles-octopus-By2PrHjB.js";import"./music-player-4pEGVRj1.js";import"./useInfiniteServerClient-CCBWtjwN.js";const we=M({__name:"Desktop",setup(ae){const{data:t}=ee({enabled:!0}),e=F();function u(o){var i,p,c,m,d,g,f,v,P,y,k,b,w,S,C,_,U,h,x;const s={muted:!1,controls:!1,preload:"auto",debug:!1,autoPlay:!0,playlist:(o==null?void 0:o.filter(a=>!!a.id))??[],controlsTimeout:3e3,doubleClickDelay:300,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2],accessToken:(i=Y.value)==null?void 0:i.accessToken,basePath:(p=X.value)==null?void 0:p.serverBaseUrl,forceTvMode:(r("android")||r("ios"))&&!r("mobile"),disableTouchControls:!1,disableMediaControls:"mediaSession"in navigator||r("capacitor"),renderAhead:100,disableAutoPlayback:!1};e.value=J("player1").setup(s),(c=e.value)==null||c.once("back",()=>{I.back()});const T=new E;(m=e.value)==null||m.registerPlugin("desktopUI",T),(d=e.value)==null||d.usePlugin("desktopUI");const A=new q;(g=e.value)==null||g.registerPlugin("autoSkip",A),(f=e.value)==null||f.usePlugin("autoSkip");const B=new Z;(v=e.value)==null||v.registerPlugin("keyHandler",B),(P=e.value)==null||P.usePlugin("keyHandler");{const a=new z;(y=e.value)==null||y.registerPlugin("sync",a),(k=e.value)==null||k.usePlugin("sync")}const H=new L;(b=e.value)==null||b.registerPlugin("octopus",H),(w=e.value)==null||w.usePlugin("octopus"),(S=e.value)==null||S.once("play",()=>{var a;(a=e.value)==null||a.enterFullscreen()}),(C=e.value)==null||C.on("playlistComplete",()=>{var a;(a=e.value)==null||a.dispose(),I.back()}),(_=e.value)==null||_.once("back",()=>{}),(U=e.value)==null||U.on("play",()=>{n(!0)}),(h=e.value)==null||h.on("pause",()=>{n(!1)}),(x=e.value)==null||x.on("fullscreen",a=>{var l,D;(D=(l=window.external)==null?void 0:l.sendMessage)==null||D.call(l,a?"enterFullscreen":"exitFullscreen")})}return K(t,o=>{u(o)}),O(()=>{W.stop(),u(t.value)}),j(()=>{var o;(o=e.value)==null||o.dispose(),n(!1)}),(o,s)=>(N(),G(V($),null,{default:Q(()=>s[0]||(s[0]=[R("div",{id:"player1",class:"group nomercyplayer"},null,-1)])),_:1}))}});export{we as default};
