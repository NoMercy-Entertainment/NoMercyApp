import{_ as G}from"./GenrePill.vue_vue_type_script_setup_true_lang-Byq9o6K2.js";import{$ as C,f as j,k as U,h as o,b as I,o as r,j as $,x,F as E,q as A,v as D,c as f,p as y,A as T,d as w,G as X,a0 as R,z as B,w as H,b7 as J,b8 as K,ai as V,R as i}from"./vue-ionic-Db_NiJFp.js";import{a as M,h as _,b as h,f as z,n as d,j as b,t as L,k as P,l as Q}from"./imageModal-Dkr6ZQXR.js";import{p as W,l as Y,am as S}from"./index-CH0I4ZsZ.js";import{C as O}from"./Carousel-6g2SkFg1.js";import{_ as Z}from"./TMDBImage.vue_vue_type_script_setup_true_lang-CcMK6W7S.js";import{_ as ee}from"./PersonCard.vue_vue_type_script_setup_true_lang-CBa5nymI.js";const te={key:0,class:"relative grid w-full flex-shrink-0 flex-grow-0 grid-cols-7 items-start justify-start gap-1"},ae={class:"flex-col sm:flex-row flex grid-cols-3 text-xs font-bold whitespace-nowrap uppercase text-slate-lightA-12/70 dark:text-slate-darkA-12/80"},le={class:"col-span-12 sm:col-span-6 sm:col-start-3 flex w-full max-w-fit flex-wrap gap-1 self-center xl:col-start-3 2xl:col-start-2"},re={key:3,class:"inline-block"},se={key:4},ge=C({__name:"InfoItem",props:{data:{type:Object,required:!0},title:{type:String,required:!0},prefix:{type:String,required:!1},keyName:{type:String,required:!0}},setup(e){return j(()=>{setTimeout(()=>{document.dispatchEvent(new Event("sidebar"))},0)}),(l,g)=>{const s=U("RouterLink");return e.data&&e.data[e.keyName]?(r(),o("div",te,[$("p",ae,x(l.$t(e.title)),1),$("div",le,[(r(!0),o(E,null,A(e.data[e.keyName],(t,u)=>{var c;return r(),o("div",{key:t==null?void 0:t.id,class:D([((c=e.data[e.keyName])==null?void 0:c.length)>5?"children:grayscale":"","gap-1 children:whitespace-nowrap text-sm leading-[140%] text-slate-lightA-12 dark:text-slate-darkA-12/90 font-semibold"])},[t!=null&&t.id&&e.prefix&&e.keyName==="genres"?(r(),f(G,{key:0,genre:t},null,8,["genre"])):t!=null&&t.id&&e.prefix?(r(),f(s,{key:1,to:`${e.prefix}/${t==null?void 0:t.id}`,class:"inline-block underline-offset-4 hover:underline focus-visible:underline"},{default:y(()=>[T(x(t==null?void 0:t.name),1)]),_:2},1032,["to"])):t!=null&&t.url?(r(),f(s,{key:2,to:t==null?void 0:t.url,target:"_blank",class:"inline-block underline-offset-4 hover:underline focus-visible:underline"},{default:y(()=>[T(x(t==null?void 0:t.name),1)]),_:2},1032,["to"])):(r(),o("span",re,x((t==null?void 0:t.name)||t),1)),u!==e.data[e.keyName].length-1&&e.keyName!=="genres"?(r(),o("span",se,",")):I("",!0)],2)}),128))])])):I("",!0)}}}),ne=["onfocus"],oe=C({__name:"ImageCard",props:{data:{type:Object,required:!0},aspect:{type:String,required:!1,default:"poster"},setData:{type:Function,required:!0},limitCardCountBy:{type:Number,required:!1}},setup(e){var s,t,u;const g=w(((u=W((t=(s=e.data)==null?void 0:s.color_palette)==null?void 0:t.image))==null?void 0:u.replace("rgb(","").replace(")","").replace(/,/gu," "))??"var(--color-primary)");return(c,p)=>{var m,n,k,N;return e.data?(r(),o("button",{key:0,onfocus:R(Y),style:X(`--color-focus: ${g.value};`),"data-card":"true",class:"frosting border-0 border-[rgb(var(--color-focus))] flex flex-col h-auto items-center focus-shift focus-outline transition-all duration-200 relative !rounded-lg select-none shadow-[0px_0px_0_1px_rgb(var(--color-focus,var(--color-theme-6))/70%)] w-full z-0 bg-auto-1/8",onClick:p[0]||(p[0]=F=>e.setData(e.data))},[$("span",{class:D(["relative h-auto w-full cursor-pointer overflow-clip rounded-lg",e.aspect==="poster"?" aspect-poster":"aspect-backdrop"])},[B(Z,{"class-name":"inset-0 h-full w-full overflow-clip rounded-lg",class:"!relative",aspect:e.aspect,path:(m=e.data)==null?void 0:m.src,type:"image",title:(n=e.data)==null?void 0:n.name,"color-palette":(N=(k=e.data)==null?void 0:k.color_palette)==null?void 0:N.image,size:e.aspect==="poster"?162:660},null,8,["aspect","path","title","color-palette","size"])],2)],12,ne)):I("",!0)}}}),ve=C({__name:"ImageCarousel",props:{data:{type:Array,required:!0},title:{type:String,required:!0},type:{type:String,required:!1,default:"poster"}},setup(e){const l=e,g=w(!1),s=w();function t(a){h({...a,color_palette:i(a.color_palette)?i(a.color_palette):{image:i(S.value)},aspectRatio:l.type==="poster"?"2/3":"16/9"}),b({type:l.type,index:l.data.indexOf(a)}),Q(l.type),z(!0)}function u(){const a=l.data[d.value-1];a&&(b({index:d.value-1,type:L.value.type}),P(d.value-1),h({...a,color_palette:a.color_palette?i(a.color_palette):{image:i(S.value)},aspectRatio:l.type==="poster"?"2/3":"16/9"}))}function c(){const a=l.data[d.value+1];a&&(b({index:d.value+1,type:L.value.type}),P(d.value+1),h({...a,color_palette:a.color_palette?i(a.color_palette):{image:i(S.value)},aspectRatio:l.type==="poster"?"2/3":"16/9"}))}const p=w();function m(){clearInterval(p.value),p.value=setInterval(()=>{l.data[d.value+1]||b({index:0,type:l.type}),c()},15*1e3)}function n(){clearInterval(p.value)}H(M,a=>{var q,v;a?(v=s.value)==null||v.enable():(n(),(q=s.value)==null||q.destroy())}),J(window,"keyup",a=>{document.activeElement.nodeName!=="TEXTAREA"&&document.activeElement.nodeName!=="INPUT"&&(a.key==="Enter"&&M.value||_.value===l.type&&(a.key==="ArrowLeft"&&(n(),u()),a.key==="ArrowRight"&&(n(),c()),a.key===" "&&(g.value?n():m()),(a.key==="Escape"||a.key==="Backspace")&&(h(null),z(!1),n())))}),j(()=>{s.value=K({el:document.querySelector("#imageModal"),onStart:()=>void 0,onMove:a=>k(a),onEnd:()=>void 0,gestureName:"swipe"})});function k({velocityX:a}){_.value===l.type&&(a>0?u():c())}function N(){}function F(){}return(a,q)=>(r(),f(O,{title:`${e.title}s`,type:e.type,"disable-auto-aspect":e.type==="poster"},{default:y(()=>[(r(!0),o(E,null,A(e.data,v=>(r(),f(R(V),{key:v.id,class:"flex"},{default:y(()=>[B(oe,{data:v,aspect:e.type,"set-data":t},null,8,["data","aspect"])]),_:2},1024))),128))]),_:1},8,["title","type","disable-auto-aspect"]))}}),me=C({__name:"PersonCarousel",props:{data:{type:Array,required:!0},title:{type:String,required:!0},limitCardCountBy:{type:Number,required:!1}},setup(e){return(l,g)=>(r(),f(O,{title:e.title,"limit-card-count-by":e.limitCardCountBy,type:"poster","disable-auto-aspect":!0},{default:y(()=>[(r(!0),o(E,null,A(e.data,s=>(r(),f(R(V),{key:s.id,class:"flex sm:p-1 pl-0"},{default:y(()=>[B(ee,{data:s,class:""},null,8,["data"])]),_:2},1024))),128))]),_:1},8,["title","limit-card-count-by"]))}});export{ge as _,me as a,ve as b};
