import{Ai as U,Bs as S,Ei as y,Eo as H,Et as M,Fc as q,G as Q,Ic as N,Jn as G,Kn as J,Kr as W,Ks as w,Ls as a,Mc as e,Nc as c,Ns as X,Rs as i,Tc as h,To as Y,U as B,Ws as t,X as l,_c as E,_o as Z,ca as ee,co as te,ct as ae,gt as le,i as re,ic as oe,ir as se,it as P,mo as ne,mt as b,oc as r,pt as u,qn as ie,rc as ue,uc as R,ut as $,ws as x,yc as f,zs as g}from"./index-DO6J_9Tp.js";import"./basecomponent-CpqndFv6.js";import"./portal-CUTSj16M.js";import"./classnames-D1foEy1e.js";import"./button-CFDRyzJl.js";import{a as ce,c as de,i as fe,n as ve,o as pe,r as me,s as _e,t as he}from"./ShuffleButton-Cql9YS6C.js";import"./baseicon-ZnDxD8ou.js";import"./musicPlaylists-B4I5bk4A.js";import"./contextMenuItems-BFKIupnN.js";import{t as ye}from"./_plugin-vue_export-helper-CEc1WwrB.js";import"./render-DXuRPkyW.js";import"./imageModal-B_6nwhoD.js";import{t as be}from"./AppLogoSquare-DsJ0G2n6.js";import"./TMDBImage-J_HJdqlI.js";import{t as L}from"./MoooomIcon-c5XNQtse.js";import"./dist-DVAuqLsO.js";import"./md5-C2Z3uS3Y.js";import{t as ge}from"./NoMercyAvatar--wW3VyZa.js";import{t as j}from"./CoverImage-CUqTb30b.js";import{t as I}from"./MusicButton-CJezCNlr.js";import"./BannerButton-1Tf37D_7.js";import{t as ke}from"./MediaLikeButton-BRZHcAAx.js";import{t as we}from"./PlayerIcon-DYHCFag-.js";import"./SliderBar-CTbf9lHW.js";import{t as xe}from"./TrackLinks-Cz2FOk07.js";import{t as Be}from"./LyricsButton-7KuJqktT.js";import{t as Pe}from"./Marquee-CHuiJU7D.js";import{t as Le}from"./EqSpinner-C463H6Ej.js";x();var Se={class:"flex-grow-0 flex-shrink-0 text-xs text-left leading-none mt-0.5"},qe=w({__name:"NavBarButton",props:{icon:{type:String,required:!0},href:{type:String,required:!1,default:"/"},name:{type:String,required:!1,default:""},active:{type:Boolean,required:!1,default:!1}},setup(o){return(p,s)=>{const n=R("RouterLink");return r(),i(n,{class:c([{"bg-focus/80":o.active,"bg-white/10":!o.active},"flex justify-center items-center relative first:children:mt-0.5 gap-2 pl-2 pr-3 h-8 rounded-3xl focus:outline-none focus-visible:outline-2 focus-visible:outline-focus focus-visible:outline text-surface-12"]),to:o.href,tabindex:"1"},{default:f(()=>[t(L,{icon:o.icon,"class-name":"size-5 relative"},null,8,["icon"]),a("p",Se,N(p.$t(o.name)),1)]),_:1},8,["class","to"])}}}),C=qe;x();var ze={class:"flex justify-between items-center w-full relative px-14 h-14"},Te={class:"relative w-10 h-10 aspect-square rounded-full overflow-clip"},Me={class:"flex items-center justify-center w-auto h-full aspect-square absolute top-0 left-0"},$e={class:"w-[calc(100%-30px)] flex flex-col justify-center items-start gap-1.5 mr-2 overflow-clip py-0.5 rounded-r-full text-surface-12"},Ce={class:"pl-2 text-3xs line-clamp-1 leading-none"},Ne={class:"flex justify-start items-start flex-grow-0 flex-shrink-0 gap-3"},De=w({__name:"NavBar",setup(o){return(p,s)=>{const n=R("RouterLink");return e(se)?(r(),i(e(te),{key:0,class:"pt-safe transition-all duration-200 !h-[104px] text-surface-12",mode:"md"},{default:f(()=>[t(e(H),{mode:"md"},{default:f(()=>[a("div",ze,[e(l)?(r(),S("button",{key:0,class:"flex w-60 -ml-1.5 -mr-48 h-10 my-auto bg-theme-8 pr-2 rounded-full overflow-clip focus:outline-none focus-visible:outline-2 focus-visible:outline-focus focus-visible:outline",onClick:s[0]||(s[0]=v=>e(le)())},[a("div",Te,[t(j,{alt:e(l).name,class:c([{"":e($)},"w-auto h-full aspect-square absolute top-0 left-0 brightness-50"]),data:e(l)},null,8,["alt","class","data"]),a("div",Me,[e($)?(r(),i(Le,{key:0,playing:e($)},null,8,["playing"])):(r(),i(we,{key:1,class:"w-5 h-5",icon:"nmPause"}))])]),a("div",$e,[t(Pe,{text:e(l).name,class:"px-2 children:pr-4 text-2xs leading-none !flex-grow-0"},null,8,["text"]),a("span",Ce,N(e(l).artist_track?.map(v=>v.name).join(", ")),1)])])):(r(),i(be,{key:1,class:"w-10 h-10"})),a("div",Ne,[t(C,{active:e(J),href:"/home",icon:"home1",name:"Home"},null,8,["active"]),t(C,{active:e(ie),href:"/libraries",icon:"folder",name:"Libraries"},null,8,["active"]),t(C,{active:e(G),href:"/music/start",icon:"noteSixteenth",name:"Music"},null,8,["active"])]),t(n,{class:"relative flex flex-col rounded-full bg-black size-10 my-1",to:"/setup/select-servers"},{default:f(()=>[t(ge,{size:40,user:e(ee),class:"absolute focus-visible:ring-2 ring-inset focus-visible:ring-white"},null,8,["user"]),s[1]||(s[1]=a("span",{class:"absolute rounded-full border-white bg-green-600 size-[25%] bottom-[5%] end-[5%] border-[0.125rem] dark:border-stone-900"},null,-1))]),_:1})])]),_:1})]),_:1})):g("",!0)}}}),Fe=ye(De,[["__scopeId","data-v-a482eb17"]]);x();var Ie={class:"flex gap-4"},Ee=["data-size"],Re={class:"flex gap-4"},je=w({__name:"ButtonContainer",props:{color:{type:String,required:!0},toggleDarkMode:{type:Function,required:!0},isDarkMode:{type:Boolean,required:!0}},setup(o){E(b,()=>{b.value===y.full&&setTimeout(()=>{const s=document.querySelector("#FullTvPlayer #playback-button");s&&s.focus()},100)});function p(s){s?.preventDefault(),s?.stopPropagation(),Q()}return(s,n)=>e(l)?(r(),S("div",{key:0,style:q(`${o.color?`--color-theme-8: ${o.color};`:""}`),class:"relative flex w-full items-center justify-between"},[a("div",Ie,[t(ke,{color:o.color,data:e(l),"class-name":"children:h-7 h-10 children:w-7 w-10"},null,8,["color","data"])]),a("div",{"data-size":e(b),class:"fixed left-1/2 mx-auto flex w-fit -translate-x-1/2 items-center justify-center gap-4 rounded-xl bg-black/20 px-4 py-3"},[t(he,{class:"h-10 w-10"}),t(fe,{class:"h-10 w-10"}),t(ce,{id:"playback-button",class:c([o.color==="white"?"children:fill-surface-5 children:w-9 children:h-9 active:ring-2 ring-offset-4 focus:outline active:outline outline-4 border-theme-8 !text-black !rounded-full bg-theme-8":"text-black","h-12 w-12 !rounded-full"]),style:q(`background-color: ${o.color};`)},null,8,["class","style"]),t(pe,{class:"h-10 w-10"}),t(ve,{class:"h-10 w-10"})],8,Ee),a("div",Re,[t(Be,{class:"h-11 w-11 children:w-7 children:h-7 children:!fill-white"}),t(I,{onclick:p,class:"h-11 w-11 children:w-7 children:h-7 children:!fill-white",label:"Queue"},{default:f(()=>[t(L,{class:"h-11 w-11",icon:"currentPlaylist"})]),_:1}),t(I,{onclick:o.toggleDarkMode,class:"h-11 w-11 children:w-7 children:h-7 children:!fill-white",label:"Dark mode"},{default:f(()=>[o.isDarkMode?(r(),i(L,{key:0,class:"h-11 w-11",icon:"moon"})):(r(),i(L,{key:1,class:"h-11 w-11",icon:"sun"}))]),_:1},8,["onclick"])])],4)):g("",!0)}}),Ve=je;x();var Ae=["src"],Oe={class:"container flex w-full h-full inset-0 col-span-1 row-span-1 p-12 pb-0"},Ke=["data-show-lyrics"],Ue={"data-show-lyrics":!0,class:"w-full px-0 py-16 tv:py-20 h-full overflow-hidden transition-all"},He={class:"z-0 flex h-full w-full flex-col overflow-y-auto overflow-x-hidden scroll-smooth scrollbar-none font-bbc duration-200"},Qe={class:"relative whitespace-pre-wrap font-bold h-available"},Ge=["data-size"],Je={class:"pointer-events-none relative flex flex-col gap-1 font-bold"},We=w({__name:"FullTvPlayer",props:{data:{type:Object,required:!1}},setup(o){function p(){b.value===y.compact?M(y.full):M(y.compact)}E(ae,()=>{setTimeout(()=>{document.querySelector("#lyricsContainer")?.scrollTo({top:140,behavior:"smooth"})},500)});const s=h(),n=h(),v=h(),k=h(),z=h(!0);function D(){!v.value||!n.value||!k.value||!P.value||(n.value.classList.add("delay-300"),setTimeout(()=>{n.value&&(n.value.style.translate="0 0",z.value=!0)},50),k.value.style.setProperty("--backdrop-opacity","0.6"),v.value.style.translate="0 0")}function V(){!n.value||!k.value||!v.value||(n.value.classList.remove("delay-300"),setTimeout(()=>{n.value&&(n.value.style.translate="0 110%",z.value=!1)},50),k.value.style.setProperty("--backdrop-opacity","0.4"),v.value.style.translate=u.value?"0 0":"0 115%")}function m(){clearTimeout(s.value),D(),s.value=setTimeout(()=>{B.isPlaying&&V()},1e4)}function F(){b.value===y.full?M(y.compact):re.back()}ue(()=>{m(),document.addEventListener("keydown",m),document.addEventListener("mousemove",m),document.addEventListener("backbutton",F),B.on("pause",()=>{D()}),B.on("play",()=>{m()}),B.on("song",()=>{m()})}),oe(()=>{document.removeEventListener("keydown",m),document.removeEventListener("mousemove",m),document.removeEventListener("backbutton",F)});const _=h(!1);function A(d){d?.stopPropagation(),_.value=!_.value}function O(d){if(d.key==="ArrowUp"&&d.preventDefault(),d.key==="ArrowDown"){d.preventDefault();const T=document.querySelector("#FullTvPlayer #playback-button");T&&T.focus()}}function K(d){d.propertyName==="translate"&&z.value&&(document.querySelector("#FullTvPlayer #playback-button")?.focus(),document.querySelector("#FullTvPlayer #audio-visualizer")?.scrollIntoView({block:"center",inline:"center"}))}return(d,T)=>(r(),S("div",{id:"FullTvPlayer",class:c([{"translate-y-0 duration-500":e(P),"translate-y-full":!e(P)},"absolute top-0 grid grid-cols-1 transform-gpu grid-rows-1 left-0 h-screen w-screen overflow-hidden transition-transform will-change-transform duration-500 z-[1299] bg-surface-1"]),style:q(`--color-theme-8: ${e(W)(e(l)?.color_palette?.backdrop??e(l)?.color_palette?.cover,20,160)}`),onClick:p},[e(l)?.backdrop?(r(),S("img",{key:0,class:c([{"opacity-0":_.value,"opacity-100":!_.value},"transform-gpu pointer-events-none inset-0 h-screen w-screen transition-opacity col-span-1 row-span-1"]),src:`${e(U)?.serverBaseUrl}${e(l)?.backdrop}`,alt:""},null,10,Ae)):g("",!0),a("div",{id:"audio-color",ref_key:"backdrop",ref:k,class:c([{"!opacity-70":e(u)},"absolute transform-gpu col-span-1 row-span-1 inset-0 w-full h-screen pointer-events-none bg-[var(--background)] opacity-[var(--backdrop-opacity)] transition-colors duration-1000"]),style:q(`
                --backdrop-opacity: 0.6;
                --select-background: var(--color-theme-8);
                --select-background2: black;
                --background: ${_.value?"var(--select-background2)":"var(--select-background)"};
            `)},null,6),a("div",Oe,[a("div",{"data-show-lyrics":e(u),class:"flex-col absolute inset-0 w-screen flex transition-all duration-200 delay:500 h-available overflow-clip pointer-events-none z-0"},[a("div",Ue,[a("div",He,[a("div",Qe,[(r(),i(_e,{key:e(l)?.id}))])])])],8,Ke),a("div",{id:"item",ref_key:"item",ref:v,class:c([{"top-11":e(u),"top-[calc(100%-18rem)] delay-300":!e(u)},"absolute flex items-end gap-4 z-10 transform-gpu transition-all duration-500"])},[a("div",{class:c([{"w-14":e(u),"w-28 delay-300":!e(u)},""]),"data-size":e(b)},[t(j,{data:e(l),size:320,"class-name":"pointer-events-none relative aspect-square h-auto rounded-md w-inherit"},null,8,["data"])],10,Ge),a("div",Je,[a("span",{class:c([{"text-xl":e(u),"text-3xl delay-300":!e(u)},""])},N(e(l)?.name),3),e(l)?(r(),i(xe,{key:0,id:e(l).id,class:c([{"children:children:children:text-md":e(u),"children:children:children:text-lg children:children:children:delay-500":!e(u)},"children:children:children:font-bold children:children:children:!no-underline"]),data:e(l).artist_track,"no-link":"",tabindex:"-1",type:"artists"},null,8,["id","class","data"])):g("",!0)])],2),a("div",{id:"controls",ref_key:"controls",ref:n,ontransitionend:K,class:"absolute bottom-0 left-0 flex flex-col w-available h-40 items-center px-16 pt-4 mt-4 gap-4 delay-300 transform-gpu transition-all duration-500"},[e(P)?(r(),i(me,{key:0,"on-key-down":O,class:"children:!mx-0 gap-4 children:!pointer-events-none !pointer-events-none",color:"white",variant:"stacked"})):g("",!0),t(Ve,{data:e(l),"is-dark-mode":_.value,"toggle-dark-mode":A,color:"white"},null,8,["data","is-dark-mode"])],512)])],6))}}),Xe=We;x();var Ye=w({__name:"BaseLayout",setup(o){return(p,s)=>(r(),i(e(ne),{id:"main-content",mode:"md"},{default:f(()=>[t(e(Y),{mode:"md"},{default:f(()=>[t(Fe),t(e(Z))]),_:1}),(r(),i(X,null,{default:f(()=>[t(de)]),_:1})),e(l)?(r(),i(Xe,{key:0})):g("",!0)]),_:1}))}}),St=Ye;export{St as default};
