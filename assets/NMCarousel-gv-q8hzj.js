import{C as c,Et as d,J as t,Q as P,R as B,S as v,T as r,Tt as n,V as D,X as z,Z as J,c as Q,ct as _,et as X,g as N,gt as i,j as Z,k as h,kt as m,w as s,x as G}from"./i18n-Bgv5p1Yb.js";import"./ionic-B1wlflFe.js";import"./vue-core-Dey0Eikg.js";import{$t as L,Bi as H,b as p,ia as K,v as O,zn as y}from"./index-q1-avmsq.js";import{n as U,r as W,t as Y}from"./swiper-Cpp-XWJj.js";import{t as ee}from"./nmComponentMap-DeHpE7hu.js";import{n as te,t as ae}from"./swiper-config-Dx0GnZw9.js";Q();var re=["id","data-next-id","data-previous-id"],se={class:"flex w-available flex-1 flex-col gap-2 pb-1"},le={class:"relative ml-2 flex flex-shrink-0 flex-grow-0 items-center self-stretch"},oe={key:0},ie={key:1},ne={class:"leading-none pt-0.5"},ue={key:4,class:"flex flex-shrink-0 flex-grow-0 items-start justify-start gap-2 pr-4 ml-auto text-surface-11/12"},ce=["aria-label"],de=["aria-label","onclick"],fe={class:"gap-3 py-1 pr-0 w-available swiper"},ve=Z({__name:"NMCarousel",props:{title:{type:String,required:!0},more_link:{type:String,required:!1},more_link_text:{type:String,required:!1,default:"See more"},items:{type:Array,required:!1,default:[]},type:{type:String,required:!1},limitCardCountBy:{type:Number,required:!1},backdropCards:{type:Boolean,required:!1,default:!1},index:{type:Number,required:!0},id:{type:String,required:!0},previous_id:{type:String,required:!1},next_id:{type:String,required:!1}},setup(a){const g=a,k=i(!1),x=i(!0),l=i(!1),o=i(!1),f=i(),b=i();function M(e,q){e.progress=Math.floor((q*100+1)/100),k.value=!e.isBeginning,x.value=e.progress<1,l.value=e.progress===1,o.value=!e.isLocked}function E(e){e.progress=Math.floor((e.progress*100+1)/100),e.el?.classList.remove("opacity-0"),k.value=!e.isBeginning,x.value=e.progress<1,l.value=e.progress===1,o.value=!e.isLocked}const C=i();function j(){requestAnimationFrame(()=>{requestAnimationFrame(()=>{C.value?.classList.remove("opacity-0")})})}function R(){f.value?.$el?.swiper.slideTo(0,300),o.value=!0}function T(){f.value?.$el?.swiper.slideNext(300)}function V(){f.value?.$el?.swiper.slidePrev(300)}const S=i(),w=G(()=>K.value);D(()=>{S.value=ae(w.value,g.limitCardCountBy??0)});function $(){document.querySelector(`#carousel_${g.next_id} button`)?.focus();const e=document.querySelector(`#carousel_${g.next_id} h3`);!e||!y.value||L(e,y.value,{duration:300,margin:2})}function A(){!y.value||!b.value||L(b.value,y.value,{duration:300,margin:2})}return(e,q)=>{const F=P("RouterLink");return a.items?.length?(t(),r("div",{key:0,id:`carousel_${a.id}`,ref_key:"carouselEl",ref:C,class:d([{"sm:mt-0":!a.previous_id},"mt-2 sm:mt-6 mb-2 flex w-auto flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-2 self-stretch text-left opacity-0 transition-opacity duration-150"]),"data-next-id":`carousel_${a.next_id}`,"data-previous-id":`carousel_${a.previous_id}`},[v("div",se,[v("div",le,[a.title?(t(),r("h3",{key:0,ref:"title",class:"mr-2 ml-3 sm:ml-3 my-2 text-surface-12/90 self-stretch flex-grow-0 flex-shrink-0 text-xl font-bold"},m(a.title),513)):J(e.$slots,"selector",{key:1},void 0,!0),a.next_id?(t(),r("button",{key:2,class:"skip-navigation hidden sm:flex sm:absolute opacity-0 focus-visible:opacity-100 tv:hidden",onClick:$,onFocus:A},[a.next_id==="continue"?(t(),r("span",oe,m(e.$t("Back to first carousel")),1)):(t(),r("span",ie,m(e.$t("Skip to next carousel")),1))],32)):s("",!0),a.more_link?(t(),c(F,{key:3,to:a.more_link,class:"text-base flex items-center ml-auto sm:ml-4 mr-2 sm:mr-auto"},{default:_(()=>[v("span",ne,m(a.more_link_text),1),h(p,{"class-name":"w-6 mt-1",icon:"chevronRight"})]),_:1},8,["to"])):s("",!0),n(H)?s("",!0):(t(),r("div",ue,[o.value?(t(),r("button",{key:0,"aria-label":e.$t("Previous slide"),class:d([{"cursor-not-allowed opacity-50":!k.value},"hidden sm:flex justify-center items-center p-1 rounded-lg bg-surface-5 active:scale-95 hover:bg-surface-6 transition-transform duration-200"]),onclick:V,tabindex:"-1"},[h(p,{class:"w-6",icon:"chevronLeft"})],10,ce)):s("",!0),o.value?(t(),r("button",{key:1,"aria-label":l.value?e.$t("Start slide"):e.$t("Next slide"),class:d([{"cursor-not-allowed opacity-50":!o.value},"hidden sm:flex justify-center items-center p-1 rounded-lg bg-surface-5 active:scale-95 hover:bg-surface-6 transition-transform duration-200"]),onclick:l.value?R:T,tabindex:"-1"},[o.value&&!l.value?(t(),c(p,{key:0,class:d([{"opacity-0":!x.value&&l.value},"w-6"]),icon:"chevronRight"},null,8,["class"])):s("",!0),o.value&&l.value?(t(),c(p,{key:1,class:d([{"opacity-0":!l.value},"w-6"]),icon:"chevronLeftDouble"},null,8,["class"])):s("",!0)],10,de)):s("",!0)]))]),v("div",fe,[h(n(U),B({ref_key:"swiper",ref:f,breakpoints:S.value,modules:[n(Y)],"data-spatial-container":"row"},n(te)(w.value),{onProgress:M,onAfterInit:j,onSlideChange:E}),{default:_(()=>[(t(!0),r(N,null,z(a.items,(u,I)=>(t(),r(N,{key:u?.id},[u?.id?(t(),c(n(W),{key:0,"virtual-index":I,class:"flex"},{default:_(()=>[(t(),c(X(n(ee)[u.component]),B({key:u.id},{ref_for:!0},u.props),null,16))]),_:2},1032,["virtual-index"])):s("",!0)],64))),128))]),_:1},16,["breakpoints","modules"])])])],10,re)):s("",!0)}}}),he=O(ve,[["__scopeId","data-v-f9d014a2"]]);export{he as default};
