import{aY as $,r as p,aZ as G,a_ as S,l as B,a$ as D,y as v}from"./index-m4cPkZcj.js";import{ba as s}from"./vendor-CKnYbqeP.js";import{m as E}from"./musicPlaylists-BDJhizOv.js";import{d as r,C as I}from"./vue-ionic-D3xJGFcP.js";const H=(t,a)=>v().get(t),L=(t,a)=>v().put(t,{data:a}),O=(t,a)=>v().post(t,{data:a}),Y=(t,a)=>v().delete(t,{data:a}),Z=(t,a)=>v().patch(t,{data:a}),W=t=>t.map(a=>{let l;return a.method==="GET"?l=H:a.method==="PUT"?l=L:a.method==="POST"?l=O:a.method==="PATCH"?l=Z:a.method==="DELETE"?l=Y:l=a.command,{label:a.label,icon:a.icon,confirm:a.confirm,command:()=>{var c;return l((c=a.args)==null?void 0:c.url,j.value)}}}),X=r({}),U=r(),oo=I(()=>U.value);function eo(t){U.value=t}const N=r(null),j=I(()=>N.value);function ao(t){N.value=t}const z=r([]),F=r(),e=r(),to=(t,a)=>{var k,b,h,f,_,C,y,g,x,R,T,M,q,w,A,P;e.value=a;const l=[],c={label:s("Add to playlist"),icon:"mooooom-add",items:[{label:s("New Playlist"),icon:"mooooom-add",command:()=>{var o;alert((o=e.value)==null?void 0:o.id)}}]};E.value.length==0&&c.items.push({label:s("No playlist available"),icon:"mooooom-pause"});for(const o of E.value)c.items.push({label:o.name,icon:"mooooom-disk",command:()=>{var n;alert((n=e.value)==null?void 0:n.id)}});l.push(c),l.push({label:s("Save to your liked songs"),icon:"mooooom-heart",command:()=>{var o;alert((o=e.value)==null?void 0:o.id)}},{label:s("Add to queue"),icon:"mooooom-playlist1Add",command:()=>{var o;alert((o=e.value)==null?void 0:o.id)}},{separator:!0}),!$.value&&((k=e.value)!=null&&k.album_track)&&((h=(b=e.value)==null?void 0:b.album_track)==null?void 0:h.length)<2?l.push({label:s("Go to album"),icon:"mooooom-disk",command:()=>{var o,n,u,m,i,d;(u=(n=(o=e.value)==null?void 0:o.album_track)==null?void 0:n[0])!=null&&u.link&&p.push((d=(i=(m=e.value)==null?void 0:m.album_track)==null?void 0:i[0])==null?void 0:d.link)}}):!$.value&&((f=e.value)!=null&&f.album_track)&&((C=(_=e.value)==null?void 0:_.album_track)==null?void 0:C.length)>1&&l.push({label:s("Go to album"),icon:"mooooom-disk",items:(g=(y=e.value)==null?void 0:y.album_track)==null?void 0:g.map(o=>({label:o.name,icon:"mooooom-disk",command:()=>p.push(o.link)}))}),!G.value&&((x=e.value)!=null&&x.artist_track)&&((T=(R=e.value)==null?void 0:R.artist_track)==null?void 0:T.length)<2?l.push({label:s("Go to artist"),icon:"mooooom-user",command:()=>{var o,n,u,m,i,d;(u=(n=(o=e.value)==null?void 0:o.artist_track)==null?void 0:n[0])!=null&&u.link&&p.push((d=(i=(m=e.value)==null?void 0:m.artist_track)==null?void 0:i[0])==null?void 0:d.link)}}):!G.value&&((M=e.value)!=null&&M.artist_track)&&((w=(q=e.value)==null?void 0:q.artist_track)==null?void 0:w.length)>1&&l.push({label:s("Go to artist"),icon:"mooooom-user",items:(P=(A=e.value)==null?void 0:A.artist_track)==null?void 0:P.map(o=>({label:o.name,icon:"mooooom-user",command:()=>p.push(o.link)}))}),l.push({separator:!0},{label:s("Share"),icon:"mooooom-shareSquare",items:[{label:s("Copy page link"),icon:"mooooom-fileCopy",command:()=>S(window.location.href)},{label:s("Copy track link"),icon:"mooooom-fileCopy",command:()=>{var o,n,u,m;return e.value?S(`${(o=B.value)==null?void 0:o.serverBaseUrl}/${(n=e.value)==null?void 0:n.folder_id}${(u=e.value)==null?void 0:u.folder}${(m=e.value)==null?void 0:m.filename}?token=${D.value}`):{}}}]}),z.value=l,F.value.show(t)};export{ao as a,oo as b,X as c,F as d,W as m,to as o,eo as s,z as t};
