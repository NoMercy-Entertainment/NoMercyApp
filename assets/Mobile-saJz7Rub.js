import{C as f,G as m,J as l,S as a,T as o,Tt as v,X as d,c as _,g as h,j as w,k,kt as y}from"./i18n-Cs-AFcrY.js";import"./ionic-XwZpO7IE.js";import"./vue-core-CKeWI2Kt.js";import{c as S}from"./query-28IwY2wK.js";import{F as g,Fi as x,Fn as n,Hn as C,Un as b,V as B,Yi as i,Yn as j,Zi as u,jt as F,k as e,vn as M,yn as L}from"./index-BnnbGJJT.js";import{t as T}from"./ripperSocket-CkNjtSGm.js";import{t as V}from"./EmptyBackdrop-CeLg29Ot.js";import{t as E}from"./ServerCard-BnQjoB39.js";_();var H={class:"flex h-full w-full flex-auto flex-col items-center justify-center gap-8"},I={class:"flex w-full flex-grow flex-col justify-between p-2 min-h-auto"},N={class:"mt-16 mb-4 w-full whitespace-pre-line"},P={class:"relative text-center text-lg font-semibold"},Q={class:"tv:children:w-[30%] tv:mt-0 -mt-24 tv:-ml-8 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4"},U=w({__name:"Mobile",setup(Y){const c=S();async function p(r){u(r);try{const{data:t}=await i(5).get("setup/server-info");if(!t.data?.setup_complete){n.value="/setup/post-install",await e.replace({name:"Post Install"});return}}catch{await e.replace({name:"Server offline"});return}await i().get("libraries").then(({data:t})=>{x(t.data),j.value=!0,M.value=!0,setTimeout(async()=>{n.value==="/setup/select-servers"?await e.replace({name:"Home"}):await e.replace(n.value)},50)}).catch(async()=>{await e.replace({name:"Server offline"})})}return m(()=>{u(null),b(null),C(null),g(),c.removeQueries(),B.value?.stop(),F.value?.stop(),T.value?.stop()}),(r,t)=>(l(),o("div",H,[k(V),a("div",I,[a("div",N,[a("h5",P,y(r.$t("Choose a server")),1)]),a("div",Q,[(l(!0),o(h,null,d(v(L),s=>(l(),f(E,{key:s.id,server:s,onclick:()=>p(s)},null,8,["server","onclick"]))),128))])])]))}}),A=U;export{A as default};
