import{I as g,f as F,d as i,o as s,n as u,s as f,j as t,a,t as C,b,K as e,c0 as U,c1 as H,c as S,a4 as l,al as L,bz as K,aT as Q,aU as W,aW as G,ah as J,bI as X,w as I,am as w,A as M,bl as Y,bn as y,l as _,E as Z,ai as $,bM as ee,R as te,c2 as c,bs as z,a7 as ae,bo as T,c3 as le,bh as oe,bj as se,bk as ne}from"./index-BzddMR-Z.js";import{_ as re,a as ie,b as ce,c as ue,d as de,f as fe,e as me,g as pe}from"./ShuffleButton.vue_vue_type_script_setup_true_lang-BpJT7-LR.js";import{A as ve}from"./AppLogoSquare-BL4KctQO.js";import{_ as he}from"./NoMercyAvatar.vue_vue_type_script_setup_true_lang-H4mF3pH1.js";import{_ as R}from"./CoverImage.vue_vue_type_script_setup_true_lang-ClVPZH0h.js";import{_ as _e}from"./Marquee.vue_vue_type_script_setup_true_lang-C1aVO7FF.js";import{E as ye}from"./EqSpinner-DNjIkZBp.js";import{_ as P}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-BC8tj0dR.js";import{_ as be}from"./PlayerIcon.vue_vue_type_script_setup_true_lang-C-OFbMdG.js";import{_ as we}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as ke}from"./TrackLinks.vue_vue_type_script_setup_true_lang-BUQk3uMK.js";import{_ as ge}from"./LyricsButton.vue_vue_type_script_setup_true_lang-CyRYWrrl.js";import{M as xe}from"./MediaLikeButton-BTNuIp0V.js";import{_ as E}from"./MusicButton.vue_vue_type_script_setup_true_lang-BpfBMlyH.js";import"./index-jVVSC79-.js";import"./index-1OIG4w3U.js";import"./index-CSvdKrK4.js";import"./index-C-xQS3yy.js";import"./index-ZhWAdK_X.js";import"./render-B0qoJ95y.js";import"./imageModal-rJv7FhMo.js";import"./TMDBImage.vue_vue_type_script_setup_true_lang-B1klaL5E.js";import"./contextMenuItems-DRjMwVUE.js";import"./musicPlaylists-ByQrpfkX.js";import"./SliderBar.vue_vue_type_script_setup_true_lang-D2PlgdQM.js";import"./index-rsbz97XY.js";import"./md5-CCaQiUQF.js";const $e={class:"flex-grow-0 flex-shrink-0 text-xs text-left leading-none text-white mt-0.5"},B=g({__name:"NavBarButton",props:{icon:{type:String,required:!0},href:{type:String,required:!1,default:"/"},name:{type:String,required:!1,default:""},active:{type:Boolean,required:!1,default:!1}},setup(n){return(m,o)=>{const r=F("RouterLink");return s(),i(r,{to:n.href,tabindex:"1",class:u(["flex justify-center items-center relative first:children:mt-0.5 gap-2 pl-2 pr-3 h-8 rounded-3xl focus:outline-none focus-visible:outline-2 focus-visible:outline-focus focus-visible:outline",{"bg-focus/80":n.active,"bg-white/10":!n.active}])},{default:f(()=>[t(P,{icon:n.icon,"class-name":"size-5 relative"},null,8,["icon"]),a("p",$e,C(m.$t(n.name)),1)]),_:1},8,["to","class"])}}}),ze={class:"flex justify-between items-center w-full relative px-14 h-14"},Pe={class:"relative w-10 h-10 aspect-square rounded-full overflow-clip"},Se={class:"flex items-center justify-center w-auto h-full aspect-square absolute top-0 left-0"},qe={class:"w-[calc(100%-30px)] flex flex-col justify-center items-start gap-1.5 mr-2 overflow-clip py-0.5 border-[4px] border-l-0 rounded-r-full border-slate-dark-6"},Le={class:"pl-2 text-3xs text-white line-clamp-1 leading-none"},Te={class:"flex justify-start items-start flex-grow-0 flex-shrink-0 gap-3"},Be=g({__name:"NavBar",setup(n){return(m,o)=>{const r=F("RouterLink");return e(U)?(s(),i(e(H),{key:0,mode:"md",class:"pt-safe transition-all duration-200 !h-[104px]"},{default:f(()=>[t(e(X),{mode:"md"},{default:f(()=>[a("div",ze,[e(l)?(s(),S("button",{key:0,class:"flex w-60 -ml-1.5 -mr-48 h-10 my-auto bg-slate-dark-6 pr-2 rounded-full overflow-clip focus:outline-none focus-visible:outline-2 focus-visible:outline-focus focus-visible:outline",onClick:o[0]||(o[0]=v=>e(K)())},[a("div",Pe,[t(R,{data:e(l),alt:e(l).name,class:u(["w-auto h-full aspect-square absolute top-0 left-0 brightness-50",{"":e(L)}])},null,8,["data","alt","class"]),a("div",Se,[e(L)?(s(),i(ye,{key:0,playing:e(L)},null,8,["playing"])):(s(),i(be,{key:1,icon:"nmPause",class:"w-5 h-5 text-white"}))])]),a("div",qe,[t(_e,{text:e(l).name,class:"px-2 children:pr-4 text-2xs leading-none !flex-grow-0"},null,8,["text"]),a("span",Le,C(e(l).artist_track?.at(0)?.name),1)])])):(s(),i(ve,{key:1,class:"w-10 h-10"})),a("div",Te,[t(B,{icon:"home1",href:"/home",name:"Home",active:e(Q)},null,8,["active"]),t(B,{icon:"folder",href:"/libraries",name:"Libraries",active:e(W)},null,8,["active"]),t(B,{icon:"noteSixteenth",href:"/music/start",name:"Music",active:e(G)},null,8,["active"])]),t(r,{to:"/setup/select-servers",class:"relative flex flex-col rounded-full bg-black size-10 my-1"},{default:f(()=>[t(he,{user:e(J),size:40,class:"absolute focus-visible:ring-2 ring-inset focus-visible:ring-white"},null,8,["user"]),o[1]||(o[1]=a("span",{class:"absolute rounded-full border-white bg-green-600 size-[25%] bottom-[5%] end-[5%] border-[0.125rem] dark:border-stone-900"},null,-1))]),_:1})])]),_:1})]),_:1})):b("",!0)}}}),Me=we(Be,[["__scopeId","data-v-53b3742c"]]),Ce={key:0,class:"relative flex w-full items-center justify-between"},De={class:"flex gap-4"},je=["data-size"],Ee={class:"flex gap-4"},Fe=g({__name:"ButtonContainer",props:{color:{type:String,required:!0},toggleDarkMode:{type:Function,required:!0},isDarkMode:{type:Boolean,required:!0}},setup(n){I(w,()=>{w.value===y.full&&setTimeout(()=>{const o=document.querySelector("#FullTvPlayer #playback-button");o&&o.focus()},100)});function m(o){o?.preventDefault(),o?.stopPropagation(),Y()}return(o,r)=>e(l)?(s(),S("div",Ce,[a("div",De,[t(xe,{data:e(l),color:n.color,"class-name":"children:h-7 h-10 children:w-7 w-10"},null,8,["data","color"])]),a("div",{class:"fixed left-1/2 mx-auto flex w-fit -translate-x-1/2 items-center justify-center gap-4 rounded-xl bg-black/20 text-white px-4 py-3","data-size":e(w)},[t(re,{class:"h-10 w-10"}),t(ie,{class:"h-10 w-10"}),t(ce,{id:"playback-button",class:u(["h-12 w-12 !rounded-full",n.color==="white"?"children:fill-auto-300 children:w-9 children:h-9 active:ring-2 ring-offset-4 focus:outline active:outline outline-4 outline-auto-300 text-black !rounded-full":"text-black"]),style:M(`background-color: ${n.color};`)},null,8,["class","style"]),t(ue,{class:"h-10 w-10"}),t(de,{class:"h-10 w-10"})],8,je),a("div",Ee,[t(ge,{class:"h-11 w-11 children:w-7 children:h-7 children:!fill-white"}),t(E,{label:"Queue",onclick:m,class:"h-11 w-11 children:w-7 children:h-7 children:!fill-white"},{default:f(()=>[t(P,{icon:"currentPlaylist",class:"h-11 w-11"})]),_:1}),t(E,{label:"Dark mode",onclick:n.toggleDarkMode,class:"h-11 w-11 children:w-7 children:h-7 children:!fill-white"},{default:f(()=>[n.isDarkMode?(s(),i(P,{key:0,icon:"moon",class:"h-11 w-11"})):(s(),i(P,{key:1,icon:"sun",class:"h-11 w-11"}))]),_:1},8,["onclick"])])])):b("",!0)}}),Ie=["src"],Re={class:"container flex w-full h-full inset-0 col-span-1 row-span-1 p-12 pb-0"},Ne=["data-show-lyrics"],Ve={"data-show-lyrics":!0,class:"w-full px-0 py-16 tv:py-20 h-full overflow-hidden transition-all"},Ae={class:"z-0 flex h-full w-full flex-col overflow-y-auto overflow-x-hidden scroll-smooth scrollbar-none font-bbc duration-200"},Oe={class:"relative whitespace-pre-wrap font-bold h-available"},Ue=["data-size"],He={class:"pointer-events-none relative flex flex-col gap-1 font-bold"},Ke=g({__name:"FullTvPlayer",props:{data:{type:Object,required:!1}},setup(n){function m(){w.value===y.compact?T(y.full):T(y.compact)}I(le,()=>{setTimeout(()=>{document.querySelector("#lyricsContainer")?.scrollTo({top:140,behavior:"smooth"})},500)});const o=_(),r=_(),v=_(),k=_(),q=_(!0);function D(){!v.value||!r.value||!k.value||!z.value||(r.value.classList.add("delay-300"),setTimeout(()=>{r.value&&(r.value.style.translate="0 0",q.value=!0)},50),k.value.style.setProperty("--backdrop-opacity","0.6"),v.value.style.translate="0 0")}function N(){!r.value||!k.value||!v.value||(r.value.classList.remove("delay-300"),setTimeout(()=>{r.value&&(r.value.style.translate="0 110%",q.value=!1)},50),k.value.style.setProperty("--backdrop-opacity","0.4"),v.value.style.translate=c.value?"0 0":"0 115%")}function p(){clearTimeout(o.value),D(),o.value=setTimeout(()=>{$.isPlaying&&N()},1e4)}function j(){w.value===y.full?T(y.compact):window.history.back()}Z(()=>{p(),document.addEventListener("keydown",p),document.addEventListener("mousemove",p),document.addEventListener("backbutton",j),$.on("pause",()=>{D()}),$.on("play",()=>{p()}),$.on("song",()=>{p()})}),ee(()=>{document.removeEventListener("keydown",p),document.removeEventListener("mousemove",p),document.removeEventListener("backbutton",j)});const h=_(!1);function V(d){d?.stopPropagation(),h.value=!h.value}function A(d){if(d.key==="ArrowUp"&&d.preventDefault(),d.key==="ArrowDown"){d.preventDefault();const x=document.querySelector("#FullTvPlayer #playback-button");x&&x.focus()}}function O(d){d.propertyName==="translate"&&q.value&&(document.querySelector("#FullTvPlayer #playback-button")?.focus(),document.querySelector("#FullTvPlayer #audio-visualizer")?.scrollIntoView({block:"center",inline:"center"}))}return(d,x)=>(s(),S("div",{id:"FullTvPlayer",style:M(`--color-focus: ${e(ae)(e(l)?.color_palette?.backdrop??e(l)?.color_palette?.cover,20,160)}`),class:u(["absolute top-0 grid grid-cols-1 transform-gpu grid-rows-1 left-0 h-screen w-screen overflow-hidden transition-transform will-change-transform duration-500 z-[1299] bg-slate-dark-1",{"translate-y-0 duration-500":e(z),"translate-y-full":!e(z)}]),onClick:m},[e(l)?.backdrop?(s(),S("img",{key:0,src:`${e(te)?.serverBaseUrl}${e(l)?.backdrop}`,alt:"",class:u(["transform-gpu pointer-events-none inset-0 h-screen w-screen transition-opacity col-span-1 row-span-1",{"opacity-0":h.value,"opacity-100":!h.value}])},null,10,Ie)):b("",!0),a("div",{id:"audio-color",ref_key:"backdrop",ref:k,class:u(["absolute transform-gpu col-span-1 row-span-1 inset-0 w-full h-screen pointer-events-none bg-[var(--background)] opacity-[var(--backdrop-opacity)] transition-colors duration-1000",{"!opacity-70":e(c)}]),style:M(`
                --backdrop-opacity: 0.6;
                --select-background: rgb(var(--color-focus));
                --select-background2: black;
                --background: ${h.value?"var(--select-background2)":"var(--select-background)"};
            `)},null,6),a("div",Re,[a("div",{"data-show-lyrics":e(c),class:"flex-col absolute inset-0 w-screen flex transition-all duration-200 delay:500 h-available overflow-clip pointer-events-none z-0"},[a("div",Ve,[a("div",Ae,[a("div",Oe,[(s(),i(fe,{key:e(l)?.id}))])])])],8,Ne),a("div",{id:"item",ref_key:"item",ref:v,class:u(["absolute flex items-end gap-4 z-10 transform-gpu transition-all duration-500",{"top-11":e(c),"top-[calc(100%-18rem)] delay-300":!e(c)}])},[a("div",{"data-size":e(w),class:u(["",{"w-14":e(c),"w-28 delay-300":!e(c)}])},[t(R,{data:e(l),size:320,"class-name":"pointer-events-none relative aspect-square h-auto rounded-md w-inherit"},null,8,["data"])],10,Ue),a("div",He,[a("span",{class:u(["",{"text-xl":e(c),"text-3xl delay-300":!e(c)}])},C(e(l)?.name),3),e(l)?(s(),i(ke,{key:0,id:e(l).id,data:e(l).artist_track,tabindex:"-1","no-link":"",class:u([{"children:children:children:text-md":e(c),"children:children:children:text-lg children:children:children:delay-500":!e(c)},"children:children:children:font-bold children:children:children:!no-underline"]),type:"artists"},null,8,["id","data","class"])):b("",!0)])],2),a("div",{id:"controls",ref_key:"controls",ref:r,ontransitionend:O,class:"absolute bottom-0 left-0 flex flex-col w-available h-40 items-center px-16 pt-4 mt-4 gap-4 delay-300 transform-gpu transition-all duration-500"},[e(z)?(s(),i(me,{key:0,class:"children:!mx-0 gap-4 children:!pointer-events-none !pointer-events-none",color:"white","on-key-down":A,variant:"stacked"})):b("",!0),t(Fe,{color:"white",data:e(l),"toggle-dark-mode":V,"is-dark-mode":h.value},null,8,["data","is-dark-mode"])],512)])],6))}}),kt=g({__name:"BaseLayout",setup(n){return(m,o)=>(s(),i(e(oe),{id:"main-content",mode:"md"},{default:f(()=>[t(e(se),{mode:"md"},{default:f(()=>[t(Me),t(e(ne))]),_:1}),t(pe),e(l)?(s(),i(Ke,{key:0})):b("",!0)]),_:1}))}});export{kt as default};
