import{Gn as f}from"./index-CymNhKD_.js";import{n as _,r as i}from"./index5-BTkjd2bP.js";import{i as b,t as h}from"./ionic-global-CJHxMOPd.js";var l,m,v,p,B,C=f(()=>{_(),b(),l=()=>h.get("experimentalCloseWatcher",!1)&&i!==void 0&&"CloseWatcher"in i,m=()=>{document.addEventListener("backbutton",()=>{})},v=()=>{const r=document;let n=!1;const s=()=>{if(n)return;let a=0,o=[];const d=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(t,e){o.push({priority:t,handler:e,id:a++})}}});r.dispatchEvent(d);const u=async t=>{try{if(t?.handler){const e=t.handler(c);e!=null&&await e}}catch(e){console.error(e)}},c=()=>{if(o.length>0){let t={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};o.forEach(e=>{e.priority>=t.priority&&(t=e)}),n=!0,o=o.filter(e=>e.id!==t.id),u(t).then(()=>n=!1)}};c()};if(l()){let a;const o=()=>{a?.destroy(),a=new i.CloseWatcher,a.onclose=()=>{s(),o()}};o()}else r.addEventListener("backbutton",s)},p=100,B=99});export{l as a,C as i,p as n,v as o,m as r,B as t};
