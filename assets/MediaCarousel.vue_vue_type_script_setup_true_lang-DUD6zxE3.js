import{$ as A,B as c,k as j,c as y,b as x,o as n,G as P,v,p as f,j as s,z as p,h as d,F as g,x as w,d as V,q as F,a0 as M,a7 as O}from"./vue-ionic-9j_oSDCB.js";import{e as N,p as U,k as D,aU as E,aV as G,j as I}from"./index-CTarIx2-.js";import{C as T}from"./Carousel-Bq_K9vXt.js";import{_ as R}from"./TMDBImage.vue_vue_type_script_setup_true_lang-BG2-SXZu.js";import{_ as H}from"./CardIndicator.vue_vue_type_script_setup_true_lang-Bpvd7HWm.js";import{_ as J}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-CHVfvbJh.js";const K={class:"w-full h-full overflow-clip rounded-lg inset-0 absolute"},Q={key:0,class:"absolute inset-0 h-full w-full"},W={class:"absolute bottom-0 left-0 h-full max-h-24 w-full max-w-[66%]"},X={key:1,class:"absolute inset-0 h-full w-full"},Y={class:"absolute bottom-4 left-4 w-full max-w-[66%]"},Z={class:"z-10 w-auto text-2xl font-bold line-clamp-2 leading-[1.2] text-auto-12 empty:hidden dark:font-medium"},ee={class:"z-10 w-auto flex-shrink-0 flex-grow-0 self-stretch text-xs font-semibold line-clamp-2 leading-[1.2] text-neutral-900 dark:text-neutral-100 empty:hidden dark:font-medium text-wrap"},te=A({__name:"MediaCard",props:{data:{type:Object,required:!0},index:{type:Number,required:!1,default:0},watch:{type:Boolean,required:!1,default:!1},disableAutoAspect:{type:Boolean,required:!1,default:!1}},setup(t){const u=t,m=c(()=>{var e,l,r,a;return`scroll_${(a=(r=(l=(e=u.data)==null?void 0:e.titleSort)==null?void 0:l[0])==null?void 0:r.toUpperCase)==null?void 0:a.call(r)}`}),o=c(()=>N.value&&!u.disableAutoAspect),i=c(()=>{var e;return(e=u.data)==null?void 0:e[o.value?"backdrop":"poster"]}),h=c(()=>{var e,l,r,a;return(l=(e=u.data)==null?void 0:e.color_palette)!=null&&l[o.value?"backdrop":"poster"]?U((a=(r=u.data)==null?void 0:r.color_palette)==null?void 0:a[o.value?"backdrop":"poster"]).replace(/,/gu," ").replace(")","").replace("rgb(",""):""});return(e,l)=>{var a,b;const r=j("RouterLink");return(a=t.data)!=null&&a.link?(n(),y(r,{key:0,"data-scroll":m.value,to:(b=t.data)==null?void 0:b.link,class:v(["group/card flex flex-col h-full items-center focus-outline relative rounded-lg select-none shadow-[0px_0px_0_1px_rgb(var(--color-focus,var(--color-theme-6))/70%)] w-full z-0 bg-auto-50/70 flex-grow-0",o.value?"aspect-backdrop":"aspect-poster"]),style:P(`--color-focus: ${h.value};`)},{default:f(()=>{var k,C,q,z,B,S,_,$,L;return[s("div",K,[l[2]||(l[2]=s("div",{class:"backdropCard-overlay"},null,-1)),p(R,{path:i.value,title:(k=t.data)==null?void 0:k.title,loading:"lazy",size:o.value?330:180,aspect:o.value?"backdrop":"poster","color-palette":(q=(C=t.data)==null?void 0:C.color_palette)==null?void 0:q[o.value?"backdrop":"poster"],"class-name":"h-full overflow-clip rounded-lg"},null,8,["path","title","size","aspect","color-palette"]),o.value?(n(),d(g,{key:0},[(z=t.data)!=null&&z.logo?(n(),d("div",Q,[l[0]||(l[0]=s("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-auto-1 via-auto-1/80"},null,-1)),s("div",W,[p(R,{path:(B=t.data)==null?void 0:B.logo,title:(S=t.data)==null?void 0:S.title,"color-palette":($=(_=t.data)==null?void 0:_.color_palette)==null?void 0:$.logo,size:500,loading:"lazy",class:"w-auto object-contain h-available object-[0_0%] max-h-inherit !duration-700 children:!duration-700","class-name":"mr-auto p-4 !duration-700 children:!duration-700",type:"logo"},null,8,["path","title","color-palette"])])])):(n(),d("div",X,[l[1]||(l[1]=s("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-auto-1 via-auto-1/80"},null,-1)),s("div",Y,[s("p",Z,w((L=t.data)==null?void 0:L.title),1)])]))],64)):(n(),d("div",{key:1,class:v(["flex flex-col justify-start items-start w-full h-12 z-0 absolute left-0 transition-all duration-200 px-2 py-1 group-hover/card:-bottom-0 text-left",{"-bottom-20":i.value,"bottom-0":!i.value}])},[s("div",{class:v(["absolute inset-0 z-0 transition-all duration-200 bg-neutral-100/80 dark:bg-neutral-900/80",{"opacity-0 group-hover/card:opacity-100":i.value}])},null,2),s("p",ee,w(t.data.title),1)],2)),p(H,{data:t.data},null,8,["data"])])]}),_:1},8,["data-scroll","to","class","style"])):x("",!0)}}}),ue=A({__name:"MediaCarousel",props:{data:{type:Array,required:!0},title:{type:String,required:!0},moreLink:{type:String,required:!1},type:{type:String,required:!1},suffix:{type:String,required:!1,default:""},index:{type:Number,required:!1,default:0},limitCardCountBy:{type:Number,required:!1},disableAutoAspect:{type:Boolean,required:!1,default:!1},menuItems:{type:Array,required:!1,default:()=>[]},onRightClick:{type:Function,required:!1},colorPalette:{type:Object,required:!1}},setup(t){const u=t;function m(e){e!=null&&e.backdrop&&D(e==null?void 0:e.backdrop),e!=null&&e.poster&&E(e.poster),e.title&&G(e.title),e.color_palette&&I(e.color_palette.poster)}const o=c(()=>N.value&&u.type!=="poster"),i=V();function h(e,l){u.onRightClick&&(u.onRightClick(e,l),i.value.show(e))}return(e,l)=>{const r=j("RouterLink");return n(),y(T,{index:t.index,"limit-card-count-by":t.limitCardCountBy,title:t.title,class:"",type:o.value?"poster":"backdrop","disable-auto-aspect":!o.value},{link:f(()=>[t.moreLink?(n(),y(r,{key:0,to:t.moreLink,class:"text-base text-slate-dark-9 dark:text-slate-light-9 flex items-center ml-auto mr-2"},{default:f(()=>[s("span",null,w(e.$t("See more")),1),p(J,{icon:"chevronRight","class-name":"w-6 mt-1"})]),_:1},8,["to"])):x("",!0)]),default:f(()=>[(n(!0),d(g,null,F(t.data,(a,b)=>(n(),d(g,{key:a==null?void 0:a.id},[a!=null&&a.id?(n(),y(M(O),{key:0,class:"flex"},{default:f(()=>[p(te,{id:`item-${t.title}-${a.id}`,data:a,index:b,onclick:()=>m(a),watch:t.suffix==="/watch","disable-auto-aspect":!o.value,type:o.value?"poster":"backdrop",class:"",onContextmenu:k=>h(k,a)},null,8,["id","data","index","onclick","watch","disable-auto-aspect","type","onContextmenu"])]),_:2},1024)):x("",!0)],64))),128))]),_:1},8,["index","limit-card-count-by","title","type","disable-auto-aspect"])}}});export{ue as _};
