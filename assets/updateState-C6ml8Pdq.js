var n="nomercy_update_pending",t="nomercy_update_version";function a(e){sessionStorage.setItem(n,"true"),sessionStorage.setItem(t,e)}function r(){return{pending:sessionStorage.getItem(n)==="true",version:sessionStorage.getItem(t)}}function s(){sessionStorage.removeItem(n),sessionStorage.removeItem(t)}async function g(){const{pending:e,version:o}=r();if(!(!e||!o)){if(s(),"serviceWorker"in navigator){const i=await navigator.serviceWorker.getRegistration();if(i?.waiting){i.waiting.postMessage({type:"SKIP_WAITING"});return}}window.location.reload()}}export{g as checkAndApplyPendingUpdate,a as setUpdatePending};
