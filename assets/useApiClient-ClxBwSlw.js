import{t as v}from"./useInfiniteServerClient-DWIAv0eb.js";import{t as m}from"./useQuery-D22PomL_.js";import{R as a,Sr as d,du as g,ll as o,su as h}from"./index-CjyZVKul.js";o();function R(e){const f=h(a.currentRoute.value.params?.letter||"_"),i=u=>{f.value=u};a.afterEach(()=>{i(a.currentRoute.value.params.letter)});const n=()=>Object.keys(e?.data??{}).reduce((u,r)=>(u[r]=g(e?.data[r].value),u),{}),s=h(e?.type??"get");return{...m({...e,queryKey:v(e),enabled:!0,retry:0,refetchOnMount:!0,refetchOnWindowFocus:!1,networkMode:"offlineFirst",staleTime:e?.keepForever?1/0:1e3*60*5,queryFn:()=>new Promise((u,r)=>{const c=new AbortController;setTimeout(()=>{let l;return(e?.path??a.currentRoute.value.fullPath).includes("undefined")?Promise.reject():(s.value==="get"?l=d().get(e?.path??a.currentRoute.value.fullPath,{params:{letter:f.value,...e?.params,...n()},signal:c.signal}).then(t=>t.data?.data??t.data).catch(r):s.value==="post"?l=d().post(e?.path??a.currentRoute.value.fullPath,{letter:a.currentRoute.value.params.letter??void 0,...e?.data,...n()},{signal:c.signal}).then(({data:t})=>t?.data??t).catch(r):s.value==="put"?l=d().put(e?.path??a.currentRoute.value.fullPath,{letter:a.currentRoute.value.params.letter??void 0,...e?.data,...n()},{signal:c.signal}).then(({data:t})=>t?.data??t).catch(r):s.value==="patch"?l=d().patch(e?.path??a.currentRoute.value.fullPath,{letter:a.currentRoute.value.params.letter??void 0,...e?.data,...n()},{signal:c.signal}).then(({data:t})=>t?.data??t).catch(r):s.value==="delete"&&(l=d().delete(e?.path??a.currentRoute.value.fullPath,{letter:a.currentRoute.value.params.letter??void 0,...e?.data,...n()},{signal:c.signal}).then(({data:t})=>t?.data??t).catch(r)),u(l))},e?.delay??0)})}),setLetter:i}}var _=R;export{_ as t};
