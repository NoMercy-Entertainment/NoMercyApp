import"./useBaseQuery-DuN6ewkv.js";import"./useInfiniteServerClient-D7NEL5YT.js";import"./useQueryClient-yrMUvP3b.js";import"./useQuery-B6XHIGIn.js";import{Ao as E,As as H,Cs as V,Gs as $,Is as y,Ls as n,Mc as z,Na as g,No as P,Po as R,Rs as T,Us as h,X as C,_r as d,ac as r,ao as j,cr as b,dr as A,fi as D,gc as v,gr as p,hi as F,jc as e,ko as M,po as O,sc as W,sr as G,vc as w,wc as _,zs as L}from"./index-DUsTkghB.js";import"./basecomponent-BPIy_gcO.js";import"./classnames-D1foEy1e.js";import"./button-CY8wNwfN.js";import"./baseicon-DpyKGUnH.js";import"./musicPlaylists-DjQFOCXU.js";import"./contextMenuItems-HAKBuhZW.js";import"./_plugin-vue_export-helper-CEc1WwrB.js";import"./AppLogoSquare-CoYx6xv3.js";import"./MoooomIcon-BkzOHCH7.js";import"./DropdownMenu-Bb8cMAjN.js";import"./dist-DhSqSWSw.js";import{t as U}from"./useServerClient-C1ZFU6BR.js";import{t as X}from"./ScrollContainer-CQQ_aHrE.js";import"./CoverImage-DjLBcuci.js";import"./MusicButton-B3Qo5MBG.js";import"./BannerButton-BqwZshKL.js";import"./MediaLikeButton-bIcOEueS.js";import"./PlayerIcon-DfQ9GZar.js";import"./Marquee-Zc22yHGB.js";import"./EqSpinner-BGxfeBZh.js";import"./FavoriteImage-B7sQJZQ6.js";import"./TrackLinks-CmqvajRV.js";import"./BigPlayButton-C_8qqeUp.js";import{t as q}from"./NotFound-sTX8Joq6.js";import"./ShareButton-BYFVouts.js";import{i as J,n as K,r as Q,t as Y}from"./TrackRow-6076k7dw.js";V();P();var Z={class:"relative z-0 flex h-auto flex-shrink-0 flex-grow flex-col items-start justify-start self-stretch"},ee=$({__name:"Desktop",setup(te){const f=R(),{data:t,isError:B}=U({path:f.fullPath}),S=_(null),m=_(),s=_("");v(t,a=>{a&&(D(a?.name??null),c(a?.tracks??[],d.value,p.value,s.value),b(a?.color_palette?.cover))}),v(p,a=>{c(t.value?.tracks??[],d.value,a,s.value)}),v(d,a=>{c(t.value?.tracks??[],a,p.value,s.value)}),v(s,a=>{c(t.value?.tracks??[],d.value,p.value,a)});function c(a,i,l,u){const x=F(a??[],i,l,A);u===""?m.value=x:m.value=x?.filter(k=>k.name?.toLowerCase().includes(u?.toLowerCase?.())||k.artist_track?.some(N=>N.name.toLowerCase().includes(u?.toLowerCase?.()))||k.album_track?.[0]?.name.toLowerCase().includes(u?.toLowerCase?.()))??[]}M(()=>{t?.value?.tracks&&c(t?.value?.tracks??[],d.value,p.value,s.value),t.value?.color_palette?.cover&&b(t.value?.color_palette?.cover)}),E(()=>{document.getElementById("navbar")&&(document.getElementById("navbar").style.display="flex"),b(null),G(null)});const o=_();function I(){window.CSS.supports("container-type","scroll-state")||(Math.ceil(o.value?.$el?.getBoundingClientRect()?.top??500)<=67?(o.value?.$el?.classList.add("!bg-focus"),o.value?.$el?.firstChild?.classList.add("!bg-black/50")):(o.value?.$el?.classList.remove("!bg-focus"),o.value?.$el?.firstChild?.classList.remove("!bg-black/50")))}return(a,i)=>(r(),n(e(O),null,{default:w(()=>[h(e(j),{fullscreen:!0,class:"flex"},{default:w(()=>[e(B)&&!e(t)?(r(),n(q,{key:0})):(r(),n(X,{key:1,"auto-hide":!0,static:!0,onScroll:I},{default:w(()=>[!e(f).params.id||e(f).params.id&&e(t)?.id===e(f).params.id?(r(),L("div",{key:0,ref_key:"main",ref:S,class:"flex flex-col w-available h-available sm:rounded-2xl"},[h(Q,{data:e(t)},null,8,["data"]),y("div",Z,[i[1]||(i[1]=y("div",{class:"pointer-events-none absolute z-0 h-96 w-full bg-spotifyBottom"},null,-1)),(r(),n(J,{key:e(t)?.id,data:e(t),filter:s.value,onFilterChange:i[0]||(i[0]=l=>s.value=l)},null,8,["data","filter"])),y("div",{class:z([{"pb-24":e(g)&&!e(C),"pb-40":e(g)&&e(C),"pb-4 sm:pb-4":!e(g)&&e(C)},"flex flex-1 flex-shrink-0 flex-col items-start justify-start self-stretch bg-surface-3 flex-grow-1 gap-0.5 sm:p-4"])},[(r(),n(K,{key:e(t)?.id,ref_key:"sortHeader",ref:o})),(r(!0),L(H,null,W(m.value,(l,u)=>(r(),n(Y,{key:l.id+l?.favorite,data:l,"display-list":m.value,index:u},null,8,["data","display-list","index"]))),128))],2)])],512)):T("",!0)]),_:1}))]),_:1})]),_:1}))}}),$e=ee;export{$e as default};
