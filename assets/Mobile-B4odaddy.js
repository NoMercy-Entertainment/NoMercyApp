import{C as f,Et as z,G as B,J as u,O as v,Ot as j,S as r,T,Tt as i,c as q,ct as a,gt as c,j as M,k as t,kt as d,n as N,x as p}from"./i18n-Bgv5p1Yb.js";import"./ionic-B1wlflFe.js";import{C as R,_ as V}from"./vue-core-Dey0Eikg.js";import{C as A,g as D}from"./primevue-CuC2W_MW.js";import{r as E}from"./utils-D8i-hqKp.js";import"./query-xyWPY_A0.js";import{Ci as I,hn as L,xa as l,y as _}from"./index-B_NkyEly.js";import"./md5-D_U-4vyd.js";import"./useInfiniteServerClient-BCGUWDge.js";import"./useServerClient-B06v0qGB.js";import"./ScrollContainer-C9fy_G9S.js";import"./useMounted-Cjvkyxzm.js";import"./RipperOverlay-DcCGekik.js";import"./ripperSocket-4ePkZ4cT.js";import"./FloatingBackButton-CZyYttZP.js";import{t as O}from"./DashboardLayout-DMRwa1MN.js";import{t as P}from"./Avatar-CyUmJ10s.js";q();var F={class:"flex flex-col gap-4 col-span-2 p-4"},G={class:"flex flex-col gap-4 justify-center items-center"},H={class:"w-60 min-w-60 h-auto aspect-square object-cover bg-surface-1 border border-slate-5 rounded-full overflow-clip"},J=["src"],W={class:"flex flex-col justify-center items-center flex-grow relative gap-2"},Y={class:"self-stretch flex-grow-0 flex-shrink-0 w-full text-sm text-left text-[#9ba1a6] text-pretty"},K=`Upload an image of max {{dimension}} pixels and {{size}} in size.
 We recommend a square image for best results.`,Q=M({__name:"Mobile",setup(X){const{t:h}=N(),g=A(),o=c(),x=c(),s=c(l.value.avatarUrl),n=c(!0),b=`https://api${I}.nomercy.tv/avatar`;function y(){o.value.upload(),n.value=!0}function w(){g.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3}),L().get("/app_config").then(async({data:e})=>{l.value.avatarUrl=e.data.avatarUrl})}function k(e){s.value=e.files[0].objectURL,n.value=!1}function C(e){e.xhr.setRequestHeader("Authorization",`Bearer ${l.value.accessToken}`)}function U(){s.value=l.value.avatarUrl,o.value.clear()}B(()=>{setTimeout(()=>{o.value?.$el&&(o.value.$el.querySelector("span[files]").textContent=h("No file chosen"))},100)});const S=p(()=>({"--color-1":"var(--color-theme-1)","--color-2":"var(--color-theme-2)","--color-3":"var(--color-theme-3)","--color-4":"var(--color-theme-8)","--color-5":"var(--color-theme-5)","--color-6":"var(--color-theme-6)","--color-7":"var(--color-theme-7)","--color-8":"var(--color-theme-8)","--color-9":"var(--color-theme-9)","--color-10":"var(--color-theme-10)","--color-11":"var(--color-theme-11)","--color-12":"var(--color-theme-12)"})),$=p(()=>E("!flex !justify-center !items-center !px-4 !py-2 !gap-2 !rounded-lg !text-sm","select-none !w-auto !font-semibold !leading-[100%] !transition-transform !duration-150 !border-none !text-white","!bg-gradient-to-b from-[var(--color-11)] to-[var(--color-10)] hover:from-[var(--color-12)] hover:to-[var(--color-11)] active:from-[var(--color-10)] active:to-[var(--color-9)] dark:from-[var(--color-7)] dark:to-[var(--color-5)] dark:hover:from-[var(--color-8)] dark:hover:to-[var(--color-6)] dark:active:from-[var(--color-7)] dark:active:to-[var(--color-4)] button-filled ",`
				 shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgb(from_var(--surface-11)_r_g_b/60%)_inset,0_22px_30px_-4px_rgb(from_var(--surface-11)_r_g_b/70%)]
				 dark:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--surface-1/30%)_inset,0_22px_30px_-4px_rgba(var(--surface-1/70%)]
				 active:!shadow-none
				 active:!dark:shadow-none
			 `));return(e,m)=>(u(),f(i(R),null,{default:a(()=>[t(i(V),{fullscreen:!0},{default:a(()=>[t(O,{"grid-style":3,title:"Profile"},{cta:a(()=>[...m[0]||(m[0]=[])]),default:a(()=>[r("div",F,[r("div",G,[r("div",H,[s.value?(u(),T("img",{key:0,ref_key:"image",ref:x,src:s.value,alt:"Your profile image",class:"w-full min-w-full h-auto aspect-square object-cover",style:{"box-shadow":`0 1px 3px 0 rgba(16, 24, 40, 0.1),
                    0 1px 2px 0 rgba(16, 24, 40, 0.06)`}},null,8,J)):(u(),f(P,{key:1,email:i(l).email,size:250,class:"w-60 min-w-60 h-auto aspect-square rounded-lg"},null,8,["email"]))]),r("div",W,[t(i(D),{ref_key:"fileUpload",ref:o,"cancel-label":e.$t("Cancel"),"choose-label":e.$t("Choose image"),class:z($.value),"max-file-size":2*1024*1024,style:j(S.value),url:b,accept:"image/*",mode:"basic",name:"image","with-credentials":"",onSelect:k,onUpload:w,onBeforeSend:C},null,8,["cancel-label","choose-label","class","style"]),t(_,{id:"upload",disabled:n.value,color:"theme","start-icon":"cloudUpload",onClick:y},{default:a(()=>[v(d(e.$t("Upload image")),1)]),_:1},8,["disabled"]),r("p",Y,d(e.$t(K,{dimension:"2000x2000",size:"2MB"})),1),t(_,{id:"upload",color:"white","start-icon":"arrowCounterClockwise",variant:"text",onClick:U},{default:a(()=>[v(d(e.$t("Reset image")),1)]),_:1})])])])]),_:1})]),_:1})]),_:1}))}}),_e=Q;export{_e as default};
