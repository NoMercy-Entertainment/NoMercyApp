import{t as w}from"./useQueryClient-_RrIyZzA.js";import{$a as y,As as e,Bn as b,Co as g,Dc as t,Do as k,Eo as C,Ki as S,Ls as r,Ma as f,Mt as j,Ns as L,Oa as T,Qn as d,Qs as B,Si as M,Vn as N,Zs as V,_s as D,bc as E,dc as I,ec as i,h as O,hc as Q,hr as $,i as n,jc as u,js as v,mc as c,mr as q,nc as z,rr as A,so as U,ta as m,wi as p,ws as F,xs as H,zs as K}from"./index-CANHr9D7.js";import{t as _}from"./MoooomIcon-CRlcFvn-.js";import"./dist-XCNemjG6.js";import"./md5-lOsotTDF.js";import{t as P}from"./NoMercyAvatar-Bq1kX66p.js";import"./HubConnection-klX5ssCm.js";import{t as R}from"./ripperSocket-C-xw0_D8.js";import"./DeviceIcon-D61X7iJx.js";import{t as W}from"./ServerCard-CI8vbtZ5.js";D();k();var Z={class:"flex h-full w-full flex-auto flex-col items-center justify-center gap-8 p-8"},G={class:"flex w-full flex-grow flex-col justify-between p-2 min-h-auto"},J={class:"flex justify-between items-center self-stretch flex-grow-0 flex-shrink-0 w-full relative gap-2.5 mb-2"},X={class:"flex justify-start items-center relative gap-2.5",inert:""},Y={class:"size-12 my-auto"},ee={class:"w-48 text-base font-semibold text-left"},te={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},se={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},re=K({__name:"Tv",setup(ae){const x=w(),l=E();async function h(s){p(s),await M().get("libraries").then(({data:a})=>{S(a.data),q.value=!0,b.value=!0,setTimeout(async()=>{d.value==="/setup/select-servers"?await n.replace({name:"Home"}):await n.replace(d.value)},50)}).catch(async()=>{await n.replace({name:"Server offline"})})}return V(()=>{p(null),A(),x.removeQueries(),O.value?.stop(),j.value?.stop(),R.value?.stop()}),B(()=>{$()}),g(()=>{setTimeout(()=>{l.value?.querySelector("button")?.focus()},100)}),I(l,s=>{setTimeout(()=>{s?.querySelector("button")?.focus()},100)}),(s,a)=>(i(),v(t(U),null,{default:c(()=>[r(t(y),{fullscreen:!0},{default:c(()=>[e("div",Z,[e("div",G,[e("div",J,[e("div",X,[e("div",Y,[r(P,{size:40,user:t(m)},null,8,["user"])]),e("p",ee,u(t(m).name),1)]),Q(e("button",{class:"flex justify-center items-center ml-auto relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",tabindex:"0",onClick:a[0]||(a[0]=o=>f.value=!t(f))},[r(_,{class:"",icon:"doorOut"}),e("span",te,u(s.$t("Exit TV mode")),1)],512),[[H,!t(T)]]),r(t(C),{class:"flex justify-center items-center relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",to:"/logout"},{default:c(()=>[r(_,{class:"",icon:"doorOut"}),e("span",se,u(s.$t("Logout")),1)]),_:1})]),e("div",{ref_key:"serverList",ref:l,class:"tv:children:w-[30%] tv:mt-0 -mt-24 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4"},[(i(!0),L(F,null,z(t(N),o=>(i(),v(W,{key:o.id,onclick:()=>h(o),server:o},null,8,["onclick","server"]))),128))],512)])])]),_:1})]),_:1}))}}),pe=re;export{pe as default};
