import{a1 as Re,_ as Oe,a2 as Fe,c as v,a3 as te,a4 as De,n as Z,a5 as ne,a6 as me,a7 as We,a8 as ye,p as ke,a9 as se,aa as He,j as ce,ab as Ve,ac as Ae,ad as _e,ae as Ne,u as ue,h as R,L as Xe,M as le,af as Ue,P as re,Q as Ge,ag as ve,R as Qe,S as Ye,ah as Je,ai as Ze,r as D,U as he,aj as Ke,ak as et}from"./index-BwsYF_nP.js";import{d as b,C as V,Y as j,w as Y,ao as pe,h as S,o,i as l,t as $,a as fe,H as L,Z as e,F as oe,c as f,T as tt,y as t,l as s,Q as N,b as g,v as m,P as lt,a4 as at,j as $e,ap as st,ae as ot,p as Ce,aq as nt,ai as ae,ar as z,a7 as Se,q as rt,as as q,at as A,J as it,au as ct,av as ut,aw as U,B,ax as I,f as ze,ay as ft,az as G,aA as dt,aj as pt,aB as mt,an as _t,aC as vt,_ as ht,am as xt}from"./vue-ionic-Cb5qD3-A.js";import{_ as gt,a as bt,b as je,c as wt,d as yt,e as kt,f as $t,g as Ct}from"./ShuffleButton.vue_vue_type_script_setup_true_lang-DM5DscPK.js";import{_ as C}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-BgDponKe.js";import{E as St,d as Me,a as zt,c as jt,b as Mt,g as Pe,f as Pt,e as Te,_ as Tt}from"./ChristmasSnow.vue_vue_type_script_setup_true_lang-DT6oJ4bj.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as Q}from"./MusicButton.vue_vue_type_script_setup_true_lang-DJUvmch0.js";import{_ as Be}from"./CoverImage.vue_vue_type_script_setup_true_lang-BlfyQXTp.js";import{_ as Bt}from"./DropdownMenu.vue_vue_type_script_setup_true_lang-Bob_HKBK.js";import{_ as Ie}from"./TrackLinks.vue_vue_type_script_setup_true_lang-BkOh4vWS.js";import{M as Le}from"./MediaLikeButton-Cqo3jWHv.js";import{l as xe,s as It,m as ge,g as Lt,a as qt,b as Et,d as Rt,h as Ot,c as Ft,f as Dt,n as Wt}from"./icons-BW5E66pf.js";import{d as W}from"./colorScheme-4ErA-K0h.js";import{_ as qe}from"./NoMercyAvatar.vue_vue_type_script_setup_true_lang-DThtQBwv.js";import{T as de}from"./Toggle-iVsRPEyT.js";import{bh as Ht,bi as be}from"./vendor-CKnYbqeP.js";import{A as Vt}from"./AppLogoSquare-u0HA8Xzq.js";import{s as ie,c as T}from"./sidebar-D_q80Bho.js";import"./api-BBofn2cc.js";import"./music-player-gfKAgRMD.js";import"./media-C2AqgyMX.js";import"./swiper-D00Cnjmx.js";import"./rxjs-BCp2L9Rn.js";import"./primevue-DqDJv11l.js";import"./imageModal-CbYSCXCr.js";import"./TMDBImage.vue_vue_type_script_setup_true_lang-CWDC9SzN.js";import"./contextMenuItems-BwGNh619.js";import"./musicPlaylists-C4qMUhS5.js";import"./PlayerIcon.vue_vue_type_script_setup_true_lang-GR_dlDu3.js";import"./SliderBar.vue_vue_type_script_setup_true_lang-2_0EbQlJ.js";import"./ScrollContainer.vue_vue_type_script_setup_true_lang-D9o00m0J.js";import"./Button.vue_vue_type_script_setup_true_lang-BK8DxUcQ.js";const K=b(!1),J=V(()=>K.value);function At(){K.value=!K.value}function H(){K.value=!1}async function we(){K.value?H():At()}const Nt={key:0,class:"h-1 w-8 flex-shrink-0 flex-grow-0 bg-black/25 rounded-[360px] dark:bg-white/25"},Xt={key:1,class:"h-1 w-8 flex-shrink-0 flex-grow-0"},Ee=j({__name:"BottomFlyout",props:{menuOpen:{type:Boolean,required:!0},closeMenu:{type:Function,required:!0},allowSwipeToClose:{type:Boolean,default:!0}},setup(p){const i=p,c=b(null),u=b(null),n=V(()=>{var h;return(h=u.value)==null?void 0:h.offsetHeight}),a=b("-125%");Y(i,h=>{h.menuOpen?a.value="0":a.value="-125%"});const{isSwiping:r,lengthY:k}=pe(c,{passive:!0,onSwipe(){if(n.value&&i.allowSwipeToClose)if(k.value<0){const h=-Math.abs(k.value);a.value=`${h}px`}else a.value="0"},onSwipeEnd(h){k.value<0&&n.value&&Math.abs(k.value)/n.value>=.25?(a.value="-125%",i.closeMenu()):a.value="0"}});return(h,x)=>(o(),S(oe,null,[l("div",{class:$(["h-screen absolute w-available flex-shrink-0 flex-grow-0 transition-colors duration-200",{"bg-black/25 dark:bg-black/50 ":p.menuOpen,"pointer-events-none":!p.menuOpen}])},null,2),l("div",{ref_key:"target",ref:c,class:$(["fixed flex w-full flex-shrink-0 flex-grow-0 select-none bg-slate-light-1 dark:bg-slate-dark-3 flex-col items-center justify-end gap-3 overflow-hidden rounded-t-3xl rounded-tl-lg rounded-tr-lg p-2 px-0 -bottom-[125%]",{"transition-bottom duration-200 ease-in-out ":!e(r)}]),style:L({bottom:a.value})},[p.allowSwipeToClose?(o(),S("div",Nt)):(o(),S("div",Xt)),l("div",{ref_key:"container",ref:u,class:"flex flex-shrink-0 w-available flex-grow-0 flex-col items-start justify-start self-stretch overflow-hidden text-slate-dark-1 dark:text-slate-light-1"},[fe(h.$slots,"default")],512)],6)],64))}}),Ut={id:"equalizer",class:"flex flex-col w-available -mt-4 gap-4 p-4 z-[9999]"},Gt=j({__name:"EqualizerMenu",setup(p){function i(){Fe(!1)}return(c,u)=>(o(),f(tt,{to:"body"},[t(Ee,{"menu-open":e(Oe),"close-menu":e(Re),"allow-swipe-to-close":!1},{default:s(()=>[l("div",Ut,[t(St,null,{button:s(()=>[l("button",{onClick:u[0]||(u[0]=n=>i())},[t(C,{icon:"cross",class:"w-6 h-6"})])]),_:1})])]),_:1},8,["menu-open","close-menu"])]))}}),Qt=X(Gt,[["__scopeId","data-v-f56ef209"]]),Yt=["data-size"],Jt={key:0,class:"whitespace-pre text-center leading-none text-2xs"},Zt=["innerHTML"],Kt={class:"flex flex-col gap-1 min-h-[85px]"},el=j({__name:"TopRow",setup(p){const i=V(()=>{var c,u,n;return(n=(u=(c=v.value)==null?void 0:c.album_track)==null?void 0:u[0])==null?void 0:n.name});return(c,u)=>(o(),S("div",{class:"flex h-16 w-full items-center justify-between","data-size":e(Z)},[t(Q,{label:"close",onclick:()=>e(te)(),class:"!min-w-12"},{default:s(()=>[t(C,{icon:"chevronDown",class:"h-6 w-6"})]),_:1},8,["onclick"]),l("div",{class:$(["relative flex flex-col gap-1",{"mt-2":!e(N)("capacitor")}])},[i.value?(o(),S("span",Jt,m(c.$t("Now playing")),1)):g("",!0),i.value?(o(),S("div",{key:1,class:"whitespace-pre-line text-pretty text-left leading-5 text-base",innerHTML:e(De)(i.value,"text-xs line-clamp-1")},null,8,Zt)):g("",!0)],2),t(Bt,{orientation:"vertical",class:"!min-w-12 flex items-center justify-center"},{button:s(()=>[t(C,{icon:"menuDotsVertical",class:"h-6 w-6"})]),default:s(()=>[l("div",Kt,[t(Q,{label:"close",onclick:()=>e(te)()},{default:s(()=>[t(C,{icon:"chevronDown",class:"h-6 w-6"})]),_:1},8,["onclick"]),t(Q,{label:"close",onclick:()=>e(te)()},{default:s(()=>[t(C,{icon:"chevronDown",class:"h-6 w-6"})]),_:1},8,["onclick"]),t(Q,{label:"close",onclick:()=>e(te)()},{default:s(()=>[t(C,{icon:"chevronDown",class:"h-6 w-6"})]),_:1},8,["onclick"])])]),_:1})],8,Yt))}}),tl={class:"flex w-full flex-col justify-end gap-8"},ll={class:"my-1 flex w-full items-center"},al={class:"z-10 flex w-full flex-col gap-2 overflow-clip"},sl={class:"w-full overflow-clip text-xl font-semibold line-clamp-1"},ol={class:"overflow-hidden leading-none w-inherit line-clamp-1"},nl=["data-size"],rl=j({__name:"TrackRow",setup(p){function i(){Z.value===ne.compact?me(ne.full):me(ne.compact)}return(c,u)=>{var n,a,r;return o(),S("div",tl,[l("div",ll,[l("div",al,[l("h6",sl,[l("span",ol,m((n=e(v))==null?void 0:n.name),1)]),l("div",{"data-size":e(Z),class:"mb-1 inline-flex w-fit gap-1 overflow-hidden whitespace-nowrap text-xs line-clamp-1 hover:animate-pause"},[e(v)?(o(),f(Ie,{key:0,id:e(v).id,data:e(v).artist_track,onclick:i,type:"artists"},null,8,["id","data"])):g("",!0)],8,nl)]),e(v)?(o(),f(Le,{key:((a=e(v))==null?void 0:a.id)+((r=e(v))==null?void 0:r.favorite),data:e(v),color:"var(--color-focus)",class:"flex"},null,8,["data"])):g("",!0)])])}}}),il=["data-size"],cl=["data-size"],ul=j({__name:"ButtonContainer",setup(p){const i=lt("nmplayer-music-supports-audio-context",!1);return(c,u)=>(o(),S(oe,null,[l("div",{class:"flex w-full items-center justify-between px-6","data-size":e(Z)},[t(gt),t(bt),t(je,{class:"!h-14 !w-14 !bg-focus/50 !rounded-full shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-9)/60%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-9)/70%)] dark:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-1)/70%)] hover:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-11)/60%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-11)/70%)] dark:hover:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-1)/70%)] active:!shadow-none active:!dark:shadow-none"}),t(wt),t(yt)],8,il),l("div",{class:"mb-12 flex h-12 w-full justify-between px-6 gap-2 z-10","data-size":e(Z)},[t(Me,{ref:"deviceOverlay",class:"!w-auto !justify-start"},null,512),t(zt,{class:"ml-auto"}),e(i)?(o(),f(jt,{key:0})):g("",!0),t(Mt,{ref:"queueOverlay"},null,512),t(Pe),t(Pt)],8,cl)],64))}}),fl={class:"relative z-0 pt-safe-offset-2 flex h-screen min-h-screen flex-col items-center justify-between gap-2 w-inherit scrollbar-none text-slate-light-12 dark:text-slate-dark-12 overflow-clip"},dl={class:"frosting w-available max-w-2xl h-auto aspect-square shadow mx-6 relative items-center flex"},pl={class:"frosting relative mx-3 -mt-10 mb-safe-offset-3 rounded-2xl pt-10 pb-4 w-available bg-focus/60 shadow"},ml={class:"absolute top-0 z-10 flex w-full items-center rounded-t-2xl pr-2 pl-4 font-semibold"},_l=j({__name:"FullPlayer",setup(p){const{t:i}=at(),c=b("small"),u=b(),n=b(),a=b(),r=b(0),k=b(),h=b("lazy"),x=b([v.value,...Object.values(We.value)]);Y(c,()=>{setTimeout(()=>{var _,y;c.value==="small"?(_=document.querySelector("#MobilePlayer"))==null||_.scrollTo({top:window.innerHeight/2,behavior:"smooth"}):(y=document.querySelector("#MobilePlayer"))==null||y.scrollTo({top:999990,behavior:"smooth"})},200)},{immediate:!0}),Y(se,_=>{_&&(a.value=Ae.value,setTimeout(()=>{h.value="eager"},50))}),Y(v,_=>{var M,P;if(!_)return;const y=x.value.findIndex(ee=>ee.id===_.id);r.value=y,(P=(M=k.value)==null?void 0:M.$el)==null||P.swiper.slideTo(y)});const d=V(()=>{var _,y,M,P;return ye.value?ke(((y=(_=v.value)==null?void 0:_.color_palette)==null?void 0:y.backdrop)??((P=(M=v.value)==null?void 0:M.color_palette)==null?void 0:P.cover),20,160).replace(/,/gu," ").replace("rgb(",""):"var(--color-theme-7)"});function w(_){_.touches.diff!==0&&(_.touches.startX>_.touches.currentX&&_.touches.diff<-100?ce.next():_.touches.startX<_.touches.currentX&&_.touches.diff>100&&ce.previous())}function O(){var _,y;n.value&&(c.value=c.value==="small"?"full":"small",c.value==="small"?((y=(_=u.value)==null?void 0:_.$el)==null||y.scrollToTop(),setTimeout(()=>{n.value.style.height="25rem"},500)):(n.value.style.height=`${window.innerHeight*.85}px`,setTimeout(()=>{var M;(M=u.value.$el)==null||M.scrollToBottom()},0)))}async function F(){Ve(!1)}return(_,y)=>{const M=$e("swiper-slide");return o(),f(e(st),{id:"fullPlayer",key:"fullPlayer","is-open":e(se),"initial-breakpoint":1,breakpoints:[0,1],onWillDismiss:F},{default:s(()=>[t(e(nt),{ref_key:"content",ref:u,fullscreen:!0,style:L(`--color-focus: ${d.value}`)},{default:s(()=>[t(Te),l("div",fl,[y[0]||(y[0]=l("div",{class:"pointer-events-none absolute inset-0 w-full bg-spotifyBottom bg-focus transition-all duration-500"},null,-1)),t(el,{class:"pt-safe px-6"}),(o(),f(e(ot),{ref_key:"swiper",ref:k,key:e(He),"slides-per-view":1,"initial-slide":r.value,loop:!0,class:"w-available swiper isolate z-0",onTouchEnd:w},{default:s(()=>[(o(!0),S(oe,null,Ce(x.value??[],(P,ee)=>(o(),f(M,{key:P.id,class:"h-full","data-index":ee,"data-id":P.id},{default:s(()=>[l("div",dl,[(o(),f(Be,{key:P.id,data:P,loading:ee===r.value?"eager":h.value,"class-name":"pointer-events-none relative aspect-square h-auto overflow-clip rounded-md w-inherit shadow"},null,8,["data","loading"]))])]),_:2},1032,["data-index","data-id"]))),128))]),_:1},8,["initial-slide"])),t(rl,{class:"px-6"}),t(kt,{class:"children:!mx-0 gap-4 px-6"}),t(ul)]),l("div",pl,[l("div",ml,[l("span",null,m(e(i)("Lyrics")),1),t(Q,{label:"expand",class:"ml-auto",onclick:O},{default:s(()=>[c.value==="full"?(o(),f(C,{key:0,icon:"arrowExitFullscreen",class:"h-5 w-5"})):(o(),f(C,{key:1,icon:"arrowEnterFullscreen",class:"h-5 w-5"}))]),_:1})]),y[1]||(y[1]=l("div",{class:"pointer-events-none absolute inset-0 flex items-center justify-center rounded-xl bg-black opacity-3"},null,-1)),l("div",{ref_key:"lyricsContainer",ref:n,class:"relative w-full mb-0 flex-col overflow-auto scroll-smooth rounded-b-2xl p-4 transition-transform duration-150 h-[25rem]"},[t($t,{class:"sm:hidden"})],512)])]),_:1},8,["style"])]),_:1},8,["is-open"])}}}),vl=X(_l,[["__scopeId","data-v-5f366e33"]]),hl={class:"flex flex-grow items-center justify-start gap-2.5 overflow-clip w-[65%]"},xl={class:"frosting relative flex w-10 min-w-10 items-start justify-start gap-2 overflow-hidden rounded"},gl={class:"w-auto self-stretch text-left text-sm font-medium leading-6 line-clamp-1"},bl={class:"children:children:children:children:children:leading-6 w-auto self-stretch text-left text-sm text-auto-12/11"},wl={class:"flex items-center justify-end gap-1"},yl={class:"absolute left-0 w-full h-0.5 top-[54px] blur-[1px]"},kl=j({__name:"MiniPlayer",setup(p){const i=V(()=>{var d,w;return ye.value?ke((w=(d=v.value)==null?void 0:d.color_palette)==null?void 0:w.cover,20,160).replace(/,/gu," ").replace("rgb(",""):"var(--color-theme-7)"}),c=b(null),u=b(null),n=V(()=>{var d;return(d=u.value)==null?void 0:d.offsetWidth}),a=b("0"),r=b(1);function k(){a.value="0",r.value=1}const{isSwiping:h,lengthX:x}=pe(c,{passive:!0,onSwipe(){if(n.value){const d=Math.abs(x.value);r.value=1.1-d/n.value,x.value<0?a.value=`${d}px`:a.value=`-${d}px`}},onSwipeEnd(){n.value&&(x.value<0&&Math.abs(x.value)/n.value>=.5||x.value>100&&Math.abs(x.value)/n.value>=.5)?(a.value="100%",r.value=0,ce.stop(),k()):(a.value="0",r.value=1)}});return(d,w)=>{var O,F,_;return!e(J)&&e(v)?(o(),S("div",{key:0,id:"miniPlayer",ref_key:"container",ref:u,style:L(`--color-focus: ${i.value}`),class:"flex absolute w-available justify-between items-center self-stretch bottom-0 h-14 overflow-hidden p-2 bg-slate-light-1 dark:bg-slate-dark-3 mt-auto z-0",onClick:w[0]||(w[0]=y=>e(Ne)())},[w[2]||(w[2]=l("div",{class:"absolute inset-0 h-full w-full bg-gradient-to-b to-black/40 from-focus/40"},null,-1)),l("div",hl,[l("div",xl,[e(v)?(o(),f(Be,{key:0,size:100,"class-name":"relative aspect-square h-10 w-10 cursor-pointer overflow-hidden rounded-sm text-theme-400 min-w-[2.5rem] min-h-[2.5rem]",data:e(v)},null,8,["data"])):g("",!0)]),l("div",{ref_key:"target",ref:c,class:$(["relative flex h-full flex-grow flex-col items-start justify-evenly overflow-clip w-inherit",{animated:!e(h)}]),style:L({left:a.value,opacity:r.value})},[l("p",gl,m((O=e(v))==null?void 0:O.name),1),l("p",bl,[e(v)?(o(),f(Ie,{key:0,id:e(v).id,data:e(v).artist_track,type:"artists"},null,8,["id","data"])):g("",!0)])],6)]),l("div",wl,[t(Me,{"no-name":""}),(o(),f(Le,{key:((F=e(v))==null?void 0:F.id)+((_=e(v))==null?void 0:_.favorite),data:e(v),color:"var(--color-focus)"},null,8,["data"])),t(je,{class:"children:h-7 children:w-7"})]),l("div",yl,[w[1]||(w[1]=l("div",{class:"absolute w-full h-0.5 left-[-1px] top-[-1px] bg-black/[0.22]"},null,-1)),l("div",{class:"w-0 h-0.5 absolute left-[-1px] top-[-1px] rounded-sm bg-gradient-to-r from-black/5 to-[rgb(var(--color-focus))] z-10",style:L(`width: ${e(_e)}%;`)},null,4),l("div",{class:"w-1 h-0.5 absolute top-[-1px] rounded-sm bg-[#f1EEFE] -translate-x-[2px] z-0",style:L(`left: ${e(_e)}%;`)},null,4)])],4)):g("",!0)}}}),$l={class:"flex flex-col justify-start items-start flex-grow relative gap-0.5"},Cl={class:"flex-grow-0 flex-shrink-0 w-48 text-base font-semibold text-left text-slate-dark-1 dark:text-slate-light-1"},Sl={class:"flex justify-start items-center self-stretch flex-grow-0 flex-shrink-0 relative gap-0.5"},zl={class:"flex-grow text-sm text-left text-slate-dark-3 dark:text-slate-light-3"},jl=j({__name:"ProfileMenuServerSection",setup(p){return(i,c)=>(o(),f(e(ae),{to:"/preferences/profile",class:"flex justify-start items-center self-stretch flex-grow-0 flex-shrink-0 relative gap-2.5 mb-2"},{default:s(()=>{var u;return[t(qe,{user:e(ue),size:40},null,8,["user"]),l("div",$l,[l("p",Cl,m(e(ue).name),1),l("div",Sl,[e(R)?(o(),f(e(z),{key:0,"aria-hidden":"true",icon:e(xe),class:"w-4 h-4"},null,8,["icon"])):(o(),f(e(z),{key:1,"aria-hidden":"true",icon:e(xe),class:"w-4 h-4"},null,8,["icon"])),l("p",zl,m(((u=e(R))==null?void 0:u.name)??i.$t("Not connected")),1)])])]}),_:1}))}}),Ml={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},Pl={class:"flex-grow w-full text-lg font-medium text-left"},Tl={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},Bl={class:"flex-grow w-full text-lg font-medium text-left"},Il={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},Ll={class:"flex-grow w-full text-lg font-medium text-left"},ql={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},El={class:"flex-grow w-full text-lg font-medium text-left"},Rl={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},Ol={class:"flex-grow w-full text-lg font-medium text-left"},Fl={for:"ion-tg-0",class:"flex justify-center items-center flex-grow relative gap-2 px-2 w-available"},Dl={class:"flex-grow w-full text-lg font-medium text-left"},Wl={for:"ion-tg-0",class:"flex justify-center items-center flex-grow relative gap-2 px-2 w-available"},Hl={class:"flex-grow w-full text-lg font-medium text-left"},Vl={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},Al={class:"flex-grow w-full text-lg font-medium text-left"},Nl=j({__name:"ProfileMenu",setup(p){const i=()=>window.location.reload(),c=Se();async function u(){N("android")&&be.open({url:`nomercy://${c.path}`}).then(()=>{setTimeout(async()=>{await be.open({url:`nomercy://${c.path}`})},1e3)})}return(n,a)=>(o(),f(Ee,{"menu-open":e(J),"close-menu":e(H)},{default:s(()=>[t(e(ct),null,{default:s(()=>[t(e(q),{lines:"inset"},{default:s(()=>[t(jl)]),_:1}),t(e(q),{lines:"inset"},{default:s(()=>[t(e(ae),{to:"/setup/select-servers",class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent"},{default:s(()=>[t(e(A)),a[4]||(a[4]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(z),{"aria-hidden":"true",icon:e(It),"class-name":"size-6 min-w-6"},null,8,["icon"]),l("div",Ml,[l("p",Pl,m(n.$t("Switch server")),1)])]),_:1})]),_:1}),t(e(q),{lines:"none"},{default:s(()=>[t(e(ae),{to:"/preferences/display",class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent"},{default:s(()=>[t(e(A)),a[5]||(a[5]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(z),{"aria-hidden":"true",icon:e(ge),"class-name":"size-6 min-w-6"},null,8,["icon"]),l("div",Tl,[l("p",Bl,m(n.$t("Preferences")),1)])]),_:1})]),_:1}),t(e(q),{lines:"none"},{default:s(()=>[t(e(ae),{to:"/dashboard/system",class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent"},{default:s(()=>[t(e(A)),a[6]||(a[6]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(z),{"aria-hidden":"true",icon:e(Lt),"class-name":"size-6 min-w-6"},null,8,["icon"]),l("div",Il,[l("p",Ll,m(n.$t("System")),1)])]),_:1})]),_:1}),t(e(q),{lines:"none"},{default:s(()=>[l("button",{"no-ring":"",class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent",onClick:a[0]||(a[0]=r=>i())},[t(e(A)),a[7]||(a[7]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(z),{"aria-hidden":"true",icon:e(qt),"class-name":"size-6 min-w-6"},null,8,["icon"]),l("div",ql,[l("p",El,m(n.$t("Refresh")),1)])])]),_:1}),!e(N)("capacitor")&&e(N)("android")?(o(),f(e(q),{key:0,lines:"none"},{default:s(()=>[l("button",{"no-ring":"",class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent",onClick:u},[t(e(A)),a[8]||(a[8]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(z),{"aria-hidden":"true",icon:e(Ht),"class-name":"size-6 min-w-6"},null,8,["icon"]),l("div",Rl,[l("p",Ol,m(n.$t("Open in App")),1)])])]),_:1})):g("",!0),t(e(q),{lines:"none"},{default:s(()=>[l("button",{"no-ring":"",class:"flex justify-center items-center self-stretch w-available h-full flex-grow-0 flex-shrink-0 relative pl-2 py-2.5 rounded-md bg-transparent border border-transparent",onClick:a[1]||(a[1]=r=>W.value=!e(W))},[t(e(z),{"aria-hidden":"true",icon:e(Et),"class-name":"size-6 min-w-6"},null,8,["icon"]),l("label",Fl,[l("span",Dl,m(n.$t("Dark mode")),1)]),t(de,{"model-value":e(W),class:"pointer-events-none"},null,8,["model-value"])])]),_:1}),rt(t(e(q),{lines:"inset"},{default:s(()=>[l("button",{"no-ring":"",class:"flex justify-center items-center self-stretch w-available h-full flex-grow-0 flex-shrink-0 relative pl-2 py-2.5 rounded-md bg-transparent border border-transparent",onClick:a[2]||(a[2]=r=>le.value=!e(le))},[t(e(z),{"aria-hidden":"true",icon:e(ge),"class-name":"size-6 min-w-6"},null,8,["icon"]),l("label",Wl,[l("span",Hl,m(e(le)?n.$t("Disable TV mode"):n.$t("Enable TV mode")),1)]),t(de,{"model-value":e(le),class:"pointer-events-none"},null,8,["model-value"])])]),_:1},512),[[it,!e(Xe)&&!e(N)("mobileweb")]]),t(e(q),{lines:"none"},{default:s(()=>[l("button",{"no-ring":"",class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent",onClick:a[3]||(a[3]=r=>e(Ue)())},[t(e(A)),a[9]||(a[9]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(z),{"aria-hidden":"true",icon:e(Rt),"class-name":"size-6 min-w-6"},null,8,["icon"]),l("div",Vl,[l("p",Al,m(n.$t("Logout")),1)])])]),_:1})]),_:1})]),_:1},8,["menu-open","close-menu"]))}}),Xl=X(Nl,[["__scopeId","data-v-98d0199a"]]),Ul={class:"relative mx-auto flex flex-col rounded-full min-h-8 size-8 top-1.5 mb-2 mt-2.5 bg-black"},Gl=j({__name:"BottomBar",setup(p){return(i,c)=>(o(),f(e(ut),{slot:"bottom",mode:"md","selected-tab":"home",class:$(["w-available overflow-clip",{"bg-sand-light-1 dark:bg-slate-dark-3 hide-bg":e(J),"bg-sand-light-1 dark:bg-slate-dark-3":!e(J)}])},{default:s(()=>[e(R)?(o(),f(e(U),{key:0,tab:"home",href:"/home",onClick:e(H)},{default:s(()=>[t(e(z),{"aria-hidden":"true",icon:e(Ot)},null,8,["icon"]),t(e(I),null,{default:s(()=>[B(m(i.$t("Home")),1)]),_:1})]),_:1},8,["onClick"])):g("",!0),t(e(U),{tab:"search",href:"/search",onClick:e(H)},{default:s(()=>[t(e(z),{"aria-hidden":"true",icon:e(Ft)},null,8,["icon"]),t(e(I),null,{default:s(()=>[B(m(i.$t("Search")),1)]),_:1})]),_:1},8,["onClick"]),e(R)?(o(),f(e(U),{key:1,tab:"library",href:"/libraries",onClick:e(H)},{default:s(()=>[t(e(z),{"aria-hidden":"true",icon:e(Dt),class:"icon"},null,8,["icon"]),t(e(I),null,{default:s(()=>[B(m(i.$t("Library")),1)]),_:1})]),_:1},8,["onClick"])):g("",!0),e(R)?(o(),f(e(U),{key:2,tab:"music",href:"/music/start",onClick:e(H)},{default:s(()=>[t(e(z),{"aria-hidden":"true",icon:e(Wt)},null,8,["icon"]),t(e(I),null,{default:s(()=>[B(m(i.$t("Music")),1)]),_:1})]),_:1},8,["onClick"])):g("",!0),t(e(U),{"_on-click":e(we),tab:"/dashboard",class:$(["hide-bg",{"tab-selected":e(J)}]),onClick:e(we)},{default:s(()=>[l("div",Ul,[t(Vt,{alt:"NoMercy Logo",class:"absolute w-8 h-8 rounded-full p-1.5"}),t(qe,{user:e(ue),size:52,class:"absolute"},null,8,["user"])]),t(e(I),null,{default:s(()=>[B(m(i.$t("Profile")),1)]),_:1})]),_:1},8,["_on-click","class","onClick"])]),_:1},8,["class"]))}}),Ql=X(Gl,[["__scopeId","data-v-b8bd6446"]]),Yl={class:"relative flex flex-grow items-center justify-center gap-2 pl-2"},Jl={class:"flex-grow text-left text-lg font-medium w-available"},Zl={class:"relative flex flex-grow items-center justify-center gap-2 pl-2"},Kl={class:"flex-grow text-left text-lg font-medium w-available"},E=j({__name:"SideFlyoutButton",props:{title:{type:String,required:!0},icon:{type:String,required:!0},href:{type:String,default:""},onclick:{type:Function},active:{type:Boolean,default:!1}},setup(p){return(i,c)=>{const u=$e("RouterLink");return p.href?(o(),f(u,{key:0,to:p.href,class:$([p.active?"bg-focus/12 border-focus/4 text-auto-12 shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-1)/60%)] hover:!shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-1)/60%)]":"","relative flex h-12 flex-shrink-0 flex-grow-0 items-center justify-center self-stretch rounded-md border border-transparent bg-transparent py-2.5"]),style:L(p.active?{background:"radial-gradient(50% 50% at 50% 100%, rgba(70, 70, 70, 0.09) 0%, rgba(70, 70, 70, 0.06) 40%, rgba(70, 70, 70, 0.00) 100%), linear-gradient(180deg, rgba(70, 70, 70, 0.00) 0%, rgba(70, 70, 70, 0.12) 100%), rgba(var(--color-focus) / 60%)",backgroundBlendMode:"normal, overlay, normal"}:{}),onClick:p.onclick},{default:s(()=>[c[1]||(c[1]=l("div",{class:"w-1 flex-shrink-0 flex-grow-0 h-3.5"},null,-1)),t(C,{icon:p.icon,"class-name":"relative h-6 w-6 flex-shrink-0 flex-grow-0"},null,8,["icon"]),l("div",Yl,[l("p",Jl,m(i.$t(p.title)),1)]),fe(i.$slots,"default")]),_:3},8,["to","class","style","onClick"])):(o(),S("button",{key:1,class:$([p.active?"bg-focus/12 border-focus/4 text-auto-12 shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-1)/60%)] hover:!shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-1)/60%)]":"","relative flex h-12 flex-shrink-0 flex-grow-0 items-center justify-center self-stretch rounded-md border border-transparent bg-transparent py-2.5"]),style:L(p.active?{background:"radial-gradient(50% 50% at 50% 100%, rgba(70, 70, 70, 0.09) 0%, rgba(70, 70, 70, 0.06) 40%, rgba(70, 70, 70, 0.00) 100%), linear-gradient(180deg, rgba(70, 70, 70, 0.00) 0%, rgba(70, 70, 70, 0.12) 100%), rgba(var(--color-focus) / 60%)",backgroundBlendMode:"normal, overlay, normal"}:{}),onClick:c[0]||(c[0]=(...n)=>p.onclick&&p.onclick(...n))},[c[2]||(c[2]=l("div",{class:"w-1 flex-shrink-0 flex-grow-0 h-3.5"},null,-1)),t(C,{icon:p.icon,"class-name":"relative h-6 w-6 flex-shrink-0 flex-grow-0"},null,8,["icon"]),l("div",Zl,[l("p",Kl,m(i.$t(p.title)),1)]),fe(i.$slots,"default")],6))}}}),ea={key:0,class:"flex flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-1 self-stretch border-t border-r-0 border-b border-l-0 px-3 py-2 border-auto-12/[0.08]"},ta={key:1,class:"flex flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-1 self-stretch border-t-0 border-r-0 border-b border-l-0 px-3 py-2 border-auto-12/[0.08]"},la={class:"flex flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-1 self-stretch px-3 py-2"},aa={class:"inline-flex w-min cursor-pointer items-center gap-3",for:"ion-tg-0"},sa={class:"flex flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-1 self-stretch px-3 py-2 mt-auto border-t border-r-0 border-b-0 border-l-0 border-auto-12/[0.08]"},oa=j({__name:"SideFlyout",setup(p){const i=()=>window.location.reload(),c=b(null),u=b(null),n=V(()=>{var x;return(x=u.value)==null?void 0:x.offsetWidth}),a=b("-100%"),r=b(0);ze(()=>{ie.value==="open"?(a.value="0",r.value=1):(a.value="-100%",r.value=0)}),Y(ie,x=>{x==="open"?(a.value="0",r.value=1):x==="closed"&&(a.value="-100%",r.value=0)});const{isSwiping:k,lengthX:h}=pe(c,{passive:!0,onSwipe(){if(n.value)if(h.value>0){const x=Math.abs(h.value);a.value=`-${x}px`,r.value=1-x/n.value}else a.value="0",r.value=1},onSwipeEnd(){h.value>0&&n.value&&Math.abs(h.value)/n.value>=.25?(a.value="-100%",r.value=0,T()):(a.value="0",r.value=1)}});return(x,d)=>(o(),S("aside",{ref_key:"target",ref:c,class:$([{"transition-left duration-200 ease-in-out ":!e(k)},"flex flex-col h-available absolute top-14 z-999 w-5/6 overflow-hidden"]),style:L([{"box-shadow":"0 4px 7px 0 rgba(0, 0, 0, 0.08)"},{left:a.value}])},[l("div",{class:$(["fixed inset-0 top-14 w-[500%] h-screen bg-black/40 -z-10",{"transition-opacity duration-200 ease-in-out ":!e(k),"pointer-events-none":e(ie)!=="open"}]),style:L({opacity:r.value}),onClick:d[0]||(d[0]=(...w)=>e(T)&&e(T)(...w))},null,6),l("div",{ref_key:"container",ref:u,class:"flex flex-shrink-0 flex-grow-0 flex-col items-start justify-start self-stretch overflow-hidden bg-slate-light-1 dark:bg-slate-dark-3 h-full"},[t(Tt),e(R)?(o(),S("div",ea,[t(E,{icon:"serverSwitch",title:"Switch server",href:"/setup/select-servers",onClick:e(T)},null,8,["onClick"])])):g("",!0),e(R)?(o(),S("div",ta,[e(re)?(o(),f(E,{key:0,icon:"home1",title:"Home",href:"/home",active:e(Ge),onClick:e(T)},null,8,["active","onClick"])):g("",!0),e(re)&&e(ve)?(o(),f(E,{key:1,icon:"folder",title:"Libraries",href:"/libraries",active:e(Qe),onClick:e(T)},null,8,["active","onClick"])):g("",!0),e(re)&&e(ve)?(o(),f(E,{key:2,icon:"noteDouble",title:"Music",href:"/music/start",active:e(Ye),onClick:e(T)},null,8,["active","onClick"])):g("",!0)])):g("",!0),l("div",la,[e(R)?(o(),f(E,{key:0,icon:"gridMasonry",title:"System",href:"/dashboard/system",active:e(Je),onClick:e(T)},null,8,["active","onClick"])):g("",!0),e(R)?(o(),f(E,{key:1,icon:"paintSwatches",title:"Preferences",active:e(Ze),href:"/preferences/display",onClick:e(T)},null,8,["active","onClick"])):g("",!0),t(E,{icon:"arrowRefreshHorizontal",title:"Refresh",onclick:i,onClick:e(T)},null,8,["onClick"]),t(E,{icon:"moonDiagonal",title:"Dark mode",onClick:d[2]||(d[2]=w=>W.value=!e(W))},{default:s(()=>[l("label",aa,[t(de,{id:"toggleScheme","model-value":e(W),"onUpdate:modelValue":d[1]||(d[1]=w=>W.value=w)},null,8,["model-value"])])]),_:1})]),l("div",sa,[t(E,{icon:"doorOpen",title:"Logout",onClick:d[3]||(d[3]=w=>{var O,F;return(F=(O=x.$keycloak)==null?void 0:O.keycloak)==null?void 0:F.logout()})})])],512)],6))}}),na=j({__name:"MobileLibraryHeader",setup(p){const i=["/libraries/","/genre"],c=["/collection","/specials","/person"],u=Se(),n=b(i.some(a=>u.fullPath.startsWith(a))||c.some(a=>u.fullPath.endsWith(a)));return D.afterEach(a=>{n.value=i.some(r=>a.fullPath.startsWith(r))||c.some(r=>a.fullPath.endsWith(r))}),(a,r)=>n.value?(o(),f(e(ft),{key:0,class:"mt-safe transition-all duration-200 toolbar"},{default:s(()=>[t(e(dt),{scrollable:!0,mode:"ios",value:e(u).fullPath},{default:s(()=>{var k,h,x;return[(o(!0),S(oe,null,Ce(((k=e(he))==null?void 0:k.filter(d=>d.type!=="music"))??[],d=>(o(),f(e(G),{key:d.id,value:`/libraries/${d.id}`,layout:"icon-start",class:$({"bg-focus":e(u).fullPath.startsWith(`/libraries/${d.id}`)}),onClick:()=>e(D).push(`/libraries/${d.id}`)},{default:s(()=>[t(C,{icon:"folder",class:"mr-2"}),t(e(I),null,{default:s(()=>[B(m(d.title),1)]),_:2},1024)]),_:2},1032,["value","class","onClick"]))),128)),(x=(h=e(he))==null?void 0:h.some)!=null&&x.call(h,d=>d.type==="movie")?(o(),f(e(G),{key:0,value:"/collection",layout:"icon-start",class:$({"bg-focus":e(u).fullPath.startsWith("/collection")}),onClick:r[0]||(r[0]=()=>e(D).push("/collection"))},{default:s(()=>[t(C,{icon:"collection1",class:"mr-2"}),t(e(I),null,{default:s(()=>[B(m(a.$t("Collections")),1)]),_:1})]),_:1},8,["class"])):g("",!0),t(e(G),{value:"/specials",layout:"icon-start",class:$({"bg-focus":e(u).fullPath.startsWith("/specials")}),onClick:r[1]||(r[1]=()=>e(D).push("/specials"))},{default:s(()=>[t(C,{icon:"sparkles",class:"mr-2"}),t(e(I),null,{default:s(()=>[B(m(a.$t("Specials")),1)]),_:1})]),_:1},8,["class"]),t(e(G),{value:"/genre",layout:"icon-start",class:$({"bg-focus":e(u).fullPath.startsWith("/genre")}),onClick:r[2]||(r[2]=()=>e(D).push("/genre"))},{default:s(()=>[t(C,{icon:"witchHat",class:"mr-2"}),t(e(I),null,{default:s(()=>[B(m(a.$t("Genres")),1)]),_:1})]),_:1},8,["class"]),t(e(G),{value:"/person",layout:"icon-start",class:$({"bg-focus":e(u).fullPath.startsWith("/person")}),onClick:r[3]||(r[3]=()=>e(D).push("/person"))},{default:s(()=>[t(C,{icon:"user",class:"mr-2"}),t(e(I),null,{default:s(()=>[B(m(a.$t("People")),1)]),_:1})]),_:1},8,["class"])]}),_:1},8,["value"])]),_:1})):g("",!0)}}),ra=X(na,[["__scopeId","data-v-6b82dec5"]]),ia=j({__name:"BaseLayout",setup(p){const i=pt();return ze(()=>{Ke(),D.afterEach(()=>{H()})}),mt(()=>{et()}),(c,u)=>(o(),f(e(xt),{id:"main-content"},{default:s(()=>[t(e(_t),null,{default:s(()=>{var n;return[e(i)>0?(o(),f(e(vt),{key:0,type:"indeterminate",class:"absolute mt-safe top-0 z-1199 bg-black"})):g("",!0),t(Te),t(ra),t(e(ht),{animated:"false",class:"pointer-events-none children:pointer-events-auto"}),t(Xl),t(Qt),t(Pe,{class:"!z-10","ignore-el-ref":[]}),t(Ql),(n=e(v))!=null&&n.id?(o(),f(vl,{key:e(se)?"full-player-open":"full-player-closed"})):g("",!0),(o(),f(kl,{key:e(se)?"mini-player-closed":"mini-player-open"})),t(Ct),e(N)("capacitor")?g("",!0):(o(),f(oa,{key:2}))]}),_:1})]),_:1}))}}),Wa=X(ia,[["__scopeId","data-v-41248ae8"]]);export{Wa as default};
