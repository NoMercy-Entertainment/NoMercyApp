import{Y as k,ab as C,a3 as b,w,c as f,o as p,l as d,y as x,Z as o,ar as B,h as M,b as q,F as D,p as I,s as K,m as N,an as P}from"./vue-ionic-Cv2or74p.js";import{g as V,a as E,b as F}from"./routerHelper-BadmVhA5.js";import{r as L,b as R,d as Q,c as S}from"./index-CXW1-ru2.js";import"./vendor-F08gofix.js";import"./icons-BW5E66pf.js";import"./rxjs-BCp2L9Rn.js";import"./media-C2AqgyMX.js";import"./api-BBofn2cc.js";import"./swiper-DhG1br88.js";import"./music-player-Dgg5bFLw.js";const U=k({__name:"Mobile",setup(W){const u=C(),h=L.currentRoute.value.name,y=V({queryKey:["music","home"],path:u.path}),{data:r,refetch:l}=E({queryKey:["music","home"],path:u.path}),{data:c,mutate:g,reset:v}=F({queryKey:["music","home"],homeData:r,path:u.path});return b(()=>{var s,e;if(R(null),Q(null),!r.value){l();return}if(u.name!==h)return;const m=((e=(s=r.value)==null?void 0:s.filter)==null?void 0:e.call(s,n=>{var t;return((t=n==null?void 0:n.update)==null?void 0:t.when)=="pageLoad"}))??[];g(m)}),w(S,m=>{m?(l(),v()):(c.value=void 0,r.value=void 0)}),(m,s)=>(p(),f(o(P),null,{default:d(()=>[x(o(B),{fullscreen:!0},{default:d(()=>{var e,n,t,i;return[!o(y)&&((n=(e=o(c))==null?void 0:e.every)!=null&&n.call(e,a=>a.component)||(i=(t=o(r))==null?void 0:t.every)!=null&&i.call(t,a=>a.component))?(p(!0),M(D,{key:0},I(o(c)??o(r),(a,_)=>(p(),f(K(a.component),N({index:_,key:a.id,ref_for:!0},a.props),null,16,["index"]))),128)):q("",!0)]}),_:1})]),_:1}))}});export{U as default};
