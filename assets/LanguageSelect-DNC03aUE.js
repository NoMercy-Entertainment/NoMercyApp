import{An as d,Gt as v,Rt as i,Sn as g,Tt as L,Un as _,Vt as q,an as x,bn as f,cn as c,fn as h,qt as k,zt as b}from"./index-CymNhKD_.js";import{h as m}from"./client-CxRn8_4O.js";import{t as S}from"./MoooomIcon-D8Onw6Et.js";L();var B={class:"relative w-full"},M={class:"flex flex-col gap-2"},U={for:"languages"},$={class:"flex items-center gap-2"},A=["alt","onerror","src"],D=k({__name:"LanguageSelect",props:{modelValue:{required:!0},name:{type:String,required:!0},id:{type:String,required:!0},multiple:{type:Boolean,required:!1,default:!1},variant:{type:String,required:!1,default:"normal"},languages:{type:Array,required:!1}},emits:["update:modelValue"],setup(p,{emit:V}){const o=p,w=V,r=d(o.modelValue),u=d(""),s=d([]),t=d(o.languages??[]);return f(o,e=>{e.languages&&(t.value=e.languages)}),f(r,e=>{e&&w("update:modelValue",e)}),f(t,e=>{e&&(o.multiple?s.value=e:s.value=u.value===""?e.filter(l=>m.includes(l.iso_639_1))??[]:e.filter(l=>m.includes(l.iso_639_1))?.filter(l=>l.english_name.toLowerCase().includes(u.value.toLowerCase()))??[])}),x(()=>{t.value&&(o.multiple?s.value=t.value:s.value=u.value===""?t.value.filter(e=>m.includes(e.iso_639_1))??[]:t.value.filter(e=>m.includes(e.iso_639_1))?.filter(e=>e.english_name.toLowerCase().includes(u.value.toLowerCase()))??[])}),(e,l)=>{const y=h("MultiSelect"),C=h("Select");return c(),q("div",B,[i("div",M,[i("label",U,_(e.$t(p.name)),1),p.multiple?(c(),b(y,{key:0,id:"languages",modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=a=>r.value=a),options:t.value.toSorted((a,n)=>a.english_name.localeCompare(n.english_name)),class:"w-full",display:"chip",filter:"","option-label":"english_name",placeholder:"Select Languages",onChange:l[1]||(l[1]=a=>e.$emit("update:modelValue",a.target?.value))},{option:g(a=>[i("div",$,[i("img",{alt:a.option.english_name,onerror:n=>{n.target.onerror=null,n.target.src="https://pub-a68768bb5b1045f296df9ea56bd53a7f.r2.dev/flags/xxx.svg"},src:`https://pub-a68768bb5b1045f296df9ea56bd53a7f.r2.dev/flags/${a.option?.iso_639_1?.toUpperCase()}.svg`,style:{width:"18px"}},null,8,A),i("div",null,_(a.option.english_name),1)])]),dropdownicon:g(()=>[v(S,{"class-name":"w-5 h-5 ui-open:rotate-180 transition-transform duration-200",icon:"chevronDown"})]),filtericon:g(()=>[v(S,{"class-name":"w-5 h-5",icon:"globe"})]),_:1},8,["modelValue","options"])):(c(),b(C,{key:1,id:"languages",modelValue:r.value,"onUpdate:modelValue":l[2]||(l[2]=a=>r.value=a),options:s.value.toSorted((a,n)=>a.english_name.localeCompare(n.english_name)),class:"w-full",filter:"","option-label":"english_name",placeholder:"Select Language",onChange:l[3]||(l[3]=a=>e.$emit("update:modelValue",a.target?.value))},null,8,["modelValue","options"]))])])}}}),E=D;export{E as t};
