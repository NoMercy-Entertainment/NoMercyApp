import{Bt as N,Gt as h,I as R,Ln as t,M as T,Mt as $,Rn as z,Rt as y,Tt as E,Vt as L,an as M,cn as a,i as V,kn as v,on as D,qt as F,u as P,un as j,xn as g,yn as _,zt as p}from"./index-cywnPOBC.js";import"./dist-yzM0QGvF.js";import"./esm-CsGjMs42.js";import"./esm-D4f7ygqA.js";import"./dist-CG1k-g7C.js";import"./focus-visible-dQviwWa0.js";import"./index5-DWzlHdCO.js";import"./client-D7oxUmH6.js";import"./ionic-global-DCe2g38l.js";import"./hardware-back-button-Bqrrbg0Z.js";import"./index3-bIbYCfqw.js";import"./helpers-BGGXVDsd.js";import"./index6-vUi4VFUZ.js";import"./index8-5IzBz0Dr.js";import"./keyboard-CAPY05Np.js";import"./index2-DsYXeg3E.js";import"./ios.transition-DeZfFnMt.js";import"./keyboard2-CYwkuq6R.js";import"./md.transition-CoCDKCK7.js";import"./dir-VVnELOav.js";import"./basecomponent-Dn_g4DAz.js";import"./classnames-C7QsyfAI.js";import"./button-n8IYfWnY.js";import"./baseicon-DTjMEpRe.js";import{a as O,l as q,m as u,o as x,p as d}from"./ui-C0FA7XgL.js";import"./client-TRoQZYEY.js";import{v as A,x as G}from"./currentServer-ns-65dJg.js";import"./config-BZ-AEJ_J.js";import"./core-Byg9KrIc.js";import"./esm-D9ex0nT9.js";import{p as C}from"./global-oyc8MvKQ.js";import"./esm-B2mzPl6v.js";import"./bundle-mjs-BuAB9hD1.js";import"./user-DdN2xDWa.js";import"./serverClient-h83xvsoB.js";import"./router-b6Y7vD7A.js";import"./utils-CfbU6uFB.js";import"./useBaseQuery--g5SyDb6.js";import"./useInfiniteServerClient-DYu8wLRM.js";import{g as b}from"./SocketClient-BXQHVNG_.js";import"./useQueryClient-CeysrMlA.js";import"./useQuery-BSaIeQ43.js";import"./apiClient-cmnl9Hzw.js";import"./notifications-Cig9DoL1.js";import"./utils-D5nhA-44.js";import"./deviceInfo-D74C9RbC.js";import"./auth-Bz7Q9vHJ.js";import"./musicPlaylists-CRSZ6nMQ.js";import"./esm-DZQicoaf.js";import"./contextMenuItems-CnT1Q0_S.js";import"./_plugin-vue_export-helper-pDp7unP0.js";import"./AppLogoSquare-BPMeAXGY.js";import"./MoooomIcon-DKjYVqpr.js";import"./DropdownMenu-DahWlyk2.js";import"./dist-DxpR9Lgz.js";import{t as U}from"./useServerClient-BCJ_nw8c.js";import"./CoverImage-5Kr6U9m2.js";import{t as J}from"./ScrollContainer-CLVULms8.js";import"./MusicButton-DNSqRPtJ.js";import"./BannerButton-D551V_yc.js";import"./MediaLikeButton-BxCAAXfp.js";import"./PlayerIcon-Box4yPCR.js";import"./Marquee-D5BdhaYU.js";import"./BigPlayButton-BZO__rjN.js";import"./EqSpinner-C3RZ5e3G.js";import{t as K}from"./NotFound-Cf7-T-fR.js";import"./ShareButton-D4ftU7kH.js";import{i as Q,n as W,r as X,t as Y}from"./TrackRow-DOJVWnHp.js";E();T();var Z={class:"relative z-0 flex h-auto flex-shrink-0 flex-grow flex-col items-start justify-start self-stretch"},tt=F({__name:"Desktop",setup(et){const f=R(),{data:e,isError:B}=U({path:f.fullPath}),S=v(null),c=v(),o=v("");_(e,r=>{r&&(A(r?.name??null),n(r?.tracks??[],u.value,d.value,o.value),x(r?.color_palette?.cover))}),_(d,r=>{n(e.value?.tracks??[],u.value,r,o.value)}),_(u,r=>{n(e.value?.tracks??[],r,d.value,o.value)}),_(o,r=>{n(e.value?.tracks??[],u.value,d.value,r)});function n(r,i,s,m){const w=G(r??[],i,s,q);m===""?c.value=w:c.value=w?.filter(k=>k.name?.toLowerCase().includes(m?.toLowerCase?.())||k.artist_track?.some(I=>I.name.toLowerCase().includes(m?.toLowerCase?.()))||k.album_track?.[0]?.name.toLowerCase().includes(m?.toLowerCase?.()))??[]}M(()=>{e?.value?.tracks&&n(e?.value?.tracks??[],u.value,d.value,o.value),e.value?.color_palette?.cover&&x(e.value?.color_palette?.cover)}),D(()=>{document.getElementById("navbar")&&(document.getElementById("navbar").style.display="flex"),x(null),O(null)});const l=v();function H(){window.CSS.supports("container-type","scroll-state")||(Math.ceil(l.value?.$el?.getBoundingClientRect()?.top??500)<=67?(l.value?.$el?.classList.add("!bg-focus"),l.value?.$el?.firstChild?.classList.add("!bg-black/50")):(l.value?.$el?.classList.remove("!bg-focus"),l.value?.$el?.firstChild?.classList.remove("!bg-black/50")))}return(r,i)=>(a(),p(t(P),null,{default:g(()=>[h(t(V),{fullscreen:!0,class:"flex"},{default:g(()=>[t(B)&&!t(e)?(a(),p(K,{key:0})):(a(),p(J,{key:1,"auto-hide":!0,static:!0,onScroll:H},{default:g(()=>[!t(f).params.id||t(f).params.id&&t(e)?.id===t(f).params.id?(a(),L("div",{key:0,ref_key:"main",ref:S,class:"flex flex-col w-available h-available sm:rounded-2xl"},[h(X,{data:t(e)},null,8,["data"]),y("div",Z,[i[1]||(i[1]=y("div",{class:"pointer-events-none absolute z-0 h-96 w-full bg-spotifyBottom"},null,-1)),(a(),p(Q,{key:t(e)?.id,data:t(e),filter:o.value,onFilterChange:i[0]||(i[0]=s=>o.value=s)},null,8,["data","filter"])),y("div",{class:z([{"pb-24":t(C)&&!t(b),"pb-40":t(C)&&t(b),"pb-4 sm:pb-4":!t(C)&&t(b)},"flex flex-1 flex-shrink-0 flex-col items-start justify-start self-stretch bg-surface-3 flex-grow-1 gap-0.5 sm:p-4"])},[(a(),p(W,{key:t(e)?.id,ref_key:"sortHeader",ref:l})),(a(!0),L($,null,j(c.value,(s,m)=>(a(),p(Y,{key:s.id+s?.favorite,data:s,"display-list":c.value,index:m},null,8,["data","display-list","index"]))),128))],2)])],512)):N("",!0)]),_:1}))]),_:1})]),_:1}))}}),_e=tt;export{_e as default};
