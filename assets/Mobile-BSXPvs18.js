import{Y as k,a7 as C,a2 as w,w as b,c as f,o as l,l as h,y as q,Z as o,aq as x,h as B,b as M,F as D,p as I,s as K,m as N,am as P}from"./vue-ionic-Cb5qD3-A.js";import{g as V,a as E,b as F}from"./routerHelper-CGU6_Hp4.js";import{r as L,a as R,b as Q,h as S}from"./index-h4c6jw5s.js";import"./vendor-CKnYbqeP.js";import"./icons-BW5E66pf.js";import"./rxjs-BCp2L9Rn.js";import"./media-C2AqgyMX.js";import"./api-BBofn2cc.js";import"./swiper-D00Cnjmx.js";import"./music-player-gfKAgRMD.js";const U=k({__name:"Mobile",setup(W){const u=C(),d=L.currentRoute.value.name,y=V({queryKey:["music","home"],path:u.path}),{data:r,refetch:p}=E({queryKey:["music","home"],path:u.path}),{data:c,mutate:g,reset:v}=F({queryKey:["music","home"],homeData:r,path:u.path});return w(()=>{var s,e;if(R(null),Q(null),!r.value){p();return}if(u.name!==d)return;const m=((e=(s=r.value)==null?void 0:s.filter)==null?void 0:e.call(s,n=>{var t;return((t=n==null?void 0:n.update)==null?void 0:t.when)==="pageLoad"}))??[];g(m)}),b(S,m=>{m?(p(),v()):(c.value=void 0,r.value=void 0)}),(m,s)=>(l(),f(o(P),null,{default:h(()=>[q(o(x),{fullscreen:!0,class:"mt-4"},{default:h(()=>{var e,n,t,i;return[!o(y)&&((n=(e=o(c))==null?void 0:e.every)!=null&&n.call(e,a=>a.component)||(i=(t=o(r))==null?void 0:t.every)!=null&&i.call(t,a=>a.component))?(l(!0),B(D,{key:0},I(o(c)??o(r),(a,_)=>(l(),f(K(a.component),N({key:a.id,index:_,ref_for:!0},a.props),null,16,["index"]))),128)):M("",!0)]}),_:1})]),_:1}))}});export{U as default};
