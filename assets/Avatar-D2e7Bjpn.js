import{s as d}from"./rolldown-runtime-C0YIJfRR.js";import{Ct as a,K as r,S as m,T as s,c as f,j as h,k as v,mt as g,n as b,wt as y,x as $}from"./i18n-Rm1NkeNf.js";import{_ as w}from"./index-CkV6UDO5.js";import{t as N}from"./md5-D_U-4vyd.js";f();var c=d(N(),1),x={class:"absolute h-full"},k=["alt","height","src","srcset","width"],z={key:1,class:"inset-0 grid aspect-square h-full w-full place-items-center place-center bg-black"},p=h({__name:"Avatar",props:{height:{type:Number,default:40},width:{type:Number,default:40},size:{type:Number,default:400},className:{type:String,default:""},email:{type:String,required:!0},cache:{type:Number,default:1}},setup(e){const{t:u}=b(),o=location.hostname.includes("dev")?"-dev":"",l=$(()=>`https://cdn${o}.nomercy.tv`),i=g(!1);function n(t){console.error(t),t.target.onerror=null,i.value=!0}return(t,A)=>(r(),s("div",{class:y([e.className,"relative flex aspect-square flex-shrink-0 flex-grow-0 flex-col items-start justify-start self-stretch overflow-hidden rounded-lg bg-black"])},[m("div",x,[i.value?(r(),s("div",z,[v(w,{class:"h-auto max-h-[60%]"})])):(r(),s("img",{key:0,alt:`${a(u)("NoMercyAvatar for")} ${e.email}`,height:e.size??e.height,onerror:n,src:`${l.value}/avatar/${a(c.default)(e.email)}?cache=${e.cache}&d=monsterid&fm=webp&r=pg&s=${e.size}&w=${e.size}`,srcset:`${l.value}/avatar/${a(c.default)(e.email)}?cache=${e.cache}&d=monsterid&fm=webp&r=pg&s=${e.size*2}&w=${e.size*2}`,width:e.size??e.width,class:"h-full object-cover NoMercyAvatar",crossorigin:"anonymous"},null,8,k))])],2))}}),C=p;export{C as t};
