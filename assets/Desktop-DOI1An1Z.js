import{C as o,Ct as t,Dt as n,J as _,K as a,S as s,T as d,U as N,W as E,X as U,c as z,g as v,it as F,j as G,k as i,mt as k,n as V,ot as u,w as c,wt as p,x as f}from"./i18n-fABvX7Av.js";import"./ionic-DIYphHxf.js";import{C as q,U as H,W as A,_ as K,n as W}from"./vue-core-hXf_Oh5G.js";import"./primevue-C3smGU9Q.js";import"./dist-CJipjyJM.js";import"./query-BsKzQ1i8.js";import"./esm-D1nPlPuN.js";import{Gr as J,Ir as X,Ni as y,Rn as g,b as w,er as O,gi as Q,ia as Y,la as C,v as Z,zn as h}from"./index-B13NG93S.js";import"./useInfiniteServerClient-CEPQIZfY.js";import{t as ee}from"./useServerClient-CbP6Nyuo.js";import{t as te}from"./ScrollContainer-BEcwwM2f.js";import"./MusicButton-DKt-gaCm.js";import"./BannerButton-4MiULcE3.js";import{t as ae}from"./MediaLikeButton-CV2aXWKS.js";import"./swiper-CTbPfcPf.js";import"./CardIndicator-DD4W_4zP.js";import{t as re}from"./NMCard-B-3WytEJ.js";import{t as le}from"./dist-BE4Ks6Jg.js";import{t as se}from"./FloatingBackButton-B68Kn4nk.js";import{i as oe,n as B,r as ie,t as D}from"./ImageCarousel-DiOKliaG.js";import{t as ne}from"./InfoHeaderItem-DRp_Lph2.js";import{t as ue}from"./NotFound-B6WpOgqn.js";import{t as ce}from"./ShareButton-B-JbjPUl.js";import"./Carousel-DNmQYj7z.js";import"./PersonCard-bDzzn8e2.js";import{t as de}from"./ListControlHeaderMoreMenu-CxixljGi.js";z();H();var I=le(),pe={class:"w-available text-surface-12"},fe={key:0,class:"w-available overflow-x-clip relative mt-12 flex flex-grow flex-col items-start justify-start gap-4 self-stretch py-5"},me={class:"ml-4 w-full self-stretch text-5xl font-bold px-4"},_e={class:"ml-4 w-full self-stretch text-lg px-4"},ve={class:"flex flex-col items-start justify-start gap-4 self-stretch px-4 before:content-[''] before:self-stretch before:h-px before:bg-[#e2f0fd]/4 after:content-[''] after:self-stretch after:h-px after:bg-[#e2f0fd]/4"},ge={class:"flex items-start justify-start gap-8 self-stretch pl-4"},he={class:"text-xs font-bold uppercase text-surface-11"},xe={class:"text-sm font-bold -ml-0.5"},be={class:"relative flex flex-grow flex-col items-start justify-center text-left gap-1"},ke={class:"text-xs font-bold uppercase text-surface-11"},ye={key:0,class:"relative ml-auto flex h-16 items-center justify-center gap-4"},we={class:"absolute top-3 grid h-0 w-max origin-bottom group-hover/play:grid-cols-1 items-center justify-start bg-black duration-200 grid-cols-[0fr] group-hover/play:h-[32.77px] transform-all left-[-31px] group-hover/play:top-[-38px] rounded-[5.46px] overflow-hidden"},Ce={class:"py-0 text-xs font-bold px-2.5"},Be=G({__name:"Desktop",setup(De){const{t:S}=V(),x=A(),{data:e,isError:T}=ee({queryKey:["base","collection",x.params.id],limit:1e3,keepForever:!0}),m=k(null),b=k(null);F(e,r=>{r&&(r?.backdrop&&g(r?.backdrop),r?.color_palette&&h(r.color_palette.backdrop),m.value=r.duration&&new Date(new Date().getTime()+r.duration*60*1e3).toLocaleTimeString(C.language??"en-US",{hour:"2-digit",minute:"2-digit"}),b.value=setInterval(()=>{m.value=r.duration&&new Date(new Date().getTime()+r.duration*60*1e3).toLocaleTimeString(C.language??"en-US",{hour:"2-digit",minute:"2-digit"})},1e3))}),N(()=>{document.dispatchEvent(new Event("sidebar")),Q(e?.value?.title),e?.value?.backdrop&&g(e?.value?.backdrop),e?.value?.color_palette&&h(e?.value?.color_palette.backdrop)}),E(()=>{g(null),h(null),clearInterval(b.value??void 0)});const j=f(()=>({url:`https://app.nomercy.tv${x.fullPath}`})),$=f(()=>e.value?.total_duration?O(S,e.value.total_duration??0,!0):null),R=f(()=>`${(0,I.collect)(e.value?.collection).min("year")} - ${(0,I.collect)(e.value?.collection).max("year")}`),L=f(()=>[{show:!!e.value?.content_ratings,label:"Content rating",component:"ContentRating",data:e.value?.content_ratings},{show:!0,label:"Availability",value:`${e.value?.have_items} / ${e.value?.number_of_items}`},{show:!0,label:"Timespan",value:R.value},{show:!!e.value?.total_duration,label:"Total duration",value:$.value}]);return(r,Ie)=>{const P=U("RouterLink");return a(),o(t(q),null,{default:u(()=>[i(t(K),{fullscreen:!0},{default:u(()=>[t(T)&&!t(e)?(a(),o(ue,{key:0})):(a(),o(te,{key:1,"auto-hide":!0,static:!0},{default:u(()=>[s("article",pe,[i(se),t(e)?(a(),d("section",fe,[s("h1",me,n(t(e)?.title?.replace(/(: | en de )/,`
`)),1),s("p",_e,n(t(e)?.overview),1),s("section",ve,[s("div",ge,[(a(!0),d(v,null,_(L.value.filter(l=>l.show),(l,M)=>(a(),d("div",{key:M,class:p([l.label==="Genre"?"flex-grow text-left":"flex-shrink-0","relative flex flex-col items-start justify-center gap-1"])},[s("p",he,n(r.$t(l.label)),1),l.component==="ContentRating"?(a(),o(ie,{key:0,ratings:l.data,size:6,class:"h-full min-!h-[1rem] object-scale-down rounded-lg overflow-clip"},null,8,["ratings"])):(a(),o(ne,{key:1,class:"!bg-surface-6/11"},{default:u(()=>[s("p",xe,n(l.value),1)]),_:2},1024))],2))),128)),s("div",be,[s("p",ke,n(r.$t("Genre")),1),s("div",{class:p([t(e)?.genres?.length>5?"children:grayscale":"","flex flex-wrap self-stretch overflow-clip font-medium gap-0.5"])},[(a(!0),d(v,null,_(t(e)?.genres,l=>(a(),o(oe,{key:l.id,genre:l},null,8,["genre"]))),128))],2)]),t(e)?(a(),d("nav",ye,[i(P,{class:p([t(y),"!bg-surface-6/11 group/play relative"]),to:`${t(e)?.link}/watch`},{default:u(()=>[i(w,{"class-name":"w-6",icon:"play"}),s("div",we,[s("p",Ce,n(r.$t("Ends at"))+" "+n(m.value),1)])]),_:1},8,["class","to"]),t(e)?(a(),o(ae,{key:0,data:t(e),class:"!bg-surface-6/11",type:"video"},null,8,["data"])):c("",!0),i(ce,{"share-data":j.value,class:"!bg-surface-6/11 !p-0"},null,8,["share-data"]),i(de,{items:[],class:"text-surface-12/70 dark:text-surface-12/80","class-name":"max-h-80 overflow-y-auto overflow-x-hidden !ml-0 !-translate-x-1/3"},{button:u(()=>[i(t(W),{class:p([t(y),"!bg-surface-6/11"])},{default:u(()=>[i(w,{"class-name":"w-6",icon:"menuDotsVertical"})]),_:1},8,["class"])]),_:1})])):c("",!0)])]),s("section",{class:p([t(Y)?"media-backdrop-grid":"media-poster-grid","items-start justify-start gap-4 self-stretch px-4"])},[(a(!0),d(v,null,_(t(e)?.collection??[],l=>(a(),o(re,{key:l?.id,data:l,class:""},null,8,["data"]))),128))],2),t(e)?.cast&&t(e)?.cast?.length>0?(a(),o(B,{key:0,id:"cast",data:t(J)(t(e)?.cast,"id").slice(0,50),index:0,next_id:"crew",previous_id:"poster",title:"Cast"},null,8,["data"])):c("",!0),t(e)?.crew&&t(e)?.crew?.length>0?(a(),o(B,{key:1,id:"crew",data:t(X)(t(e)?.crew).slice(0,50),index:0,next_id:"backdrop",previous_id:"cast",title:"Crew"},null,8,["data"])):c("",!0),t(e)?.posters&&t(e)?.posters?.length>0?(a(),o(D,{key:2,id:"poster",data:t(e)?.posters,index:0,next_id:"backdrop",previous_id:"crew",title:"Poster",type:"poster"},null,8,["data"])):c("",!0),t(e)?.backdrops&&t(e)?.backdrops?.length>0?(a(),o(D,{key:3,id:"backdrop","color-palette":t(e)?.color_palette?.poster,data:t(e)?.backdrops,index:0,next_id:"",previous_id:"backdrop",title:"Backdrop",type:"backdrop"},null,8,["color-palette","data"])):c("",!0)])):c("",!0)])]),_:1}))]),_:1})]),_:1})}}}),et=Z(Be,[["__scopeId","data-v-25ec4b1e"]]);export{et as default};
