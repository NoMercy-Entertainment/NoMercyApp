import{An as V,Bn as v,Bt as b,Gt as o,Hn as W,I as Y,Lt as w,M as q,Mt as j,Rt as r,Sn as x,Tt as T,Un as f,Vt as n,Wt as B,an as K,bn as I,cn as s,i as U,on as E,qt as P,u as G,un as M,zn as a,zt as g}from"./index-CymNhKD_.js";import"./dist-BzCNKCKQ.js";import"./esm-ACLeELb5.js";import"./esm-D_D4nCnV.js";import"./dist-DXrN7I-1.js";import"./client-B3lu4kSB.js";import"./ionic-global-CJHxMOPd.js";import"./hardware-back-button-D60wdz2_.js";import"./index3-D8TaXO-z.js";import"./index8-DyEBw6N5.js";import"./keyboard-CzXNBarC.js";import"./index2-YLkJp4Cu.js";import"./ios.transition-De37_SF6.js";import"./keyboard2-F9Kv6wST.js";import"./md.transition-DlofogM3.js";import"./basecomponent-Bn5la5w8.js";import"./button-fwbJbD2G.js";import{a as k,o as F}from"./ui-CVk4xI0v.js";import{g as D}from"./client-CxRn8_4O.js";import{i as A,o as H,v as z,w as R}from"./currentServer-DzE7mepP.js";import"./config-BZ-AEJ_J.js";import"./esm-B369UUD9.js";import{p as $}from"./global-lh4aio7e.js";import"./esm-L6OojSyq.js";import"./bundle-mjs-CKr78mlm.js";import"./user-DlzWNC9W.js";import"./serverClient-BuGPA0-U.js";import"./router-Ch9jBD0u.js";import"./utils-DO5s4OOL.js";import"./useInfiniteServerClient-vxekqC7x.js";import{g as C}from"./SocketClient-DIjrmZvk.js";import"./apiClient-DbAYXZY3.js";import"./notifications-C159qvRm.js";import"./utils-D5LXfnop.js";import"./deviceInfo-AeSN8xPw.js";import"./auth-Csw53SQZ.js";import{t as O}from"./_plugin-vue_export-helper-pDp7unP0.js";import{t as J}from"./ListControlHeaderMoreMenu-CKXH9YU4.js";import"./AppLogoSquare-yoQIEFk_.js";import{t as S}from"./TMDBImage-1WlNkFfX.js";import"./dist-5Ks7n5tk.js";import{t as Q}from"./useServerClient-BC86_TUk.js";import{t as X}from"./ScrollContainer-C0xGPQP4.js";import{t as Z}from"./BannerButton-CuetxwW8.js";import"./swiper-vue-BNRNRkLT.js";import"./CardIndicator-pHdO2TSz.js";import"./swiper-element-bundle-7tQ6n7zm.js";import{t as ee}from"./NotFound-CSCEXDsO.js";import"./Carousel-CFcTsfMC.js";import{t as te}from"./MediaCarousel-DV7sjDke.js";import{n as ae,t as h}from"./CreditGroup-Bgu9FDlF.js";q();T();var re={class:"flex flex-col justify-start h-[calc(100%-1rem)] items-start w-40 sm:w-48 2xl:w-80 mx-auto absolute left-4 sm:left-12 top-4 rounded-2xl"},le={class:"sticky top-28 flex h-auto w-full flex-col gap-4"},se=["id"],oe={class:"relative flex h-full w-full flex-col"},ie={class:"relative grid grid-cols-4 gap-2 group/personCard"},ne=["onClick"],ue=P({__name:"FloatingPersonCard",props:{data:{type:Object,required:!1}},setup(u){const e=u,d=V(e.data?.images?.profiles?.[0]);return I(e,m=>{d.value=m.data?.images?.profiles?.[0]}),(m,y)=>(s(),n("div",re,[r("div",le,[r("div",{id:u.data?.id??"x",class:v([u.data?.deathday?"outline outline-white":"","relative z-0 block w-auto select-none overflow-clip rounded-2xl transitioning aspect-poster"])},[r("div",oe,[o(S,{path:d.value?.src??u.data?.poster,size:180,"color-palette":u.data?.color_palette?.profile,"class-name":"pointer-events-none absolute inset-0 z-20 flex h-full w-full object-cover transition-transform duration-500 trickle-div"},null,8,["path","color-palette"])])],10,se),r("div",ie,[(s(!0),n(j,null,M(u.data?.images?.profiles?.slice(0,4),p=>(s(),n("div",{key:p.src,class:"relative h-auto w-full cursor-pointer overflow-clip rounded-xl transition-all duration-200 aspect-poster focus-outline",onClick:()=>d.value=p},[r("div",{class:v([p.src===d.value?.src?"opacity-0":"opacity-100","absolute inset-0 z-30 grid h-auto w-full items-center justify-center bg-black/60 group-hover/personCard:opacity-0 transition-all duration-200 aspect-poster"])},null,2),o(S,{path:p.src,"color-palette":u.data?.color_palette?.profile,size:182,"class-name":"relative z-0 block h-auto w-full select-none transitioning aspect-poster"},null,8,["path","color-palette"])],8,ne))),128))])])]))}}),ce=ue;T();var de={class:"relative mx-auto flex w-full items-end justify-start gap-4 rounded-lg p-4 max-w-screen-5xl pt-[290px]"},me={class:"relative mt-8 -mb-2 flex flex-col justify-start self-stretch sm:mt-4 sm:items-center sm:gap-4 lg:flex-row after:content-[''] after:mt-4 after:h-px after:self-stretch after:bg-white/10 sm:after:mt-0"},pe={class:"ml-auto flex items-center justify-end gap-2",style:{width:"432px"}},fe={class:"relative flex flex-col items-start justify-start self-stretch py-4 sm:gap-4 after:content-[''] after:mt-4 after:h-px after:self-stretch after:bg-white/10 sm:after:mt-0"},he={class:"flex w-full flex-col flex-wrap items-start gap-6 sm:flex-row sm:gap-2"},_e={class:"flex-shrink-0 flex-grow-0 text-xs font-bold uppercase text-surface-11 w-full"},ve={key:0,class:"mr-8 ml-auto flex flex-shrink-0 flex-grow-0 gap-2"},we={class:"text-left text-base font-medium whitespace-pre-wrap"},ge={class:"relative flex w-full flex-col items-start justify-start gap-2"},be={class:"flex-shrink-0 flex-grow-0 text-xs font-bold uppercase text-surface-11"},xe={key:0,class:"self-stretch whitespace-pre-line text-base font-medium leading-[173%]"},ye={class:"mb-8 -ml-6 w-[101.5%]"},_="combined",ke=P({__name:"Desktop",setup(u){const{data:e,isError:d}=Q({queryKey:["base","person",Y().params.id]}),m=w(()=>{if(e.value?.deathday){const l=new Date(e.value?.birthday),i=new Date(e.value?.deathday),t=i.getFullYear()-l.getFullYear(),c=i.getMonth()-l.getMonth();return c<0||c===0&&i.getDate()<l.getDate()?t-1:t}if(e.value?.birthday){const l=new Date(e.value?.birthday),i=new Date,t=i.getFullYear()-l.getFullYear(),c=i.getMonth()-l.getMonth();return c<0||c===0&&i.getDate()<l.getDate()?t-1:t}return null}),y=w(()=>{if(typeof e.value?.gender!="number")return e.value?.gender;switch(e.value?.gender){case 0:return"Not specified";case 1:return"Female";case 2:return"Male";case 3:return"Non-binary";default:return null}});I(e,l=>{z(e?.value?.name),k(l?.known_for?.at(0)?.backdrop??null)}),K(()=>{z(e?.value?.name),F(null),k(e?.value?.known_for?.at(0)?.backdrop??null)}),E(()=>{k(null),F(null)});const p=w(()=>[{icon:"edit",onclick:()=>{window.open(`https://www.themoviedb.org/person/${e.value?.id}/edit`,"_blank")},title:"Edit on TMDb"}]),N=w(()=>[{show:!!e.value?.known_for_department,label:"Known For",value:e.value?.known_for_department,class:"sm:w-[30%] lg:w-[15%] xl:w-[15%] 2xl:w-[11%]"},{show:!!e.value?.combined_credits?.cast,label:"Known Credits",value:e.value?.combined_credits?.cast?.length,class:"sm:w-[39%] lg:w-[20%] xl:w-[20%] 2xl:w-[14%]"},{show:!!y.value,label:"Gender",value:y.value,class:"sm:w-[25%] lg:w-[15%] xl:w-[9%]"},{show:!!m.value,label:"Birthday",value:m.value?`${new Date(e.value?.birthday).toLocaleDateString(D.language??"en-US",{year:"numeric",month:"short",day:"2-digit"})} (${m.value} ${D.t("years old")})`:"",class:"lg:w-auto 2xl:w-[23%]",hasDeathday:!!e.value?.deathday,deathday:e.value?.deathday?new Date(e.value.deathday).toLocaleDateString(D.language??"en-US",{year:"numeric",month:"short",day:"2-digit"}):""},{show:!!e.value?.place_of_birth,label:"Place of Birth",value:e.value?.place_of_birth,class:"lg:w-auto xl:flex-grow"}]),L=w(()=>[{show:!0,href:`https://www.themoviedb.org/person/${e.value?.id}`,icon:"tmdb",title:"TMDB",iconClass:"!w-12"},{show:!!e.value?.external_ids?.facebook_id,href:`https://www.facebook.com/${e.value?.external_ids?.facebook_id}`,icon:"facebook",title:"Facebook"},{show:!!e.value?.external_ids?.twitter_id,href:`https://twitter.com/${e.value?.external_ids?.twitter_id}`,icon:"twitter",title:"Twitter"},{show:!!e.value?.external_ids?.instagram_id,href:`https://instagram.com/${e.value?.external_ids?.instagram_id}`,icon:"instagram",title:"Instagram"},{show:!!e.value?.external_ids?.youtube_id,href:`https://youtube.com/channel/${e.value?.external_ids?.youtube_id}`,icon:"youtube",title:"YouTube"},{show:!!e.value?.external_ids?.tiktok_id,href:`https://tiktok.com/@${e.value?.external_ids?.tiktok_id}`,icon:"tiktok",title:"TikTok"},{show:!!e.value?.external_ids?.imdb_id,href:`https://www.imdb.com/name/${e.value?.external_ids?.imdb_id}`,icon:"imdb",title:"IMDb"},{show:!!e.value?.external_ids?.wikidata_id,href:`https://www.wikidata.org/wiki/${e.value?.external_ids?.wikidata_id}`,icon:"wikipedia",title:"Wikidata"}].filter(l=>l.show));return(l,i)=>(s(),g(a(G),null,{default:x(()=>[o(a(U),{fullscreen:!0},{default:x(()=>[a(d)&&!a(e)?(s(),g(ee,{key:0})):(s(),g(X,{key:1,"auto-hide":!0,static:!0},{default:x(()=>[a(e)?(s(),n("article",{key:0,class:v([{"pb-24":a($)&&!a(C),"pb-40":a($)&&a(C),"children:pb-4 sm:children:pb-3":!a($)&&a(C)},"flex bg-black/50 w-available relative text-surface-12"])},[r("div",de,[r("section",{class:v(`w-available flex flex-col gap-4 items-start rounded-2xl pr-4 pl-52 bg-gradient-to-b from-surface-1/12 via-surface-1/12 to-surface-1/11 border-1 sm:py-2 sm:pl-64 2xl:pl-96 ${a(e)?.deathday?"border-surface-12":"border-surface-12/4"}`)},[r("header",me,[r("h1",{style:W(`font-size: min(calc(150px / ${a(e)?.name?.length} + 3ch), 2rem)`),class:"mb-2 flex-grow text-5xl font-bold leading-[150%]"},f(a(H)(a(e)?.name??"","text-base sm:text-xl -mt-2")),5),r("nav",pe,[(s(!0),n(j,null,M(L.value,t=>(s(),g(Z,{key:t.icon,href:t.href,title:t.title,class:"bg-surface-6",target:"_blank"},{default:x(()=>[o(ae,{class:v(t.iconClass||"w-6"),icon:t.icon},null,8,["class","icon"])]),_:2},1032,["href","title"]))),128)),o(J,{items:p.value,class:"text-surface-12/70 dark:text-surface-12/80"},null,8,["items"])])]),r("section",fe,[r("div",he,[(s(!0),n(j,null,M(N.value.filter(t=>t.show),(t,c)=>(s(),n("div",{key:c,class:v([t.class,"relative flex w-auto flex-col items-start justify-center gap-1"])},[r("p",_e,[B(f(l.$t(t.label))+" ",1),t.hasDeathday?(s(),n("span",ve,[i[0]||(i[0]=r("span",{class:"-mr-1 text-base -mt-[3px]"},"â€ ",-1)),B(" "+f(t.deathday),1)])):b("",!0)]),r("p",we,f(t.value),1)],2))),128))])]),r("section",ge,[r("h2",be,f(l.$t("Biography")),1),a(e)?.biography?(s(),n("p",xe,f(a(A)(a(e)?.biography??"")),1)):b("",!0)]),r("div",ye,[a(e)?.known_for&&a(e)?.known_for?.length>0?(s(),g(te,{key:0,"color-palette":a(e)?.color_palette,data:a(R)(a(e).known_for,"id"),"disable-auto-aspect":!0,"limit-card-count-by":2,title:"Known for",type:"poster"},null,8,["color-palette","data"])):b("",!0)]),o(h,{items:a(e)?.[`${_}_credits`]?.cast,title:"Acting"},null,8,["items"]),o(h,{items:a(e)?.[`${_}_credits`]?.crew.filter(t=>t.job.includes("Produc")),title:"Production"},null,8,["items"]),o(h,{items:a(e)?.[`${_}_credits`]?.crew.filter(t=>t.job.includes("Writ")),title:"Writing"},null,8,["items"]),o(h,{items:a(e)?.[`${_}_credits`]?.crew.filter(t=>t.job.includes("Direct")),title:"Directing"},null,8,["items"]),o(h,{items:a(e)?.[`${_}_credits`]?.crew.filter(t=>!t.job.includes("Produc")&&!t.job.includes("Writ")&&!t.job.includes("Direct")&&!t.job.includes("Creator")),title:"Crew"},null,8,["items"]),o(h,{items:a(e)?.[`${_}_credits`]?.crew.filter(t=>t.job.includes("Creator")),title:"Creator"},null,8,["items"])],2),o(ce,{data:a(e)},null,8,["data"])])],2)):b("",!0)]),_:1}))]),_:1})]),_:1}))}}),xt=O(ke,[["__scopeId","data-v-562e8bd7"]]);export{xt as default};
