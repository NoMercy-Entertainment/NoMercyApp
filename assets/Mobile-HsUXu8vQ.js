import{I as z,du as S,l as i,ah as r,E as j,C as p,cq as B,d as f,o as d,s as o,j as t,K as c,bu as T,a as l,c as M,n as N,A as R,ao as I,q as v,t as u,bh as V,dt as A}from"./index-DhiqRu-L.js";import{s as E}from"./index-Kp3wh4rs.js";import{_ as P}from"./Avatar.vue_vue_type_script_setup_true_lang-CnHWCmtZ.js";import{_}from"./Button.vue_vue_type_script_setup_true_lang-BjAkp4V_.js";import{_ as D}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-DCuQtOk7.js";import{u as F}from"./index-Dmto1KOt.js";import"./index-B0gB0XBS.js";import"./index-CJN3GOVP.js";import"./index-CZairLgL.js";import"./index-DbqQ_kwU.js";import"./index-ZhWAdK_X.js";import"./md5-DupgTiPt.js";import"./OptimizedIcon.vue_vue_type_script_setup_true_lang-E2HG-OUh.js";import"./useMounted-BbXFutw5.js";import"./useServerClient-Cknalotx.js";import"./useQuery-D0X0p7yJ.js";import"./useBaseQuery-BFsI7r_f.js";import"./useQueryClient-B03e10GK.js";import"./useInfiniteServerClient-COY0PYt-.js";import"./HubConnection-CMQnVIkW.js";import"./FloatingBackButton.vue_vue_type_script_setup_true_lang-D0iBaxz6.js";import"./ScrollContainer.vue_vue_type_script_setup_true_lang-CrX470c-.js";import"./RipperOverlay.vue_vue_type_script_setup_true_lang-DSZmUgFP.js";import"./ripperSocket-4XlSy0Kf.js";const H={class:"flex flex-col gap-4 col-span-2 p-4"},K={class:"flex flex-col gap-4 justify-center items-center"},L={class:"w-60 min-w-60 h-auto aspect-square object-cover bg-slate-dark-1 border border-slate-dark-5 rounded-full overflow-clip"},W=["src"],Y={class:"flex flex-col justify-center items-center flex-grow relative gap-2"},G={class:"self-stretch flex-grow-0 flex-shrink-0 w-full text-sm text-left text-[#9ba1a6] text-pretty"},J=`Upload an image of max {{dimension}} pixels and {{size}} in size.
 We recommend a square image for best results.`,ke=z({__name:"Mobile",setup(O){const{t:g}=F(),b=S(),a=i(),h=i(),s=i(r.value.avatarUrl),n=i(!0),x=`https://api${I}.nomercy.tv/avatar`;function k(){a.value.upload(),n.value=!0}function w(){b.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3}),A().get("/app_config").then(async({data:e})=>{r.value.avatarUrl=e.data.avatarUrl})}function y(e){s.value=e.files[0].objectURL,n.value=!1}function C(e){e.xhr.setRequestHeader("Authorization",`Bearer ${r.value.accessToken}`)}function U(){s.value=r.value.avatarUrl,a.value.clear()}j(()=>{setTimeout(()=>{a.value?.$el&&(a.value.$el.querySelector("span[files]").textContent=g("No file chosen"))},100)});const $=p(()=>({"--color-1":"rgb(var(--color-theme-1))","--color-2":"rgb(var(--color-theme-2))","--color-3":"rgb(var(--color-theme-3))","--color-4":"rgb(var(--color-theme-4))","--color-5":"rgb(var(--color-theme-5))","--color-6":"rgb(var(--color-theme-6))","--color-7":"rgb(var(--color-theme-7))","--color-8":"rgb(var(--color-theme-8))","--color-9":"rgb(var(--color-theme-9))","--color-10":"rgb(var(--color-theme-10))","--color-11":"rgb(var(--color-theme-11))","--color-12":"rgb(var(--color-theme-12))"})),q=p(()=>B("!flex !justify-center !items-center !px-4 !py-2 !gap-2 !rounded-lg !text-sm","select-none !w-auto !font-semibold !leading-[100%] !transition-transform !duration-150 !border-none !text-white","!bg-gradient-to-b from-[var(--color-11)] to-[var(--color-10)] hover:from-[var(--color-12)] hover:to-[var(--color-11)] active:from-[var(--color-10)] active:to-[var(--color-9)] dark:from-[var(--color-7)] dark:to-[var(--color-5)] dark:hover:from-[var(--color-8)] dark:hover:to-[var(--color-6)] dark:active:from-[var(--color-7)] dark:active:to-[var(--color-4)] button-filled ",`
				 shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--background-auto-11)/60%)_inset,0_22px_30px_-4px_rgba(var(--background-auto-11)/70%)]
				 dark:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--background-auto-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--background-auto-1)/70%)]
				 active:!shadow-none
				 active:!dark:shadow-none
			 `));return(e,m)=>(d(),f(c(V),null,{default:o(()=>[t(c(T),{fullscreen:!0},{default:o(()=>[t(D,{"grid-style":3,title:"Profile"},{cta:o(()=>[...m[0]||(m[0]=[])]),default:o(()=>[l("div",H,[l("div",K,[l("div",L,[s.value?(d(),M("img",{key:0,ref_key:"image",ref:h,src:s.value,class:"w-full min-w-full h-auto aspect-square object-cover",alt:"Your profile image",style:{"box-shadow":`0 1px 3px 0 rgba(16, 24, 40, 0.1),
                    0 1px 2px 0 rgba(16, 24, 40, 0.06)`}},null,8,W)):(d(),f(P,{key:1,email:c(r).email,size:250,class:"w-60 min-w-60 h-auto aspect-square rounded-lg"},null,8,["email"]))]),l("div",Y,[t(c(E),{ref_key:"fileUpload",ref:a,url:x,"choose-label":e.$t("Choose image"),"cancel-label":e.$t("Cancel"),name:"image","with-credentials":"",mode:"basic",accept:"image/*","max-file-size":2*1024*1024,style:R($.value),class:N(q.value),onSelect:y,onBeforeSend:C,onUpload:w},null,8,["choose-label","cancel-label","style","class"]),t(_,{id:"upload",color:"theme","start-icon":"cloudUpload",disabled:n.value,onClick:k},{default:o(()=>[v(u(e.$t("Upload image")),1)]),_:1},8,["disabled"]),l("p",G,u(e.$t(J,{dimension:"2000x2000",size:"2MB"})),1),t(_,{id:"upload",color:"white",variant:"text","start-icon":"arrowCounterClockwise",onClick:U},{default:o(()=>[v(u(e.$t("Reset image")),1)]),_:1})])])])]),_:1})]),_:1})]),_:1}))}});export{ke as default};
