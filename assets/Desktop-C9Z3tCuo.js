import{aw as H,c8 as J,dT as K,aC as L,az as O,b_ as N,aT as R,aD as P,J as U,c9 as j,I as S,e as t,a7 as f,aB as s,aO as A,o as n,v as Q,bx as W,bd as T,c as i,a as X,F as g,u as z,h as F,z as I,cl as v,b6 as h,bF as Y,bG as Z}from"./index-CVV9HtC-.js";import{_ as ee}from"./MediaCard.vue_vue_type_script_setup_true_lang-BALL236N.js";import{_ as ae}from"./PersonCard.vue_vue_type_script_setup_true_lang-CH1cXDbY.js";import{_ as se,a as ne}from"./EmptyCard.vue_vue_type_script_setup_true_lang-f4XgKlHe.js";import{_ as re}from"./NotFound.vue_vue_type_script_setup_true_lang-r90uPkx_.js";import"./CardIndicator.vue_vue_type_script_setup_true_lang-BlcAy4cw.js";import"./NoResultImage.vue_vue_type_script_setup_true_lang-DfXiF8fu.js";const oe="grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 2xl:grid-cols-4 3xl:grid-cols-5 4xl:grid-cols-5 5xl:grid-cols-9 tv:grid-cols-6",te="grid-cols-2 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-7 3xl:grid-cols-9 4xl:grid-cols-10 5xl:grid-cols-[repeat(14,minmax(0,1fr))] tv:grid-cols-6",xe=H({__name:"Desktop",setup(le){var C,m,w;const y=J(),{data:o,fetchNextPage:k,hasNextPage:b,isError:V}=K({queryKey:["libraries",((m=(C=y.currentRoute)==null?void 0:C.value)==null?void 0:m.params.id)??((w=y.currentRoute)==null?void 0:w.value.name)],limit:20,keepForever:!0}),D=L(()=>{var a,r,l,d,c,p;return A.value&&((l=(r=(a=o.value)==null?void 0:a.pages)==null?void 0:r[0])==null?void 0:l.data[0].media_type)!=="person"&&((p=(c=(d=o.value)==null?void 0:d.pages)==null?void 0:c[0])==null?void 0:p.data[0].media_type)!=="genres"});O(()=>{var a,r;N(),R(null),P(null),b.value&&(((r=(a=o==null?void 0:o.value)==null?void 0:a.pages)==null?void 0:r.length)??0)<50&&k(),document.dispatchEvent(new Event("sidebar")),setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},500)}),U(o,a=>{var r;a&&(b.value&&((r=a==null?void 0:a.pages)==null?void 0:r.length)<50&&k(),setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},500))}),j(()=>{N(),R(null),P(null)});const q=S(),G=S(),_=(a,r)=>{q.value=r,G.value.show(a)};return(a,r)=>(n(),t(s(Z),null,{default:f(()=>[Q(s(Y),{fullscreen:!0},{default:f(()=>[s(V)?(n(),t(re,{key:0})):(n(),t(W,{key:1,autoHide:!0,static:!0,id:s(T).currentRoute.value.fullPath},{default:f(()=>{var l,d;return[(n(),i("div",{class:I(["z-0 flex flex-col gap-4 rounded-3xl border-0 p-4 w-available scrollbar-none border-auto-3",{"pb-24":s(v)&&!s(h),"pb-40":s(v)&&s(h),"children:pb-4 sm:children:pb-3":!s(v)&&s(h)}]),key:(l=s(T).currentRoute.value.params)==null?void 0:l.id},[X("div",{class:I(`grid w-full gap-4 scroll-smooth music-showing:pb-0 whitespace-pre ${D.value?oe:te}`)},[(n(!0),i(g,null,z(((d=s(o))==null?void 0:d.pages)??[],(c,p)=>{var B,E,M,$;return n(),i(g,{key:p},[c.data.length>0?(n(!0),i(g,{key:0},z(c.data??[],(e,x)=>(n(),i(g,null,[(e==null?void 0:e.media_type)==="tv"||(e==null?void 0:e.media_type)=="movie"||(e==null?void 0:e.media_type)=="collection"||(e==null?void 0:e.media_type)=="specials"?(n(),t(ee,{key:e.id,data:e,onContextMenu:u=>_(u,e),index:x},null,8,["data","onContextMenu","index"])):(e==null?void 0:e.media_type)==="person"?(n(),t(ae,{key:e.id+"_person",data:e,onContextMenu:u=>_(u,e),index:x},null,8,["data","onContextMenu","index"])):(e==null?void 0:e.media_type)==="genres"?(n(),t(se,{key:e.id+"_genres",data:e,onContextMenu:u=>_(u,e),index:x},null,8,["data","onContextMenu","index"])):F("",!0)],64))),256)):(($=(M=(E=(B=s(o))==null?void 0:B.pages)==null?void 0:E[0])==null?void 0:M.data)==null?void 0:$.length)==0?(n(),t(ne,{key:1})):F("",!0)],64)}),128))],2)],2))]}),_:1},8,["id"]))]),_:1})]),_:1}))}});export{xe as default};
//# sourceMappingURL=Desktop-C9Z3tCuo.js.map
