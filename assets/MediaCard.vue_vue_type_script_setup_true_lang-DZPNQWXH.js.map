{"version":3,"file":"MediaCard.vue_vue_type_script_setup_true_lang-DZPNQWXH.js","sources":["../../src/components/Cards/MediaCard.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport {computed, type PropType} from 'vue';\n\nimport type {ContinueWatching, HomeItem} from \"@/types/api/base/home\";\nimport type {Collection} from \"@/types/api/base/collection\";\nimport type {KnownFor} from \"@/types/api/base/person\";\nimport type {LibraryResponse} from \"@/types/api/base/library\";\nimport type {InfoResponse} from \"@/types/api/base/info\";\n\nimport {pickPaletteColor} from \"@/lib/colorHelper\";\n\nimport {showBackdrops} from '@/store/preferences';\n\nimport TMDBImage from '@/components/Images/TMDBImage.vue';\nimport CardIndicator from '@/components/Cards/CardIndicator.vue';\n\nconst props = defineProps({\n    data: {\n        type: Object as PropType<LibraryResponse | InfoResponse | HomeItem | ContinueWatching | Collection | KnownFor> | undefined,\n        required: true,\n    },\n    index: {\n        type: Number as PropType<number>,\n        required: false,\n        default: 0,\n    },\n    watch: {\n        type: Boolean,\n        required: false,\n        default: false,\n    },\n    disableAutoAspect: {\n        type: Boolean,\n        required: false,\n        default: false,\n    },\n});\n\nconst scrollLetter = computed(() => `scroll_${props.data?.titleSort?.[0]?.toUpperCase?.()}`);\n\nconst backdropStyle = computed(() =>{\n    return showBackdrops.value && !props.disableAutoAspect;\n})\n\nconst image = computed(() => {\n    return props.data?.[backdropStyle.value ? 'backdrop' : 'poster'] as string;\n});\n\n</script>\n\n<template>\n    <RouterLink\n        v-if=\"data?.link\"\n        :data-scroll=\"scrollLetter\"\n        :to=\"data?.link\"\n        class=\"group/card flex flex-col h-full items-center focus-outline relative rounded-lg select-none shadow-[0px_0px_0_1px_rgb(var(--color-focus,var(--color-theme-6))/70%)] w-full z-0 bg-auto-50/70 flex-grow-0\"\n        :class=\"backdropStyle ? 'aspect-backdrop' : 'aspect-poster'\"\n        :style=\"`\n            --color-focus: ${data?.color_palette?.[backdropStyle ? 'backdrop' : 'poster']\n                ? pickPaletteColor(data?.color_palette?.[backdropStyle ? 'backdrop' : 'poster'])\n                    .replace(/,/gu, ' ')\n                    .replace(')', '')\n                    .replace('rgb(', '')\n                : ''};\n         `\">\n        <div class=\"w-full h-full overflow-clip rounded-lg inset-0 absolute\">\n          <div class=\"backdropCard-overlay\"></div>\n\n          <TMDBImage\n              :path=\"image\"\n              :title=\"data?.title\"\n              loading=\"lazy\"\n              :size=\"backdropStyle ? 330 : 180\"\n              :aspect=\"backdropStyle ? 'backdrop' : 'poster'\"\n              :colorPalette=\"data?.color_palette?.[backdropStyle ? 'backdrop' : 'poster']\"\n              className=\"h-full overflow-clip rounded-lg\"/>\n\n          <template v-if=\"backdropStyle\"\n          >\n              <div v-if=\"!!(data as HomeItem)?.logo\"\n               class=\"absolute inset-0 h-full w-full\"\n              >\n                  <div\n                      class=\"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-auto-1 via-auto-1/60\"></div>\n                  <div\n                   class=\"absolute bottom-0 left-0 h-full max-h-24 w-full max-w-[66%]\"\n                  >\n                      <TMDBImage\n                          :path=\"(data as HomeItem)?.logo\"\n                          :title=\"data?.title\"\n                          :colorPalette=\"data?.color_palette?.logo\"\n                          :size=\"500\"\n                          loading=\"lazy\"\n                          class=\"w-auto object-contain h-available object-[0_0%] max-h-inherit !duration-700 children:!duration-700\"\n                          className=\"mr-auto p-4 !duration-700 children:!duration-700\"\n                          type=\"logo\"/>\n\n                  </div>\n              </div>\n              <div v-else class=\"absolute inset-0 h-full w-full\">\n                  <div\n                      class=\"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-auto-1 via-auto-1/60\"></div>\n                  <div\n                      class=\"absolute bottom-4 left-4 w-full max-w-[66%]\"\n                  >\n                      <p class=\"z-10 w-auto text-xl font-bold line-clamp-2 leading-[1.2] text-auto-12 empty:hidden dark:font-medium\">\n                          {{ data?.title }}\n                      </p>\n                  </div>\n              </div>\n\n          </template>\n          <div v-else\n              :class=\"`flex flex-col justify-start items-start w-full contain-strict will-change-transform h-12 z-0 absolute overflow-clip rounded-b-lg left-0 transition-all duration-300 px-2 py-1 group-hover/card:-bottom-0 text-left ${image ? '-bottom-20' : 'bottom-0'}`\">\n              <div class=\"absolute inset-0 z-0 opacity-0 group-hover/card:opacity-100 transition-all duration-300 bg-auto-1/60 overflow-clip rounded-b-lg\"></div>\n              <p class=\"z-10 w-auto flex-shrink-0 flex-grow-0 self-stretch text-xs font-semibold line-clamp-2 leading-[1.2] text-auto-12 empty:hidden dark:font-medium\">\n                  {{ data?.title }}\n              </p>\n          </div>\n\n          <CardIndicator :data=\"data\"/>\n        </div>\n    </RouterLink>\n</template>\n"],"names":["props","__props","scrollLetter","computed","_d","_c","_b","_a","backdropStyle","showBackdrops","image"],"mappings":"mgCAgBA,MAAMA,EAAQC,EAsBRC,EAAeC,EAAS,IAAM,aAAA,iBAAUC,GAAAC,GAAAC,GAAAC,EAAAP,EAAM,OAAN,YAAAO,EAAY,YAAZ,YAAAD,EAAwB,KAAxB,YAAAD,EAA4B,cAA5B,YAAAD,EAAA,KAAAC,EAA2C,GAAE,EAErFG,EAAgBL,EAAS,IACpBM,EAAc,OAAS,CAACT,EAAM,iBACxC,EAEKU,EAAQP,EAAS,IAAM,OACzB,OAAOI,EAAAP,EAAM,OAAN,YAAAO,EAAaC,EAAc,MAAQ,WAAa,SAAQ,CAClE;;"}