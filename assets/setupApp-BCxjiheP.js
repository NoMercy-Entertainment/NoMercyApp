const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/versionCheck-DzDxlI2h.js","assets/index-CLM6Y7vI.js","assets/i18n-DXLa9EKW.js","assets/rolldown-runtime-C0YIJfRR.js","assets/vue-core-DBpBuPMK.js","assets/ionic-B9XaRwPa.js","assets/vue-core-ClHTSD12.css","assets/signalr-Rqfnyj2P.js","assets/utils-CtQ2ANhI.js","assets/primevue-wrrgrfJj.js","assets/query-DJ5OsBey.js","assets/index-DynqTmIs.css","assets/pwa-B3c6W3lJ.js","assets/updateState-ChPJAutX.js","assets/serviceWorkerUpdates-BOgjjBch.js"])))=>i.map(i=>d[i]);
import{At as z,B as q,Ct as N,Et as Y,K as F,O as Q,Q as Z,T as w,U as j,Y as y,Z as R,_t as V,c as G,g as W,j as H,kt as M,o as $,s as J,st as X,t as ee}from"./i18n-DXLa9EKW.js";import"./ionic-B9XaRwPa.js";import{m as te,p as ne}from"./vue-core-DBpBuPMK.js";import{S as oe,a as re,d as ae,f as ie,h as se,i as le,l as ue,m as ce,n as de,o as me,p as pe,r as fe,s as ve,u as we,y as ye}from"./primevue-wrrgrfJj.js";import{o as ge}from"./query-DJ5OsBey.js";import{Wt as D,Zi as he,ha as ke,k as C,x as Ce,y as _e}from"./index-CLM6Y7vI.js";import"./scrollHandlers-BK4sXoVp.js";import{t as L}from"./konami-BsD52Afz.js";import"./screensaver-C9dR2nxL.js";G();function xe(e,t){let r;return(...i)=>{r!==void 0&&clearTimeout(r),r=setTimeout(()=>e(...i),t)}}function Se({columns:e,columnWidth:t,emit:r,gap:i,items:s,maxColumns:d,minColumns:p,nextTick:l,onBeforeUnmount:_,onMounted:k,rtl:u,scrollContainer:c,ssrColumns:f,vue:U,wall:g,watch:x}){function S(n,o,a,m){const v=b(a);return m+o+v<=n?S(n,o,a+1,m+o+v):a}function b(n){const o=Array.isArray(t.value)?t.value:[t.value];return o[n%o.length]}function O(){const n=I(K(S(g.value.getBoundingClientRect().width,i.value,0,-i.value)));return n>0?n:1}function K(n){const o=d?.value;return o&&n>o?o:n}function I(n){const o=p?.value;return o&&n<o?o:n}if(f.value>0){const n=P(f.value);s.value.forEach((o,a)=>n[a%f.value].push(a)),e.value=n}let A=0;async function B(n,o){if(n>=s.value.length||(await l(),A!==o))return;const a=[...g.value.children];u.value&&a.reverse();const m=a.reduce((v,E)=>E.getBoundingClientRect().height<v.getBoundingClientRect().height?E:v);e.value[+m.dataset.index].push(n),await B(n+1,o)}async function h(n=!1){const o=O();if(e.value.length===o&&!n){r(U===2?"redraw-skip":"redrawSkip");return}e.value=P(o);const a=c?.value,m=a?a.scrollTop:window.scrollY;await B(0,++A),a?a.scrollBy({top:m-a.scrollTop}):window.scrollTo({top:m}),r("redraw")}const T=typeof ResizeObserver>"u"?void 0:new ResizeObserver(xe(()=>h()));return k(()=>{h(),T?.observe(g.value)}),_(()=>T?.unobserve(g.value)),x([s,u],()=>h(!0)),x([t,i,p,d],()=>h()),{getColumnWidthTarget:b}}function P(e){return Array.from({length:e}).map(()=>[])}var be=["data-index"],Ae=H({__name:"masonry-wall",props:{columnWidth:{default:400},items:{},gap:{default:0},rtl:{type:Boolean,default:!1},ssrColumns:{default:0},scrollContainer:{default:null},minColumns:{default:1},maxColumns:{},keyMapper:{}},emits:["redraw","redrawSkip"],setup(e,{emit:t}){const r=e,i=t,s=V([]),d=V(),{getColumnWidthTarget:p}=Se({columns:s,emit:i,nextTick:q,onBeforeUnmount:j,onMounted:F,vue:3,wall:d,watch:X,...N(r)});return(l,_)=>(y(),w("div",{ref_key:"wall",ref:d,class:"masonry-wall",style:M({display:"flex",gap:`${l.gap}px`})},[(y(!0),w(W,null,R(s.value,(k,u)=>(y(),w("div",{key:u,class:"masonry-column","data-index":u,style:M({display:"flex","flex-basis":`${Y(p)(u)}px`,"flex-direction":"column","flex-grow":1,gap:`${l.gap}px`,height:["-webkit-max-content","-moz-max-content","max-content"],"min-width":0})},[(y(!0),w(W,null,R(k,(c,f)=>(y(),w("div",{key:l.keyMapper?.(l.items[c],u,f,c)??c,class:"masonry-item"},[Z(l.$slots,"default",{item:l.items[c],column:u,columnCount:s.value.length,row:f,index:c},()=>[Q(z(l.items[c]),1)])]))),128))],12,be))),128))],4))}}),Be=(()=>{const e=Ae;return e.install=t=>{t.component("MasonryWall",e)},e})(),Te={install:(e,t)=>{if(t===void 0||typeof t.onKonamiCodeEntered!="function"){console.warn("Konami-Code Plugin installed but no method 'onKonamiCodeEntered' in options parameter detected.");return}const r=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"];let i=0;function s(){i=0}function d(p){p.key===r[i++]?i===r.length&&(t.onKonamiCodeEntered(),s()):s()}document.addEventListener("keydown",d)}};J();async function Ue(e){queueMicrotask(async()=>{try{const{startVersionChecks:t}=await $(async()=>{const{startVersionChecks:r}=await import("./versionCheck-DzDxlI2h.js");return{startVersionChecks:r}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]));t()}catch(t){console.warn("Version check setup failed:",t)}if("serviceWorker"in navigator)try{await navigator.serviceWorker.ready;const{setupServiceWorkerUpdates:t}=await $(async()=>{const{setupServiceWorkerUpdates:r}=await import("./serviceWorkerUpdates-BOgjjBch.js");return{setupServiceWorkerUpdates:r}},__vite__mapDeps([14,1,2,3,4,5,6,7,8,9,10,11,12]));t()}catch(t){console.warn("Service worker setup failed:",t)}}),e.use(C),e.use(ne),e.use(ee,{i18next:ke,rerenderOn:["languageChanged","loaded"]}),e.use(ge,{enableDevtoolsV6Plugin:!0,queryClient:he}),e.use(pe,{theme:{preset:de},ripple:!0,inputVariant:"outlined",inputStyle:"outlined",options:{prefix:"p",darkModeSelector:".scheme-dark",cssLayer:{name:"primevue",order:"tailwind-base, primevue, tailwind-utilities"}}}),e.use(Te,{onKonamiCodeEntered:()=>{L.value=!L.value}}),e.use(Be),e.component("Modal",Ce),e.component("Button",_e),e.component("Card",ce),e.component("Dialog",ye),e.component("InputNumber",we),e.component("InputText",se),e.component("MultiSelect",ve),e.component("ScrollPanel",me),e.component("Select",ae),e.component("Toast",le),e.component("Textarea",re),e.directive("ripple",oe),e.directive("tooltip",ue),e.use(ie),e.use(fe),C.isReady().then(()=>{e.mount("#app")}),te(9999,()=>{document.dispatchEvent(new Event("backbutton"))}),await D.addListener("backButton",async t=>{document.querySelector("video")||(console.log("Back button pressed",t),t.canGoBack?C.back():await D.exitApp())})}export{Ue as setupApp};
