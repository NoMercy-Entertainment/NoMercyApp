import{aw as j,bt as q,I as x,J as G,c8 as Q,cy as r,e as u,a7 as W,aB as o,dz as X,b1 as Y,cU as t,bd as z,b7 as Z,o as i,et as ee,a as A,z as ae,ck as M,bF as se}from"./index-tvgXkfW0.js";import{O as le,A as oe,S as te}from"./octopusPlugin-C4gn8P7R.js";import{n as ne}from"./subtitles-octopus-C7BH7OOW.js";import{D as re}from"./desktopUIPlugin-CJuLRn9p.js";import{K as ue}from"./keyHandlerPlugin-Cspi1AWm.js";import{_ as ie}from"./NotFound.vue_vue_type_script_setup_true_lang-WwvrMK4T.js";const ye=j({__name:"Desktop",setup(ce){const{data:N,isError:O}=q({}),e=x(),L=x();return G(N,s=>{var c,p,d,v,f,g,m,y,k,b,P,w,_,C,S,h,E,I,T,U;const l={muted:!1,controls:!1,preload:"auto",debug:!1,autoPlay:!0,playlist:(s==null?void 0:s.filter(a=>!!a.id))??[],controlsTimeout:3e3,doubleClickDelay:500,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2],accessToken:(c=X.value)==null?void 0:c.accessToken,basePath:(p=Y.value)==null?void 0:p.serverBaseUrl,forceTvMode:(t("android")||t("ios"))&&!t("mobile"),disableTouchControls:!1,disableMediaControls:"mediaSession"in navigator||t("capacitor"),renderAhead:100};e.value??(e.value=ne("player1").setup(l)),(d=e.value)==null||d.once("back",()=>{z.back()});const V=new re;(v=e.value)==null||v.registerPlugin("desktopUI",V),(f=e.value)==null||f.usePlugin("desktopUI");const F=new le;(g=e.value)==null||g.registerPlugin("octopus",F),(m=e.value)==null||m.usePlugin("octopus");const K=new oe;(y=e.value)==null||y.registerPlugin("autoSkip",K),(k=e.value)==null||k.usePlugin("autoSkip");const J=new ue;(b=e.value)==null||b.registerPlugin("keyHandler",J),(P=e.value)==null||P.usePlugin("keyHandler");const R=new te;(w=e.value)==null||w.registerPlugin("sync",R),(_=e.value)==null||_.usePlugin("sync"),(C=e.value)==null||C.once("play",()=>{var a;(a=e.value)==null||a.enterFullscreen()}),(S=e.value)==null||S.on("playlistComplete",()=>{var a;(a=e.value)==null||a.dispose(),z.back()}),(h=e.value)==null||h.once("back",()=>{}),(E=e.value)==null||E.on("play",()=>{r(!0)}),(I=e.value)==null||I.on("pause",()=>{r(!1)}),(T=e.value)==null||T.on("ready",()=>{var B;Z.stop();const a=new MutationObserver($=>$.filter(n=>n.type==="childList").forEach(n=>{n.addedNodes.forEach(H=>{H instanceof HTMLElement&&H.tagName==="VIDEO"&&console.log("video removed")})})),D=(B=e.value)==null?void 0:B.getVideoElement();D&&a.observe(D,{childList:!0,subtree:!0})}),(U=e.value)==null||U.on("item",()=>{var a;(a=e.value)==null||a.play()})}),Q(()=>{var s;(s=e.value)==null||s.dispose(),r(!1)}),(s,l)=>(i(),u(o(se),null,{default:W(()=>[o(O)?(i(),u(ie,{key:0})):(i(),u(ee,{key:1,to:"body",keepAlive:!0},[A("div",{ref_key:"playerContainer",ref:L,class:ae(["absolute inset-0 flex h-full w-full overflow-clip bg-black z-1199",{"mb-28":o(M),"mb-0":!o(M)}])},l[0]||(l[0]=[A("div",{id:"player1",class:"group nomercyplayer"},null,-1)]),2)]))]),_:1}))}});export{ye as default};
//# sourceMappingURL=Desktop-SlnX6knS.js.map
