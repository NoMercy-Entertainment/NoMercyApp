import{n as d,t as v}from"./useBaseQuery-Cy2KQkN8.js";import{$o as y,Ma as m,Na as g,bc as l,es as p,ja as b,yc as x}from"./index-Rmty3EhQ.js";var M=class extends d{constructor(e,s){super(e,s)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:g()})}getOptimisticResult(e){return e.behavior=g(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,s){const{state:r}=e,t=super.createResult(e,s),{isFetching:a,isRefetching:c,isError:i,isRefetchError:u}=t,n=r.fetchMeta?.fetchMore?.direction,h=i&&n==="forward",o=a&&n==="forward",f=i&&n==="backward",P=a&&n==="backward";return{...t,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:b(s,r.data),hasPreviousPage:m(s,r.data),isFetchNextPageError:h,isFetchingNextPage:o,isFetchPreviousPageError:f,isFetchingPreviousPage:P,isRefetchError:u&&!h&&!f,isRefetching:c&&!o&&!P}}};function N(e,s){return v(M,e,s)}x();function w(e){if(e?.queryKey)return e?.queryKey;const s=l(),r=[];return(e?.path??s.path)?.split("/").slice(1).forEach(t=>{t.includes("?")?(r.push(t.split("?")[0]),r.push(t.split("?")[1].split("=")[1])):r.push(t)}),e?.queryKey??r}function R(e){const r=l();return N({...e,queryKey:e?.queryKey??(e?.path??r.fullPath).split("/").slice(1),enabled:!!p.value?.id&&e?.enabled,retry:0,staleTime:e?.keepForever?1/0:1e3*60*5,retryOnMount:!1,refetchOnMount:!0,refetchOnWindowFocus:!1,refetchOnReconnect:!0,initialPageParam:0,getNextPageParam:t=>t.has_more?t.next_page:void 0,getPreviousPageParam:t=>t.has_more?t.next_page-2:void 0,queryFn:({pageParam:t=0,signal:a})=>new Promise((c,i)=>y().get(e?.path??r.fullPath,{signal:a,params:{page:t,version:e?.version,take:e?.limit??3}}).then(u=>{c(u.data)}).catch(i))})}var F=R;export{F as n,w as t};
