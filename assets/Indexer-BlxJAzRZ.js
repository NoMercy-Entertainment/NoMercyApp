import{d as L,C as R,Y as S,ab as q,f as C,aC as z,h as i,o as r,F as x,p as A,c as I,Z as o,aj as T,l as j,i as f,v,t as B}from"./vue-ionic-Cv2or74p.js";import{r as n,aW as Z,n as h,i as g}from"./index-BNi-5_rW.js";import{k as b,s as $}from"./scrollHandlers-Cl558KnL.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const s=L(!1);R(()=>s.value);const P=u=>{s.value=u},D={class:"flex-shrink-0 flex-grow-0 text-center text-xs sm:text-base font-semibold leading-none"},F=["data-indexer","onClick"],M={class:"flex-shrink-0 flex-grow-0 text-center text-xs sm:text-base font-semibold leading-none"},W=S({__name:"Indexer",setup(u){const y=["Libraries","Library","Collections","Albums","Artists"],w=[new RegExp("music/albums"),new RegExp("music/artists"),new RegExp("libraries/[a-zA-Z0-9]+"),new RegExp("libraries/[a-zA-Z0-9]+/letter/\\w")],_=e=>y.some(t=>e.startsWith(t)),l=e=>w.some(t=>e.match(t)),k=q();function d(){setTimeout(()=>{var e;(e=document.querySelector(g.value?"ion-tabs ion-router-outlet  div.ion-page:not(.ion-page-hidden) [indexer]":"[indexer]"))==null||e.querySelectorAll("[data-indexer]").forEach(t=>{var c,m;let a;t.dataset.indexer==="#"?a=(c=document.querySelector)==null?void 0:c.call(document,"ion-tabs ion-router-outlet div.ion-page:not(.ion-page-hidden) [data-scroll]"):a=(m=document.querySelector)==null?void 0:m.call(document,`ion-tabs ion-router-outlet div.ion-page:not(.ion-page-hidden) [data-scroll='scroll_${t.dataset.indexer}']`),a||l(n.currentRoute.value.path)?t.classList.remove("opacity-20","!cursor-not-allowed"):t.classList.add("opacity-20","!cursor-not-allowed")})},500)}function E(){var e;(e=document.querySelector(g.value?"ion-tabs ion-router-outlet  div.ion-page:not(.ion-page-hidden) [indexer]":"[indexer]"))==null||e.querySelectorAll("[data-indexer]").forEach(t=>{t.classList.add("opacity-20","!cursor-not-allowed")})}function p(e){P(_(e)),d()}return n.afterEach(e=>{setTimeout(()=>{p(e.name??e.path)},150)}),n.beforeEach(()=>{l(n.currentRoute.value.path)||E()}),C(()=>{setTimeout(()=>{p(n.currentRoute.value.name??n.currentRoute.value.path)},150),document.addEventListener("indexer",d),document.addEventListener("keydown",b)}),z(()=>{document.removeEventListener("indexer",d),document.removeEventListener("keydown",b)}),(e,t)=>(r(),i("div",{indexer:"",class:B(["pointer-events-none z-0 h-available sm:h-available flex flex-col items-center justify-between self-stretch overflow-clip transition-width duration-200 text-slate-dark-1 dark:text-slate-light-1 sm:-translate-x-3 pt-2",{"w-8":o(s),"w-0":!o(s),"sm:ml-2":!o(h)&&o(s),"bottom-0":o(h)}]),onClick:t[0]||(t[0]=a=>e.alert("hi there"))},[(r(!0),i(x,null,A(o(Z)("#","Z"),a=>(r(),i(x,{key:a},[l(o(k).path)?(r(),I(o(T),{key:0,to:`${a.replace("#","_")}`,"data-indexer":a,tabindex:"-1",class:"pointer-events-auto relative flex p-1.5 size-6 sm:size-8 aspect-square rounded-lg overflow-clip cursor-pointer flex-col items-center justify-center hover:bg-auto-alpha-5"},{default:j(()=>[f("p",D,v(a),1)]),_:2},1032,["to","data-indexer"])):(r(),i("div",{key:1,"data-indexer":a,tabindex:"-1",class:"pointer-events-auto relative flex p-1.5 size-6 sm:size-8 aspect-square rounded-lg overflow-clip cursor-pointer flex-col items-center justify-center hover:bg-auto-alpha-5",onClick:c=>o($)(a)},[f("p",M,v(a),1)],8,F))],64))),128))],2))}}),V=N(W,[["__scopeId","data-v-0c577c18"]]);export{V as I,s as i};
