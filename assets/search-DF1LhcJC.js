import{K as t,eg as r,eh as h,ax as d,L as i,ba as m,dI as f,ei as g,az as b}from"./index-DbxIITaY.js";const S=t(""),k=d(()=>v.value),$=h(S,500),v=t([]);i($,a=>{var s,c;const e=`${(s=m.value)==null?void 0:s.serverBaseUrl}/api/v1/music/search?query=${a}`;fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(c=f.value)==null?void 0:c.accessToken}`}}).then(l=>l.json()).then(l=>{v.value=l.data})});const y=t(""),o=t([]),n=t(!1),p=h(y,500),u=t(1);i(p,a=>{u.value=1;const e=`https://api.themoviedb.org/3/search/multi?api_key=${r}&language=en-US&query=${a}&page=${u.value}&include_adult=false`;fetch(e).then(s=>s.json()).then(s=>{o.value=s.results,n.value=s.total_pages>1})});const _=()=>{u.value+=1;const a=`https://api.themoviedb.org/3/search/multi?api_key=${r}&language=en-US&query=${p.value}&page=${u.value}&include_adult=false`;fetch(a).then(e=>e.json()).then(e=>{o.value=[...o.value,...e.results],e.results.length===0?n.value=!1:n.value=e.total_pages>u.value})},V=t(null),{stop:j}=g(V,([{isIntersecting:a}],e)=>{a&&_()});b(()=>{j()});export{y as a,k as b,_ as f,n as h,S as m,o as v};
//# sourceMappingURL=search-DF1LhcJC.js.map
