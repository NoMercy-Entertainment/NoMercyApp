{"version":3,"file":"Desktop-DWIyNMft.js","sources":["../../src/views/Dashboard/System/System/Components/ServerDeviceCard.vue","../../src/views/Dashboard/Devices/Devices/Desktop.vue"],"sourcesContent":["<script setup lang=\"ts\">\n\nimport {type PropType} from \"vue\";\nimport type {Device} from '@/types/api/dashboard/server';\nimport type {DeviceIcons} from '@Icons/icons';\n\nimport DashboardCard from '@/components/Cards/DashboardCard.vue';\nimport DeviceIcon from '@/components/Images/icons/DeviceIcon.vue';\n\nconst props = defineProps({\n    server: {\n        type: Object as PropType<Device>,\n        required: true,\n    },\n    basePath: {\n        type: String,\n        required: false,\n        default: 'server',\n    },\n});\n\nlet icon: keyof typeof DeviceIcons;\nswitch (props.server.browser) {\n    case 'android':\n    case 'Android':\n    case 'android tv':\n    case 'Android TV':\n    case 'Chrome WebView':\n    case 'Android 10':\n    case 'Android 11':\n    case 'Android 12':\n    case 'Android 13':\n    case 'Android 14':\n    case 'Android 15':\n        icon = 'android';\n        break;\n    case 'apple':\n    case 'Apple':\n    case 'Apple iPhone':\n    case 'iPhone':\n    case 'iPad':\n        icon = 'apple';\n        break;\n    case 'Mobile Safari':\n        icon = 'safari';\n        break;\n    case 'arc':\n    case 'Arc':\n        icon = 'arc';\n        break;\n    case 'brave':\n    case 'Brave':\n        icon = 'brave';\n        break;\n    case 'chrome':\n    case 'Chrome':\n    case 'chromium':\n    case 'Chromium':\n    case 'google chrome':\n    case 'Google Chrome':\n        icon = 'chrome';\n        break;\n    case 'edge':\n    case 'Edge':\n    case 'microsoft edge':\n    case 'Microsoft Edge':\n        icon = 'edgeOld';\n        break;\n    case 'edge chromium':\n    case 'Edge Chromium':\n        icon = 'edge';\n        break;\n    case 'firefox':\n    case 'Firefox':\n        icon = 'firefox';\n        break;\n    case 'html5':\n    case 'Html5':\n        icon = 'html5';\n        break;\n    case 'kodi':\n    case 'Kodi':\n        icon = 'kodi';\n        break;\n    case 'msie':\n    case 'Msie':\n        icon = 'msie';\n        break;\n    case 'opera':\n    case 'Opera':\n    case 'opera gx':\n    case 'Opera GX':\n        icon = 'opera';\n        break;\n    case 'playstation':\n    case 'Playstation':\n        icon = 'playstation';\n        break;\n    case 'safari':\n    case 'Safari':\n        icon = 'safari';\n        break;\n    case 'samsung':\n    case 'Samsung':\n    case 'samsung tv':\n    case 'Samsung TV':\n        icon = 'samsung';\n        break;\n    case 'samsung internet':\n    case 'Samsung Internet':\n        icon = 'samsungInternet';\n        break;\n    case 'windows':\n    case 'Windows':\n        icon = 'windows';\n        break;\n    case 'xbox':\n    case 'Xbox':\n        icon = 'xbox';\n        break;\n    case 'electron':\n    case 'Electron':\n        icon = 'electron';\n        break;\n    case 'linux':\n    case 'Linux':\n        icon = 'linux';\n        break;\n    default:\n}\n\n</script>\n\n<template>\n    <DashboardCard\n        :line1=\"server.custom_name ?? server.name\"\n        :line2=\"server.ip?.startsWith('192') || server.ip?.startsWith('10.') || server.ip?.startsWith('172')\n            ? server.ip\n            : server.ip?.replace(/\\d/gu, '*')\"\n        :route=\"`/dashboard/${basePath}/${server.id}`\"\n    >\n        <template v-slot:image >\n            <div\n                class=\"flex flex-col justify-start items-start self-stretch bg-auto-1 bg-[radial-gradient(81.87%_66.22%_at_0%_0%,rgba(255,255,255,0.2)_0%,rgba(255,255,255,0)_100%)] w-full h-auto aspect-video\">\n                <div v-if=\"icon\"\n                     class=\"relative m-auto flex aspect-video h-auto w-full flex-shrink-0 flex-grow-0 flex-col items-center justify-center self-stretch text-auto-12 bg-focus/8\">\n                    <DeviceIcon :icon=\"icon\" className=\"!w-[40%]\" />\n                </div>\n            </div>\n        </template>\n    </DashboardCard>\n</template>\n","<script setup lang=\"ts\">\nimport {IonPage, IonContent} from '@ionic/vue';\nimport {useQueryClient} from \"@tanstack/vue-query\";\n\nimport type {Device} from \"@/types/server\";\n\nimport useServerClient from \"@/lib/clients/useServerClient\";\nimport serverClient from \"@/lib/clients/serverClient\";\n\nimport DashboardLayout from \"@/Layout/Desktop/DashboardLayout.vue\";\nimport ServerDeviceCard from \"@/views/Dashboard/System/System/Components/ServerDeviceCard.vue\";\nimport MoooomIcon from \"@/components/Images/icons/MoooomIcon.vue\";\n\nconst query = useQueryClient();\n\nconst {data: devices, error} = useServerClient<Device[]>({\n  path: 'dashboard/devices',\n  queryKey: ['dashboard', 'devices'],\n});\n\nconst handleDelete = async () => {\n  await serverClient()\n      .delete<any, any>('/dashboard/devices', {\n        forceUpdate: true,\n        synchronous: false,\n      })\n      .then(() => {\n        query.invalidateQueries({queryKey: ['devices']});\n\n        // showNotification({\n        //     title: t('Activity logs deleted'),\n        //     type: TYPE.SUCCESS,\n        //     visibleOnly: true,\n        //     duration: 2000,\n        // });\n      })\n      .catch(() => {\n        // showNotification({\n        //     title: `${t('Something went wrong')} ${t('trying to delete activity logs')}`,\n        //     type: TYPE.ERROR,\n        //     visibleOnly: true,\n        //     duration: 2000,\n        // });\n      });\n};\n\n</script>\n\n<template>\n  <ion-page>\n    <ion-content :fullscreen=\"true\">\n      <DashboardLayout :error=\"error\" :gridStyle=\"1\" title=\"Devices\">\n        <template v-slot:cta>\n          <button @click=\"handleDelete\"\n              class=\"relative flex h-10 flex-shrink-0 flex-grow-0 items-center justify-center gap-2 overflow-hidden rounded-lg border px-4 py-2.5 bg-theme-9 border-theme-5\"\n          >\n            <MoooomIcon icon=\"trash\"/>\n            <p class=\"text-left text-xs font-semibold line-clamp-1 sm:text-sm\">\n              {{ $t('Delete all') }}\n            </p>\n          </button>\n        </template>\n\n        <template v-for=\"device in devices ?? []\">\n          <ServerDeviceCard v-if=\"device?.id\" :server=\"device\" basePath=\"devices\"/>\n        </template>\n      </DashboardLayout>\n    </ion-content>\n  </ion-page>\n</template>\n"],"names":["props","__props","icon","query","useQueryClient","devices","error","useServerClient","handleDelete","serverClient"],"mappings":"uiCASA,MAAMA,EAAQC,EAYV,IAAAC,EACI,OAAAF,EAAM,OAAO,QAAS,CAC1B,IAAK,UACL,IAAK,UACL,IAAK,aACL,IAAK,aACL,IAAK,iBACL,IAAK,aACL,IAAK,aACL,IAAK,aACL,IAAK,aACL,IAAK,aACL,IAAK,aACME,EAAA,UACP,MACJ,IAAK,QACL,IAAK,QACL,IAAK,eACL,IAAK,SACL,IAAK,OACMA,EAAA,QACP,MACJ,IAAK,gBACMA,EAAA,SACP,MACJ,IAAK,MACL,IAAK,MACMA,EAAA,MACP,MACJ,IAAK,QACL,IAAK,QACMA,EAAA,QACP,MACJ,IAAK,SACL,IAAK,SACL,IAAK,WACL,IAAK,WACL,IAAK,gBACL,IAAK,gBACMA,EAAA,SACP,MACJ,IAAK,OACL,IAAK,OACL,IAAK,iBACL,IAAK,iBACMA,EAAA,UACP,MACJ,IAAK,gBACL,IAAK,gBACMA,EAAA,OACP,MACJ,IAAK,UACL,IAAK,UACMA,EAAA,UACP,MACJ,IAAK,QACL,IAAK,QACMA,EAAA,QACP,MACJ,IAAK,OACL,IAAK,OACMA,EAAA,OACP,MACJ,IAAK,OACL,IAAK,OACMA,EAAA,OACP,MACJ,IAAK,QACL,IAAK,QACL,IAAK,WACL,IAAK,WACMA,EAAA,QACP,MACJ,IAAK,cACL,IAAK,cACMA,EAAA,cACP,MACJ,IAAK,SACL,IAAK,SACMA,EAAA,SACP,MACJ,IAAK,UACL,IAAK,UACL,IAAK,aACL,IAAK,aACMA,EAAA,UACP,MACJ,IAAK,mBACL,IAAK,mBACMA,EAAA,kBACP,MACJ,IAAK,UACL,IAAK,UACMA,EAAA,UACP,MACJ,IAAK,OACL,IAAK,OACMA,EAAA,OACP,MACJ,IAAK,WACL,IAAK,WACMA,EAAA,WACP,MACJ,IAAK,QACL,IAAK,QACMA,EAAA,QACP,KACJ,2kBCnHJ,MAAMC,EAAQC,EAAe,EAEvB,CAAC,KAAMC,EAAS,MAAAC,CAAA,EAASC,EAA0B,CACvD,KAAM,oBACN,SAAU,CAAC,YAAa,SAAS,CAAA,CAClC,EAEKC,EAAe,SAAY,CACzB,MAAAC,EAAA,EACD,OAAiB,qBAAsB,CACtC,YAAa,GACb,YAAa,EAAA,CACd,EACA,KAAK,IAAM,CACVN,EAAM,kBAAkB,CAAC,SAAU,CAAC,SAAS,EAAE,CAAA,CAQhD,EACA,MAAM,IAAM,CAAA,CAOZ,CACP"}