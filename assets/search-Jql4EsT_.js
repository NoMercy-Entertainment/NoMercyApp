import{l as a,B as f,cL as m,a3 as $,a$ as b,w as v,cM as R,R as S,ae as V}from"./index-C_qNKMWs.js";const o=a(!1),p=a("video"),t=a(""),h=a([]),_=f(()=>h.value),j=b(t,700);v(j,e=>{var u,g;if(e===""){h.value=[];return}o.value=!0;const s=`${(u=S.value)==null?void 0:u.serverBaseUrl}/api/v1/music/search?query=${e}`;fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(g=V.value)==null?void 0:g.accessToken}`}}).then(i=>i.json()).then(i=>{h.value=i.data,o.value=!1})});const c=a(""),r=a(!1),n=a([]),M=f(()=>n.value),y=b(c,700),l=a(1);v(y,e=>{if(e===""){n.value=[];return}r.value=!1,o.value=!0,l.value=1;const s=`https://api.themoviedb.org/3/search/multi?api_key=${m}&language=${$.language}&query=${e}&page=${l.value}&include_adult=false`;fetch(s).then(u=>u.json()).then(u=>{n.value=u.results,r.value=u.total_pages>1,o.value=!1})});function T(){l.value+=1;const e=`https://api.themoviedb.org/3/search/multi?api_key=${m}&language=${$.language}&query=${y.value}&page=${l.value}&include_adult=false`;fetch(e).then(s=>s.json()).then(s=>{n.value=[...n.value,...s.results],s.results.length===0?r.value=!1:r.value=s.total_pages>l.value})}const k=a(null);R(k,([{isIntersecting:e}],s)=>{e&&T()});const B=a(),d=a("");f(()=>p.value==="video"?M.value:_.value);v(p,e=>{e==="video"?(t.value="",c.value=d.value):(c.value="",t.value=d.value)});v(d,e=>{p.value==="video"?(c.value=e,t.value=""):(c.value="",t.value=e)});export{_ as a,p as b,B as c,d,T as f,r as h,t as m,o as s,M as v};
