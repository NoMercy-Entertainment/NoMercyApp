import{t as w}from"./useQueryClient-Bl4DAYlZ.js";import{As as l,Ds as y,Er as f,Ga as g,Gi as b,Ha as k,Ht as C,Jo as S,Jr as T,Ka as j,Ms as L,Mt as B,Os as M,Qo as N,Ta as O,Us as n,Ut as V,Vs as z,Ws as E,Yi as d,Ys as I,_a as U,_n as q,an as D,en as p,gn as H,h as Q,hs as $,i as u,ls as A,nc as t,oc as c,os as e,ps as a,ri as v,ss as m,ts as G,wr as J,za as W}from"./index-ZKQbrg8Z.js";import{t as _}from"./OptimizedIcon-9z037yvI.js";import"./dist-DNENut2S.js";import"./md5-BoUmPY_r.js";import{t as Y}from"./NoMercyAvatar-DU6i9Dt9.js";import"./HubConnection-A53UwK20.js";import{t as F}from"./ripperSocket-CkacRe-2.js";import"./DeviceIcon-C2CiZ2QA.js";import{t as K}from"./ServerCard-CjEz2UCH.js";S();j();W();var P={class:"flex h-full w-full flex-auto flex-col items-center justify-center gap-8 p-8"},R={class:"flex w-full flex-grow flex-col justify-between p-2 min-h-auto"},X={class:"flex justify-between items-center self-stretch flex-grow-0 flex-shrink-0 w-full relative gap-2.5 mb-2"},Z={class:"flex justify-start items-center relative gap-2.5",inert:""},ee={class:"size-12 my-auto"},te={class:"w-48 text-base font-semibold text-left"},se={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},ae={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},re=$({__name:"Tv",setup(oe){const x=w(),i=I();async function h(s){f(s),await J().get("libraries").then(({data:r})=>{T(r.data),H.value=!0,C.value=!0,setTimeout(async()=>{p.value==="/setup/select-servers"?await u.replace({name:"Home"}):await u.replace(p.value)},50)}).catch(async()=>{await u.replace({name:"Server offline"})})}return y(()=>{f(null),D(),x.removeQueries(),Q.value?.stop(),B.value?.stop(),F.value?.stop()}),M(()=>{q()}),k(()=>{setTimeout(()=>{i.value?.querySelector("button")?.focus()},100)}),z(i,s=>{setTimeout(()=>{s?.querySelector("button")?.focus()},100)}),(s,r)=>(l(),m(t(O),null,{default:n(()=>[a(t(U),{fullscreen:!0},{default:n(()=>[e("div",P,[e("div",R,[e("div",X,[e("div",Z,[e("div",ee,[a(Y,{user:t(v),size:40},null,8,["user"])]),e("p",te,c(t(v).name),1)]),E(e("button",{tabindex:"0",class:"flex justify-center items-center ml-auto relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",onClick:r[0]||(r[0]=o=>d.value=!t(d))},[a(_,{icon:"doorOut",class:""}),e("span",se,c(s.$t("Exit TV mode")),1)],512),[[N,!t(b)]]),a(t(g),{to:"/logout",class:"flex justify-center items-center relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]"},{default:n(()=>[a(_,{icon:"doorOut",class:""}),e("span",ae,c(s.$t("Logout")),1)]),_:1})]),e("div",{ref_key:"serverList",ref:i,class:"tv:children:w-[30%] tv:mt-0 -mt-24 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4"},[(l(!0),A(G,null,L(t(V),o=>(l(),m(K,{key:o.id,server:o,onclick:()=>h(o)},null,8,["server","onclick"]))),128))],512)])])]),_:1})]),_:1}))}}),_e=re;export{_e as default};
