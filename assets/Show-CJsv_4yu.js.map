{"version":3,"file":"Show-CJsv_4yu.js","sources":["../../src/views/Dashboard/Devices/Devices/Show.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { computed } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport { IonContent, IonPage } from \"@ionic/vue\";\n\nimport type { ActivityLog, Device } from \"@/types/server\";\n\nimport useServerClient from \"@/lib/clients/useServerClient\";\nimport DashboardLayout from \"@/Layout/Desktop/DashboardLayout.vue\";\nimport ActivityCard from \"@/views/Dashboard/System/System/Components/ServerActivityCard/ActivityCard.vue\";\n\nconst { data: devices, error: devicesError } = useServerClient<Device[]>({\n  path: 'dashboard/devices',\n  queryKey: ['dashboard', 'devices'],\n});\n\nconst { data: serverActivity, error: activityError } = useServerClient<ActivityLog[]>({\n  path: 'dashboard/activity',\n  refetchInterval: 1000 * 20,\n  data: {\n    take: 999,\n  },\n  queryKey: ['server', 'activity'],\n});\n\nconst route = useRoute();\n\nconst name = computed(() => {\n  return devices.value?.find(sa => sa.device_id === route?.params.id)?.custom_name;\n});\n\n</script>\n\n<template>\n  <ion-page>\n    <ion-content :fullscreen=\"true\">\n      <DashboardLayout :params=\"{ name }\" :title=\"`Device avtivity: {{name}}`\" :error=\"devicesError || activityError\"\n        :gridStyle=\"2\">\n        <template v-slot:cta>\n        </template>\n        <ActivityCard v-for=\"activity in serverActivity?.filter(sa => sa.device_id == route?.params.id) ?? []\"\n          :devices=\"devices ?? []\" :key=\"activity?.id\" :activity=\"activity\" class=\"col-span-2 gap-3 w-full\" />\n      </DashboardLayout>\n    </ion-content>\n  </ion-page>\n</template>\n"],"names":["devices","devicesError","useServerClient","serverActivity","activityError","route","useRoute","name","computed","_b","_a","sa"],"mappings":"ggBAWA,KAAM,CAAE,KAAMA,EAAS,MAAOC,CAAA,EAAiBC,EAA0B,CACvE,KAAM,oBACN,SAAU,CAAC,YAAa,SAAS,CAAA,CAClC,EAEK,CAAE,KAAMC,EAAgB,MAAOC,CAAA,EAAkBF,EAA+B,CACpF,KAAM,qBACN,gBAAiB,IAAO,GACxB,KAAM,CACJ,KAAM,GACR,EACA,SAAU,CAAC,SAAU,UAAU,CAAA,CAChC,EAEKG,EAAQC,EAAS,EAEjBC,EAAOC,EAAS,IAAM,SACnB,OAAAC,GAAAC,EAAAV,EAAQ,QAAR,YAAAU,EAAe,KAAKC,GAAMA,EAAG,aAAcN,GAAA,YAAAA,EAAO,OAAO,OAAzD,YAAAI,EAA8D,WAAA,CACtE"}