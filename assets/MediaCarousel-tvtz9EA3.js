import{C as b,Et as h,J as i,Ot as A,Q as _,S as s,T as n,Tt as j,X as N,c as q,ct as c,g as x,gt as T,j as z,k as p,kt as g,w as C,x as f}from"./i18n-Cs-AFcrY.js";import{Hn as B,Vn as S,Wn as M,b as $,ji as O,n as w,oa as L,qn as R,vr as P}from"./index-C8qOb1zQ.js";import{r as V}from"./swiper-CFX_qd4-.js";import{t as F}from"./CardIndicator-MhlYWOBI.js";import{t as H}from"./Carousel-DxMp4tSY.js";q();var I={class:"w-full h-full overflow-clip rounded-lg inset-0 absolute"},D={key:0,class:"absolute inset-0 h-full w-full"},E={class:"absolute bottom-0 left-0 h-full max-h-24 w-full max-w-[66%]"},J={key:1,class:"absolute inset-0 h-full w-full"},Q={class:"absolute bottom-4 left-4 w-full max-w-[66%]"},U={class:"z-10 w-auto text-2xl font-bold line-clamp-2 leading-[1.2] empty:hidden dark:font-medium"},W={class:"z-10 w-auto flex-shrink-0 flex-grow-0 self-stretch text-xs font-semibold line-clamp-2 leading-[1.2] text-slate-900 dark:text-slate-100 empty:hidden dark:font-medium text-wrap"},X=z({__name:"MediaCard",props:{data:{type:Object,required:!0},index:{type:Number,required:!1,default:0},watch:{type:Boolean,required:!1,default:!1},disableAutoAspect:{type:Boolean,required:!1,default:!1}},setup(e){const o=e,y=f(()=>`scroll_${o.data?.titleSort?.[0]?.toUpperCase?.()}`),l=f(()=>L.value&&!o.disableAutoAspect),u=f(()=>o.data?.[l.value?"backdrop":"poster"]),v=f(()=>o.data?.color_palette?.[l.value?"backdrop":"poster"]?P(o.data?.color_palette?.[l.value?"backdrop":"poster"]):"");function a(r){o.data?.link&&O(o.data.link)}function m(r){o.data?.link.includes("watch")||setTimeout(()=>{r?.backdrop&&S(r?.backdrop),r?.poster&&M(r.poster),r.title&&R(r.title),r.color_palette&&B(r.color_palette.poster)},30)}return(r,t)=>{const k=_("RouterLink");return e.data?.link?(i(),b(k,{key:0,class:h([l.value?"aspect-backdrop":"aspect-poster","group/card flex flex-col h-full items-center focus-outline relative rounded-lg select-none shadow-[0px_0px_0_1px_rgb(from_var(--color-theme-8,var(--color-theme-6))_r_g_b/70%)] w-full z-0 bg-surface-50/70 flex-grow-0"]),"data-scroll":y.value,onclick:()=>m(e.data),style:A(v.value?`
			--color-theme-8: ${v.value};
			`:""),to:e.data?.link,onMouseenter:t[0]||(t[0]=d=>a(d)),onFocusin:t[1]||(t[1]=d=>a(d))},{default:c(()=>[s("div",I,[t[4]||(t[4]=s("div",{class:"backdropCard-overlay"},null,-1)),p(w,{aspect:l.value?"backdrop":"poster","color-palette":e.data?.color_palette?.[l.value?"backdrop":"poster"],path:u.value,size:l.value?330:180,title:e.data?.title,"class-name":"h-full overflow-clip rounded-lg",loading:"lazy"},null,8,["aspect","color-palette","path","size","title"]),l.value?(i(),n(x,{key:0},[e.data?.logo?(i(),n("div",D,[t[2]||(t[2]=s("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-surface-1 via-surface-1/80"},null,-1)),s("div",E,[p(w,{"color-palette":e.data?.color_palette?.logo,path:e.data?.logo,size:500,title:e.data?.title,class:"w-auto object-contain h-available object-[0_0%] max-h-inherit !duration-700 children:!duration-700","class-name":"mr-auto p-4 !duration-700 children:!duration-700",loading:"lazy",type:"logo"},null,8,["color-palette","path","title"])])])):(i(),n("div",J,[t[3]||(t[3]=s("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-surface-1 via-surface-1/80"},null,-1)),s("div",Q,[s("p",U,g(e.data?.title),1)])]))],64)):(i(),n("div",{key:1,class:h([{"-bottom-20":u.value,"bottom-0":!u.value},"flex flex-col justify-start items-start w-full h-12 z-0 absolute left-0 transition-all duration-200 px-2 py-1 group-hover/card:-bottom-0 text-left"])},[s("div",{class:h([{"opacity-0 group-hover/card:opacity-100":u.value},"absolute inset-0 z-0 transition-all duration-200 bg-surface-1/80"])},null,2),s("p",W,g(e.data.title),1)],2)),p(F,{data:e.data},null,8,["data"])])]),_:1},8,["class","data-scroll","onclick","style","to"])):C("",!0)}}}),G=X;q();var K=z({__name:"MediaCarousel",props:{data:{type:Array,required:!0},title:{type:String,required:!0},moreLink:{type:String,required:!1},type:{type:String,required:!1},suffix:{type:String,required:!1,default:""},index:{type:Number,required:!1,default:0},limitCardCountBy:{type:Number,required:!1},disableAutoAspect:{type:Boolean,required:!1,default:!1},menuItems:{type:Array,required:!1,default:()=>[]},onRightClick:{type:Function,required:!1},colorPalette:{type:Object,required:!1}},setup(e){const o=e;function y(a){a?.backdrop&&S(a?.backdrop),a?.poster&&M(a.poster),a.title&&R(a.title),a.color_palette&&B(a.color_palette.poster)}const l=f(()=>L.value&&o.type!=="poster"),u=T();function v(a,m){o.onRightClick&&(o.onRightClick(a,m),u.value.show(a))}return(a,m)=>{const r=_("RouterLink");return i(),b(H,{"disable-auto-aspect":!l.value,index:e.index,"limit-card-count-by":e.limitCardCountBy,title:e.title,type:l.value?"poster":"backdrop",class:""},{link:c(()=>[e.moreLink?(i(),b(r,{key:0,to:e.moreLink,class:"text-base text-slate-9 dark:text-slate-9 flex items-center ml-auto mr-2"},{default:c(()=>[s("span",null,g(a.$t("See more")),1),p($,{"class-name":"w-6 mt-1",icon:"chevronRight"})]),_:1},8,["to"])):C("",!0)]),default:c(()=>[(i(!0),n(x,null,N(e.data,(t,k)=>(i(),n(x,{key:t?.id},[t?.id?(i(),b(j(V),{key:0,"virtual-index":k,class:"flex"},{default:c(()=>[p(G,{id:`item-${e.title}-${t.id}`,data:t,"disable-auto-aspect":!l.value,index:k,onclick:()=>y(t),type:l.value?"poster":"backdrop",watch:e.suffix==="/watch",class:"",onContextmenu:d=>v(d,t)},null,8,["id","data","disable-auto-aspect","index","onclick","type","watch","onContextmenu"])]),_:2},1032,["virtual-index"])):C("",!0)],64))),128))]),_:1},8,["disable-auto-aspect","index","limit-card-count-by","title","type"])}}}),le=K;export{le as t};
