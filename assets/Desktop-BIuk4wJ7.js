import{Bt as y,C as D,Gt as V,I as L,Ln as t,Lt as z,M as F,Mt as p,Rn as k,Rt as $,Tt as q,Vt as s,an as C,cn as o,i as G,kn as d,on as K,qt as U,u as j,un as b,xn as c,yn as w,zt as n}from"./index-cywnPOBC.js";import"./dist-yzM0QGvF.js";import"./esm-CsGjMs42.js";import"./esm-D4f7ygqA.js";import"./dist-CG1k-g7C.js";import"./focus-visible-dQviwWa0.js";import"./index5-DWzlHdCO.js";import"./client-D7oxUmH6.js";import"./ionic-global-DCe2g38l.js";import"./hardware-back-button-Bqrrbg0Z.js";import"./index3-bIbYCfqw.js";import"./helpers-BGGXVDsd.js";import"./index6-vUi4VFUZ.js";import"./index8-5IzBz0Dr.js";import"./keyboard-CAPY05Np.js";import"./index2-DsYXeg3E.js";import"./ios.transition-DeZfFnMt.js";import"./keyboard2-CYwkuq6R.js";import"./md.transition-CoCDKCK7.js";import"./dir-VVnELOav.js";import{a as E,o as A}from"./ui-C0FA7XgL.js";import{d as H}from"./client-TRoQZYEY.js";import{v as J}from"./currentServer-ns-65dJg.js";import"./config-BZ-AEJ_J.js";import"./core-Byg9KrIc.js";import"./esm-D9ex0nT9.js";import{p as g}from"./global-oyc8MvKQ.js";import"./esm-B2mzPl6v.js";import"./bundle-mjs-BuAB9hD1.js";import"./user-DdN2xDWa.js";import"./serverClient-h83xvsoB.js";import{t as M}from"./router-b6Y7vD7A.js";import"./utils-CfbU6uFB.js";import"./useBaseQuery--g5SyDb6.js";import{n as O}from"./useInfiniteServerClient-DYu8wLRM.js";import{g as f}from"./SocketClient-BXQHVNG_.js";import"./useQueryClient-CeysrMlA.js";import"./apiClient-cmnl9Hzw.js";import"./notifications-Cig9DoL1.js";import"./utils-D5nhA-44.js";import"./deviceInfo-D74C9RbC.js";import"./auth-Bz7Q9vHJ.js";import"./musicPlaylists-CRSZ6nMQ.js";import"./esm-DZQicoaf.js";import"./contextMenuItems-CnT1Q0_S.js";import"./_plugin-vue_export-helper-pDp7unP0.js";import"./AppLogoSquare-BPMeAXGY.js";import"./TMDBImage-d52ApFzb.js";import"./MoooomIcon-DKjYVqpr.js";import"./dist-DxpR9Lgz.js";import{t as Q}from"./ScrollContainer-CLVULms8.js";import"./CardIndicator-CpeBBLGq.js";import{t as W}from"./NMCard-DKwCbm1v.js";import{t as X}from"./NotFound-Cf7-T-fR.js";import{t as Y}from"./PersonCard-CgngAxpy.js";import{n as Z,t as ee}from"./EmptyCard-DXmKDZgk.js";import"./NoResultImage-DymDpmFT.js";q();F();var te="grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 2xl:grid-cols-4 3xl:grid-cols-5 4xl:grid-cols-5 5xl:grid-cols-9 tv:grid-cols-6",re="grid-cols-2 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-7 3xl:grid-cols-9 4xl:grid-cols-10 5xl:grid-cols-[repeat(14,minmax(0,1fr))] tv:grid-cols-6",oe=U({__name:"Desktop",setup(ae){const l=L(),{data:a,fetchNextPage:_,hasNextPage:v,isError:B}=O({queryKey:["libraries",l?.params.id??l.name],limit:20,keepForever:!0});C(()=>{J(),E(null),A(null),document.dispatchEvent(new Event("sidebar")),setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},1e3)}),w(a,r=>{r&&setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},1e3)});const N=z(()=>{const r=a.value?.pages?.[0]?.data?.[0];return r&&H.value&&r.media_type!=="person"&&r.media_type!=="genres"});K(()=>{stop(),E(null)});const I=d(),P=d();C(()=>{P.value=l.params.id??l.name,v.value&&(a?.value?.pages?.length??0)<10&&_(),document.addEventListener("scrollToDiv",r=>{I.value?.scrollTo({top:r.detail.top-100,behavior:"smooth"})})}),D(()=>{document.dispatchEvent(new Event("indexer"))}),w(a,r=>{r&&v.value&&r?.pages?.length<10&&_()});const R=d(),S=d();function u(r,x){R.value=x,S.value.show(r)}return(r,x)=>(o(),n(t(j),null,{default:c(()=>[V(t(G),{fullscreen:!0},{default:c(()=>[t(B)&&!t(a)?.pages?(o(),n(X,{key:0})):(o(),n(Q,{key:1,id:t(M).currentRoute.value.fullPath,"auto-hide":!0,static:!0},{default:c(()=>[(o(),s("div",{key:t(M).currentRoute.value.params?.id,class:k([{"pb-24":t(g)&&!t(f),"pb-40":t(g)&&t(f),"children:pb-4 sm:children:pb-3":!t(g)&&t(f)},"z-0 flex flex-col gap-4 rounded-3xl border-0 p-4 w-available scrollbar-none border-surface-3 transform-gpu will-change-auto"])},[$("div",{class:k(`grid w-full gap-4 scroll-smooth music-showing:pb-0 whitespace-pre ${N.value?te:re}`)},[(o(!0),s(p,null,b(t(a)?.pages??[],(h,T)=>(o(),s(p,{key:T},[h.data.length>0?(o(!0),s(p,{key:0},b(h.data??[],(e,m)=>(o(),s(p,null,[e?.media_type==="tv"||e?.media_type==="movie"||e?.media_type==="collection"||e?.media_type==="specials"?(o(),n(W,{key:e.id,data:e,index:m,onContextMenu:i=>u(i,e)},null,8,["data","index","onContextMenu"])):e?.media_type==="person"?(o(),n(Y,{key:`${e.id}_person`,data:e,index:m,onContextMenu:i=>u(i,e)},null,8,["data","index","onContextMenu"])):e?.media_type==="genres"?(o(),n(Z,{key:`${e.id}_genres`,data:e,index:m,onContextMenu:i=>u(i,e)},null,8,["data","index","onContextMenu"])):y("",!0)],64))),256)):t(a)?.pages?.[0]?.data?.length===0?(o(),n(ee,{key:1})):y("",!0)],64))),128))],2)],2))]),_:1},8,["id"]))]),_:1})]),_:1}))}}),lt=oe;export{lt as default};
