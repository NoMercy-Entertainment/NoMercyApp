import{At as f,C as m,Et as v,K as d,S as a,T as o,Y as l,Z as _,c as h,g as w,j as k,k as S}from"./i18n-DXLa9EKW.js";import"./ionic-B9XaRwPa.js";import"./vue-core-DBpBuPMK.js";import{c as y}from"./query-DJ5OsBey.js";import{F as x,Gn as g,H as C,I as b,Kn as B,Nt as j,Qi as i,Qn as D,Ri as L,Rn as n,Sn as Q,bn as E,ea as u,k as e,xn as I}from"./index-CLM6Y7vI.js";import{t as N}from"./ripperSocket-AoTnHHCA.js";import{t as P}from"./screensaver-C9dR2nxL.js";import{t as F}from"./EmptyBackdrop-Cw8_df0V.js";import{t as H}from"./ServerCard-BHsJCpp2.js";h();var K={class:"flex h-full w-full flex-auto flex-col items-center justify-center gap-8"},R={class:"flex w-full flex-grow flex-col justify-between p-2 min-h-auto"},T={class:"mt-16 mb-4 w-full whitespace-pre-line"},V={class:"relative text-center text-lg font-semibold"},q={class:"tv:children:w-[30%] tv:mt-0 -mt-24 tv:-ml-8 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4"},A=k({__name:"Desktop",setup(G){const c=y();async function p(r){u(r);try{const{data:t}=await i(5).get("setup/server-info");if(!t.data?.setup_complete){n.value="/setup/post-install",await e.replace({name:"Post Install"});return}}catch{await e.replace({name:"Server offline"});return}await i().get("libraries").then(async({data:t})=>{L(t.data),D.value=!0,I.value=!0,setTimeout(async()=>{n.value==="/setup/select-servers"?await e.replace({name:"Home"}):await e.replace(n.value)},500)}).catch(async()=>{await e.replace({name:"Server offline"})})}return d(()=>{u(null),B(null),g(null),x(),b(),E(),P(),c.removeQueries(),C.value?.stop(),j.value?.stop(),N.value?.stop()}),(r,t)=>(l(),o("div",K,[S(F),a("div",R,[a("div",T,[a("h5",V,f(r.$t("Choose a server")),1)]),a("div",q,[(l(!0),o(w,null,_(v(Q),s=>(l(),m(H,{key:s.id,server:s,onclick:()=>p(s)},null,8,["server","onclick"]))),128))])])]))}}),X=A;export{X as default};
