import{u as z}from"./index-DTdhtOpC.js";import{s as B}from"./index-DuV8HmnF.js";import{aG as I,b7 as T,K as s,dI as r,az as j,ax as v,cv as q,j as f,o as d,a7 as a,x as t,aI as c,bQ as N,a as n,c as R,C as D,av as M,cl as P,a6 as p,t as u,bP as V,bD as A}from"./index-Dt4h7nLc.js";import{_ as F}from"./Avatar.vue_vue_type_script_setup_true_lang-CLx212fQ.js";import{_}from"./Button.vue_vue_type_script_setup_true_lang-DDD8n_-S.js";import{_ as E}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-DtsZYg60.js";import"./FloatingBackButton.vue_vue_type_script_setup_true_lang-Cj-1qF18.js";const G={class:"flex flex-col gap-4 col-span-2"},H={class:"flex gap-4"},K=["src"],L={class:"flex flex-col justify-start items-start flex-grow relative gap-2"},Q={class:"self-stretch flex-grow-0 flex-shrink-0 w-full text-sm text-left text-[#9ba1a6] whitespace-pre-line"},W=`Upload an image of max {{dimension}} pixels and {{size}} in size.
 We recommend a square image for best results.`,re=I({__name:"Desktop",setup(J){const{t:g}=T(),b=z(),o=s(),h=s(),l=s(r.value.avatarUrl),i=s(!0),x=`https://api${P}.nomercy.tv/avatar`,k=()=>{o.value.upload(),i.value=!0},w=()=>{b.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3}),A().get("/app_config").then(async({data:e})=>{r.value.avatarUrl=e.data.avatarUrl})},y=e=>{l.value=e.files[0].objectURL,i.value=!1},C=e=>{e.xhr.setRequestHeader("Authorization",`Bearer ${r.value.accessToken}`)},U=()=>{l.value=r.value.avatarUrl,o.value.clear()};j(()=>{setTimeout(()=>{var e;(e=o.value)!=null&&e.$el&&(o.value.$el.querySelector("span[files]").innerText=g("No file chosen"))},100)});const $=v(()=>({"--color-1":"rgb(var(--color-theme-1))","--color-2":"rgb(var(--color-theme-2))","--color-3":"rgb(var(--color-theme-3))","--color-4":"rgb(var(--color-theme-4))","--color-5":"rgb(var(--color-theme-5))","--color-6":"rgb(var(--color-theme-6))","--color-7":"rgb(var(--color-theme-7))","--color-8":"rgb(var(--color-theme-8))","--color-9":"rgb(var(--color-theme-9))","--color-10":"rgb(var(--color-theme-10))","--color-11":"rgb(var(--color-theme-11))","--color-12":"rgb(var(--color-theme-12))"})),S=v(()=>q("!flex !justify-center !items-center !px-4 !py-2 !gap-2 !rounded-lg !text-sm","select-none !w-auto !font-semibold !leading-[100%] !transition-transform !duration-150 !border-none !text-white","!bg-gradient-to-b from-[var(--color-11)] to-[var(--color-10)] hover:from-[var(--color-12)] hover:to-[var(--color-11)] active:from-[var(--color-10)] active:to-[var(--color-9)] dark:from-[var(--color-7)] dark:to-[var(--color-5)] dark:hover:from-[var(--color-8)] dark:hover:to-[var(--color-6)] dark:active:from-[var(--color-7)] dark:active:to-[var(--color-4)] button-filled ",`
				 shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--background-auto-11)/60%)_inset,0_22px_30px_-4px_rgba(var(--background-auto-11)/70%)]
				 dark:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--background-auto-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--background-auto-1)/70%)]
				 active:!shadow-none
				 active:!dark:shadow-none
			 `));return(e,m)=>(d(),f(c(V),null,{default:a(()=>[t(c(N),{fullscreen:!0},{default:a(()=>[t(E,{gridStyle:3,title:"Profile",allowAnyone:!0},{cta:a(()=>m[0]||(m[0]=[])),default:a(()=>[n("div",G,[n("div",H,[l.value?(d(),R("img",{key:0,ref_key:"image",ref:h,src:l.value,class:"w-60 min-w-60 h-auto aspect-square object-cover rounded-lg",alt:""},null,8,K)):(d(),f(F,{key:1,email:c(r).email,size:250,class:"w-60 min-w-60 h-auto aspect-square rounded-lg"},null,8,["email"])),n("div",L,[t(c(B),{onSelect:y,onBeforeSend:C,onUpload:w,url:x,"choose-label":e.$t("Choose image"),"cancel-label":e.$t("Cancel"),ref_key:"fileUpload",ref:o,name:"image",withCredentials:"",mode:"basic",accept:"image/*",maxFileSize:2*1024*1024,style:M($.value),class:D(S.value)},null,8,["choose-label","cancel-label","style","class"]),t(_,{id:"upload",color:"theme",startIcon:"cloudUpload",onClick:k,disabled:i.value},{default:a(()=>[p(u(e.$t("Upload image")),1)]),_:1},8,["disabled"]),n("p",Q,u(e.$t(W,{dimension:"2000x2000",size:"2MB"})),1),t(_,{id:"upload",color:"white",variant:"text",startIcon:"arrowCounterClockwise",onClick:U},{default:a(()=>[p(u(e.$t("Reset image")),1)]),_:1})])])])]),_:1})]),_:1})]),_:1}))}});export{re as default};
//# sourceMappingURL=Desktop-CNrzX5q2.js.map
