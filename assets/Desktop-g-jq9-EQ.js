import"./useBaseQuery-BjcRoUle.js";import"./useInfiniteServerClient-C6VvXOvL.js";import"./useQueryClient-6VbozcbB.js";import"./useQuery-8mENMoCn.js";import{Ac as e,Cc as v,Fs as y,Hs as h,Is as n,Ls as N,Ma as C,Mo as E,No as V,Oo as $,Rs as L,Ss as F,Ws as R,X as g,_c as b,_r as d,cr as w,dr as T,fo as j,gr as p,hc as _,ic as r,io as z,jc as D,ko as M,ks as O,oc as P,pi as W,sr as A,ui as X}from"./index-hMnv1PVv.js";import"./basecomponent-D_UEt3Di.js";import"./classnames-D1foEy1e.js";import"./button-B6tG3UZG.js";import"./baseicon-DOufG3vN.js";import"./musicPlaylists-fUguIxvl.js";import"./contextMenuItems-soWLGaJh.js";import"./_plugin-vue_export-helper-CEc1WwrB.js";import"./AppLogoSquare-BEiYFMZZ.js";import"./MoooomIcon-mzdi33MS.js";import"./DropdownMenu-BuJ_8xzG.js";import"./dist-BZgawwfv.js";import{t as q}from"./useServerClient-BS75nouq.js";import{t as G}from"./ScrollContainer-lexgnJNd.js";import"./CoverImage-nxFvTk7e.js";import"./MusicButton-BFtRsgCh.js";import"./BannerButton-YztOGtR-.js";import"./MediaLikeButton-uD0naBxE.js";import"./PlayerIcon-DXqyXStS.js";import"./Marquee-m0k8CZC0.js";import"./EqSpinner-LZjnBIW5.js";import"./FavoriteImage-DVti6z2A.js";import"./TrackLinks-CXzqeuqH.js";import"./BigPlayButton-Cq344GsB.js";import{t as J}from"./NotFound-J4n7D-lz.js";import"./ShareButton-VMvIQvXB.js";import{i as K,n as Q,r as U,t as Y}from"./TrackRow-BQrYSDND.js";F();E();var Z={class:"relative z-0 flex h-auto flex-shrink-0 flex-grow flex-col items-start justify-start self-stretch"},ee=R({__name:"Desktop",setup(te){const f=V(),{data:t,isError:B}=q({path:f.fullPath}),S=v(null),m=v(),s=v("");_(t,a=>{a&&(X(a?.name??null),c(a?.tracks??[],d.value,p.value,s.value),w(a?.color_palette?.cover))}),_(p,a=>{c(t.value?.tracks??[],d.value,a,s.value)}),_(d,a=>{c(t.value?.tracks??[],a,p.value,s.value)}),_(s,a=>{c(t.value?.tracks??[],d.value,p.value,a)});function c(a,i,l,u){const x=W(a??[],i,l,T);u===""?m.value=x:m.value=x?.filter(k=>k.name?.toLowerCase().includes(u?.toLowerCase?.())||k.artist_track?.some(H=>H.name.toLowerCase().includes(u?.toLowerCase?.()))||k.album_track?.[0]?.name.toLowerCase().includes(u?.toLowerCase?.()))??[]}$(()=>{t?.value?.tracks&&c(t?.value?.tracks??[],d.value,p.value,s.value),t.value?.color_palette?.cover&&w(t.value?.color_palette?.cover)}),M(()=>{document.getElementById("navbar")&&(document.getElementById("navbar").style.display="flex"),w(null),A(null)});const o=v();function I(){window.CSS.supports("container-type","scroll-state")||(Math.ceil(o.value?.$el?.getBoundingClientRect()?.top??500)<=67?(o.value?.$el?.classList.add("!bg-focus"),o.value?.$el?.firstChild?.classList.add("!bg-black/50")):(o.value?.$el?.classList.remove("!bg-focus"),o.value?.$el?.firstChild?.classList.remove("!bg-black/50")))}return(a,i)=>(r(),n(e(j),null,{default:b(()=>[h(e(z),{fullscreen:!0,class:"flex"},{default:b(()=>[e(B)&&!e(t)?(r(),n(J,{key:0})):(r(),n(G,{key:1,"auto-hide":!0,static:!0,onScroll:I},{default:b(()=>[!e(f).params.id||e(f).params.id&&e(t)?.id===e(f).params.id?(r(),L("div",{key:0,ref_key:"main",ref:S,class:"flex flex-col w-available h-available sm:rounded-2xl"},[h(U,{data:e(t)},null,8,["data"]),y("div",Z,[i[1]||(i[1]=y("div",{class:"pointer-events-none absolute z-0 h-96 w-full bg-spotifyBottom"},null,-1)),(r(),n(K,{key:e(t)?.id,data:e(t),filter:s.value,onFilterChange:i[0]||(i[0]=l=>s.value=l)},null,8,["data","filter"])),y("div",{class:D([{"pb-24":e(C)&&!e(g),"pb-40":e(C)&&e(g),"pb-4 sm:pb-4":!e(C)&&e(g)},"flex flex-1 flex-shrink-0 flex-col items-start justify-start self-stretch bg-surface-3 flex-grow-1 gap-0.5 sm:p-4"])},[(r(),n(Q,{key:e(t)?.id,ref_key:"sortHeader",ref:o})),(r(!0),L(O,null,P(m.value,(l,u)=>(r(),n(Y,{key:l.id+l?.favorite,data:l,"display-list":m.value,index:u},null,8,["data","display-list","index"]))),128))],2)])],512)):N("",!0)]),_:1}))]),_:1})]),_:1}))}}),$e=ee;export{$e as default};
