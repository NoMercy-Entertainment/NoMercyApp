import{aW as P,r as k,aX as G,aY as I,c as K,aZ as N,a as f}from"./index-CH0I4ZsZ.js";import{bc as n}from"./vendor-Dgtccx1h.js";import{m as S}from"./musicPlaylists-CGhRwZ4V.js";import{d as c,B as $}from"./vue-ionic-Db_NiJFp.js";const D=(t,e)=>f().get(t);function H(t,e){return f().put(t,{data:e})}function L(t,e){return f().post(t,{data:e})}function O(t,e){return f().delete(t,{data:e})}function W(t,e){return f().patch(t,{data:e})}function Q(t){return t.map(e=>{let l;return e.method==="GET"?l=D:e.method==="PUT"?l=H:e.method==="POST"?l=L:e.method==="PATCH"?l=W:e.method==="DELETE"?l=O:l=e.command,{label:e.label,icon:e.icon,confirm:e.confirm,args:e.args,command:()=>{var m;return l((m=e.args)==null?void 0:m.url,X.value).then(()=>{var i,d;(i=e.args)!=null&&i.replaceKey&&document.dispatchEvent(new CustomEvent("mutateId",{detail:{id:(d=e.args)==null?void 0:d.replaceKey}}))})}}})}const V=c({}),U=c(),oo=$(()=>U.value);function eo(t){U.value=t}const B=c(null),X=$(()=>B.value);function ao(t){B.value=t}const Y=c([]),Z=c(),a=c();function to(t,e){var i,d,h,b,g,y,C,_,x,R,T,M,q,w,A,E;a.value=e;const l=[],m={label:n("Add to playlist"),icon:"mooooom-add",items:[{label:n("New Playlist"),icon:"mooooom-add",command:()=>{var o;alert((o=a.value)==null?void 0:o.id)}}]};S.value.length===0&&m.items.push({label:n("No playlist available"),icon:"mooooom-pause"});for(const o of S.value)m.items.push({label:o.name,icon:"mooooom-disk",command:()=>{var s;alert((s=a.value)==null?void 0:s.id)}});l.push(m),l.push({label:n("Save to your liked songs"),icon:"mooooom-heart",command:()=>{var o;alert((o=a.value)==null?void 0:o.id)}},{label:n("Add to queue"),icon:"mooooom-playlist1Add",command:()=>{var o;alert((o=a.value)==null?void 0:o.id)}},{separator:!0}),!P.value&&((i=a.value)!=null&&i.album_track)&&((h=(d=a.value)==null?void 0:d.album_track)==null?void 0:h.length)<2?l.push({label:n("Go to album"),icon:"mooooom-disk",command:()=>{var o,s,u,r,p,v;(u=(s=(o=a.value)==null?void 0:o.album_track)==null?void 0:s[0])!=null&&u.link&&k.push((v=(p=(r=a.value)==null?void 0:r.album_track)==null?void 0:p[0])==null?void 0:v.link)}}):!P.value&&((b=a.value)!=null&&b.album_track)&&((y=(g=a.value)==null?void 0:g.album_track)==null?void 0:y.length)>1&&l.push({label:n("Go to album"),icon:"mooooom-disk",items:(_=(C=a.value)==null?void 0:C.album_track)==null?void 0:_.map(o=>({label:o.name,icon:"mooooom-disk",command:()=>k.push(o.link)}))}),!G.value&&((x=a.value)!=null&&x.artist_track)&&((T=(R=a.value)==null?void 0:R.artist_track)==null?void 0:T.length)<2?l.push({label:n("Go to artist"),icon:"mooooom-user",command:()=>{var o,s,u,r,p,v;(u=(s=(o=a.value)==null?void 0:o.artist_track)==null?void 0:s[0])!=null&&u.link&&k.push((v=(p=(r=a.value)==null?void 0:r.artist_track)==null?void 0:p[0])==null?void 0:v.link)}}):!G.value&&((M=a.value)!=null&&M.artist_track)&&((w=(q=a.value)==null?void 0:q.artist_track)==null?void 0:w.length)>1&&l.push({label:n("Go to artist"),icon:"mooooom-user",items:(E=(A=a.value)==null?void 0:A.artist_track)==null?void 0:E.map(o=>({label:o.name,icon:"mooooom-user",command:()=>k.push(o.link)}))}),l.push({separator:!0},{label:n("Share"),icon:"mooooom-shareSquare",items:[{label:n("Copy page link"),icon:"mooooom-fileCopy",command:()=>I(window.location.href)},{label:n("Copy track link"),icon:"mooooom-fileCopy",command:()=>{var o,s,u,r;return a.value?I(`${(o=K.value)==null?void 0:o.serverBaseUrl}/${(s=a.value)==null?void 0:s.folder_id}${(u=a.value)==null?void 0:u.folder}${(r=a.value)==null?void 0:r.filename}?token=${N.value}`):{}}}]}),Y.value=l,Z.value.show(t)}export{V as a,Z as b,oo as c,ao as d,Q as m,to as o,eo as s,Y as t};
