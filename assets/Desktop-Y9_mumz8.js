import{aw as $,bu as j,I as H,J as q,c9 as Q,cz as r,e as u,a7 as W,aB as o,dz as X,b1 as Y,bo as n,bd as x,b7 as Z,o as i,et as ee,a as A,z as ae,cl as M,bG as se}from"./index-D3Ykw4sr.js";import{O as le,A as oe,S as ne}from"./octopusPlugin-CkIk8wt0.js";import{n as te}from"./subtitles-octopus-C7T3ERAH.js";import{D as re}from"./desktopUIPlugin-fKtprBfL.js";import{K as ue}from"./keyHandlerPlugin-DMlD99Kj.js";import{_ as ie}from"./NotFound.vue_vue_type_script_setup_true_lang-Ba0bYHLB.js";const ye=$({__name:"Desktop",setup(ce){const{data:N,isError:O}=j({}),e=H(),L=H();return q(N,s=>{var c,p,d,v,f,g,m,y,b,k,P,w,_,C,S,h,E,I,T,D;const l={muted:!1,controls:!1,preload:"auto",debug:!1,autoPlay:!0,playlist:(s==null?void 0:s.filter(a=>!!a.id))??[],controlsTimeout:3e3,doubleClickDelay:500,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2],accessToken:(c=X.value)==null?void 0:c.accessToken,basePath:(p=Y.value)==null?void 0:p.serverBaseUrl,forceTvMode:(n("android")||n("ios"))&&!n("mobile"),disableTouchControls:!1,disableMediaControls:"mediaSession"in navigator||n("capacitor"),renderAhead:100};e.value??(e.value=te("player1").setup(l)),(d=e.value)==null||d.once("back",()=>{x.back()});const V=new re;(v=e.value)==null||v.registerPlugin("desktopUI",V),(f=e.value)==null||f.usePlugin("desktopUI");const K=new le;(g=e.value)==null||g.registerPlugin("octopus",K),(m=e.value)==null||m.usePlugin("octopus");const F=new oe;(y=e.value)==null||y.registerPlugin("autoSkip",F),(b=e.value)==null||b.usePlugin("autoSkip");const G=new ue;(k=e.value)==null||k.registerPlugin("keyHandler",G),(P=e.value)==null||P.usePlugin("keyHandler");const J=new ne;(w=e.value)==null||w.registerPlugin("sync",J),(_=e.value)==null||_.usePlugin("sync"),(C=e.value)==null||C.once("play",()=>{var a;(a=e.value)==null||a.enterFullscreen()}),(S=e.value)==null||S.on("playlistComplete",()=>{var a;(a=e.value)==null||a.dispose(),x.back()}),(h=e.value)==null||h.once("back",()=>{}),(E=e.value)==null||E.on("play",()=>{r(!0)}),(I=e.value)==null||I.on("pause",()=>{r(!1)}),(T=e.value)==null||T.on("ready",()=>{var z;Z.stop();const a=new MutationObserver(R=>R.filter(t=>t.type==="childList").forEach(t=>{t.addedNodes.forEach(B=>{B instanceof HTMLElement&&B.tagName==="VIDEO"&&console.log("video removed")})})),U=(z=e.value)==null?void 0:z.getVideoElement();U&&a.observe(U,{childList:!0,subtree:!0})}),(D=e.value)==null||D.on("item",()=>{var a;(a=e.value)==null||a.play()})}),Q(()=>{var s;(s=e.value)==null||s.dispose(),r(!1)}),(s,l)=>(i(),u(o(se),null,{default:W(()=>[o(O)?(i(),u(ie,{key:0})):(i(),u(ee,{key:1,to:"body",keepAlive:!0},[A("div",{ref_key:"playerContainer",ref:L,class:ae(["absolute inset-0 flex h-full w-full overflow-clip bg-black z-1199",{"mb-28":o(M),"mb-0":!o(M)}])},l[0]||(l[0]=[A("div",{id:"player1",class:"group nomercyplayer"},null,-1)]),2)]))]),_:1}))}});export{ye as default};
//# sourceMappingURL=Desktop-Y9_mumz8.js.map
