import"./useBaseQuery-D57ZuLPS.js";import"./useInfiniteServerClient-BLcID8EK.js";import"./useQueryClient-Bl4DAYlZ.js";import"./useQuery-BF6OtE7O.js";import{As as s,Ha as V,Jo as E,Ka as N,Ms as T,Ta as $,Ua as z,Us as y,Vs as v,Wi as C,X as b,Ys as _,_a as D,cs as F,hs as P,ln as R,lr as W,ls as h,nc as e,or as j,os as g,pn as A,ps as L,qa as M,rc as O,ss as u,ts as U,un as w,vn as p,yn as c,za as q}from"./index-ZKQbrg8Z.js";import"./basecomponent-B8e8UXEH.js";import"./classnames-BTI3HSIl.js";import"./button-DIHWqvLF.js";import"./baseicon-B66JlO4h.js";import"./musicPlaylists-R332J951.js";import"./contextMenuItems-EQCd3vHT.js";import"./_plugin-vue_export-helper-CksOYaUN.js";import"./AppLogoSquare-DogIkIvF.js";import"./OptimizedIcon-9z037yvI.js";import"./DropdownMenu-Xe-wNz03.js";import"./dist-DNENut2S.js";import{t as J}from"./useServerClient-Ctvcpehw.js";import{t as K}from"./ScrollContainer-CqTFlw_0.js";import"./CoverImage-CZSZO043.js";import"./MusicButton-CUB9gkql.js";import"./MediaLikeButton-Cn30nBrC.js";import"./PlayerIcon-Dqy_cHqK.js";import"./Marquee-B12oqHx6.js";import"./EqSpinner-CyPkwR-5.js";import"./BannerButton-B5nJ97Kz.js";import"./FavoriteImage-BEuD_EPu.js";import"./TrackLinks-CWFqg_G9.js";import"./BigPlayButton-Bp6AikDU.js";import{t as X}from"./NotFound-CNWq8Yeg.js";import"./ShareButton-BqOMXlxp.js";import{i as Y,n as G,r as Q,t as Z}from"./TrackRow-CCw0Xgy_.js";E();N();q();var ee={class:"relative z-0 flex h-auto flex-shrink-0 flex-grow flex-col items-start justify-start self-stretch"},te=P({__name:"Desktop",setup(ae){const m=M(),{data:t,isError:B}=J({path:m.fullPath}),S=_(null),f=_(),r=_("");v(t,a=>{a&&(j(a?.name??null),d(a?.tracks??[],c.value,p.value,r.value),w(a?.color_palette?.cover))}),v(p,a=>{d(t.value?.tracks??[],c.value,a,r.value)}),v(c,a=>{d(t.value?.tracks??[],a,p.value,r.value)}),v(r,a=>{d(t.value?.tracks??[],c.value,p.value,a)});function d(a,i,l,n){const x=W(a??[],i,l,A);n===""?f.value=x:f.value=x?.filter(k=>k.name?.toLowerCase().includes(n?.toLowerCase?.())||k.artist_track?.some(I=>I.name.toLowerCase().includes(n?.toLowerCase?.()))||k.album_track?.[0]?.name.toLowerCase().includes(n?.toLowerCase?.()))??[]}V(()=>{t?.value?.tracks&&d(t?.value?.tracks??[],c.value,p.value,r.value),t.value?.color_palette?.cover&&w(t.value?.color_palette?.cover)}),z(()=>{document.getElementById("navbar")&&(document.getElementById("navbar").style.display="flex"),w(null),R(null)});const o=_();function H(){window.CSS.supports("container-type","scroll-state")||(Math.ceil(o.value?.$el?.getBoundingClientRect()?.top??500)<=67?(o.value?.$el?.classList.add("!bg-focus"),o.value?.$el?.firstChild?.classList.add("!bg-black/50")):(o.value?.$el?.classList.remove("!bg-focus"),o.value?.$el?.firstChild?.classList.remove("!bg-black/50")))}return(a,i)=>(s(),u(e($),null,{default:y(()=>[L(e(D),{fullscreen:!0,class:"flex"},{default:y(()=>[e(B)&&!e(t)?(s(),u(X,{key:0})):(s(),u(K,{key:1,"auto-hide":!0,static:!0,onScroll:H},{default:y(()=>[!e(m).params.id||e(m).params.id&&e(t)?.id===e(m).params.id?(s(),h("div",{key:0,ref_key:"main",ref:S,class:"flex flex-col w-available h-available sm:rounded-2xl"},[L(Q,{data:e(t)},null,8,["data"]),g("div",ee,[i[1]||(i[1]=g("div",{class:"pointer-events-none absolute z-0 h-96 w-full bg-spotifyBottom"},null,-1)),(s(),u(Y,{key:e(t)?.id,data:e(t),filter:r.value,onFilterChange:i[0]||(i[0]=l=>r.value=l)},null,8,["data","filter"])),g("div",{class:O([{"pb-24":e(C)&&!e(b),"pb-40":e(C)&&e(b),"pb-4 sm:pb-4":!e(C)&&e(b)},"flex flex-1 flex-shrink-0 flex-col items-start justify-start self-stretch bg-surface-3 flex-grow-1 gap-0.5 sm:p-4"])},[(s(),u(G,{key:e(t)?.id,ref_key:"sortHeader",ref:o})),(s(!0),h(U,null,T(f.value,(l,n)=>(s(),u(Z,{key:l.id+l?.favorite,data:l,"display-list":f.value,index:n},null,8,["data","display-list","index"]))),128))],2)])],512)):F("",!0)]),_:1}))]),_:1})]),_:1}))}}),$e=te;export{$e as default};
