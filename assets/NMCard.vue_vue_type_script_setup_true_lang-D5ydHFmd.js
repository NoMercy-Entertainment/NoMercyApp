import{e as r,p as _,k as B,aU as j,aV as A,j as M}from"./index-LeZxK_z9.js";import{s as $,m as q,d as N,a as S}from"./contextMenuItems-DkaBXR7u.js";import{_ as h}from"./TMDBImage.vue_vue_type_script_setup_true_lang-DLbqOU7b.js";import{_ as V}from"./CardIndicator.vue_vue_type_script_setup_true_lang-02vyumGy.js";import{$ as L,B as f,k as P,c as R,b as F,o as d,G as U,v as m,a0 as u,p as D,j as o,z as k,h as p,x as g,F as E}from"./vue-ionic-9j_oSDCB.js";const G={class:"w-full h-full overflow-clip rounded-lg inset-0 absolute"},O={key:0,class:"absolute inset-0 h-full w-full"},T={class:"absolute bottom-0 left-0 h-full max-h-24 w-full max-w-[66%]"},H={key:1,class:"absolute inset-0 h-full w-full"},I={class:"absolute bottom-4 left-4 w-full max-w-[66%]"},J={class:"z-10 w-auto text-xl font-bold line-clamp-2 leading-[1.2] text-neutral-950 dark:text-neutral-100 empty:hidden dark:font-medium"},K={class:"z-10 w-auto flex-shrink-0 flex-grow-0 self-stretch text-xs font-semibold line-clamp-2 leading-[1.2] text-neutral-950 dark:text-neutral-100 empty:hidden dark:font-medium text-wrap"},tt=L({__name:"NMCard",props:{data:{type:Object,required:!0},watch:{type:Boolean,required:!1,default:!1},disableAutoAspect:{type:Boolean,required:!1,default:!1},context_menu_items:{type:Array,required:!1,default:()=>[]}},setup(a){const l=a,y=f(()=>{var t,e,s;return`scroll_${(s=(e=(t=l.data.titleSort)==null?void 0:t[0])==null?void 0:e.toUpperCase)==null?void 0:s.call(e)}`}),b=f(()=>r.value&&!l.disableAutoAspect),c=f(()=>l.data[r.value?"backdrop":"poster"]),w=f(()=>{var t,e,s,n;return(e=(t=l.data)==null?void 0:t.color_palette)!=null&&e[b.value?"backdrop":"poster"]?_((n=(s=l.data)==null?void 0:s.color_palette)==null?void 0:n[b.value?"backdrop":"poster"]).replace(/,/gu," ").replace(")","").replace("rgb(",""):""});function C(t){l.context_menu_items&&($(q(l.context_menu_items)),N(l.data),S.value.show(t))}function z(t){var e;(e=l.data)!=null&&e.link.includes("watch")||(t!=null&&t.backdrop&&B(t==null?void 0:t.backdrop),t!=null&&t.poster&&j(t.poster),t.title&&A(t.title),t.color_palette&&M(t.color_palette.poster))}return(t,e)=>{var n,v;const s=P("RouterLink");return(n=a.data)!=null&&n.link?(d(),R(s,{key:0,"data-scroll":y.value,"data-card":(v=a.data)==null?void 0:v.link,onclick:()=>z(a.data),to:a.data.link,"no-ring":"",class:m(["group/card frosting flex flex-col h-full items-center focus-outline relative rounded-lg select-none shadow-[0px_0px_0_1px_rgb(var(--color-focus,var(--color-theme-6))/70%)] w-full z-0 bg-auto-50/70 flex-grow-0",u(r)?"aspect-backdrop":"aspect-poster"]),style:U(`--color-focus: ${w.value};`),onContextmenu:e[0]||(e[0]=i=>C(i))},{default:D(()=>{var i,x;return[o("div",G,[e[3]||(e[3]=o("div",{class:"backdropCard-overlay"},null,-1)),k(h,{path:c.value,title:a.data.title,loading:"lazy",size:u(r)?330:180,aspect:u(r)?"backdrop":"poster","color-palette":(i=a.data.color_palette)==null?void 0:i[u(r)?"backdrop":"poster"],"class-name":"h-full overflow-clip rounded-lg"},null,8,["path","title","size","aspect","color-palette"]),u(r)?(d(),p(E,{key:0},[a.data.logo?(d(),p("div",O,[e[1]||(e[1]=o("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-neutral-100 via-neutral-100 dark:from-neutral-950 dark:via-neutral-950/60"},null,-1)),o("div",T,[k(h,{path:a.data.logo,title:a.data.title,"color-palette":(x=a.data.color_palette)==null?void 0:x.logo,size:500,loading:"lazy",class:"w-auto object-contain h-available object-[0_0%] max-h-inherit !duration-700 children:!duration-700","class-name":"mr-auto p-4 !duration-700 children:!duration-700",type:"logo"},null,8,["path","title","color-palette"])])])):(d(),p("div",H,[e[2]||(e[2]=o("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-neutral-100 via-neutral-100 dark:from-neutral-950 dark:via-neutral-950/60"},null,-1)),o("div",I,[o("p",J,g(a.data.title),1)])]))],64)):(d(),p("div",{key:1,class:m(["flex flex-col justify-start items-start w-full h-12 z-0 absolute left-0 transition-all duration-200 px-2 py-1 group-hover/card:-bottom-0 text-left",{"-bottom-20":c.value,"bottom-0":!c.value}])},[o("div",{class:m(["absolute inset-0 z-0 transition-all duration-200 bg-neutral-100/80 dark:bg-neutral-950/80",{"opacity-0 group-hover/card:opacity-100":c.value}])},null,2),o("p",K,g(a.data.title),1)],2)),k(V,{data:a.data},null,8,["data"])])]}),_:1},8,["data-scroll","data-card","onclick","to","class","style"])):F("",!0)}}});export{tt as _};
