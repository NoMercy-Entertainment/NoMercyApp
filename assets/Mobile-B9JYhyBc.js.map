{"version":3,"file":"Mobile-B9JYhyBc.js","sources":["../../src/views/Base/Libraries/Mobile.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport {IonPage, IonContent, onIonViewWillEnter} from '@ionic/vue';\n\nimport {type PropType} from 'vue';\nimport type {HomeItem} from '@/types/api/base/home';\nimport {type Component, getMutating, getMutation, getQuery, queryKey} from '@/lib/routerHelper';\n\nimport router from '@/router';\nimport {useRoute} from 'vue-router';\n\nconst props = defineProps({\n  options: {\n    type: Object as PropType<Component<HomeItem>[] & { queryKey?: string[], path?: string }>,\n    required: false,\n    default: () => ({\n      keepForever: true,\n      queryKey: queryKey(),\n    }),\n  },\n});\n\nconst route = useRoute();\nconst routeName = router.currentRoute.value.name;\n\nconst isMutating = getMutating({queryKey: props.options?.queryKey, path: '/libraries/mobile'});\n\nconst {data: homeData} = getQuery({queryKey: props.options.queryKey, path: '/libraries/mobile'});\n\nconst {data: mutatedData, mutate} = getMutation({queryKey: props.options.queryKey, homeData: homeData});\n\nonIonViewWillEnter(() => {\n  if (!homeData.value) return;\n\n  if (route.name !== routeName) return;\n\n  const mutations = homeData.value?.filter?.(item => item?.update?.when == 'pageLoad') ?? [];\n  mutate(mutations);\n});\n\n</script>\n\n<template>\n  <ion-page>\n    <ion-content :fullscreen=\"true\">\n      <template v-if=\"!isMutating && (mutatedData?.every?.(d => d.component) || homeData?.every?.(d => d.component))\">\n        <component\n            v-for=\"(render, index) in mutatedData ?? homeData\"\n            :index=\"index\"\n            :key=\"render.id\"\n            :is=\"render.component\"\n            v-bind=\"render.props\"\n        />\n      </template>\n    </ion-content>\n  </ion-page>\n</template>\n"],"names":["props","__props","route","useRoute","routeName","router","isMutating","getMutating","_a","homeData","getQuery","mutatedData","mutate","getMutation","onIonViewWillEnter","mutations","_b","item"],"mappings":"gUAUA,MAAMA,EAAQC,EAWRC,EAAQC,EAAS,EACjBC,EAAYC,EAAO,aAAa,MAAM,KAEtCC,EAAaC,EAAY,CAAC,UAAUC,EAAAR,EAAM,UAAN,YAAAQ,EAAe,SAAU,KAAM,oBAAoB,EAEvF,CAAC,KAAMC,CAAQ,EAAIC,EAAS,CAAC,SAAUV,EAAM,QAAQ,SAAU,KAAM,mBAAA,CAAoB,EAEzF,CAAC,KAAMW,EAAa,OAAAC,CAAU,EAAAC,EAAY,CAAC,SAAUb,EAAM,QAAQ,SAAU,SAAAS,CAAA,CAAmB,EAEtG,OAAAK,EAAmB,IAAM,SAGvB,GAFI,CAACL,EAAS,OAEVP,EAAM,OAASE,EAAW,OAExB,MAAAW,IAAYC,GAAAR,EAAAC,EAAS,QAAT,YAAAD,EAAgB,SAAhB,YAAAQ,EAAA,KAAAR,EAAyBS,GAAQ,OAAA,QAAAT,EAAAS,GAAA,YAAAA,EAAM,SAAN,YAAAT,EAAc,OAAQ,eAAe,CAAC,EACzFI,EAAOG,CAAS,CAAA,CACjB"}