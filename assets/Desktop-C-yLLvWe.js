import"./useBaseQuery-B_FYPFZb.js";import"./useInfiniteServerClient-CWcViavg.js";import"./useQueryClient-DgPzfFPv.js";import"./useQuery-Pvalhcdd.js";import{Ai as $,As as u,Ds as z,Jo as B,Ta as S,Us as a,Vt as D,Ys as l,_a as T,_r as q,as as j,fs as p,hs as A,ls as N,nc as i,oc as d,os as n,ps as o,r as R,rc as V,ri as r,ss as f,za as M}from"./index-vyVLvOi8.js";import"./basecomponent-D6rczaiw.js";import"./classnames-BTI3HSIl.js";import"./button-BQfVwx2r.js";import"./baseicon-Cjv8Z3Ps.js";import"./times-BZxdTau8.js";import"./_plugin-vue_export-helper-CksOYaUN.js";import"./AppLogoSquare-BgwLcZ1v.js";import"./OptimizedIcon-D7Ie-ZMM.js";import{n as I}from"./dist-DUCvGm8z.js";import"./md5-B8TrtBu6.js";import{t as L}from"./fileupload-CcVty3Fy.js";import"./useServerClient-43vBeAdz.js";import"./ScrollContainer-CJROGVVc.js";import"./useMounted-AtEPZG8E.js";import"./RipperOverlay-CKy2QvEq.js";import"./HubConnection-A53UwK20.js";import"./ripperSocket-LgGJh6wm.js";import{t as _}from"./Button-B8cEKPXx.js";import"./FloatingBackButton-BXHwy7dP.js";import{t as P}from"./DashboardLayout-n5br9qOP.js";import{t as E}from"./Avatar-DIzTQnwV.js";B();M();var F={class:"flex flex-col gap-4 col-span-2"},H={class:"flex gap-4"},J=["src"],W={class:"flex flex-col justify-start items-start flex-grow relative gap-2"},Y={class:"self-stretch flex-grow-0 flex-shrink-0 w-full text-sm text-left text-[#9ba1a6] whitespace-pre-line"},G=`Upload an image of max {{dimension}} pixels and {{size}} in size.
 We recommend a square image for best results.`,K=A({__name:"Desktop",setup(O){const{t:v}=I(),h=R(),t=l(),g=l(),s=l(r.value.avatarUrl),c=l(!0),x=`https://api${q}.nomercy.tv/avatar`;function b(){t.value.upload(),c.value=!0}function k(){h.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3}),D().get("/app_config").then(async({data:e})=>{r.value.avatarUrl=e.data.avatarUrl})}function w(e){s.value=e.files[0].objectURL,c.value=!1}function y(e){e.xhr.setRequestHeader("Authorization",`Bearer ${r.value.accessToken}`)}function U(){s.value=r.value.avatarUrl,t.value.clear()}z(()=>{setTimeout(()=>{t.value?.$el&&(t.value.$el.querySelector("span[files]").textContent=v("No file chosen"))},100)});const C=j(()=>$("!flex !justify-center !items-center !px-4 !py-2 !gap-2 !rounded-lg !text-sm","select-none !w-auto !font-semibold !leading-[100%] !transition-transform !duration-150 !border-none !text-white","!bg-gradient-to-b from-[var(--color-theme-11)] to-[var(--color-theme-10)] hover:from-[var(--color-theme-12)] hover:to-[var(--color-theme-11)] active:from-[var(--color-theme-10)] active:to-[var(--color-theme-9)] dark:from-[var(--color-theme-8)] dark:to-[var(--color-theme-5)] dark:hover:from-[var(--color-theme-8)] dark:hover:to-[var(--color-theme-6)] dark:active:from-[var(--color-theme-8)] dark:active:to-[var(--color-theme-4)] button-filled ",`
				 shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgb(from_var(--surface-11)_r_g_b/60%)_inset,0_22px_30px_-4px_rgb(from_var(--surface-11)_r_g_b/70%)]
				 dark:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--surface-1/30%)_inset,0_22px_30px_-4px_rgba(var(--surface-1/70%)]
				 active:!shadow-none
				 active:!dark:shadow-none
			 `));return(e,m)=>(u(),f(i(S),null,{default:a(()=>[o(i(T),{fullscreen:!0},{default:a(()=>[o(P,{"allow-anyone":!0,"grid-style":3,title:"Profile"},{cta:a(()=>[...m[0]||(m[0]=[])]),default:a(()=>[n("div",F,[n("div",H,[s.value?(u(),N("img",{key:0,ref_key:"image",ref:g,src:s.value,alt:"",class:"w-60 min-w-60 h-auto aspect-square object-cover rounded-lg"},null,8,J)):(u(),f(E,{key:1,email:i(r).email,size:250,class:"w-60 min-w-60 h-auto aspect-square rounded-lg"},null,8,["email"])),n("div",W,[o(i(L),{ref_key:"fileUpload",ref:t,"cancel-label":e.$t("Cancel"),"choose-label":e.$t("Choose image"),class:V(C.value),"max-file-size":2*1024*1024,url:x,accept:"image/*",mode:"basic",name:"image","with-credentials":"",onSelect:w,onUpload:k,onBeforeSend:y},null,8,["cancel-label","choose-label","class"]),o(_,{id:"upload",disabled:c.value,color:"theme","start-icon":"cloudUpload",onClick:b},{default:a(()=>[p(d(e.$t("Upload image")),1)]),_:1},8,["disabled"]),n("p",Y,d(e.$t(G,{dimension:"2000x2000",size:"2MB"})),1),o(_,{id:"upload",color:"white","start-icon":"arrowCounterClockwise",variant:"text",onClick:U},{default:a(()=>[p(d(e.$t("Reset image")),1)]),_:1})])])])]),_:1})]),_:1})]),_:1}))}}),ye=K;export{ye as default};
