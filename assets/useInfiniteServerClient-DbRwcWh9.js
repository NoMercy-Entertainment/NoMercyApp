import{n as d,t as v}from"./useBaseQuery-CYfJwrsk.js";import{C as y,Ka as m,T as g,Tr as p,qa as l,w as x,wr as b}from"./index-DHmO9d-Y.js";var R=class extends d{constructor(e,s){super(e,s)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:g()})}getOptimisticResult(e){return e.behavior=g(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,s){const{state:r}=e,t=super.createResult(e,s),{isFetching:a,isRefetching:u,isError:i,isRefetchError:c}=t,n=r.fetchMeta?.fetchMore?.direction,h=i&&n==="forward",o=a&&n==="forward",f=i&&n==="backward",P=a&&n==="backward";return{...t,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:y(s,r.data),hasPreviousPage:x(s,r.data),isFetchNextPageError:h,isFetchingNextPage:o,isFetchPreviousPageError:f,isFetchingPreviousPage:P,isRefetchError:c&&!h&&!f,isRefetching:u&&!o&&!P}}};function w(e,s){return v(R,e,s)}m();function I(e){if(e?.queryKey)return e?.queryKey;const s=l(),r=[];return(e?.path??s.path)?.split("/").slice(1).forEach(t=>{t.includes("?")?(r.push(t.split("?")[0]),r.push(t.split("?")[1].split("=")[1])):r.push(t)}),e?.queryKey??r}function M(e){const r=l();return w({...e,queryKey:e?.queryKey??(e?.path??r.fullPath).split("/").slice(1),enabled:!!p.value?.id&&e?.enabled,retry:0,staleTime:e?.keepForever?1/0:1e3*60*5,retryOnMount:!1,refetchOnMount:!0,refetchOnWindowFocus:!1,refetchOnReconnect:!0,initialPageParam:0,getNextPageParam:t=>t.has_more?t.next_page:void 0,getPreviousPageParam:t=>t.has_more?t.next_page-2:void 0,queryFn:({pageParam:t=0,signal:a})=>new Promise((u,i)=>b().get(e?.path??r.fullPath,{signal:a,params:{page:t,version:e?.version,take:e?.limit??3}}).then(c=>{u(c.data)}).catch(i))})}var F=M;export{F as n,I as t};
