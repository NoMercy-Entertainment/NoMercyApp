import{$ as de,As as X,Cs as _,Fc as C,Fs as fe,Gs as k,Ha as Ne,Is as f,Kr as ye,Ks as Ue,Ls as p,Mc as F,Mt as j,Ns as Ge,Oi as He,Pc as H,Qs as Ye,Rs as x,Sc as Ze,Tt as Xe,U as M,Us as w,X as R,Ya as Je,Yi as Qe,Ys as he,Z as ee,Zs as g,_c as We,ac as l,dc as se,di as $e,dt as Y,ec as et,ft as ge,ga as xe,gc as T,jc as c,jr as O,ki as tt,lc as te,mt as A,nc as ne,oc as Ae,pa as Q,pt as re,qs as nt,rc as we,sa as q,sc as Ke,uc as it,ut as le,vc as K,vt as at,wc as y,ws as ze,xt as _e,yc as ot,zs as h}from"./index-CuSpQz8J.js";import{J as st,P as rt,S as Ee,U as lt,X as W,ct as ut,d as ke,et as ct,j as mt,m as Le,n as dt,st as ue,t as Te,w as V,y as ft}from"./basecomponent-B83kBG3Z.js";import{n as ce,t as ht}from"./portal-BCo7wL1I.js";import{i as vt}from"./button-CmmjfXGz.js";import{t as pt}from"./baseicon-B6AUn7fj.js";import{c as Pe,t as me}from"./contextMenuItems--HScIf7E.js";import{a as Fe,c as bt,t as be}from"./render-heCHlPDH.js";import{c as It,i as z,l as yt,m as Z,n as gt,p as Ce,r as xt,s as wt}from"./imageModal-DRWMRF3J.js";import{t as _t}from"./AppLogoSquare-D29JkzSz.js";import{t as kt}from"./TMDBImage-BEtz4wC0.js";import{t as $}from"./MoooomIcon-Cg0ItCLV.js";import{t as J}from"./MusicButton-B-tYGj9X.js";import{t as P}from"./PlayerIcon-CMvQMCUE.js";import{t as Lt}from"./SliderBar-B4q47tjH.js";var Pt=`
    .p-contextmenu {
        background: dt('contextmenu.background');
        color: dt('contextmenu.color');
        border: 1px solid dt('contextmenu.border.color');
        border-radius: dt('contextmenu.border.radius');
        box-shadow: dt('contextmenu.shadow');
        min-width: 12.5rem;
    }

    .p-contextmenu-root-list,
    .p-contextmenu-submenu {
        margin: 0;
        padding: dt('contextmenu.list.padding');
        list-style: none;
        outline: 0 none;
        display: flex;
        flex-direction: column;
        gap: dt('contextmenu.list.gap');
    }

    .p-contextmenu-submenu {
        position: absolute;
        display: flex;
        flex-direction: column;
        min-width: 100%;
        z-index: 1;
        background: dt('contextmenu.background');
        color: dt('contextmenu.color');
        border: 1px solid dt('contextmenu.border.color');
        border-radius: dt('contextmenu.border.radius');
        box-shadow: dt('contextmenu.shadow');
    }

    .p-contextmenu-item {
        position: relative;
    }

    .p-contextmenu-item-content {
        transition:
            background dt('contextmenu.transition.duration'),
            color dt('contextmenu.transition.duration');
        border-radius: dt('contextmenu.item.border.radius');
        color: dt('contextmenu.item.color');
    }

    .p-contextmenu-item-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
        color: inherit;
        padding: dt('contextmenu.item.padding');
        gap: dt('contextmenu.item.gap');
        user-select: none;
    }

    .p-contextmenu-item-label {
        line-height: 1;
    }

    .p-contextmenu-item-icon {
        color: dt('contextmenu.item.icon.color');
    }

    .p-contextmenu-submenu-icon {
        color: dt('contextmenu.submenu.icon.color');
        margin-left: auto;
        font-size: dt('contextmenu.submenu.icon.size');
        width: dt('contextmenu.submenu.icon.size');
        height: dt('contextmenu.submenu.icon.size');
    }

    .p-contextmenu-submenu-icon:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-contextmenu-item.p-focus > .p-contextmenu-item-content {
        color: dt('contextmenu.item.focus.color');
        background: dt('contextmenu.item.focus.background');
    }

    .p-contextmenu-item.p-focus > .p-contextmenu-item-content .p-contextmenu-item-icon {
        color: dt('contextmenu.item.icon.focus.color');
    }

    .p-contextmenu-item.p-focus > .p-contextmenu-item-content .p-contextmenu-submenu-icon {
        color: dt('contextmenu.submenu.icon.focus.color');
    }

    .p-contextmenu-item:not(.p-disabled) > .p-contextmenu-item-content:hover {
        color: dt('contextmenu.item.focus.color');
        background: dt('contextmenu.item.focus.background');
    }

    .p-contextmenu-item:not(.p-disabled) > .p-contextmenu-item-content:hover .p-contextmenu-item-icon {
        color: dt('contextmenu.item.icon.focus.color');
    }

    .p-contextmenu-item:not(.p-disabled) > .p-contextmenu-item-content:hover .p-contextmenu-submenu-icon {
        color: dt('contextmenu.submenu.icon.focus.color');
    }

    .p-contextmenu-item-active > .p-contextmenu-item-content {
        color: dt('contextmenu.item.active.color');
        background: dt('contextmenu.item.active.background');
    }

    .p-contextmenu-item-active > .p-contextmenu-item-content .p-contextmenu-item-icon {
        color: dt('contextmenu.item.icon.active.color');
    }

    .p-contextmenu-item-active > .p-contextmenu-item-content .p-contextmenu-submenu-icon {
        color: dt('contextmenu.submenu.icon.active.color');
    }

    .p-contextmenu-separator {
        border-block-start: 1px solid dt('contextmenu.separator.border.color');
    }

    .p-contextmenu-enter-from,
    .p-contextmenu-leave-active {
        opacity: 0;
    }

    .p-contextmenu-enter-active {
        transition: opacity 250ms;
    }

    .p-contextmenu-mobile .p-contextmenu-submenu {
        position: static;
        box-shadow: none;
        border: 0 none;
        padding-inline-start: dt('tieredmenu.submenu.mobile.indent');
        padding-inline-end: 0;
    }

    .p-contextmenu-mobile .p-contextmenu-submenu-icon {
        transition: transform 0.2s;
        transform: rotate(90deg);
    }

    .p-contextmenu-mobile .p-contextmenu-item-active > .p-contextmenu-item-content .p-contextmenu-submenu-icon {
        transform: rotate(-90deg);
    }
`,Ct=dt.extend({name:"contextmenu",style:Pt,classes:{root:function(e){var n=e.instance;return["p-contextmenu p-component",{"p-contextmenu-mobile":n.queryMatches}]},rootList:"p-contextmenu-root-list",item:function(e){var n=e.instance,a=e.processedItem;return["p-contextmenu-item",{"p-contextmenu-item-active":n.isItemActive(a),"p-focus":n.isItemFocused(a),"p-disabled":n.isItemDisabled(a)}]},itemContent:"p-contextmenu-item-content",itemLink:"p-contextmenu-item-link",itemIcon:"p-contextmenu-item-icon",itemLabel:"p-contextmenu-item-label",submenuIcon:"p-contextmenu-submenu-icon",submenu:"p-contextmenu-submenu",separator:"p-contextmenu-separator"}});_();var De={name:"AngleRightIcon",extends:pt};function Mt(t){return zt(t)||Kt(t)||At(t)||St()}function St(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function At(t,e){if(t){if(typeof t=="string")return ve(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(t,e):void 0}}function Kt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zt(t){if(Array.isArray(t))return ve(t)}function ve(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}function Et(t,e,n,a,s,i){return l(),h("svg",g({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Mt(e[0]||(e[0]=[f("path",{d:"M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z",fill:"currentColor"},null,-1)])),16)}De.render=Et;_();var Tt={name:"BaseContextMenu",extends:Te,props:{model:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},global:{type:Boolean,default:!1},breakpoint:{type:String,default:"960px"},tabindex:{type:Number,default:0},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Ct,provide:function(){return{$pcContextMenu:this,$parentInstance:this}}},Be={name:"ContextMenuSub",hostName:"ContextMenu",extends:Te,emits:["item-click","item-mouseenter","item-mousemove"],props:{items:{type:Array,default:null},menuId:{type:String,default:null},focusedItemId:{type:String,default:null},root:{type:Boolean,default:!1},visible:{type:Boolean,default:!1},level:{type:Number,default:0},templates:{type:Object,default:null},activeItemPath:{type:Object,default:null},tabindex:{type:Number,default:0}},methods:{getItemId:function(e){return"".concat(this.menuId,"_").concat(e.key)},getItemKey:function(e){return this.getItemId(e)},getItemProp:function(e,n,a){return e&&e.item?Ee(e.item[n],a):void 0},getItemLabel:function(e){return this.getItemProp(e,"label")},getItemLabelId:function(e){return"".concat(this.menuId,"_").concat(e.key,"_label")},getPTOptions:function(e,n,a){return this.ptm(e,{context:{item:n.item,active:this.isItemActive(n),focused:this.isItemFocused(n),disabled:this.isItemDisabled(n),index:a}})},isItemActive:function(e){return this.activeItemPath.some(function(n){return n.key===e.key})},isItemVisible:function(e){return this.getItemProp(e,"visible")!==!1},isItemDisabled:function(e){return this.getItemProp(e,"disabled")},isItemFocused:function(e){return this.focusedItemId===this.getItemId(e)},isItemGroup:function(e){return V(e.items)},onItemClick:function(e,n){this.getItemProp(n,"command",{originalEvent:e,item:n.item}),this.$emit("item-click",{originalEvent:e,processedItem:n,isFocus:!0})},onItemMouseEnter:function(e,n){this.$emit("item-mouseenter",{originalEvent:e,processedItem:n})},onItemMouseMove:function(e,n){this.$emit("item-mousemove",{originalEvent:e,processedItem:n,isFocus:!0})},getAriaSetSize:function(){var e=this;return this.items.filter(function(n){return e.isItemVisible(n)&&!e.getItemProp(n,"separator")}).length},getAriaPosInset:function(e){var n=this;return e-this.items.slice(0,e).filter(function(a){return n.isItemVisible(a)&&n.getItemProp(a,"separator")}).length+1},onEnter:function(){ut(this.$refs.container,this.level)},getMenuItemProps:function(e,n){return{action:g({class:this.cx("itemLink"),tabindex:-1},this.getPTOptions("itemLink",e,n)),icon:g({class:[this.cx("itemIcon"),this.getItemProp(e,"icon")]},this.getPTOptions("itemIcon",e,n)),label:g({class:this.cx("itemLabel")},this.getPTOptions("itemLabel",e,n)),submenuicon:g({class:this.cx("submenuIcon")},this.getPTOptions("submenuicon",e,n))}}},components:{AngleRightIcon:De},directives:{ripple:vt}},Ft=["tabindex"],Dt=["id","aria-label","aria-disabled","aria-expanded","aria-haspopup","aria-level","aria-setsize","aria-posinset","data-p-active","data-p-focused","data-p-disabled"],Bt=["onClick","onMouseenter","onMousemove"],Rt=["href","target"],Ot=["id"],Vt=["id"];function jt(t,e,n,a,s,i){var m=te("AngleRightIcon"),r=te("ContextMenuSub",!0),d=it("ripple");return l(),p(ze,g({name:"p-contextmenusub",onEnter:i.onEnter},t.ptm("menu.transition")),{default:K(function(){return[n.root||n.visible?(l(),h("ul",g({key:0,ref:"container",tabindex:n.tabindex},t.ptm("rootList")),[(l(!0),h(X,null,Ke(n.items,function(o,u){return l(),h(X,{key:i.getItemKey(o)},[i.isItemVisible(o)&&!i.getItemProp(o,"separator")?(l(),h("li",g({key:0,id:i.getItemId(o),style:i.getItemProp(o,"style"),class:[t.cx("item",{processedItem:o}),i.getItemProp(o,"class")],role:"menuitem","aria-label":i.getItemLabel(o),"aria-disabled":i.isItemDisabled(o)||void 0,"aria-expanded":i.isItemGroup(o)?i.isItemActive(o):void 0,"aria-haspopup":i.isItemGroup(o)&&!i.getItemProp(o,"to")?"menu":void 0,"aria-level":n.level+1,"aria-setsize":i.getAriaSetSize(),"aria-posinset":i.getAriaPosInset(u)},{ref_for:!0},i.getPTOptions("item",o,u),{"data-p-active":i.isItemActive(o),"data-p-focused":i.isItemFocused(o),"data-p-disabled":i.isItemDisabled(o)}),[f("div",g({class:t.cx("itemContent"),onClick:function(b){return i.onItemClick(b,o)},onMouseenter:function(b){return i.onItemMouseEnter(b,o)},onMousemove:function(b){return i.onItemMouseMove(b,o)}},{ref_for:!0},i.getPTOptions("itemContent",o,u)),[n.templates.item?(l(),p(se(n.templates.item),{key:1,item:o.item,hasSubmenu:i.getItemProp(o,"items"),label:i.getItemLabel(o),props:i.getMenuItemProps(o,u)},null,8,["item","hasSubmenu","label","props"])):ot((l(),h("a",g({key:0,href:i.getItemProp(o,"url"),class:t.cx("itemLink"),target:i.getItemProp(o,"target"),tabindex:"-1"},{ref_for:!0},i.getPTOptions("itemLink",o,u)),[n.templates.itemicon?(l(),p(se(n.templates.itemicon),{key:0,item:o.item,class:F(t.cx("itemIcon"))},null,8,["item","class"])):i.getItemProp(o,"icon")?(l(),h("span",g({key:1,class:[t.cx("itemIcon"),i.getItemProp(o,"icon")]},{ref_for:!0},i.getPTOptions("itemIcon",o,u)),null,16)):x("",!0),f("span",g({id:i.getItemLabelId(o),class:t.cx("itemLabel")},{ref_for:!0},i.getPTOptions("itemLabel",o,u)),C(i.getItemLabel(o)),17,Ot),i.getItemProp(o,"items")?(l(),h(X,{key:2},[n.templates.submenuicon?(l(),p(se(n.templates.submenuicon),{key:0,active:i.isItemActive(o),class:F(t.cx("submenuIcon"))},null,8,["active","class"])):(l(),p(m,g({key:1,class:t.cx("submenuIcon")},{ref_for:!0},i.getPTOptions("submenuicon",o,u)),null,16,["class"]))],64)):x("",!0)],16,Rt)),[[d]])],16,Bt),i.isItemVisible(o)&&i.isItemGroup(o)?(l(),p(r,g({key:0,id:i.getItemId(o)+"_list",role:"menu",class:t.cx("submenu"),menuId:n.menuId,focusedItemId:n.focusedItemId,items:o.items,templates:n.templates,activeItemPath:n.activeItemPath,level:n.level+1,visible:i.isItemActive(o)&&i.isItemGroup(o),pt:t.pt,unstyled:t.unstyled,onItemClick:e[0]||(e[0]=function(I){return t.$emit("item-click",I)}),onItemMouseenter:e[1]||(e[1]=function(I){return t.$emit("item-mouseenter",I)}),onItemMousemove:e[2]||(e[2]=function(I){return t.$emit("item-mousemove",I)}),"aria-labelledby":i.getItemLabelId(o)},{ref_for:!0},t.ptm("submenu")),null,16,["id","class","menuId","focusedItemId","items","templates","activeItemPath","level","visible","pt","unstyled","aria-labelledby"])):x("",!0)],16,Dt)):x("",!0),i.isItemVisible(o)&&i.getItemProp(o,"separator")?(l(),h("li",g({key:1,id:i.getItemId(o),style:i.getItemProp(o,"style"),class:[t.cx("separator"),i.getItemProp(o,"class")],role:"separator"},{ref_for:!0},t.ptm("separator")),null,16,Vt)):x("",!0)],64)}),128))],16,Ft)):x("",!0)]}),_:1},16,["onEnter"])}Be.render=jt;var Re={name:"ContextMenu",extends:Tt,inheritAttrs:!1,emits:["focus","blur","show","hide","before-show","before-hide"],target:null,outsideClickListener:null,resizeListener:null,documentContextMenuListener:null,matchMediaListener:null,pageX:null,pageY:null,container:null,list:null,data:function(){return{focused:!1,focusedItemInfo:{index:-1,level:0,parentKey:""},activeItemPath:[],visible:!1,submenuVisible:!1,query:null,queryMatches:!1}},watch:{activeItemPath:function(e){V(e)?(this.bindOutsideClickListener(),this.bindResizeListener()):this.visible||(this.unbindOutsideClickListener(),this.unbindResizeListener())}},mounted:function(){this.bindMatchMediaListener(),this.global&&this.bindDocumentContextMenuListener()},beforeUnmount:function(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.unbindDocumentContextMenuListener(),this.unbindMatchMediaListener(),this.container&&this.autoZIndex&&ce.clear(this.container),this.target=null,this.container=null},methods:{getItemProp:function(e,n){return e?Ee(e[n]):void 0},getItemLabel:function(e){return this.getItemProp(e,"label")},isItemDisabled:function(e){return this.getItemProp(e,"disabled")},isItemVisible:function(e){return this.getItemProp(e,"visible")!==!1},isItemGroup:function(e){return V(this.getItemProp(e,"items"))},isItemSeparator:function(e){return this.getItemProp(e,"separator")},getProccessedItemLabel:function(e){return e?this.getItemLabel(e.item):void 0},isProccessedItemGroup:function(e){return e&&V(e.items)},toggle:function(e){this.visible?this.hide():this.show(e)},show:function(e){this.$emit("before-show"),this.activeItemPath=[],this.focusedItemInfo={index:-1,level:0,parentKey:""},W(this.list),this.pageX=e.pageX,this.pageY=e.pageY,this.visible?this.position():this.visible=!0,e.stopPropagation(),e.preventDefault()},hide:function(){this.$emit("before-hide"),this.visible=!1,this.activeItemPath=[],this.focusedItemInfo={index:-1,level:0,parentKey:""}},onFocus:function(e){this.focused=!0,this.focusedItemInfo=this.focusedItemInfo.index!==-1?this.focusedItemInfo:{index:-1,level:0,parentKey:""},this.$emit("focus",e)},onBlur:function(e){this.focused=!1,this.focusedItemInfo={index:-1,level:0,parentKey:""},this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!n&&ft(e.key)&&this.searchItems(e,e.key);break}},onItemChange:function(e,n){var a=e.processedItem,s=e.isFocus;if(!Le(a)){var i=a.index,m=a.key,r=a.level,d=a.parentKey,o=a.items,u=V(o),I=this.activeItemPath.filter(function(b){return b.parentKey!==d&&b.parentKey!==m});u&&(I.push(a),this.submenuVisible=!0),this.focusedItemInfo={index:i,level:r,parentKey:d},s&&W(this.list),!(n==="hover"&&this.queryMatches)&&(this.activeItemPath=I)}},onItemClick:function(e){var n=e.processedItem,a=this.isProccessedItemGroup(n);if(this.isSelected(n)){var s=n.index,i=n.key,m=n.level,r=n.parentKey;this.activeItemPath=this.activeItemPath.filter(function(d){return i!==d.key&&i.startsWith(d.key)}),this.focusedItemInfo={index:s,level:m,parentKey:r},W(this.list)}else a?this.onItemChange(e):this.hide()},onItemMouseEnter:function(e){this.onItemChange(e,"hover")},onItemMouseMove:function(e){this.focused&&this.changeFocusedItemIndex(e,e.processedItem.index)},onArrowDownKey:function(e){var n=this.focusedItemInfo.index!==-1?this.findNextItemIndex(this.focusedItemInfo.index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,n),e.preventDefault()},onArrowUpKey:function(e){if(e.altKey){if(this.focusedItemInfo.index!==-1){var n=this.visibleItems[this.focusedItemInfo.index];!this.isProccessedItemGroup(n)&&this.onItemChange({originalEvent:e,processedItem:n})}this.popup&&this.hide(),e.preventDefault()}else{var a=this.focusedItemInfo.index!==-1?this.findPrevItemIndex(this.focusedItemInfo.index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,a),e.preventDefault()}},onArrowLeftKey:function(e){var n=this,a=this.visibleItems[this.focusedItemInfo.index],s=this.activeItemPath.find(function(i){return i.key===a.parentKey});Le(a.parent)||(this.focusedItemInfo={index:-1,parentKey:s?s.parentKey:""},this.searchValue="",this.onArrowDownKey(e)),this.activeItemPath=this.activeItemPath.filter(function(i){return i.parentKey!==n.focusedItemInfo.parentKey}),e.preventDefault()},onArrowRightKey:function(e){var n=this.visibleItems[this.focusedItemInfo.index];this.isProccessedItemGroup(n)&&(this.onItemChange({originalEvent:e,processedItem:n}),this.focusedItemInfo={index:-1,parentKey:n.key},this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()},onHomeKey:function(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()},onEndKey:function(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()},onEnterKey:function(e){if(this.focusedItemInfo.index!==-1){var n=ue(this.list,'li[id="'.concat("".concat(this.focusedItemIdx),'"]')),a=n&&ue(n,'[data-pc-section="itemlink"]');a?a.click():n&&n.click();var s=this.visibleItems[this.focusedItemInfo.index];!this.isProccessedItemGroup(s)&&(this.focusedItemInfo.index=this.findFirstFocusedItemIndex())}e.preventDefault()},onSpaceKey:function(e){this.onEnterKey(e)},onEscapeKey:function(e){this.hide(),!this.popup&&(this.focusedItemInfo.index=this.findFirstFocusedItemIndex()),e.preventDefault()},onTabKey:function(e){if(this.focusedItemInfo.index!==-1){var n=this.visibleItems[this.focusedItemInfo.index];!this.isProccessedItemGroup(n)&&this.onItemChange({originalEvent:e,processedItem:n})}this.hide()},onEnter:function(e){lt(e,{position:"absolute"}),this.position(),this.autoZIndex&&ce.set("menu",e,this.baseZIndex+this.$primevue.config.zIndex.menu)},onAfterEnter:function(){this.bindOutsideClickListener(),this.bindResizeListener(),this.$emit("show"),W(this.list)},onLeave:function(){this.$emit("hide"),this.container=null},onAfterLeave:function(e){this.autoZIndex&&ce.clear(e),this.unbindOutsideClickListener(),this.unbindResizeListener()},position:function(){var e=this.pageX+1,n=this.pageY+1,a=this.container.offsetParent?this.container.offsetWidth:rt(this.container),s=this.container.offsetParent?this.container.offsetHeight:mt(this.container),i=ct(),m=window.scrollY||document.documentElement.scrollTop||document.body.scrollTop||0,r=window.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft||0;e+a-r>i.width&&(e-=a),n+s-m>i.height&&(n-=s),e<r&&(e=r),n<m&&(n=m),this.container.style.left=e+"px",this.container.style.top=n+"px"},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){var a=e.container&&!e.container.contains(n.target),s=e.visible?!(e.target&&(e.target===n.target||e.target.contains(n.target))):!0;a&&s&&e.hide()},document.addEventListener("click",this.outsideClickListener,!0))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener,!0),this.outsideClickListener=null)},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.visible&&!st()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindDocumentContextMenuListener:function(){var e=this;this.documentContextMenuListener||(this.documentContextMenuListener=function(n){n.button===2&&e.show(n)},document.addEventListener("contextmenu",this.documentContextMenuListener))},unbindDocumentContextMenuListener:function(){this.documentContextMenuListener&&(document.removeEventListener("contextmenu",this.documentContextMenuListener),this.documentContextMenuListener=null)},bindMatchMediaListener:function(){var e=this;if(!this.matchMediaListener){var n=matchMedia("(max-width: ".concat(this.breakpoint,")"));this.query=n,this.queryMatches=n.matches,this.matchMediaListener=function(){e.queryMatches=n.matches},this.query.addEventListener("change",this.matchMediaListener)}},unbindMatchMediaListener:function(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)},isItemMatched:function(e){var n;return this.isValidItem(e)&&((n=this.getProccessedItemLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase()))},isValidItem:function(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)&&this.isItemVisible(e.item)},isValidSelectedItem:function(e){return this.isValidItem(e)&&this.isSelected(e)},isSelected:function(e){return this.activeItemPath.some(function(n){return n.key===e.key})},findFirstItemIndex:function(){var e=this;return this.visibleItems.findIndex(function(n){return e.isValidItem(n)})},findLastItemIndex:function(){var e=this;return ke(this.visibleItems,function(n){return e.isValidItem(n)})},findNextItemIndex:function(e){var n=this,a=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(function(s){return n.isValidItem(s)}):-1;return a>-1?a+e+1:e},findPrevItemIndex:function(e){var n=this,a=e>0?ke(this.visibleItems.slice(0,e),function(s){return n.isValidItem(s)}):-1;return a>-1?a:e},findSelectedItemIndex:function(){var e=this;return this.visibleItems.findIndex(function(n){return e.isValidSelectedItem(n)})},findFirstFocusedItemIndex:function(){var e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e},findLastFocusedItemIndex:function(){var e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e},searchItems:function(e,n){var a=this;this.searchValue=(this.searchValue||"")+n;var s=-1,i=!1;return this.focusedItemInfo.index!==-1?(s=this.visibleItems.slice(this.focusedItemInfo.index).findIndex(function(m){return a.isItemMatched(m)}),s=s===-1?this.visibleItems.slice(0,this.focusedItemInfo.index).findIndex(function(m){return a.isItemMatched(m)}):s+this.focusedItemInfo.index):s=this.visibleItems.findIndex(function(m){return a.isItemMatched(m)}),s!==-1&&(i=!0),s===-1&&this.focusedItemInfo.index===-1&&(s=this.findFirstFocusedItemIndex()),s!==-1&&this.changeFocusedItemIndex(e,s),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){a.searchValue="",a.searchTimeout=null},500),i},changeFocusedItemIndex:function(e,n){this.focusedItemInfo.index!==n&&(this.focusedItemInfo.index=n,this.scrollInView())},scrollInView:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,n=e!==-1?"".concat(this.$id,"_").concat(e):this.focusedItemIdx,a=ue(this.list,'li[id="'.concat(n,'"]'));a&&a.scrollIntoView&&a.scrollIntoView({block:"nearest",inline:"start"})},createProcessedItems:function(e){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",m=[];return e&&e.forEach(function(r,d){var o=(i!==""?i+"_":"")+d,u={item:r,index:d,level:a,key:o,parent:s,parentKey:i};u.items=n.createProcessedItems(r.items,a+1,u,o),m.push(u)}),m},containerRef:function(e){this.container=e},listRef:function(e){this.list=e?e.$el:void 0}},computed:{processedItems:function(){return this.createProcessedItems(this.model||[])},visibleItems:function(){var e=this,n=this.activeItemPath.find(function(a){return a.key===e.focusedItemInfo.parentKey});return n?n.items:this.processedItems},focusedItemIdx:function(){return this.focusedItemInfo.index!==-1?"".concat(this.$id).concat(V(this.focusedItemInfo.parentKey)?"_"+this.focusedItemInfo.parentKey:"","_").concat(this.focusedItemInfo.index):null}},components:{ContextMenuSub:Be,Portal:ht}};function qt(t,e,n,a,s,i){var m=te("ContextMenuSub"),r=te("Portal");return l(),p(r,{appendTo:t.appendTo},{default:K(function(){return[w(ze,g({name:"p-contextmenu",onEnter:i.onEnter,onAfterEnter:i.onAfterEnter,onLeave:i.onLeave,onAfterLeave:i.onAfterLeave},t.ptm("transition")),{default:K(function(){return[s.visible?(l(),h("div",g({key:0,ref:i.containerRef,class:t.cx("root")},t.ptmi("root")),[w(m,{ref:i.listRef,id:t.$id+"_list",class:F(t.cx("rootList")),role:"menubar",root:!0,tabindex:t.tabindex,"aria-orientation":"vertical","aria-activedescendant":s.focused?i.focusedItemIdx:void 0,menuId:t.$id,focusedItemId:s.focused?i.focusedItemIdx:void 0,items:i.processedItems,templates:t.$slots,activeItemPath:s.activeItemPath,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,level:0,visible:s.submenuVisible,pt:t.pt,unstyled:t.unstyled,onFocus:i.onFocus,onBlur:i.onBlur,onKeydown:i.onKeyDown,onItemClick:i.onItemClick,onItemMouseenter:i.onItemMouseEnter,onItemMousemove:i.onItemMouseMove},null,8,["id","class","tabindex","aria-activedescendant","menuId","focusedItemId","items","templates","activeItemPath","aria-labelledby","aria-label","visible","pt","unstyled","onFocus","onBlur","onKeydown","onItemClick","onItemMouseenter","onItemMousemove"])],16)):x("",!0)]}),_:1},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:1},8,["appendTo"])}Re.render=qt;_();var Oe=Symbol("ForcePortalRootContext");function Nt(){return he(Oe,!1)}var Zn=k({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:n}){return Ae(Oe,t.force),()=>{let{force:a,...s}=t;return be({theirProps:s,ourProps:{},slot:{},slots:e,attrs:n,name:"ForcePortalRoot"})}}});_();function Ut(t){let e=Fe(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let n=e.getElementById("headlessui-portal-root");if(n)return n;let a=e.createElement("div");return a.setAttribute("id","headlessui-portal-root"),e.body.appendChild(a)}var pe=new WeakMap;function Gt(t){var e;return(e=pe.get(t))!=null?e:0}function Me(t,e){let n=e(Gt(t));return n<=0?pe.delete(t):pe.set(t,n),n}var Ht=k({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:n}){let a=y(null),s=fe(()=>Fe(a)),i=Nt(),m=he(Ve,null),r=y(i===!0||m==null?Ut(a.value):m.resolveTarget());r.value&&Me(r.value,b=>b+1);let d=y(!1);ne(()=>{d.value=!0}),We(()=>{i||m!=null&&(r.value=m.resolveTarget())});let o=he(Yt,null),u=!1,I=Ue();return T(a,()=>{if(u||!o)return;let b=bt(a);b&&(we(o.register(b),I),u=!0)}),we(()=>{var b,N;let D=(b=s.value)==null?void 0:b.getElementById("headlessui-portal-root");!D||r.value!==D||Me(r.value,ie=>ie-1)||r.value.children.length>0||(N=r.value.parentElement)==null||N.removeChild(r.value)}),()=>{if(!d.value||r.value===null)return null;let b={ref:a,"data-headlessui-portal":""};return nt(Ge,{to:r.value},be({ourProps:b,theirProps:t,slot:{},attrs:n,slots:e,name:"Portal"}))}}}),Yt=Symbol("PortalParentContext"),Ve=Symbol("PortalGroupContext"),Xn=k({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:n}){let a=Ze({resolveTarget(){return t.target}});return Ae(Ve,a),()=>{let{target:s,...i}=t;return be({theirProps:i,ourProps:{},slot:{},attrs:e,slots:n,name:"PortalGroup"})}}});_();var Zt=["src"],Xt={class:"absolute left-0 z-0 bottom-0 sm:p-4 sm:bottom-6 sm:left-8 tv:bottom-2 tv:left-6 transform-gpu"},Jt={class:"flex h-inherit w-full select-none items-start justify-start bg-cover min-h-20 max-h-20 sm:min-h-[20vh] sm:max-h-[20vh] min-w-[30vw] max-w-[30vw] transform-gpu"},Qt={"aria-hidden":"true",class:"z-0 flex h-10 w-10 items-center justify-center min-w-[2.5rem] min-h-[2.5rem]","data-state":"closed",style:{opacity:"0.3"},tabindex:"-1"},Wt={"aria-hidden":"true",class:"z-0 flex h-10 w-10 items-center justify-center transitioning min-w-[2.5rem] min-h-[2.5rem]","data-state":"closed",style:{opacity:"0.3"},tabindex:"-1"},$t={class:"absolute right-6 bottom-3 z-0 tv:h-12 h-20 tv:w-12 w-20 tv:right-3.5"},E=function(t){return t[t.Fill=0]="Fill",t[t.Fit=1]="Fit",t[t.Stretch=2]="Stretch",t[t.Tile=3]="Tile",t[t.Center=4]="Center",t[t.Span=5]="Span",t}(E||{}),en=k({__name:"ImageModal",setup(t){const e=y(!1),n=y(),a=y(),s=y(1),i=y(),m=y(),r=y(),d=y(),o=y(),u=fe(()=>"https://app.nomercy.tv/tmdb-images"),I=fe(()=>Z.value?2400:400);T(z,async v=>{m?.value?.style&&(m.value.style.opacity="1"),v&&(n.value===null&&v.src?(n.value=`${u.value}${v.src}?width=3840`,i.value=ye(v.color_palette?.image),d.value=setTimeout(()=>{D(),a.value=void 0,setTimeout(()=>{a.value=v.meta?.logo?.src,s.value=v.meta?.logo?.aspectRatio||1},4e3)},I.value)):v.src&&(d.value=setTimeout(()=>{D(),n.value=`${u.value}${v.src}?width=3840`,i.value=ye(v.color_palette?.image),a.value=void 0,setTimeout(()=>{a.value=`${v.meta?.logo?.src}?width=3840`,s.value=v.meta?.logo?.aspectRatio||1},4e3)},I.value)))}),et(()=>{clearTimeout(r.value),clearTimeout(d.value),clearTimeout(o.value)});function b(){yt(!1),It(null),n.value=null}function N(){clearTimeout(r.value),r.value=setTimeout(()=>{document.querySelector("#imageModal")?.classList.add("allchildren:cursor-none"),e.value=!0},2e3),e.value=!1,document.querySelector("#imageModal")?.classList.remove("allchildren:cursor-none")}function D(){setTimeout(()=>{m.value&&(m.value.style.opacity="0")},I.value)}function ie(v){b(),v.stopPropagation(),v.preventDefault(),me.value.hide(v)}ne(()=>{if(Ce)return window.addEventListener("mousemove",N),()=>{window.removeEventListener("mousemove",N),clearTimeout(r.value)}});const B=y(E.Fill);function U(){He().post("dashboard/server/wallpaper",{path:z.value?.src,color:i.value?i.value:z.value?.color_palette?.image?.darkVibrant??"",style:B.value})}async function je(v,L){let S;try{const G=await Qe.get(v,{responseType:"blob"}),ae=new Blob([G.data]);S=URL.createObjectURL(ae);const oe=document.createElement("a");oe.href=S,oe.download=L,oe.click()}catch(G){console.error(G)}}async function qe(v){try{const L=await fetch(v);if(!L.ok)throw new Error("Failed to fetch the image");const S=await L.blob(),G=new window.ClipboardItem({[S.type]:new Promise(ae=>ae(S))});await navigator.clipboard.write([G]),console.log("Image copied to clipboard successfully!")}catch(L){console.error("Failed to copy image to clipboard:",L)}}function Ie(v){v.preventDefault(),v.stopPropagation(),Pe.value=[{label:"Save image as...",icon:"mooooom-download",command:()=>{je(z.value?.src??"",z.value?.src??"image")}},{label:"Copy image",icon:"mooooom-fileCopy",command:()=>{qe(n.value??"")}},{label:"Open image in new tab",icon:"mooooom-bookOpenBookmark",command:()=>{window.open(n.value??"")}},{label:"Set as desktop wallpaper (Windows only)",icon:"mooooom-monitor",items:[{label:"Fill",icon:"mooooom-monitor",command:()=>{B.value=E.Fill,U()}},{label:"Fit",icon:"mooooom-monitor",command:()=>{B.value=E.Fit,U()}},{label:"Stretch",icon:"mooooom-monitor",command:()=>{B.value=E.Stretch,U()}},{label:"Center",icon:"mooooom-monitor",command:()=>{B.value=E.Center,U()}},{label:"Span",icon:"mooooom-monitor",command:()=>{B.value=E.Span,U()}}]}],me.value.show(v)}return(v,L)=>(l(),p(c(Ht),null,{default:K(()=>[f("dialog",{id:"imageModal",ref_key:"imageModal",ref:xt,style:H(i.value?`--color-theme-8: ${i.value};`:""),class:"fixed inset-0 w-screen h-screen z-[999999999] bg-surface-4 dark:bg-surface-9 m-0 max-w-screen max-h-screen overflow-clip transform-gpu"},[(c(Ce)||c(Z))&&!c(gt)?(l(),h("div",{key:0,ref_key:"overlayRef",ref:m,style:H(`--delay: ${c(Z)?"2400ms":"400ms"}`),class:"pointer-events-none fixed inset-0 bg-black w-available h-available z-999 transitioning-slower transform-gpu"},null,4)):x("",!0),f("div",{class:"absolute inset-0 z-0 h-screen w-screen items-center border-solid border-black bg-black p-8 text-center left-50 border-1 transitioning-slower transform-gpu",onClick:ie},[f("img",{src:n.value??"",alt:"",class:"h-0 w-0 opacity-0",onLoad:D},null,40,Zt),f("div",{style:H(`background-image: url(${n.value});`),class:"absolute z-0 bg-center opacity-75 -inset-[50vh] w-[200vw] h-[400vh] bg-blur transform-gpu"},null,4),f("button",{class:F([!e.value&&!c(Z)?"flex":"hidden","absolute flex transitioning top-8 right-8 w-10 min-w-[2.5rem] h-10 min-h-[2.5rem] z-0 items-center justify-center disabled:opacity-50 disabled:text-surface-3 disabled:hover:!bg-transparent rounded-full overflow-clip hover:bg-transparent focus-visible:bg-transparent active:bg-transparent sm:focus-visible:bg-surface-4/80 sm:hover:bg-surface-4/80 pointer-events-auto"]),"aria-hidden":"true",tabindex:"-1",onClick:b},[w($,{class:"h-5 w-5",icon:"cross"})],2),w(c(Re),{ref_key:"cardMenu",ref:me,model:c(Pe),class:"!z-[999999999999999999999]"},null,8,["model"]),f("div",{style:H(`background-image: url(${n.value}); aspect-ratio: ${c(z)?.aspectRatio}`),class:"absolute inset-2 tv:inset-2 z-0 m-auto h-auto overflow-clip rounded-xl bg-cover bg-center bg-no-repeat opacity-90 shadow-img max-w-[82vw] max-h-[83vh] bg-image-blur md:inset-16 transform-gpu",onContextmenu:L[0]||(L[0]=S=>Ie(S))},null,36),f("div",{style:H(`background-image: url(${n.value}); aspect-ratio: ${c(z)?.aspectRatio}; box-shadow: 0 0 800px 80px rgba(0,0,0,.2) inset;`),class:"absolute inset-2 tv:inset-20 z-0 m-auto h-auto overflow-clip rounded-xl bg-cover bg-center bg-no-repeat shadow-img max-w-[82vw] max-h-[83vh] md:inset-24 pointer-events-none transform-gpu",onContextmenu:L[1]||(L[1]=S=>Ie(S))},[f("div",Xt,[f("div",Jt,[a.value?(l(),p(kt,{key:a.value,"auto-shadow":!0,path:a.value,shadow:i.value,size:500,class:"object-contain h-available object-[0_0%] !duration-700 children:!duration-700 transform-gpu","class-name":"relative self-start px-4 py-4 !items-start",type:"logo"},null,8,["path","shadow"])):x("",!0)])])],36),f("div",{class:F([e.value&&!c(Z)?"flex":"hidden","absolute bottom-6 mx-auto -ml-8 flex w-full justify-center gap-8 text-crimson-11"])},[f("button",Qt,[w($,{class:"h-8 w-8/10",icon:"arrowLeft"})]),f("button",Wt,[w($,{class:"h-8 w-8/10",icon:"arrowRight"})])],2),f("div",$t,[w(_t,{class:""})])])],4)]),_:1}))}}),Jn=en;_();var tn=["id","data-index"],nn={key:1,class:"transition-all duration-200 ease-in-out w-available"},an=k({__name:"LyricItem",props:{lyric:{type:Object,required:!0},index:{type:Number,required:!0}},setup(t){return(e,n)=>(l(),h("span",{id:typeof t.lyric<"u"?t.lyric?.time?.total.toString():"-1",class:F([{"text-black":t.lyric?.time?.total,"!text-white":!t.lyric?.time?.total},"tv:min-h-24 flex flex-col justify-center items-center gap-2 h-auto w-available transition-all duration-200 ease-in-out"]),"data-index":t.index??-1,"data-lyric":""},[t.lyric?.text!==""?(l(),h("span",{key:0,class:F([{"text-right font-semibold":t.lyric?.rtl,"font-bold":!t.lyric?.rtl},"whitespace-pre-line tv:text-4xl transition-all duration-200 ease-in-out text-md tv:leading-[48px] text-pretty text-inherit w-available"])},C(t.lyric?.text),3)):x("",!0),t.lyric?.text===""?(l(),h("span",nn,[w($,{class:"transition-all duration-200 ease-in-out w-[1.5rem] h-[1.5rem]",icon:"noteDouble"})])):x("",!0)],10,tn))}}),on=an;_();var sn=["data-open","inert"],rn=["id"],ln={key:0,class:"contents"},un={class:"mt-8 sm:mt-16 font-semibold text-2xs"},cn={key:1,class:"text-lg font-semibold tv:hidden"},mn=k({__name:"LyricsOverlay",setup(t){const e=y(),n=y(R.value?.lyrics),a=y($e(8)),s=y(-1),i=y();function m(r){if(!r)return;const d=`${tt.value?.serverApiUrl}/music/tracks/${r}/lyrics`;fetch(d,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${q.value.accessToken}`}}).then(o=>o.json()).then(o=>{Xe(o.data?.length>0),n.value=o.data})}return ne(()=>{e.value&&(s.value=-1,R.value?.lyrics?n.value=R.value.lyrics:R.value?.id&&m(R.value?.id),e.value.scrollTop=0,M.on("seeked",r=>{if(!e.value||!e.value)return;const d=(n.value?.findIndex?.(u=>u.time?.total>=r.position)??0)-1,o=Array.from(e.value?.querySelectorAll("[data-lyric]")??[]);d===-1?(o.forEach(u=>{u.style.opacity="1",u.style.color="black"}),i.value=e.value.querySelector("[data-index='0']"),i.value&&e.value&&Q(i.value,e.value,{duration:500})):d===-2&&(o.filter(u=>Number.parseInt(u.dataset.index,10)<d).forEach(u=>{u.style.opacity="0.5",u.style.color="white"}),i.value=e.value.querySelector(`[data-index='${o.length-1}']`),i.value&&e.value&&Q(i.value,e.value,{duration:500}))}))}),T(ee,r=>{if(!r||!e.value||!n.value)return;r=r+.5;const d=(n.value?.findIndex?.(u=>u.time?.total>=r)??0)-1;if(d===-1&&r>1||s.value===d)return;s.value=d;const o=Array.from(e.value?.querySelectorAll("[data-lyric]")??[]);o.filter(u=>Number.parseInt(u.dataset.index,10)<d).forEach(u=>{u.style.opacity="0.5",u.style.color="white"}),i.value=e.value.querySelector(`[data-index='${d}']`),i.value&&(i.value.style.opacity="1",i.value.style.color="white",Q(i.value,e.value,{duration:500})),o.filter(u=>Number.parseInt(u.dataset.index,10)>d).forEach(u=>{u.style.opacity="1",u.style.color="black"})}),T(R,(r,d)=>{r?.id!==d?.id&&(s.value=-1,n.value=null,r?.lyrics?n.value=r.lyrics:r?.id&&m(r?.id))}),T(n,(r,d)=>{if(!r||!e.value||r.at(0)===d?.at(0))return;const o=e.value?.querySelector("[data-index='0']");o&&(o.style.opacity="1",o.style.color="white",Q(o,e.value,{duration:500}));const u=Array.from(e.value?.querySelectorAll("[data-lyric]"));Ye(()=>{u.forEach(I=>{I.style.opacity="1",I.style.color="black"})}),e.value&&(e.value.style.opacity="0",setTimeout(()=>{e.value&&(e.value.style.opacity="1")},1200))}),T(re,r=>{wt(r)}),(r,d)=>(l(),h("div",{id:"lyricsContainer","data-open":c(re),inert:!c(re),class:"absolute inset-0 h-inherit w-inherit sm:left-auto sm:right-4 sm:top-4 sm:bottom-4 sm:w-2/3 sm:max-w-3xl tv:max-w-3/4 flex items-center justify-center rounded-xl transition-all duration-500 sm:data-[open='false']:translate-x-[150%] sm:overflow-clip z-[9999] tv:-translate-x-[5%] tv:!w-available tv:data-[open='true']:delay-500 will-change-transform"},[d[0]||(d[0]=f("div",{class:"pointer-events-none absolute inset-0 z-0 flex items-center justify-center rounded-xl sm:bg-white/6 dark:sm:bg-black/30 tv:!bg-transparent"},null,-1)),f("div",{id:`lyrics_container_${a.value}`,ref_key:"lyrics_container",ref:e,class:"relative z-10 flex w-full flex-col overflow-auto scrollbar-none p-4 children:transition-all duration-200 h-available sm:min-h-[calc(100vh-13rem)] gap-4 sm:gap-4 sm:p-16 text-xl sm:text-2xl tv:text-lg tv:p-4 tv:pt-28 tv:gap-3 tv:mt-2"},[n.value?(l(),h(X,{key:0},[Array.isArray(n.value)?(l(),h("div",ln,[(l(!0),h(X,null,Ke(n.value??[],(o,u)=>(l(),p(on,{key:u,lyric:o,index:u},null,8,["lyric","index"]))),128)),f("p",un,C(r.$t("Lyrics provided by Musixmatch")),1)])):x("",!0)],64)):x("",!0),n.value?x("",!0):(l(),h("p",cn,C(r.$t("No lyrics available")),1))],8,rn)],8,sn))}}),Qn=mn;_();var dn=k({__name:"NextButton",setup(t){function e(n){if(n?.stopPropagation(),!q.value.features?.nomercyConnect){M?.actions?.next?.();return}j.value?.invoke("PlaybackCommand","next",null)}return(n,a)=>(l(),p(J,{onclick:e,label:"Next","no-tooltip":""},{default:K(()=>[w(P,{class:"absolute h-7 w-7 inset-1.5",icon:"nmNextHalftone"}),w(P,{class:"absolute h-7 w-7 opacity-0 group-hover/button:opacity-100 inset-1.5",icon:"nmNext"})]),_:1}))}}),Wn=dn;_();var fn=k({__name:"PlaybackButton",setup(t){function e(n){if(n?.stopPropagation(),!q.value.features?.nomercyConnect){le.value?M?.actions?.pause?.():M?.actions?.play?.();return}j.value?.invoke("PlaybackCommand",le.value?"pause":"play",null)}return(n,a)=>(l(),p(J,{onclick:e,label:"Toggle Playback","no-tooltip":""},{default:K(()=>[c(le)?(l(),p(P,{key:0,"class-name":"h-9 w-9",icon:"nmPause"})):(l(),p(P,{key:1,"class-name":"h-9 w-9",icon:"nmPlay"}))]),_:1}))}}),$n=fn;_();var hn=k({__name:"PreviousButton",setup(t){function e(n){if(n?.stopPropagation(),!q.value.features?.nomercyConnect){M?.actions?.previous?.();return}j.value?.invoke("PlaybackCommand","previous",null)}return(n,a)=>(l(),p(J,{onclick:e,label:"Previous","no-tooltip":""},{default:K(()=>[w(P,{class:"absolute h-7 w-7 inset-1.5",icon:"nmPreviousHalftone"}),w(P,{class:"absolute h-7 w-7 opacity-0 group-hover/button:opacity-100 inset-1.5",icon:"nmPrevious"})]),_:1}))}}),ei=hn;_();var vn=k({__name:"ProgressBar",props:{color:{type:String,required:!1},onKeyDown:{type:Function,required:!1},onKeyUp:{type:Function,required:!1}},setup(t){const e=y(0),n=Je(e,200);T(n,s=>{j.value?.invoke("PlaybackCommand","seek",s)});function a(s){e.value=s,M.seek(s)}return(s,i)=>(l(),p(Lt,{percentage:c(at),value:c(ee),min:0,"on-key-down":t.onKeyDown,"on-key-up":t.onKeyUp,max:c(de),onInput:i[0]||(i[0]=m=>a(Number(m.target.value)))},null,8,["percentage","value","on-key-down","on-key-up","max"]))}}),Se=vn;_();var pn=["data-size"],bn={key:0,class:"flex w-full flex-col"},In={class:"flex w-full items-center justify-between"},yn=["data-size"],gn={class:"flex w-full items-center justify-between"},xn=["data-size"],wn=["data-size"],_n=["data-size"],kn={key:1,"aria-label":"remaining time"},Ln={key:1,class:"flex w-full items-center"},Pn=["data-size"],Cn=["data-size"],Mn=["data-size"],Sn=["data-size"],An={key:1,"aria-label":"remaining time"},Kn=k({__name:"ProgressBarContainer",props:{size:{type:String,default:"full"},color:{type:String,required:!1},variant:{type:String,default:"default"},onKeyDown:{type:Function,required:!1},onKeyUp:{type:Function,required:!1}},setup(t){const e=y(localStorage.getItem("timeChoice")||"remaining");function n(){e.value==="duration"?e.value="remaining":e.value="duration",localStorage.setItem("timeChoice",e.value)}return(a,s)=>(l(),h("div",{class:"flex items-center justify-center !w-full flex-row select-none monospace","data-size":c(A),onClick:s[0]||(s[0]=(...i)=>c(xe)&&c(xe)(...i))},[t.variant==="stacked"?(l(),h("div",bn,[f("div",In,[f("div",{class:"music-compact:pointer-events-none pointer-events-auto flex h-full items-center w-available","data-size":c(A)},[w(Se,{color:t.color,"on-key-down":t.onKeyDown,"on-key-up":t.onKeyUp},null,8,["color","on-key-down","on-key-up"])],8,yn)]),f("div",gn,[f("span",{"aria-label":"current time",class:"mx-2 !text-contrast whitespace-nowrap text-xs relative block","data-size":c(A)},C(c(O)(c(ee))),9,xn),f("span",{class:"mx-2 !text-contrast whitespace-nowrap text-xs relative flex justify-between monospace","data-size":c(A),onClick:n},[e.value==="duration"?(l(),h("span",{key:0,"aria-label":"duration",class:"","data-size":c(A)},C(c(O)(c(de))),9,_n)):(l(),h("span",kn,C(c(O)(c(_e))),1))],8,wn)])])):(l(),h("div",Ln,[f("span",{"aria-label":"current time",class:"mx-2 !text-contrast whitespace-nowrap text-xs relative block","data-size":c(A)},C(c(O)(c(ee))),9,Pn),f("div",{class:"w-available h-full items-center flex full:mb-2 !mb-0 music-compact:pointer-events-none pointer-events-auto","data-size":c(A)},[w(Se,{color:t.color},null,8,["color"])],8,Cn),f("span",{class:"mx-2 !text-contrast whitespace-nowrap text-xs relative flex justify-between","data-size":c(A),onClick:n},[e.value==="duration"?(l(),h("span",{key:0,"aria-label":"duration",class:"","data-size":c(A)},C(c(O)(c(de))),9,Sn)):(l(),h("span",An,C(c(O)(c(_e))),1))],8,Mn)]))],8,pn))}}),ti=Kn;_();var zn=k({__name:"RepeatButton",setup(t){const e=["off","one","all"],{state:n,next:a,go:s}=Ne(["off","one","all"]);ne(()=>{M._repeat&&s(e.indexOf(M._repeat))});function i(m){if(m?.stopPropagation(),!q.value.features?.nomercyConnect){a(),M.repeat(n.value);return}j.value?.invoke("PlaybackCommand","repeat",null)}return(m,r)=>(l(),p(J,{key:c(Y),label:`repeat ${c(Y)}`,onclick:i,"no-tooltip":""},{default:K(()=>[c(Y)==="off"?(l(),p(P,{key:0,class:"h-6 w-6",icon:"nmRepeatHalftone"})):c(Y)==="one"?(l(),p(P,{key:1,class:"h-6 w-6 text-focus",icon:"nmRepeat"})):c(Y)==="all"?(l(),p(P,{key:2,class:"h-6 w-6 text-focus",icon:"nmRepeatdoublearrowHalftone"})):x("",!0)]),_:1},8,["label"]))}}),ni=zn;_();var En=k({__name:"ShuffleButton",setup(t){function e(n){if(n?.stopPropagation(),!q.value.features?.nomercyConnect){M.shuffle(!ge.value);return}j.value?.invoke("PlaybackCommand","shuffle",null)}return(n,a)=>(l(),p(J,{onclick:e,label:"shuffle","no-tooltip":""},{default:K(()=>[c(ge)?(l(),p(P,{key:0,class:"h-6 w-6 text-focus",icon:"nmShuffle"})):(l(),p(P,{key:1,class:"h-6 w-6",icon:"nmShuffleHalftone"}))]),_:1}))}}),ii=En;export{$n as a,Jn as c,ei as i,Re as l,ni as n,Wn as o,ti as r,Qn as s,ii as t};
