import{I as k,Z as _,C as c,f as j,c as i,b as u,K as a,e3 as f,o as s,a as t,j as r,d as $,s as C,t as n,n as h,a2 as g}from"./index-C1DjUpiP.js";import{u as S}from"./useServerClient-BNYfM5AW.js";import{_ as z}from"./CardShadow.vue_vue_type_script_setup_true_lang-ZaXpbYL3.js";import{M as B}from"./MediaLikeButton-C4LvEZhA.js";import{_ as L}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-D4l8g0_V.js";import{_ as W}from"./TMDBImage.vue_vue_type_script_setup_true_lang-BnMxpgRt.js";import{_ as N}from"./ShareButton.vue_vue_type_script_setup_true_lang-FY5fvgSx.js";const T={class:"flex flex-col justify-start items-start w-[280px] absolute left-0 top-0 bg-cover bg-no-repeat bg-center"},q={class:"flex justify-start items-start w-[280px] absolute left-0 top-[348px] gap-4 p-4 z-40"},I={class:"flex-grow w-[100px] text-[15px] font-semibold text-center text-[#151718]"},M={class:"flex-grow w-[100px] text-[15px] font-semibold text-center text-green-8"},R={key:1,title:"Trailer unavailable",class:"frosting flex justify-start items-center flex-grow h-10 relative overflow-hidden gap-2 px-2 py-4 rounded-3xl text-slate-light-1 bg-slate-light-12",disabled:""},V={class:"flex-grow w-[100px] text-[15px] font-semibold text-center text-red-8"},D={key:2,title:"Loading trailer...",class:"frosting flex justify-start items-center flex-grow h-10 relative overflow-hidden gap-2 px-2 py-4 rounded-3xl text-slate-light-1 bg-slate-light-12",disabled:""},P={class:"flex-grow w-[100px] text-[15px] font-semibold text-center text-gray-8"},E={class:"flex justify-end items-start w-[280px] absolute left-0 top-0 gap-2 p-4"},F={class:"flex justify-start items-center flex-grow-0 flex-shrink-0 relative overflow-hidden gap-2 p-2 rounded-3xl bg-black/[0.48] border border-black/2 w-10 h-10"},K={class:"flex justify-start items-center flex-grow-0 flex-shrink-0 relative overflow-hidden gap-2 rounded-3xl bg-black/[0.48] border border-black/2"},O={class:"flex justify-start items-center flex-grow-0 flex-shrink-0 relative overflow-hidden gap-2 rounded-3xl bg-black/[0.48] border border-black/2"},X=k({__name:"MobileInfoCard",props:{data:{type:Object,required:!1},trailerState:{required:!0},toggleTrailer:{type:Function,required:!1}},setup(e){const l=e,x=_(),{data:d}=S({path:`${x?.fullPath}/available`}),b=c(()=>d.value?.available?"Watch":l.data?"Unavailable":"Loading"),m=c(()=>l.data?.title??l.data?.name),v=c(()=>({title:l.data?.title??"",text:l.data?.overview??"",url:`https://app.nomercy.tv${x.fullPath}`}));return(o,p)=>{const w=j("RouterLink");return e.data?.poster||a(f)?(s(),i("div",{key:0,class:h(["frosting flex-grow-0 flex-shrink-0 w-[280px] h-[420px] z-10 absolute left-1/2 -translate-x-1/2 overflow-clip rounded-2xl",{"top-safe-offset-8":a(g),"top-12":!a(g)}])},[t("div",T,[(s(),$(W,{key:a(f)??"poster","auto-shadow":!0,path:e.data?.poster??a(f),"color-palette":e.data?.color_palette?.poster,size:760,priority:"high",title:m.value,aspect:"poster",loading:"eager","class-name":"pointer-events-none absolute -inset-1 z-20 flex h-auto scale-100 select-none items-center place-self-start overflow-hidden w-available h-available max-h-available",class:"m-auto children:w-full scale-100 max-h-available 5xl:w-inherit",type:"image"},null,8,["path","color-palette","title"]))]),r(z,{colored:!0}),t("div",q,[r(w,{to:`${e.data?.link}/watch`,class:h(["frosting flex justify-start items-center flex-grow h-10 relative overflow-hidden gap-2 px-2 py-4 rounded-3xl bg-white/80",{"opacity-70":!a(d)?.available}]),disabled:!a(d)?.available},{default:C(()=>[t("p",I,n(o.$t(b.value)),1)]),_:1},8,["to","disabled","class"]),e.trailerState===!0?(s(),i("button",{key:0,title:"Watch trailer",class:"frosting flex justify-start items-center flex-grow h-10 relative overflow-hidden gap-2 px-2 py-4 rounded-3xl text-slate-light-1 bg-slate-light-12",onClick:p[0]||(p[0]=(...y)=>e.toggleTrailer&&e.toggleTrailer(...y))},[t("p",M,n(o.$t("Watch trailer")),1)])):e.trailerState===!1?(s(),i("button",R,[t("p",V,n(o.$t("Watch trailer")),1)])):e.trailerState==="loading"?(s(),i("button",D,[t("p",P,n(o.$t("Watch trailer")),1)])):u("",!0)]),t("div",E,[t("div",F,[r(L,{icon:"check","class-name":"w-6 text-white"})]),t("div",K,[r(B,{data:e.data,class:"!p-0 text-white"},null,8,["data"])]),t("div",O,[r(N,{"share-data":v.value,class:"!p-0 text-white"},null,8,["share-data"])])])],2)):u("",!0)}}});export{X as _};
