import{aG as k,br as C,bh as b,d4 as w,d5 as x,d6 as B,aW as I,aV as M,aY as P,L as V,aP as q,j as d,o as m,a7 as h,x as D,aI as o,b$ as K,c as L,h as N,F as E,w as F,k as R,m as W,bZ as j}from"./index-B4CMrhNe.js";const S=k({__name:"Mobile",setup(G){const u=C(),f=b.currentRoute.value.name,y=w({queryKey:["music","home"],path:u.path}),{data:n,refetch:p}=x({queryKey:["music","home"],path:u.path}),{data:l,mutate:v,reset:_}=B({queryKey:["music","home"],homeData:n,path:u.path});return I(()=>{var s,e;if(M(null),P(null),!n.value){p();return}if(u.name!==f)return;const c=((e=(s=n.value)==null?void 0:s.filter)==null?void 0:e.call(s,r=>{var a;return((a=r==null?void 0:r.update)==null?void 0:a.when)=="pageLoad"}))??[];v(c)}),V(q,c=>{c?(p(),_()):(l.value=void 0,n.value=void 0)}),(c,s)=>(m(),d(o(j),null,{default:h(()=>[D(o(K),{fullscreen:!0},{default:h(()=>{var e,r,a,i;return[!o(y)&&((r=(e=o(l))==null?void 0:e.every)!=null&&r.call(e,t=>t.component)||(i=(a=o(n))==null?void 0:a.every)!=null&&i.call(a,t=>t.component))?(m(!0),L(E,{key:0},F(o(l)??o(n),(t,g)=>(m(),d(R(t.component),W({index:g,key:t.id,ref_for:!0},t.props),null,16,["index"]))),128)):N("",!0)]}),_:1})]),_:1}))}});export{S as default};
