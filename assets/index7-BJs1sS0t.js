import{ut as l,vt as w}from"./index-BVMfOxho.js";var S=i=>{if(l===void 0)return;let a=0,e,r,n;const D=i.getBoolean("animated",!0)&&i.getBoolean("rippleEffect",!0),d=new WeakMap,v=()=>{n&&clearTimeout(n),n=void 0,e&&(m(!1),e=void 0)},R=t=>{e||t.button===2||p(b(t),t)},h=t=>{p(void 0,t)},p=(t,o)=>{if(t&&t===e)return;n&&clearTimeout(n),n=void 0;const{x:c,y:s}=w(o);if(e){if(d.has(e))throw new Error("internal error");e.classList.contains("ion-activated")||u(e,c,s),m(!0)}if(t){const A=d.get(t);A&&(clearTimeout(A),d.delete(t)),t.classList.remove(f);const T=()=>{u(t,c,s),n=void 0};L(t)?T():n=setTimeout(T,100)}e=t},u=(t,o,c)=>{if(a=Date.now(),t.classList.add(f),!D)return;const s=g(t);s!==null&&(E(),r=s.addRipple(o,c))},E=()=>{r!==void 0&&(r.then(t=>t()),r=void 0)},m=t=>{E();const o=e;if(!o)return;const c=150-Date.now()+a;if(t&&c>0&&!L(o)){const s=setTimeout(()=>{o.classList.remove(f),d.delete(o)},150);d.set(o,s)}else o.classList.remove(f)};l.addEventListener("ionGestureCaptured",v),l.addEventListener("pointerdown",R,!0),l.addEventListener("pointerup",h,!0),l.addEventListener("pointercancel",v,!0)},b=i=>{if(i.composedPath!==void 0){const a=i.composedPath();for(let e=0;e<a.length-2;e++){const r=a[e];if(!(r instanceof ShadowRoot)&&r.classList.contains("ion-activatable"))return r}}else return i.target.closest(".ion-activatable")},L=i=>i.classList.contains("ion-activatable-instant"),g=i=>{if(i.shadowRoot){const a=i.shadowRoot.querySelector("ion-ripple-effect");if(a)return a}return i.querySelector("ion-ripple-effect")},f="ion-activated";export{S as startTapClick};
