import{$l as c,As as y,Ls as _,Vs as p,es as b,ia as g,ll as R,su as a,vs as m,yl as d}from"./index-Rmty3EhQ.js";R();const n=a(!1),f=a("video"),t=a("");var i=a([]);const S=d(()=>i.value);c(p(t,700),e=>{if(e===""){i.value=[];return}n.value=!0;const s=`${b.value?.serverBaseUrl}/api/v1/music/search?query=${e}`;fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y.value?.accessToken}`}}).then(l=>l.json()).then(l=>{i.value=l.data,n.value=!1})});const r=a(""),o=a(!1);var v=a([]);const V=d(()=>v.value);var $=p(r,700),u=a(1);c($,e=>{if(e===""){v.value=[];return}o.value=!1,n.value=!0,u.value=1;const s=`https://api.themoviedb.org/3/search/multi?api_key=${g}&language=${m.language}&query=${e}&page=${u.value}&include_adult=false`;fetch(s).then(l=>l.json()).then(l=>{v.value=l.results,o.value=l.total_pages>1,n.value=!1})});function j(){u.value+=1;const e=`https://api.themoviedb.org/3/search/multi?api_key=${g}&language=${m.language}&query=${$.value}&page=${u.value}&include_adult=false`;fetch(e).then(s=>s.json()).then(s=>{v.value=[...v.value,...s.results],s.results.length===0?o.value=!1:o.value=s.total_pages>u.value})}var{stop:k}=_(a(null),([{isIntersecting:e}],s)=>{e&&j()});const q=a(),h=a(""),A=d(()=>f.value==="video"?V.value:S.value);c(f,e=>{e==="video"?(t.value="",r.value=h.value):(r.value="",t.value=h.value)});c(h,e=>{f.value==="video"?(r.value=e,t.value=""):(r.value="",t.value=e)});export{n as a,V as c,q as i,o as n,f as o,S as r,h as s,j as t};
