import"./useBaseQuery-BF4AeGAb.js";import"./useInfiniteServerClient-prY1d_ri.js";import"./useQueryClient-DvEXGR3z.js";import"./useQuery-CEd8IzP7.js";import{$a as D,$s as r,As as n,Co as E,Da as y,Dc as H,Do as N,Ec as e,Is as h,Ms as L,Oo as V,Rs as R,X as C,_r as d,_s as T,ai as j,ci as z,cr as g,dr as F,gr as p,js as O,ks as w,pc as b,so as P,sr as A,tc as M,uc as v,wo as W,ws as X,yc as _}from"./index-H5TKJIZK.js";import"./basecomponent-uOIwYz8E.js";import"./classnames-D1foEy1e.js";import"./button-DxFCaLIt.js";import"./baseicon-Bb-M_KCx.js";import"./musicPlaylists-DwD7huyJ.js";import"./contextMenuItems-g9SlXaVD.js";import"./_plugin-vue_export-helper-Qq1ciMp2.js";import"./AppLogoSquare-DMiw3kfV.js";import"./MoooomIcon-lmHBzkux.js";import"./DropdownMenu-Daj_QTY-.js";import"./dist-CgnV5duW.js";import{t as q}from"./useServerClient-83J0vBrH.js";import{t as G}from"./ScrollContainer-lfgf6MzQ.js";import"./CoverImage-BxTb3a80.js";import"./MusicButton-D66YCP0P.js";import"./MediaLikeButton-D7v7gkTj.js";import"./PlayerIcon-B38fKQ5E.js";import"./Marquee-9uauDsp4.js";import"./EqSpinner-CYGnPxDU.js";import"./BannerButton-BP3zar4N.js";import"./FavoriteImage-CN5uOcLG.js";import"./TrackLinks-DEsJdn6J.js";import"./BigPlayButton-B4Fq6u1S.js";import{t as J}from"./NotFound-D2n4_HL5.js";import"./ShareButton-Dt_N5O3q.js";import{i as K,n as Q,r as U,t as Y}from"./TrackRow-BzzB8YYV.js";T();N();var Z={class:"relative z-0 flex h-auto flex-shrink-0 flex-grow flex-col items-start justify-start self-stretch"},ee=R({__name:"Desktop",setup(te){const m=V(),{data:t,isError:B}=q({path:m.fullPath}),S=_(null),f=_(),s=_("");v(t,a=>{a&&(j(a?.name??null),c(a?.tracks??[],d.value,p.value,s.value),g(a?.color_palette?.cover))}),v(p,a=>{c(t.value?.tracks??[],d.value,a,s.value)}),v(d,a=>{c(t.value?.tracks??[],a,p.value,s.value)}),v(s,a=>{c(t.value?.tracks??[],d.value,p.value,a)});function c(a,i,l,u){const x=z(a??[],i,l,F);u===""?f.value=x:f.value=x?.filter(k=>k.name?.toLowerCase().includes(u?.toLowerCase?.())||k.artist_track?.some($=>$.name.toLowerCase().includes(u?.toLowerCase?.()))||k.album_track?.[0]?.name.toLowerCase().includes(u?.toLowerCase?.()))??[]}E(()=>{t?.value?.tracks&&c(t?.value?.tracks??[],d.value,p.value,s.value),t.value?.color_palette?.cover&&g(t.value?.color_palette?.cover)}),W(()=>{document.getElementById("navbar")&&(document.getElementById("navbar").style.display="flex"),g(null),A(null)});const o=_();function I(){window.CSS.supports("container-type","scroll-state")||(Math.ceil(o.value?.$el?.getBoundingClientRect()?.top??500)<=67?(o.value?.$el?.classList.add("!bg-focus"),o.value?.$el?.firstChild?.classList.add("!bg-black/50")):(o.value?.$el?.classList.remove("!bg-focus"),o.value?.$el?.firstChild?.classList.remove("!bg-black/50")))}return(a,i)=>(r(),n(e(P),null,{default:b(()=>[h(e(D),{fullscreen:!0,class:"flex"},{default:b(()=>[e(B)&&!e(t)?(r(),n(J,{key:0})):(r(),n(G,{key:1,"auto-hide":!0,static:!0,onScroll:I},{default:b(()=>[!e(m).params.id||e(m).params.id&&e(t)?.id===e(m).params.id?(r(),L("div",{key:0,ref_key:"main",ref:S,class:"flex flex-col w-available h-available sm:rounded-2xl"},[h(U,{data:e(t)},null,8,["data"]),w("div",Z,[i[1]||(i[1]=w("div",{class:"pointer-events-none absolute z-0 h-96 w-full bg-spotifyBottom"},null,-1)),(r(),n(K,{key:e(t)?.id,data:e(t),filter:s.value,onFilterChange:i[0]||(i[0]=l=>s.value=l)},null,8,["data","filter"])),w("div",{class:H([{"pb-24":e(y)&&!e(C),"pb-40":e(y)&&e(C),"pb-4 sm:pb-4":!e(y)&&e(C)},"flex flex-1 flex-shrink-0 flex-col items-start justify-start self-stretch bg-surface-3 flex-grow-1 gap-0.5 sm:p-4"])},[(r(),n(Q,{key:e(t)?.id,ref_key:"sortHeader",ref:o})),(r(!0),L(X,null,M(f.value,(l,u)=>(r(),n(Y,{key:l.id+l?.favorite,data:l,"display-list":f.value,index:u},null,8,["data","display-list","index"]))),128))],2)])],512)):O("",!0)]),_:1}))]),_:1})]),_:1}))}}),Ne=ee;export{Ne as default};
