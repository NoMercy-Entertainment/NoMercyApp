import{c5 as h,ag as x,G as w,I as m}from"./index-H-vD2rqS.js";var g=Symbol();function b(e,{i18next:n,rerenderOn:t=["languageChanged","loaded","added","removed"],slotStart:r="{",slotEnd:s="}"}){const o=x(new Date),a=()=>w(()=>{o.value=new Date}),l=()=>o.value;t.forEach(i=>{var c;switch(i){case"added":case"removed":(c=n.store)==null||c.on(i,a);break;default:n.on(i,a);break}}),e.component("i18next",C);const p=()=>n.isInitialized;e.config.globalProperties.$t=d(n.t.bind(n),l,p);const u=new Proxy(n,{get(i,c){return l(),Reflect.get(i,c)}});e.config.globalProperties.$i18next=u,e.provide(g,{i18next:u,slotPattern:I(r,s),withAccessRecording(i,c){return d(i,l,c)}})}function y(e,n){const{i18next:t,withAccessRecording:r}=f();let s;return s=t.getFixedT(null,null,void 0),{i18next:t,t:r(s,v(t,e))}}function v(e,n=[]){let t;return()=>{if(t===void 0)if(e.isInitialized){const s=(typeof n=="string"?[n]:n).filter(o=>!e.hasLoadedNamespace(o));s.length?(t=!1,e.loadNamespaces(s).then(()=>t=!0)):t=!0}else return!1;return t}}function d(e,n,t){return new Proxy(e,{apply:function(r,s,o){return n(),t()?Reflect.apply(r,s,o):""}})}function f(){const e=h(g);if(!e)throw new Error("i18next-vue: Make sure to register the i18next-vue plugin using app.use(...).");return e}function I(e,n){const t=`${e}\\s*([a-z0-9\\-]+)\\s*${n}`;return new RegExp(t,"gi")}var C=m({props:{translation:{type:String,required:!0}},setup(e,{slots:n}){const{slotPattern:t}=f();return()=>{const r=e.translation,s=[];let o,a=0;for(;(o=t.exec(r))!==null;){s.push(r.substring(a,o.index));const l=n[o[1]];l?s.push(...l()):s.push(o[0]),a=t.lastIndex}return s.push(r.substring(a)),s}}});export{b as i,y as u};
