import{bP as ca,I as K,l as P,B as O,E as V,D as ua,bM as da,cm as Ia,cq as Sa,d,o,K as t,s as _,j as b,r as Kt,n as ae,c as j,h as pa,a as n,t as k,F as fa,T as Ma,Y as ma,ds as Aa,w as Vt,b1 as Wt,bg as Ht,a8 as Ut,e8 as Gt,a5 as Qt,f as Ta,bu as Ra,a0 as Jt,a1 as Yt,b as u,a4 as Pa,z as Da,R as Zt,d$ as Ca,q as Ea,e0 as ja,bh as za,a3 as Xt,O as te,dt as A}from"./index-DkQngsHe.js";import{u as Na}from"./index-Czi9s18M.js";import{u as ea}from"./useServerClient-CmW8VHrx.js";import{_ as B}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-BBYVQkaB.js";import{i as Oa,w as Fa,a as Ba,h as La,o as D,t as qa,u as Ka,b as se,c as oe,f as Va,d as z,e as ue,s as Wa,g as T,l as Ha,N as ta,v as Ua,k as aa,_ as va,p as Ga,m as Qa,O as Ja}from"./listbox-D_RAdM55.js";import{_ as Ya}from"./FloatingBackButton.vue_vue_type_script_setup_true_lang-Da0SgVOE.js";import{_ as ra}from"./TMDBImage.vue_vue_type_script_setup_true_lang-TirsOY0V.js";import{M as Za}from"./MediaLikeButton-qW9HjHDP.js";import{_ as Xa,a as er}from"./SeasonCarousel.vue_vue_type_script_setup_true_lang-B7h96B9b.js";import{_ as sa,a as oa}from"./PersonCarousel.vue_vue_type_script_setup_true_lang-BB7XWOfg.js";import{_ as la}from"./MediaCarousel.vue_vue_type_script_setup_true_lang-DKJ6gSGT.js";import{I as re}from"./InfoHeaderItem-CmG-9a61.js";import{_ as tr}from"./ContentRating.vue_vue_type_script_setup_true_lang-BF8dUcVb.js";import{_ as F}from"./InfoItem.vue_vue_type_script_setup_true_lang-tMXRBa6p.js";import{_ as ha}from"./ScrollContainer.vue_vue_type_script_setup_true_lang-BJWiF2I-.js";import{_ as ar}from"./NotFound.vue_vue_type_script_setup_true_lang-D7Xgb4hO.js";import{_ as ie}from"./BannerButton.vue_vue_type_script_setup_true_lang-DBTfQ9IU.js";import{_ as rr}from"./ShareButton.vue_vue_type_script_setup_true_lang-CswGJJ8e.js";import{_ as sr}from"./Modal.vue_vue_type_script_setup_true_lang-DaZzj8Xb.js";import{_ as or}from"./NMComponent.vue_vue_type_script_setup_true_lang-Bv3t6R5p.js";import{s as na}from"./sidebar-CHTrkKN2.js";import{_ as lr}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useQuery-jTNaBwZN.js";import"./useBaseQuery-BnGe7Aaf.js";import"./useQueryClient-Cy1MABnp.js";import"./useInfiniteServerClient-BHsBwDbE.js";import"./AppLogoSquare-BLQmk_bo.js";import"./MusicButton.vue_vue_type_script_setup_true_lang-BSFDDcuJ.js";import"./index-MemSO8RC.js";import"./index-Be1fzYNM.js";import"./index-CE67H0ZO.js";import"./index-DHTGByx4.js";import"./autoSkipPlugin-W08l_S14.js";import"./subtitles-octopus-BvnPWJkB.js";import"./buttons-DnucOQvv.js";import"./desktopUIPlugin-DtYivsLh.js";import"./keyHandlerPlugin-CwaPA8uJ.js";import"./imageModal-Or-EXmDB.js";import"./swiper-vue-CvTfcGRK.js";import"./Carousel-B6mS7hEY.js";import"./swiper-config-BunBYb4m.js";import"./Select.vue_vue_type_script_setup_true_lang-CX1X_pYi.js";import"./PersonCard.vue_vue_type_script_setup_true_lang-DgVRNc9a.js";import"./CardIndicator.vue_vue_type_script_setup_true_lang-BiUo6g5N.js";import"./Shadow-CSihFWI0.js";import"./routerHelper-ByfMj4fo.js";import"./useMutationState-C3whgpb_.js";function nr({container:l,accept:i,walk:e,enabled:g}){ca(()=>{let $=l.value;if(!$||g!==void 0&&!g.value)return;let I=Oa(l);if(!I)return;let r=Object.assign(p=>i(p),{acceptNode:i}),v=I.createTreeWalker($,NodeFilter.SHOW_ELEMENT,r,!1);for(;v.nextNode();)e(v.currentNode)})}var ir=(l=>(l[l.Open=0]="Open",l[l.Closed=1]="Closed",l))(ir||{}),cr=(l=>(l[l.Pointer=0]="Pointer",l[l.Other=1]="Other",l))(cr||{});function ur(l){requestAnimationFrame(()=>requestAnimationFrame(l))}let ga=Symbol("MenuContext");function le(l){let i=Ia(ga,null);if(i===null){let e=new Error(`<${l} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,le),e}return i}let dr=K({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(l,{slots:i,attrs:e}){let g=P(1),$=P(null),I=P(null),r=P([]),v=P(""),p=P(null),R=P(1);function C(s=f=>f){let f=p.value!==null?r.value[p.value]:null,m=Ja(s(r.value.slice()),S=>D(S.dataRef.domRef)),y=f?m.indexOf(f):null;return y===-1&&(y=null),{items:m,activeItemIndex:y}}let x={menuState:g,buttonRef:$,itemsRef:I,items:r,searchQuery:v,activeItemIndex:p,activationTrigger:R,closeMenu:()=>{g.value=1,p.value=null},openMenu:()=>g.value=0,goToItem(s,f,m){let y=C(),S=Va(s===z.Specific?{focus:z.Specific,id:f}:{focus:s},{resolveItems:()=>y.items,resolveActiveIndex:()=>y.activeItemIndex,resolveId:w=>w.id,resolveDisabled:w=>w.dataRef.disabled});v.value="",p.value=S,R.value=m??1,r.value=y.items},search(s){let f=v.value!==""?0:1;v.value+=s.toLowerCase();let m=(p.value!==null?r.value.slice(p.value+f).concat(r.value.slice(0,p.value+f)):r.value).find(S=>S.dataRef.textValue.startsWith(v.value)&&!S.dataRef.disabled),y=m?r.value.indexOf(m):-1;y===-1||y===p.value||(p.value=y,R.value=1)},clearSearch(){v.value=""},registerItem(s,f){let m=C(y=>[...y,{id:s,dataRef:f}]);r.value=m.items,p.value=m.activeItemIndex,R.value=1},unregisterItem(s){let f=C(m=>{let y=m.findIndex(S=>S.id===s);return y!==-1&&m.splice(y,1),m});r.value=f.items,p.value=f.activeItemIndex,R.value=1}};return Fa([$,I],(s,f)=>{var m;x.closeMenu(),Ba(f,La.Loose)||(s.preventDefault(),(m=D($))==null||m.focus())},O(()=>g.value===0)),Sa(ga,x),qa(O(()=>Ka(g.value,{0:se.Open,1:se.Closed}))),()=>{let s={open:g.value===0,close:x.closeMenu};return oe({ourProps:{},theirProps:l,slot:s,slots:i,attrs:e,name:"Menu"})}}}),ba=K({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(l,{attrs:i,slots:e,expose:g}){var $;let I=($=l.id)!=null?$:`headlessui-menu-button-${ue()}`,r=le("MenuButton");g({el:r.buttonRef,$el:r.buttonRef});function v(x){switch(x.key){case T.Space:case T.Enter:case T.ArrowDown:x.preventDefault(),x.stopPropagation(),r.openMenu(),V(()=>{var s;(s=D(r.itemsRef))==null||s.focus({preventScroll:!0}),r.goToItem(z.First)});break;case T.ArrowUp:x.preventDefault(),x.stopPropagation(),r.openMenu(),V(()=>{var s;(s=D(r.itemsRef))==null||s.focus({preventScroll:!0}),r.goToItem(z.Last)});break}}function p(x){switch(x.key){case T.Space:x.preventDefault();break}}function R(x){l.disabled||(r.menuState.value===0?(r.closeMenu(),V(()=>{var s;return(s=D(r.buttonRef))==null?void 0:s.focus({preventScroll:!0})})):(x.preventDefault(),r.openMenu(),ur(()=>{var s;return(s=D(r.itemsRef))==null?void 0:s.focus({preventScroll:!0})})))}let C=Wa(O(()=>({as:l.as,type:i.type})),r.buttonRef);return()=>{var x;let s={open:r.menuState.value===0},{...f}=l,m={ref:r.buttonRef,id:I,type:C.value,"aria-haspopup":"menu","aria-controls":(x=D(r.itemsRef))==null?void 0:x.id,"aria-expanded":r.menuState.value===0,onKeydown:v,onKeyup:p,onClick:R};return oe({ourProps:m,theirProps:f,slot:s,attrs:i,slots:e,name:"MenuButton"})}}}),pr=K({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(l,{attrs:i,slots:e,expose:g}){var $;let I=($=l.id)!=null?$:`headlessui-menu-items-${ue()}`,r=le("MenuItems"),v=P(null);g({el:r.itemsRef,$el:r.itemsRef}),nr({container:O(()=>D(r.itemsRef)),enabled:O(()=>r.menuState.value===0),accept(s){return s.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:s.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(s){s.setAttribute("role","none")}});function p(s){var f;switch(v.value&&clearTimeout(v.value),s.key){case T.Space:if(r.searchQuery.value!=="")return s.preventDefault(),s.stopPropagation(),r.search(s.key);case T.Enter:if(s.preventDefault(),s.stopPropagation(),r.activeItemIndex.value!==null){let m=r.items.value[r.activeItemIndex.value];(f=D(m.dataRef.domRef))==null||f.click()}r.closeMenu(),va(D(r.buttonRef));break;case T.ArrowDown:return s.preventDefault(),s.stopPropagation(),r.goToItem(z.Next);case T.ArrowUp:return s.preventDefault(),s.stopPropagation(),r.goToItem(z.Previous);case T.Home:case T.PageUp:return s.preventDefault(),s.stopPropagation(),r.goToItem(z.First);case T.End:case T.PageDown:return s.preventDefault(),s.stopPropagation(),r.goToItem(z.Last);case T.Escape:s.preventDefault(),s.stopPropagation(),r.closeMenu(),V(()=>{var m;return(m=D(r.buttonRef))==null?void 0:m.focus({preventScroll:!0})});break;case T.Tab:s.preventDefault(),s.stopPropagation(),r.closeMenu(),V(()=>Ua(D(r.buttonRef),s.shiftKey?aa.Previous:aa.Next));break;default:s.key.length===1&&(r.search(s.key),v.value=setTimeout(()=>r.clearSearch(),350));break}}function R(s){switch(s.key){case T.Space:s.preventDefault();break}}let C=Ha(),x=O(()=>C!==null?(C.value&se.Open)===se.Open:r.menuState.value===0);return()=>{var s,f;let m={open:r.menuState.value===0},{...y}=l,S={"aria-activedescendant":r.activeItemIndex.value===null||(s=r.items.value[r.activeItemIndex.value])==null?void 0:s.id,"aria-labelledby":(f=D(r.buttonRef))==null?void 0:f.id,id:I,onKeydown:p,onKeyup:R,role:"menu",tabIndex:0,ref:r.itemsRef};return oe({ourProps:S,theirProps:y,slot:m,attrs:i,slots:e,features:ta.RenderStrategy|ta.Static,visible:x.value,name:"MenuItems"})}}}),ce=K({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(l,{slots:i,attrs:e,expose:g}){var $;let I=($=l.id)!=null?$:`headlessui-menu-item-${ue()}`,r=le("MenuItem"),v=P(null);g({el:v,$el:v});let p=O(()=>r.activeItemIndex.value!==null?r.items.value[r.activeItemIndex.value].id===I:!1),R=Ga(v),C=O(()=>({disabled:l.disabled,get textValue(){return R()},domRef:v}));ua(()=>r.registerItem(I,C)),da(()=>r.unregisterItem(I)),ca(()=>{r.menuState.value===0&&p.value&&r.activationTrigger.value!==0&&V(()=>{var w,q;return(q=(w=D(v))==null?void 0:w.scrollIntoView)==null?void 0:q.call(w,{block:"nearest"})})});function x(w){if(l.disabled)return w.preventDefault();r.closeMenu(),va(D(r.buttonRef))}function s(){if(l.disabled)return r.goToItem(z.Nothing);r.goToItem(z.Specific,I)}let f=Qa();function m(w){f.update(w)}function y(w){f.wasMoved(w)&&(l.disabled||p.value||r.goToItem(z.Specific,I,0))}function S(w){f.wasMoved(w)&&(l.disabled||p.value&&r.goToItem(z.Nothing))}return()=>{let{disabled:w,...q}=l,ne={active:p.value,disabled:w,close:r.closeMenu};return oe({ourProps:{id:I,ref:v,role:"menuitem",tabIndex:w===!0?void 0:-1,"aria-disabled":w===!0?!0:void 0,onClick:x,onFocus:s,onPointerenter:m,onMouseenter:m,onPointermove:y,onMousemove:y,onPointerleave:S,onMouseleave:S},theirProps:{...e,...q},slot:ne,attrs:e,slots:i,name:"MenuItem"})}}});const fr={class:"relative flex w-full flex-grow items-center justify-center gap-2 text-base font-semibold"},mr={class:"w-full whitespace-nowrap"},ia=K({__name:"ListControlHeaderMoreMenu",props:{items:{type:Array,required:!0},className:{type:String,required:!1,default:""}},setup(l){return(i,e)=>(o(),d(t(dr),{as:"div",class:"relative select-none z-[150]"},{default:_(()=>[b(t(ba),{"aria-label":i.$t("more"),class:""},{default:_(()=>[Kt(i.$slots,"button",{},()=>[b(B,{icon:"menuDotsHorizontal"})])]),_:3},8,["aria-label"]),b(Ma,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"scale-95 transform opacity-0","enter-to-class":"scale-100 transform opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"scale-100 transform opacity-100","leave-to-class":"scale-95 transform opacity-0"},{default:_(()=>[b(t(pr),{class:ae(["absolute z-10 m-2 ml-8 flex w-min origin-top-right -translate-x-full flex-col gap-2 rounded-lg p-1 shadow-lg bg-slate-light-3 dark:bg-slate-dark-1 border-1 border-auto-2/11",l.className])},{default:_(()=>[Kt(i.$slots,"default"),(o(!0),j(fa,null,pa(l.items,(g,$)=>(o(),d(t(ce),{key:$,as:"div",class:"flex justify-center items-center self-stretch h-10 relative p-2 gap-3 rounded-sm border border-transparent hover:border-focus/4 active:bg-focus/9 active:border-focus/4 active:hover:border-focus/4 focus:bg-auto-12/2 hover:bg-focus/10 disabled:!bg-focus/2 disabled:!border-focus/2 transition-colors duration-200",onClick:g.onclick},{default:_(()=>[n("span",fr,[b(B,{icon:g.icon,title:g.title},null,8,["icon","title"]),n("span",mr,k(i.$t(g.title)),1)])]),_:2},1032,["onClick"]))),128))]),_:3},8,["class"])]),_:3})]),_:3}))}}),vr=K({__name:"MissingEpisodes",props:{open:{type:Boolean,required:!0},close:{type:Function,required:!0}},setup(l){const i=ma(),e=O(()=>{const g=`${i.path}/missing`.split("/");return g[0]="base",g});return(g,$)=>(o(),d(sr,{open:l.open,close:l.close,title:"Missing episodes","max-width":"max-w-7xl"},{default:_(()=>[b(ha,{"auto-hide":!0,static:!0},{default:_(()=>[b(or,{path:`${t(i).path}/missing`,options:{queryKey:e.value}},null,8,["path","options"])]),_:1})]),_:1},8,["open","close"]))}}),hr={key:0,class:""},gr={class:"flex flex-col gap-4 overflow-clip rounded-3xl border-0 pb-2 w-available scrollbar-none border-auto-3"},br={class:"flex flex-col relative mx-auto w-full gap-4 rounded-lg p-4 max-w-screen-4xl justify-end min-h-[calc(100vh-6rem)] z-10"},_r={class:"z-0 flex w-full flex-grow flex-col items-end justify-end gap-2"},xr={class:"children:absolute relative right-1 bottom-0 col-start-1 col-end-2 flex h-auto w-auto select-none justify-end pb-2 max-w-[20vw] w-available translate-x-[4px] sm:h-40 lg:max-w-[30vw] aspect-[32/9]"},yr={class:"relative col-start-2 col-end-4 grid flex-shrink-0 flex-grow-0 grid-cols-3 items-start justify-start self-stretch rounded-2xl bg-gradient-to-b p-6 from-slate-light-3/12 via-slate-light-4/12 to-slate-light-4/11 dark:from-slate-dark-2/12 dark:via-slate-dark-2/12 dark:to-slate-dark-2/11 border-auto-5/8 border-1 min-h-[23.5rem]"},kr={class:"inset-0 grid group-hover/card:grid h-full w-full place-content-center group-focus-visible/card:bg-none group-hover/card:bg-none text-5xl text-transparent transition-transform duration-200 group-focus-visible/card:transitioning group-hover/card:text-auto-12"},wr={class:"col-start-1 content-center col-end-2 mt-auto bottom-6 left-8 w-full flex-shrink-0 select-none flex-grow-0 text-sm text-slate-lightA-12/70 dark:text-slate-darkA-12/80"},$r={class:"col-start-2 col-end-4 flex w-full flex-grow flex-col items-start justify-start gap-4"},Ir={class:"relative flex flex-shrink-0 flex-grow-0 items-center justify-start gap-4 self-stretch"},Sr={class:"flex-grow text-5xl font-bold w-[806px] text-auto-12",style:{"font-size":"clamp(1.25rem, 2.309vw + 0.652rem, 2rem)","line-height":`clamp(
                            1.875rem,
                            2.54vw + 1.218rem,
                            2.75rem
                          )`}},Mr={key:0,class:"relative flex flex-shrink-0 flex-grow-0 items-center justify-start gap-4"},Ar={class:"absolute top-3 left-1/2 -translate-x-1/2 grid h-0 w-max flex-shrink-0 flex-grow-0 origin-bottom group-hover/play:grid-cols-1 items-center justify-start duration-200 grid-cols-[0fr] group-hover/play:h-[32.77px] transform-all group-hover/play:top-[-38px] rounded-[5.46px] bg-[#3a3f42] group-hover/play:border border-[#e2f0fd]/[0.08]",style:{"box-shadow":"0 8px 12px -4px rgba(0, 0, 0, 0.08)"}},Tr={class:"overflow-hidden"},Rr={class:"flex-shrink-0 flex-grow-0 py-0 text-center text-xs font-bold px-2.5"},Pr={class:"whitespace-nowrap text-base font-semibold"},Dr=["src","alt"],Cr={class:"w-full whitespace-nowrap col-span-4 text-base font-semibold"},Er={key:2,class:"flex !flex-nowrap relative h-10 z-0 justify-center overflow-clip pointer-events-auto border-none group/button gap-2 p-2.5 items-center rounded-lg sm:bg-slate-lightA-2 dark:sm:bg-slate-darkA-4"},jr={class:"whitespace-nowrap text-base font-semibold"},zr=["href"],Nr={class:"w-full whitespace-nowrap"},Or={key:0,class:"flex flex-shrink-0 items-center justify-start gap-4 self-stretch"},Fr={class:"flex-shrink-0 text-sm font-bold uppercase text-auto-12"},Br={class:"flex-shrink-0 flex-grow-0 text-sm font-bold uppercase text-auto-12"},Lr={class:"flex-shrink-0 flex-grow-0 text-sm font-bold uppercase text-auto-12"},qr={class:"flex-shrink-0 flex-grow-0 text-sm font-bold text-auto-12 -ml-0.5"},Kr={key:4,class:"relative overflow-hidden"},Vr={key:1,class:"relative flex flex-col items-start justify-start gap-2 self-stretch"},Wr={class:"w-full text-lg font-medium text-auto-12 mb-4"},Hr={key:0,class:""},Ur={class:""},Gr=["href"],Qr={class:"relative grid w-full flex-shrink-0 flex-grow-0 grid-cols-7 items-start justify-start gap-1"},Jr={class:"grid-cols-3 text-xs font-bold uppercase text-slate-lightA-12/70 dark:text-slate-darkA-12/80"},Yr={class:"col-span-6 col-start-3 flex w-full max-w-fit flex-wrap gap-1 self-center xl:col-start-3 2xl:col-start-2 text-slate-lightA-12 dark:text-slate-darkA-12/80 font-semibold"},Zr={class:"gap-1 children:whitespace-nowrap text-sm"},Xr=["href"],es={key:0,class:"gap-1 children:whitespace-nowrap text-sm"},ts=["href"],as={key:1,class:"gap-1 children:whitespace-nowrap text-sm"},rs=["href"],ss=K({__name:"Desktop",setup(l){const i=ma(),{data:e,isError:g,error:$}=ea({keepForever:!0,queryKey:["base","info",i.params.id],path:i==null?void 0:i.fullPath}),{data:I}=ea({queryKey:["base","info",i.params.id,"available"],path:`${i.fullPath}/available`}),r=P(!1),v=P("loading"),p=P(-1),R=P(null),C=P(null),{t:x}=Na(),s=Aa(),f=P(!1);function m(){f.value=!0}function y(){f.value=!1}function S(a){var h,M,N;if(v.value="loading",!a||((h=a.videos)==null?void 0:h.length)===0||!((M=a.videos)!=null&&M[p.value])){v.value=!1;return}R.value=a.duration&&new Date(new Date().getTime()+a.duration*60*1e3).toLocaleTimeString(Xt.language??"en-US",{hour:"2-digit",minute:"2-digit"}),C.value=setInterval(()=>{R.value=a.duration&&new Date(new Date().getTime()+a.duration*60*1e3).toLocaleTimeString(Xt.language??"en-US",{hour:"2-digit",minute:"2-digit"})},1e3),te().head(`trailer/${(N=a.videos[p.value])==null?void 0:N.src}`,{withCredentials:!1}).then(()=>{v.value=!0}).catch(()=>{q(),v.value=!1})}Vt(e,a=>{var h,M,N,L;Wt((a==null?void 0:a.title)??(a==null?void 0:a.name)),a!=null&&a.backdrop&&Ht.value!==(a==null?void 0:a.backdrop)&&Ut(a==null?void 0:a.backdrop),a!=null&&a.logo&&Gt(a==null?void 0:a.logo),((h=a==null?void 0:a.color_palette)!=null&&h.backdrop||(M=a==null?void 0:a.color_palette)!=null&&M.poster)&&Qt(((N=a==null?void 0:a.color_palette)==null?void 0:N.poster)||((L=a==null?void 0:a.color_palette)==null?void 0:L.backdrop)),S(a)}),ua(()=>{var a,h,M,N,L,W,H,U,G,Q,J,Y,Z,X;p.value=0,Wt((a=e==null?void 0:e.value)==null?void 0:a.name),(h=e==null?void 0:e.value)!=null&&h.backdrop&&Ht.value!==((M=e==null?void 0:e.value)==null?void 0:M.backdrop)&&Ut((N=e==null?void 0:e.value)==null?void 0:N.backdrop),(L=e==null?void 0:e.value)!=null&&L.logo&&Gt((W=e==null?void 0:e.value)==null?void 0:W.logo),((U=(H=e==null?void 0:e.value)==null?void 0:H.color_palette)!=null&&U.backdrop||(Q=(G=e==null?void 0:e.value)==null?void 0:G.color_palette)!=null&&Q.poster)&&Qt(((Y=(J=e==null?void 0:e.value)==null?void 0:J.color_palette)==null?void 0:Y.backdrop)??((X=(Z=e==null?void 0:e.value)==null?void 0:Z.color_palette)==null?void 0:X.poster)),S(e==null?void 0:e.value)}),da(()=>{clearInterval(C.value??void 0)});function w(a){var M;if(a==null||a.stopPropagation(),!((M=e==null?void 0:e.value)!=null&&M.videos))return;r.value=!r.value;const h=document.querySelector("#main");h&&(h.style.overflow=r.value?"hidden":"auto")}function q(){var a,h,M;!(e!=null&&e.value)||((h=(a=e==null?void 0:e.value)==null?void 0:a.videos)==null?void 0:h.length)===0||(p.value===((M=e==null?void 0:e.value)==null?void 0:M.videos.length)-1?p.value=0:p.value++)}Vt(p,(a,h)=>{!a||a===h||S(e==null?void 0:e.value)});function ne(){}function _a(){te().post(`${i.fullPath}/rescan`).then(({data:a})=>{s.add({severity:a.status==="ok"?"success":"error",summary:A("Success"),detail:A(a.message,...a.args),life:5e3})}).catch(()=>{s.add({severity:"error",summary:A("error"),detail:A("An error occurred while rescanning the library folders"),life:5e3})})}function xa(){te().post(`${i.fullPath}/refresh`).then(({data:a})=>{s.add({severity:a.status==="ok"?"success":"error",summary:A(a.status==="ok"?"Success":"Error"),detail:A(a.message,...a.args),life:5e3})}).catch(()=>{s.add({severity:"error",summary:A("Error"),detail:A("An error occurred while rescanning the library folders"),life:5e3})})}function ya(){te().delete(`${i.fullPath}`).then(({data:a})=>{s.add({severity:a.status==="ok"?"success":"error",summary:A(a.status==="ok"?"Success":"Error"),detail:A(a.message,...a.args),life:5e3})}).catch(()=>{s.add({severity:"error",summary:A("error"),detail:A("An error occurred while rescanning the library folders"),life:5e3})})}function ka(){te().post(`${i.fullPath}/add`).then(({data:a})=>{s.add({severity:a.status==="ok"?"success":"error",summary:A(a.status==="ok"?"Success":"Error"),detail:A(a.message,...a.args),life:5e3})}).catch(()=>{s.add({severity:"error",summary:A("Error"),detail:A("An error occurred while rescanning the library folders"),life:5e3})})}const wa=O(()=>{var a,h;return[{icon:"arrowRefreshHorizontal",onclick:_a,title:"Rescan files",privileged:!0},{icon:"arrowRefreshHorizontal",onclick:xa,title:"Refresh data",privileged:!0},{icon:"folderAdd",onclick:ka,title:`Add ${((a=e==null?void 0:e.value)==null?void 0:a.media_type)==="movie"?"movie":"TV show"}`,privileged:!0},{icon:"folderRemove",onclick:ya,title:`Delete ${((h=e==null?void 0:e.value)==null?void 0:h.media_type)==="movie"?"movie":"TV show"}`,privileged:!0},{icon:"searchMagnifyingGlass",onclick:m,title:"Show missing episodes",privileged:!0}]}),$a=O(()=>{var a,h;return{title:((a=e.value)==null?void 0:a.title)??"",text:((h=e.value)==null?void 0:h.overview)??"",url:`https://app.nomercy.tv${i.fullPath}`}});return(a,h)=>{const M=Ta("RouterLink");return o(),d(t(za),null,{default:_(()=>[b(t(Ra),{fullscreen:!0},{default:_(()=>[t(g)&&!t(e)?(o(),d(ar,{key:0})):(o(),d(ha,{key:1,"auto-hide":!0,static:!0},{default:_(()=>{var N,L,W,H,U,G,Q,J,Y,Z,X,de,pe,fe,me,ve,he,ge,be,_e,xe,ye,ke,we,$e,Ie,Se,Me,Ae,Te,Re,Pe,De,Ce,Ee,je,ze,Ne,Oe,Fe,Be,Le,qe,Ke,Ve,We,He,Ue,Ge,Qe,Je,Ye,Ze,Xe,et,tt,at,rt,st,ot,lt,nt,it,ct,ut,dt,pt,ft,mt,vt,ht,gt,bt,_t,xt,yt,kt,wt,$t,It,St,Mt,At,Tt,Rt,Pt,Dt,Ct,Et,jt,zt,Nt,Ot,Ft,Bt;return[n("div",{class:ae(["z-0 flex flex-col gap-4 rounded-3xl border-0 w-available scrollbar-none border-auto-3",{"pb-2":t(Jt)&&t(Yt),"children:pb-4 sm:children:pb-3":!t(Jt)&&t(Yt)}])},[t(g)||t($)?(o(),j("div",hr,[n("p",null,k(t($)),1)])):u("",!0),n("div",gr,[b(Ya),n("div",br,[h[2]||(h[2]=n("div",{class:"z-0 flex w-full flex-grow flex-col min-h-40"},null,-1)),n("div",_r,[n("div",xr,[(N=t(e))!=null&&N.logo?(o(),d(ra,{key:(L=t(e))==null?void 0:L.logo,"auto-shadow":!0,path:(W=t(e))==null?void 0:W.logo,size:500,shadow:t(Pa)((U=(H=t(e))==null?void 0:H.color_palette)==null?void 0:U.poster),title:(G=t(e))==null?void 0:G.title,class:"pointer-events-none relative mx-auto flex h-full w-full select-none place-self-start overflow-hidden p-4","class-name":"relative bottom-0 h-auto w-auto p-4",type:"logo"},null,8,["path","shadow","title"])):u("",!0)]),n("div",yr,[(Q=t(e))!=null&&Q.poster?(o(),j("div",{key:0,class:ae(["absolute z-10 col-start-1 content-center col-end-2 h-auto w-full items-start justify-start rounded-lg top-0 -translate-y-[35%] sm:block",{"":t(I)}])},[b(M,{to:`/${(J=t(e))==null?void 0:J.media_type}/${(Y=t(e))==null?void 0:Y.id}/watch`,"aria-label":a.$t("Play"),class:ae(["relative h-available m-auto mx-auto flex-1 flex max-w-[75%] scale-95 cursor-default group/card z-0 transitioning rounded-2xl aspect-poster overflow-clip select-none cover !shadow-none max-h-available",{" 4xl:-mt-10 5xl:-mt-20 6xl:-mt-28 mb-20 6xl:mb-28":t(na)==="open"," 4xl:-mt-2 5xl:-mt-60 6xl:-mt-28 mb-60 6xl:mb-28":t(na)!=="open","hover:!scale-100 hover:-translate-y-1":t(I)}]),"data-nav":"true","data-nav-r":"play","data-nav-reset":"true"},{default:_(()=>{var c,E,ee,Lt,qt;return[(o(),d(ra,{key:((c=t(e))==null?void 0:c.poster)||"poster","auto-shadow":!0,path:(E=t(e))==null?void 0:E.poster,"color-palette":(Lt=(ee=t(e))==null?void 0:ee.color_palette)==null?void 0:Lt.poster,size:760,priority:"high",title:(qt=t(e))==null?void 0:qt.title,aspect:"poster","class-name":"pointer-events-none absolute -inset-1 z-20 flex aspect-poster scale-100 select-none items-center place-self-start overflow-hidden rounded-2xl !w-auto !h-auto max-h-available",class:"m-auto !w-full !h-full children:w-auto scale-100 rounded-2xl aspect-poster 5xl:w-inherit flex",type:"image"},null,8,["path","color-palette","title"])),n("span",{class:ae(`tv:group-focus-visible/card:bg-black/3 absolute -inset-1 z-20 grid h-auto w-available items-center rounded-lg aspect-poster transition-transform duration-200 opacity-0 [background:radial-gradient(75%_50%_at_50%_50%,_rgba(0,_0,_0,_0.40)_0%,_rgba(0,_0,_0,_0.00)_100%),_rgba(0,_0,_0,_0.09)] mx-auto w-max ${t(I)?"group-hover/card:opacity-100":""}`)},[n("span",kr,[b(B,{icon:"play","class-name":"w-20 text-slate-lightA-12/70 dark:text-slate-darkA-12/80"})])],2)]}),_:1},8,["to","aria-label","class"])],2)):u("",!0),n("p",wr,k(a.$t("Data provided by The Movie Database(TMDb)"))+". ",1),n("div",$r,[n("div",Ir,[n("p",Sr,k((X=(Z=t(e))==null?void 0:Z.title)==null?void 0:X.replace(/(: | en de )/,`
`)),1),t(e)?(o(),j("div",Mr,[t(I)?(o(),d(ie,{key:0,href:`${(de=t(e))==null?void 0:de.link}/watch`,title:"Play"},{default:_(()=>[b(B,{icon:"play","class-name":"w-6 text-slate-lightA-12/70  dark:text-slate-darkA-12/80"}),n("div",Ar,[n("div",Tr,[n("p",Rr,k(a.$t("Ends at"))+" "+k(R.value),1)])])]),_:1},8,["href"])):t(e)&&t(e).watch_providers&&t(e).watch_providers.length>0?(o(),d(ia,{key:1,items:[],class:"text-slate-lightA-12/70 dark:text-slate-darkA-12/80","class-name":"max-h-80 overflow-y-auto overflow-x-hidden  !ml-0 !-translate-x-1/3"},{button:_(()=>[b(t(ba),{class:"flex flex-nowrap relative w-min active:outline outline-focus focus-visible:outline h-10 z-0 justify-center disabled:opacity-50 disabled:text-auto-300 disabled:hover:!bg-transparent overflow-clip pointer-events-auto border-none focus:border-none active:border-none focus-visible:sm:ring-white focus-visible:sm:ring-2 group/button gap-2 p-2.5 items-center rounded-lg sm:bg-slate-lightA-2 dark:sm:bg-slate-darkA-4 active:sm:bg-slate-lightA-6 focus-visible:sm:bg-slate-lightA-6 hover:sm:bg-slate-lightA-6 dark:sm:active:bg-slate-darkA-6 dark:sm:focus-visible:sm:bg-slate-darkA-6 dark:sm:hover:bg-slate-darkA-6"},{default:_(()=>[n("span",Pr,k(a.$t("Watch options")),1),b(B,{icon:"chevronDown","class-name":"w-6"})]),_:1})]),default:_(()=>[(o(!0),j(fa,null,pa(t(e).watch_providers.toSorted((c,E)=>E.display_priority-c.display_priority),c=>(o(),d(t(ce),{key:c.id,as:"a",href:c.link,target:"_blank",class:"grid grid-cols-5 w-60 justify-center items-center self-stretch relative p-2 gap-3 rounded-sm border border-transparent hover:border-focus/4 active:bg-focus/9 active:border-focus/4 active:hover:border-focus/4 focus:bg-auto-12/2 hover:bg-focus/10 disabled:!bg-focus/2 disabled:!border-focus/2 transition-colors duration-200"},{default:_(()=>[c!=null&&c.logo?(o(),j("img",{key:0,src:`https://image.tmdb.org/t/p/w92${c==null?void 0:c.logo}`,alt:c==null?void 0:c.name,class:"inline h-10 w-10 rounded-sm align-middle col-span-1"},null,8,Dr)):u("",!0),n("span",Cr,k(c==null?void 0:c.name),1)]),_:2},1032,["href"]))),128))]),_:1})):(o(),j("div",Er,[n("span",jr,k(a.$t("Not available")),1),b(B,{icon:"playUnavailable","class-name":"w-6"})])),b(ie,{title:"Watch trailer",onClick:h[0]||(h[0]=c=>v.value===!0?w(c):null)},{default:_(()=>[b(B,{icon:"film","class-name":"w-6",style:Da(`color: ${v.value===!0?"rgb(var(--color-green-8))":"rgb(var(--color-red-8))"}`)},null,8,["style"])]),_:1}),b(ie,{title:"Mark as watched",onClick:ne},{default:_(()=>[b(B,{icon:"check","class-name":"w-6 text-slate-lightA-12/70  dark:text-slate-darkA-12/80"})]),_:1}),b(rr,{"share-data":$a.value,class:"!p-0"},null,8,["share-data"]),t(e)?(o(),d(Za,{key:3,data:t(e)},null,8,["data"])):u("",!0),b(ia,{items:wa.value.filter(c=>{var E,ee;return!c.privileged||c.privileged&&(((E=t(Zt))==null?void 0:E.is_owner)||((ee=t(Zt))==null?void 0:ee.is_manager))}),class:"text-slate-lightA-12/70 dark:text-slate-darkA-12/80"},{default:_(()=>[b(t(ce),{as:"div",class:"flex justify-center items-center self-stretch h-10 relative p-2 gap-3 rounded-sm border border-transparent hover:border-focus/4 active:bg-focus/9 active:border-focus/4 active:hover:border-focus/4 focus:bg-auto-12/2 hover:bg-focus/10 disabled:!bg-focus/2 disabled:!border-focus/2 transition-colors duration-200"},{default:_(()=>{var c,E;return[n("a",{target:"_blank",href:`https://www.themoviedb.org/${(c=t(e))==null?void 0:c.media_type}/${(E=t(e))==null?void 0:E.id}/edit`,class:"relative flex w-full flex-grow items-center justify-center gap-2 text-base font-semibold"},[b(B,{icon:"edit"}),n("span",Nr,k(a.$t("Edit on TMDb")),1)],8,zr)]}),_:1})]),_:1},8,["items"])])):u("",!0)]),t(e)?(o(),j("div",Or,[(pe=t(e))!=null&&pe.year?(o(),d(re,{key:0},{default:_(()=>{var c;return[n("p",Fr,k((c=t(e))==null?void 0:c.year),1)]}),_:1})):u("",!0),(fe=t(e))!=null&&fe.number_of_items?(o(),d(re,{key:1},{default:_(()=>{var c;return[n("p",Br,k((c=t(e))==null?void 0:c.number_of_items)+" "+k(a.$t("ep"))+". ",1)]}),_:1})):u("",!0),(me=t(e))!=null&&me.duration?(o(),d(re,{key:2},{default:_(()=>[n("p",Lr,k(t(Ca)(t(x),t(e).duration,!0)),1)]),_:1})):u("",!0),(ve=t(e))!=null&&ve.voteAverage?(o(),d(re,{key:3},{default:_(()=>{var c,E;return[n("p",qr," ⭐ ️"+k((E=(c=t(e))==null?void 0:c.voteAverage)==null?void 0:E.toFixed(0))+"/10 ",1)]}),_:1})):u("",!0),(he=t(e))!=null&&he.content_ratings?(o(),j("div",Kr,[b(tr,{size:6,class:"h-full min-!h-[1rem] object-scale-down rounded-lg overflow-clip",ratings:(ge=t(e))==null?void 0:ge.content_ratings},null,8,["ratings"])])):u("",!0)])):u("",!0),t(e)?(o(),j("div",Vr,[h[1]||(h[1]=n("div",{class:"h-px bg-auto-12/10"},null,-1)),n("div",Wr,[(be=t(e))!=null&&be.overview?u("",!0):(o(),j("div",Hr,[n("span",Ur,k(a.$t("We don't have an overview for "))+" "+k(t(e).name)+". "+k(a.$t("Feel free to contribute!")),1),n("a",{href:`https://www.themoviedb.org/${(_e=t(i).params)==null?void 0:_e.type}/${(xe=t(i).params)==null?void 0:xe.id}/edit`,class:"underline underline-offset-4"},k(a.$t("Contribute to TMDb")),9,Gr)])),Ea(" "+k((ye=t(e))==null?void 0:ye.overview),1)]),(ke=t(e))!=null&&ke.genres?(o(),d(F,{key:0,data:t(e),title:"Genres","key-name":"genres",prefix:"genres"},null,8,["data"])):u("",!0),(we=t(e))!=null&&we.writer?(o(),d(F,{key:1,data:{writer:[($e=t(e))==null?void 0:$e.writer]},title:"Writer","key-name":"writer",prefix:"person"},null,8,["data"])):u("",!0),(Ie=t(e))!=null&&Ie.creator?(o(),d(F,{key:2,data:{creator:[(Se=t(e))==null?void 0:Se.creator]},title:"Creator","key-name":"creator",prefix:"person"},null,8,["data"])):u("",!0),(Me=t(e))!=null&&Me.director?(o(),d(F,{key:3,data:{director:[(Ae=t(e))==null?void 0:Ae.director]},title:"Director","key-name":"director",prefix:"person"},null,8,["data"])):u("",!0),((Re=(Te=t(e))==null?void 0:Te.creators)==null?void 0:Re.length)>0?(o(),d(F,{key:4,data:t(e),title:"Creators","key-name":"creators",prefix:"person"},null,8,["data"])):u("",!0),((De=(Pe=t(e))==null?void 0:Pe.directors)==null?void 0:De.length)>0?(o(),d(F,{key:5,data:t(e),title:"Directors","key-name":"directors",prefix:"person"},null,8,["data"])):u("",!0),((Ee=(Ce=t(e))==null?void 0:Ce.writers)==null?void 0:Ee.length)>0?(o(),d(F,{key:6,data:t(e),title:"Writers","key-name":"writers",prefix:"person"},null,8,["data"])):u("",!0),((ze=(je=t(e))==null?void 0:je.keywords)==null?void 0:ze.length)>0?(o(),d(F,{key:7,data:t(e),title:"Keywords","key-name":"keywords"},null,8,["data"])):u("",!0),((Oe=(Ne=t(e))==null?void 0:Ne.networks)==null?void 0:Oe.length)>0?(o(),d(F,{key:8,data:t(e),title:"Networks","key-name":"networks"},null,8,["data"])):u("",!0),((Be=(Fe=t(e))==null?void 0:Fe.companies)==null?void 0:Be.length)>0?(o(),d(F,{key:9,data:t(e),title:"Companies","key-name":"companies"},null,8,["data"])):u("",!0),n("div",Qr,[n("p",Jr,k(a.$t("External links")),1),n("div",Yr,[n("div",Zr,[n("a",{href:`https://themoviedb.org/${(Le=t(e))==null?void 0:Le.media_type}/${(qe=t(e))==null?void 0:qe.id}`,target:"_blank",class:"inline-block underline-offset-4 hover:underline focus-visible:underline"}," TheMovieDb ",8,Xr),n("span",null,k((Ve=(Ke=t(e))==null?void 0:Ke.external_ids)!=null&&Ve.imdb_id||(He=(We=t(e))==null?void 0:We.external_ids)!=null&&He.tvdb_id?",":""),1)]),(Ge=(Ue=t(e))==null?void 0:Ue.external_ids)!=null&&Ge.imdb_id?(o(),j("div",es,[n("a",{href:`https://imdb.com/title/${(Je=(Qe=t(e))==null?void 0:Qe.external_ids)==null?void 0:Je.imdb_id}`,class:"inline-block underline-offset-4 hover:underline focus-visible:underline",target:"_blank"}," IMDb ",8,ts),n("span",null,k((Ze=(Ye=t(e))==null?void 0:Ye.external_ids)!=null&&Ze.tvdb_id?",":""),1)])):u("",!0),(et=(Xe=t(e))==null?void 0:Xe.external_ids)!=null&&et.tvdb_id?(o(),j("div",as,[n("a",{href:`https://thetvdb.com/?tab=series&id=${(at=(tt=t(e))==null?void 0:tt.external_ids)==null?void 0:at.tvdb_id}&lid=eng`,class:"inline-block underline-offset-4 hover:underline focus-visible:underline",target:"_blank"}," TheTvDb ",8,rs)])):u("",!0)])])])):u("",!0)])])])]),(rt=t(e))!=null&&rt.seasons&&((ot=(st=t(e))==null?void 0:st.seasons)==null?void 0:ot.length)>0?(o(),d(Xa,{key:0,data:(lt=t(e))==null?void 0:lt.seasons,type:"backdrop"},null,8,["data"])):u("",!0),(nt=t(e))!=null&&nt.cast&&((ct=(it=t(e))==null?void 0:it.cast)==null?void 0:ct.length)>0?(o(),d(sa,{key:1,data:(ut=t(e))==null?void 0:ut.cast.slice(0,50),title:"Cast"},null,8,["data"])):u("",!0),(dt=t(e))!=null&&dt.crew&&((ft=(pt=t(e))==null?void 0:pt.crew)==null?void 0:ft.length)>0?(o(),d(sa,{key:2,data:t(ja)((mt=t(e))==null?void 0:mt.crew,"profile","id").slice(0,50),title:"Crew"},null,8,["data"])):u("",!0),(vt=t(e))!=null&&vt.posters&&((gt=(ht=t(e))==null?void 0:ht.posters)==null?void 0:gt.length)>0?(o(),d(oa,{key:3,data:(bt=t(e))==null?void 0:bt.posters,title:"Poster",type:"poster"},null,8,["data"])):u("",!0),(_t=t(e))!=null&&_t.backdrops&&((yt=(xt=t(e))==null?void 0:xt.backdrops)==null?void 0:yt.length)>0?(o(),d(oa,{key:4,"color-palette":(wt=(kt=t(e))==null?void 0:kt.color_palette)==null?void 0:wt.poster,data:($t=t(e))==null?void 0:$t.backdrops,title:"Backdrop",type:"backdrop"},null,8,["color-palette","data"])):u("",!0),(It=t(e))!=null&&It.recommendations&&((Mt=(St=t(e))==null?void 0:St.recommendations)==null?void 0:Mt.length)>0?(o(),d(la,{key:5,"color-palette":(At=t(e))==null?void 0:At.color_palette,data:(Tt=t(e))==null?void 0:Tt.recommendations,title:"Recommendations",type:"poster"},null,8,["color-palette","data"])):u("",!0),(Rt=t(e))!=null&&Rt.similar&&((Dt=(Pt=t(e))==null?void 0:Pt.similar)==null?void 0:Dt.length)>0?(o(),d(la,{key:6,"color-palette":(Ct=t(e))==null?void 0:Ct.color_palette,data:(Et=t(e))==null?void 0:Et.similar,title:"Similar",type:"poster"},null,8,["color-palette","data"])):u("",!0)]),(jt=t(e))!=null&&jt.videos&&((Nt=(zt=t(e))==null?void 0:zt.videos)==null?void 0:Nt.length)>0&&r.value?(o(),d(er,{key:p.value,"increment-trailer-index":q,index:p.value,open:r.value,title:((Ot=t(e))==null?void 0:Ot.title)??((Ft=t(e))==null?void 0:Ft.name),toggle:w,videos:(Bt=t(e))==null?void 0:Bt.videos,class:"inset-0 h-full w-full z-999"},null,8,["index","open","title","videos"])):u("",!0)],2)]}),_:1})),b(vr,{close:y,open:f.value},null,8,["open"])]),_:1})]),_:1})}}}),Zs=lr(ss,[["__scopeId","data-v-5642c87e"]]);export{Zs as default};
