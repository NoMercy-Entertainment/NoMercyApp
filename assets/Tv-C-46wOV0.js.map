{"version":3,"file":"Tv-C-46wOV0.js","sources":["../../src/lib/VideoPlayer/plugins/UIPlugin/tvUIPlugin.ts","../../src/views/Base/Watch/Tv.vue"],"sourcesContent":["import { BaseUIPlugin } from './baseUIPlugin';\nimport {\n\tbreakLogoTitle,\n\tconvertToSeconds,\n\tlimitSentenceByCharacters,\n\tlineBreakShowTitle,\n} from  '@nomercy-entertainment/nomercy-video-player/src/helpers';\n\nimport type { Icon } from './buttons';\nimport type { PlaylistItem } from '../../index';\n\nexport class TVUIPlugin extends BaseUIPlugin {\n\n\tpreScreen: HTMLDialogElement = <HTMLDialogElement>{};\n\tepisodeScreen: HTMLDialogElement = <HTMLDialogElement>{};\n\tlanguageScreen: HTMLDialogElement = <HTMLDialogElement>{};\n\n\tselectedSeason: number | undefined;\n\thasPlayed: boolean = false;\n\n\ttvDialogStyles = [\n\t\t'w-available',\n\t\t'h-available',\n\t\t'max-w-available',\n\t\t'max-h-available',\n\t\t'',\n\t];\n\n\tuse() {\n\t\tthis.player.container.style.display = 'contents';\n\n\t\tthis.createTvOverlay(this.player.overlay);\n\n\t\tthis.createPreScreen(this.player.overlay);\n\n\t\tthis.createEpisodeScreen(this.player.overlay);\n\n\t\tthis.createLanguageScreen(this.player.overlay);\n\n\t\tif (!this.player.options.autoPlay) {\n\t\t\tthis.showPreScreen();\n\t\t}\n\n\t\tthis.player.once('firstFrame', () => {\n\t\t\tthis.hasPlayed = true;\n\t\t});\n\n\t\tthis.player.on('play', () => {\n\t\t\tthis.player.emit('show-seek-container', false);\n\t\t\tthis.player.getVideoElement().scrollIntoView();\n\t\t\tthis.closePreScreen();\n\t\t\tthis.closeEpisodeScreen();\n\t\t\tthis.closeLanguageScreen();\n\t\t});\n\n\t\tthis.player.on('back-button', this.backMenu.bind(this));\n\n\t\tdocument.addEventListener('keydown', (e: KeyboardEvent) => {\n\t\t\t// back button\n\t\t\tif (e.key == 'Backspace') {\n\t\t\t\tthis.backMenu();\n\t\t\t}\n\t\t\tif (e.key == 'ArrowUp') {\n\t\t\t\tthis.player.ui_resetInactivityTimer();\n\t\t\t}\n\t\t\tif (e.key == 'ArrowDown') {\n\t\t\t\tthis.player.ui_resetInactivityTimer();\n\t\t\t}\n\t\t\tif (e.key == 'ArrowLeft') {\n\t\t\t\tthis.player.ui_resetInactivityTimer();\n\t\t\t}\n\t\t\tif (e.key == 'ArrowRight') {\n\t\t\t\tthis.player.ui_resetInactivityTimer();\n\t\t\t}\n\t\t});\n\n\t\tthis.player.on('pause', () => {\n\t\t\t// this.showPreScreen();\n\t\t\t// this.player.pause();\n\t\t});\n\n\t\tthis.player.once('ready', () => {\n\t\t\tthis.showPreScreen();\n\t\t\tthis.player.pause();\n\t\t});\n\t}\n\n\tbackMenu() {\n\t\tif (this.player.isTv() && this.currentMenu !== 'seek') {\n\t\t\tif (this.player.container.classList.contains('episode-screen')) {\n\t\t\t\tthis.closeEpisodeScreen();\n\t\t\t} else if (this.player.container.classList.contains('language-screen')) {\n\t\t\t\tthis.closeLanguageScreen();\n\t\t\t} else if (this.player.container.classList.contains('pre-screen')) {\n\t\t\t\tthis.player.emit('back');\n\t\t\t} else {\n\t\t\t\tthis.player.pause();\n\t\t\t\tthis.showPreScreen();\n\t\t\t}\n\t\t}\n\t}\n\n\tcreateTvOverlay(parent: HTMLElement) {\n\n\t\tconst tvOverlay = this.player.createElement('div', 'tv-overlay')\n\t\t\t.addClasses([\n\t\t\t\t'absolute',\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'justify-end',\n\t\t\t\t'gap-4',\n\t\t\t\t'w-available',\n\t\t\t\t'h-available',\n\t\t\t\t'z-0',\n\t\t\t])\n\t\t\t.addClasses(['group-[&.nomercyplayer.paused.pre-screen]:hidden'])\n\t\t\t.appendTo(parent);\n\n\t\tconst topBar = this.createTopBar(tvOverlay);\n\t\tthis.player.addClasses(topBar, [\n\t\t\t'px-10',\n\t\t\t'pt-10',\n\t\t\t'z-0',\n\t\t]);\n\n\t\tconst backButton = this.createBackButton(topBar, true);\n\t\tif (backButton) {\n\t\t\tthis.player.addClasses(backButton, ['children:stroke-2']);\n\t\t}\n\t\tconst restartButton = this.createRestartButton(topBar, true);\n\t\tthis.player.addClasses(restartButton, ['children:stroke-2']);\n\n\t\tconst nextButton = this.createNextButton(topBar, true);\n\t\tthis.player.addClasses(nextButton, ['children:stroke-2']);\n\n\t\tthis.createDivider(topBar);\n\t\tthis.createTvCurrentItem(topBar);\n\n\t\tthis.createOverlayCenterMessage(tvOverlay);\n\n\t\tthis.createSpinnerContainer(tvOverlay);\n\n\t\tthis.seekContainer = this.createSeekContainer(tvOverlay);\n\n\t\tconst bottomBar = this.createBottomBar(tvOverlay);\n\t\tconst bottomRow = this.player.createElement('div', 'bottom-row')\n\t\t\t.addClasses([\n\t\t\t\t'tv-bottom-row',\n\t\t\t\t'relative',\n\t\t\t\t'flex',\n\t\t\t\t'flex-row',\n\t\t\t\t'items-center',\n\t\t\t\t'gap-4',\n\t\t\t\t'mt-auto',\n\t\t\t\t'w-available',\n\t\t\t\t'px-20',\n\t\t\t\t'pb-10',\n\t\t\t\t'z-0',\n\t\t\t])\n\t\t\t.appendTo(bottomBar);\n\n\t\tthis.createPlaybackButton(bottomRow, true);\n\n\t\tthis.createTime(bottomRow, 'current', []);\n\t\tthis.createTvProgressBar(bottomRow);\n\t\tthis.createTime(bottomRow, 'remaining', ['mr-14']);\n\n\t\t// this.player.on('active', (value) => {\n\t\t// \tif (value && this.currentMenu !== 'seek' && !this.controlsVisible) {\n\t\t// \t\tplaybackButton.focus();\n\t\t// \t}\n\t\t// });\n\n\t\tthis.player.on('playing', () => {\n\t\t\tif (this.currentMenu !== 'seek' && !this.controlsVisible) {\n\t\t\t\tthis.playbackButton.focus();\n\t\t\t}\n\t\t});\n\n\n\t\tlet activeButton = backButton ?? restartButton ?? nextButton;\n\n\t\t[backButton, restartButton, nextButton].forEach((button) => {\n\t\t\tbutton?.addEventListener('keydown', (e) => {\n\t\t\t\tif (e.key == 'ArrowDown') {\n\t\t\t\t\tif (this.nextUp.style.display == 'none') {\n\t\t\t\t\t\tthis.playbackButton?.focus();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.nextUp.lastChild?.focus();\n\t\t\t\t\t}\n\t\t\t\t} else if (e.key == 'ArrowLeft') {\n\t\t\t\t\tactiveButton = ((e.target as HTMLButtonElement).previousElementSibling as HTMLButtonElement);\n\t\t\t\t\tactiveButton?.focus();\n\t\t\t\t} else if (e.key == 'ArrowRight') {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tactiveButton = ((e.target as HTMLButtonElement).nextElementSibling as HTMLButtonElement);\n\t\t\t\t\tactiveButton?.focus();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\t[this.nextUp.firstChild, this.nextUp.lastChild].forEach((button) => {\n\t\t\tbutton?.addEventListener('keydown', (e: KeyboardEvent) => {\n\t\t\t\tif (e.key == 'ArrowUp') {\n\t\t\t\t\t(activeButton || restartButton)?.focus();\n\t\t\t\t} else if (e.key == 'ArrowDown') {\n\t\t\t\t\tthis.playbackButton.focus();\n\t\t\t\t} else if (e.key == 'ArrowLeft') {\n\t\t\t\t\tthis.nextUp.firstChild?.focus();\n\t\t\t\t} else if (e.key == 'ArrowRight') {\n\t\t\t\t\tthis.nextUp.lastChild?.focus();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\t[this.playbackButton].forEach((button) => {\n\t\t\tbutton?.addEventListener('keydown', (e) => {\n\t\t\t\tif (e.key == 'ArrowUp') {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tif (this.nextUp.style.display == 'none') {\n\t\t\t\t\t\tactiveButton?.focus();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.nextUp.lastChild?.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tlet didSlide: boolean = false;\n\t\t[this.player.getVideoElement(), tvOverlay].forEach((button) => {\n\t\t\t(button as unknown as HTMLButtonElement)?.addEventListener('keydown', (e: KeyboardEvent) => {\n\t\t\t\tif (e.key == 'ArrowLeft') {\n\t\t\t\t\t// eslint-disable-next-line max-len\n\t\t\t\t\tif ([backButton, restartButton, nextButton, this.nextUp.firstChild, this.nextUp.lastChild].includes(e.target as HTMLButtonElement)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tthis.player.emit('show-seek-container', true);\n\n\t\t\t\t\tif (this.shouldSlide) {\n\t\t\t\t\t\tthis.currentScrubTime = this.getClosestSeekableInterval();\n\t\t\t\t\t\tthis.shouldSlide = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst newScrubbTime = this.currentScrubTime - 10;\n\t\t\t\t\t\tdidSlide = true;\n\t\t\t\t\t\tthis.player.emit('currentScrubTime', {\n\t\t\t\t\t\t\t...this.player.getTimeData(),\n\t\t\t\t\t\t\tcurrentTime: newScrubbTime,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t} else if (e.key == 'ArrowRight') {\n\t\t\t\t\t// eslint-disable-next-line max-len\n\t\t\t\t\tif ([backButton, restartButton, nextButton, this.nextUp.firstChild, this.nextUp.lastChild].includes(e.target as HTMLButtonElement)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tthis.player.emit('show-seek-container', true);\n\n\t\t\t\t\tif (this.shouldSlide) {\n\t\t\t\t\t\tthis.currentScrubTime = this.getClosestSeekableInterval();\n\t\t\t\t\t\tthis.shouldSlide = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst newScrubTime = this.currentScrubTime + 10;\n\t\t\t\t\t\tdidSlide = true;\n\t\t\t\t\t\tthis.player.emit('currentScrubTime', {\n\t\t\t\t\t\t\t...this.player.getTimeData(),\n\t\t\t\t\t\t\tcurrentTime: newScrubTime,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else if (e.key == 'Enter') {\n\t\t\t\t\tif (Math.abs(this.currentScrubTime - this.player.getCurrentTime()) > 5 && didSlide) {\n\t\t\t\t\t\tconsole.log('seeking to', this.currentScrubTime);\n\t\t\t\t\t\tthis.player.seek(this.currentScrubTime);\n\t\t\t\t\t\tdidSlide = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tthis.playbackButton.focus();\n\n\t\treturn bottomBar;\n\t}\n\n\tshowPreScreen() {\n\t\tthis.preScreen.showModal();\n\t\tthis.preScreen.querySelector<HTMLButtonElement>('.button-container>button')?.focus();\n\t\tsetTimeout(() => {\n\t\t\tthis.player.container.classList.add('pre-screen');\n\t\t}, 5);\n\t}\n\n\tclosePreScreen() {\n\t\tthis.preScreen.close();\n\t\tthis.player.emit('hideControls');\n\t\tthis.player.container.classList.remove('pre-screen');\n\t}\n\n\tcreatePreScreen(parent: HTMLElement) {\n\n\t\tthis.preScreen = this.player.createElement('dialog', 'pre-screen-dialog')\n\t\t\t.addClasses(this.tvDialogStyles)\n\t\t\t.addClasses([\n\t\t\t\t'group-[&.nomercyplayer.paused:not(.open)]:backdrop:bg-black/80',\n\t\t\t\t'group-[&.nomercyplayer.paused:not(.open)]:backdrop:pointer-events-none',\n\t\t\t])\n\t\t\t.appendTo(parent);\n\n\t\tthis.preScreen.setAttribute('popover', 'manual');\n\t\tthis.preScreen.setAttribute('role', 'modal');\n\n\t\tconst preScreen = this.player.createElement('div', 'pre-screen')\n\t\t\t.addClasses([\n\t\t\t\t'pre-screen',\n\t\t\t\t'absolute',\n\t\t\t\t'inset-0',\n\t\t\t\t'flex',\n\t\t\t\t'p-6',\n\t\t\t\t'text-white',\n\t\t\t\t'w-available',\n\t\t\t\t'h-available',\n\t\t\t\t'z-0',\n\t\t\t])\n\t\t\t.addClasses([\n\t\t\t\t'group-[&.nomercyplayer.paused.episode-screen]:hidden',\n\t\t\t\t'group-[&.nomercyplayer.paused.language-screen]:hidden',\n\t\t\t])\n\t\t\t.appendTo(this.preScreen);\n\n\t\tconst leftSide = this.player.createElement('div', 'left-side')\n\t\t\t.addClasses([\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'justify-between',\n\t\t\t\t'items-center',\n\t\t\t\t'w-1/2',\n\t\t\t\t'h-available',\n\t\t\t])\n\t\t\t.appendTo(preScreen);\n\n\t\tconst leftSideTop = this.createImageContainer(leftSide);\n\n\t\tconst overviewContainer = this.player.createElement('div', 'title-container')\n\t\t\t.addClasses([\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'w-available',\n\t\t\t\t'h-available',\n\t\t\t])\n\t\t\t.appendTo(leftSideTop);\n\n\t\tconst title = this.player.createElement('div', 'title')\n\t\t\t.addClasses([\n\t\t\t\t'flex',\n\t\t\t\t'text-white',\n\t\t\t\t'text-lg',\n\t\t\t\t'font-bold',\n\t\t\t\t'mx-2',\n\t\t\t])\n\t\t\t.appendTo(overviewContainer);\n\n\t\tconst description = this.player.createElement('div', 'description')\n\t\t\t.addClasses([\n\t\t\t\t'text-left',\n\t\t\t\t'text-white',\n\t\t\t\t'text-sm',\n\t\t\t\t'line-clamp-4',\n\t\t\t\t'font-bold',\n\t\t\t\t'leading-5',\n\t\t\t\t'overflow-hidden',\n\t\t\t\t'mx-2',\n\t\t\t])\n\t\t\t.appendTo(overviewContainer);\n\n\t\tthis.player.on('item', () => {\n\t\t\ttitle.innerHTML = this.player.playlistItem().title.replace(this.player.playlistItem().show ?? '', '').replace('%S', this.player.localize('S'))\n\t\t\t\t.replace('%E', this.player.localize('E'));\n\t\t\tdescription.innerHTML = this.player.playlistItem().description;\n\t\t});\n\n\t\tconst buttonContainer = this.player.createElement('div', 'button-container')\n\t\t\t.addClasses([\n\t\t\t\t'button-container',\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'gap-3',\n\t\t\t\t'w-available',\n\t\t\t\t'h-1/2',\n\t\t\t\t'mt-7',\n\t\t\t\t'mb-3',\n\t\t\t\t'overflow-auto',\n\t\t\t\t'px-2',\n\t\t\t\t'py-0.5',\n\t\t\t\t'[*::-webkit-scrollbar]:hidden',\n\t\t\t])\n\t\t\t.appendTo(leftSide);\n\n\t\tthis.createTvButton(buttonContainer, 'play', null, this.player.play, this.buttons.play);\n\n\t\tthis.createTvButton(buttonContainer, 'restart', 'Play from beginning', this.player.restart, this.buttons.restart);\n\n\t\tconst episodeMenuButton = this.createTvButton(buttonContainer, 'showEpisodeMenu', 'Episodes', () => this.player.emit('showEpisodeScreen'), this.buttons.playlist);\n\n\t\tepisodeMenuButton.style.display = 'none';\n\n\t\tepisodeMenuButton.addEventListener('click', () => {\n\t\t\tthis.player.emit('switch-season', this.player.playlistItem().season);\n\t\t\tthis.showEpisodeScreen();\n\t\t});\n\n\t\tconst languageMenuButton = this.createTvButton(buttonContainer, 'showLanguageMenu', 'Audio and subtitles', () => this.player.emit('showLanguageScreen'), this.buttons.language);\n\n\t\tlanguageMenuButton.style.display = 'none';\n\n\t\tlanguageMenuButton.addEventListener('click', () => {\n\t\t\tthis.showLanguageScreen();\n\t\t});\n\n\t\t// this.createTvButton(buttonContainer, 'showQualityMenu', 'Qualities', () => this.player.emit('showQualityScreen'),\n\t\t// \tthis.buttons.quality);\n\n\t\tthis.player.createElement('div', 'pre-screen-right-side')\n\t\t\t.addClasses([\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'justify-center',\n\t\t\t\t'w-1/3',\n\t\t\t\t'h-available',\n\t\t\t])\n\t\t\t.appendTo(preScreen);\n\n\t\tthis.player.on('audioTracks', () => {\n\t\t\tif (this.player.hasAudioTracks() || this.player.hasCaptions()) {\n\t\t\t\tlanguageMenuButton.style.display = 'flex';\n\t\t\t} else {\n\t\t\t\tlanguageMenuButton.style.display = 'none';\n\t\t\t}\n\t\t});\n\n\t\tthis.player.on('item', () => {\n\t\t\tif (this.player.getPlaylist().length > 1) {\n\t\t\t\tepisodeMenuButton.style.display = 'flex';\n\t\t\t} else {\n\t\t\t\tepisodeMenuButton.style.display = 'none';\n\t\t\t}\n\t\t});\n\t}\n\n\tshowEpisodeScreen() {\n\t\tthis.episodeScreen.showModal();\n\t\tthis.player.container.classList.add('episode-screen');\n\t\tthis.player.container.classList.add('open');\n\t\tthis.episodeScrollContainer.querySelector<HTMLButtonElement>('.button-container>button')?.focus();\n\t}\n\n\tcloseEpisodeScreen() {\n\t\tthis.episodeScreen.close();\n\t\tthis.player.container.classList.remove('episode-screen');\n\t\tthis.player.container.classList.remove('open');\n\t\tthis.preScreen.querySelector<HTMLButtonElement>('.button-container>button')?.focus();\n\t}\n\n\tcreateEpisodeScreen(parent: HTMLElement) {\n\n\t\tthis.episodeScreen = this.player.createElement('dialog', 'episode-screen-dialog')\n\t\t\t.addClasses(this.tvDialogStyles)\n\t\t\t.addClasses([\n\t\t\t\t'group-[&.nomercyplayer.paused.episode-screen]:backdrop:bg-black/80',\n\t\t\t\t'group-[&.nomercyplayer.paused.episode-screen]:backdrop:pointer-events-none',\n\t\t\t])\n\t\t\t.appendTo(parent);\n\n\t\tthis.episodeScreen.setAttribute('popover', 'manual');\n\t\tthis.episodeScreen.setAttribute('role', 'modal');\n\n\n\t\tconst episodeScreen = this.player.createElement('div', 'episode-screen')\n\t\t\t.addClasses([\n\t\t\t\t'episode-screen',\n\t\t\t\t'absolute',\n\t\t\t\t'inset-0',\n\t\t\t\t'flex',\n\t\t\t\t'gap-4',\n\t\t\t\t'p-6',\n\t\t\t\t'text-white',\n\t\t\t\t'w-available',\n\t\t\t\t'h-available',\n\t\t\t\t'z-0',\n\t\t\t])\n\t\t\t.appendTo(this.episodeScreen);\n\n\t\tconst leftSide = this.player.createElement('div', 'episode-screen-left-side')\n\t\t\t.addClasses([\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'justify-between',\n\t\t\t\t'items-center',\n\t\t\t\t'w-2/5',\n\t\t\t\t'h-available',\n\t\t\t])\n\t\t\t.appendTo(episodeScreen);\n\n\t\tthis.createImageContainer(leftSide);\n\n\t\tconst seasonButtonContainer = this.player.createElement('div', 'season-button-container')\n\t\t\t.addClasses([\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'gap-3',\n\t\t\t\t'w-available',\n\t\t\t\t'h-available',\n\t\t\t\t'mt-7',\n\t\t\t\t'mb-3',\n\t\t\t\t'overflow-auto',\n\t\t\t\t'px-2',\n\t\t\t\t'py-0.5',\n\t\t\t\t'[*::-webkit-scrollbar]:hidden',\n\t\t\t])\n\t\t\t.appendTo(leftSide);\n\n\t\tthis.player.once('playlist', () => {\n\n\t\t\tconst rightSide = this.player.createElement('div', 'episode-screen-right-side')\n\t\t\t\t.addClasses([\n\t\t\t\t\t'flex',\n\t\t\t\t\t'flex-col',\n\t\t\t\t\t'justify-center',\n\t\t\t\t\t'w-3/5',\n\t\t\t\t\t'h-available',\n\t\t\t\t])\n\t\t\t\t.appendTo(episodeScreen);\n\n\t\t\tthis.episodeScrollContainer = this.player.createElement('div', 'episode-button-container')\n\t\t\t\t.addClasses([\n\t\t\t\t\t'button-container',\n\t\t\t\t\t'flex',\n\t\t\t\t\t'flex-col',\n\t\t\t\t\t'overflow-auto',\n\t\t\t\t\t'h-available',\n\t\t\t\t\t'pt-6',\n\t\t\t\t\t'gap-2',\n\t\t\t\t\t'p-1',\n\t\t\t\t\t'min-h-[50%]',\n\t\t\t\t\t'scroll-p-4',\n\t\t\t\t\t'scroll-smooth',\n\t\t\t\t])\n\t\t\t\t.appendTo(rightSide);\n\n\t\t\tlet lastSeasonButton: HTMLButtonElement = <HTMLButtonElement>{};\n\t\t\tfor (const season of this.player.getSeasons()) {\n\t\t\t\tlastSeasonButton = this.createTvSeasonButton(\n\t\t\t\t\tseasonButtonContainer,\n\t\t\t\t\t`season-${season.season}`,\n\t\t\t\t\tseason,\n\t\t\t\t\t() => this.player.emit('switch-season', season.season)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tlastSeasonButton.addEventListener?.('keydown', (e) => {\n\t\t\t\tif (e.key == 'ArrowLeft') {\n\t\t\t\t\t//\n\t\t\t\t}\n\t\t\t\telse if (e.key == 'ArrowRight') {\n\t\t\t\t\t//\n\t\t\t\t}\n\t\t\t\telse if (e.key == 'ArrowUp' && !this.player.options.disableTouchControls) {\n\t\t\t\t\t//\n\t\t\t\t}\n\t\t\t\telse if (e.key == 'ArrowDown' && !this.player.options.disableTouchControls) {\n\t\t\t\t\t(lastSeasonButton.nextElementSibling as HTMLButtonElement)?.focus();\n\t\t\t\t\tconst el = (lastSeasonButton.nextElementSibling as HTMLButtonElement);\n\t\t\t\t\tif (el?.nodeName == 'BUTTON') {\n\t\t\t\t\t\tel?.focus();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t((lastSeasonButton.parentElement as HTMLButtonElement).nextElementSibling as HTMLButtonElement)?.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfor (const [index, item] of this.player.getPlaylist().entries() ?? []) {\n\t\t\t\tthis.createTvEpisodeMenuButton(this.episodeScrollContainer, item, index);\n\t\t\t}\n\n\t\t});\n\t}\n\n\tshowLanguageScreen() {\n\t\tthis.languageScreen.showModal();\n\t\tthis.player.container.classList.add('language-screen');\n\t\tthis.player.container.classList.add('open');\n\t\tthis.languageScreen.querySelector<HTMLButtonElement>('.button-container>button')?.focus();\n\t}\n\n\tcloseLanguageScreen() {\n\t\tthis.languageScreen.close();\n\t\tthis.player.container.classList.remove('language-screen');\n\t\tthis.player.container.classList.remove('open');\n\t\tthis.preScreen.querySelector<HTMLButtonElement>('.button-container>button')?.focus();\n\t}\n\n\tcreateLanguageScreen(parent: HTMLElement) {\n\n\t\tthis.languageScreen = this.player.createElement('dialog', 'language-screen-dialog')\n\t\t\t.addClasses(this.tvDialogStyles)\n\t\t\t.addClasses([\n\t\t\t\t'group-[&.nomercyplayer.paused.language-screen]:backdrop:bg-black/80',\n\t\t\t\t'group-[&.nomercyplayer.paused.language-screen]:backdrop:pointer-events-none',\n\t\t\t])\n\t\t\t.appendTo(parent);\n\n\t\tthis.languageScreen.setAttribute('popover', 'manual');\n\t\tthis.languageScreen.setAttribute('role', 'modal');\n\n\t\tconst languageScreen = this.player.createElement('div', 'language-screen')\n\t\t\t.addClasses([\n\t\t\t\t'language-screen',\n\t\t\t\t'absolute',\n\t\t\t\t'inset-0',\n\t\t\t\t'flex',\n\t\t\t\t'p-6',\n\t\t\t\t'text-white',\n\t\t\t\t'w-available',\n\t\t\t\t'h-available',\n\t\t\t\t'z-0',\n\t\t\t])\n\t\t\t.appendTo(this.languageScreen);\n\n\t\tconst leftSide = this.player.createElement('div', 'language-screen-left-side')\n\t\t\t.addClasses([\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'items-center',\n\t\t\t\t'overflow-clip',\n\t\t\t\t'w-2/5',\n\t\t\t\t'h-available',\n\t\t\t])\n\t\t\t.appendTo(languageScreen);\n\n\t\tthis.createImageContainer(leftSide);\n\n\t\tconst scrollContainer = this.player.createElement('div', 'language-scroll-container')\n\t\t\t.addClasses([\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'overflow-auto',\n\t\t\t\t'w-available',\n\t\t\t\t'h-available',\n\t\t\t\t'gap-3',\n\t\t\t\t'scroll-p-4',\n\t\t\t\t'scroll-smooth',\n\t\t\t\t'border-transparent',\n\t\t\t\t'outline-transparent',\n\t\t\t\t'p-1',\n\t\t\t])\n\t\t\t.appendTo(leftSide);\n\n\t\tscrollContainer.addEventListener('focus', () => {\n\t\t\tscrollContainer.querySelector('button')?.focus();\n\t\t});\n\n\t\tconst audioTitle = this.player.createElement('div', 'language-button-container')\n\t\t\t.addClasses([\n\t\t\t\t'flex-shrink-0',\n\t\t\t\t'h-auto',\n\t\t\t\t'px-2',\n\t\t\t\t'py-0.5',\n\t\t\t\t'w-available',\n\t\t\t\t'text-left',\n\t\t\t\t'mt-3',\n\t\t\t])\n\t\t\t.appendTo(scrollContainer);\n\n\t\taudioTitle.innerText = this.player.localize('Audio');\n\n\t\tconst audioButtonContainer = this.player.createElement('div', 'language-button-container')\n\t\t\t.addClasses([\n\t\t\t\t'[*::-webkit-scrollbar]:hidden',\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'flex-shrink-0',\n\t\t\t\t'gap-3',\n\t\t\t\t'px-2',\n\t\t\t\t'py-0.5',\n\t\t\t\t'w-available',\n\t\t\t])\n\t\t\t.appendTo(scrollContainer);\n\n\t\taudioButtonContainer.style.paddingRight = '5rem';\n\n\t\tlet lastAudioButton: HTMLButtonElement = <HTMLButtonElement>{};\n\n\t\tconst eventHandler = (e: KeyboardEvent) => {\n\t\t\tif (e.key == 'ArrowLeft') {\n\t\t\t\t//\n\t\t\t} else if (e.key == 'ArrowRight') {\n\t\t\t\t//\n\t\t\t} else if (e.key == 'ArrowUp' && !this.player.options.disableTouchControls) {\n\t\t\t\t((e.target as HTMLButtonElement).previousElementSibling as HTMLButtonElement)?.focus();\n\t\t\t} else if (e.key == 'ArrowDown' && !this.player.options.disableTouchControls) {\n\t\t\t\tconst el = ((e.target as HTMLButtonElement).nextElementSibling as HTMLButtonElement);\n\t\t\t\tif (el?.nodeName == 'BUTTON') {\n\t\t\t\t\tel?.focus();\n\t\t\t\t} else {\n\t\t\t\t\t((lastAudioButton.parentElement as HTMLButtonElement).nextElementSibling as HTMLButtonElement)?.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tlastAudioButton.removeEventListener?.('keydown', eventHandler);\n\n\t\tthis.player.on('audioTracks', (event) => {\n\n\t\t\taudioButtonContainer.innerHTML = '';\n\t\t\tfor (const [index, track] of event?.entries() ?? []) {\n\t\t\t\tlastAudioButton = this.createLanguageMenuButton(audioButtonContainer, {\n\t\t\t\t\tlanguage: track.language ?? '',\n\t\t\t\t\tlabel: track.label ?? '',\n\t\t\t\t\ttype: track.type ?? '',\n\t\t\t\t\tid: track.id ?? index - 1,\n\t\t\t\t\tbuttonType: 'audio',\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tconst subtitleTitle = this.player.createElement('div', 'language-button-container')\n\t\t\t.addClasses([\n\t\t\t\t'flex-shrink-0',\n\t\t\t\t'h-auto',\n\t\t\t\t'px-2',\n\t\t\t\t'py-0.5',\n\t\t\t\t'w-available',\n\t\t\t\t'text-left',\n\t\t\t\t'mt-3',\n\t\t\t])\n\t\t\t.appendTo(scrollContainer);\n\n\t\tsubtitleTitle.innerText = this.player.localize('Subtitles');\n\n\t\tconst subtitleButtonContainer = this.player.createElement('div', 'subtitle-button-container')\n\t\t\t.addClasses([\n\t\t\t\t'[*::-webkit-scrollbar]:hidden',\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'flex-shrink-0',\n\t\t\t\t'gap-3',\n\t\t\t\t'flex-shrink-0',\n\t\t\t\t'px-2',\n\t\t\t\t'py-0.5',\n\t\t\t\t'w-available',\n\t\t\t])\n\t\t\t.appendTo(scrollContainer);\n\n\t\tsubtitleButtonContainer.style.paddingRight = '5rem';\n\t\tsubtitleButtonContainer.style.marginTop = '0';\n\n\t\tthis.player.on('captionsList', (event) => {\n\n\t\t\tsubtitleButtonContainer.innerHTML = '';\n\t\t\tfor (const [index, track] of event.entries() ?? []) {\n\t\t\t\tthis.createLanguageMenuButton(subtitleButtonContainer, {\n\t\t\t\t\tlanguage: track.language ?? '',\n\t\t\t\t\tlabel: track.label ?? '',\n\t\t\t\t\ttype: track.type ?? '',\n\t\t\t\t\tid: track.id ?? index - 1,\n\t\t\t\t\tbuttonType: 'subtitle',\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t// setTimeout(() => {\n\t\t// \tbackButton.focus();\n\t\t// }, 50);\n\t}\n\n\tcreateTvProgressBar(parent: HTMLDivElement) {\n\n\t\tthis.sliderBar = this.player.createElement('div', 'slider-bar')\n\t\t\t.addClasses([\n\t\t\t\t'slider-bar',\n\t\t\t\t'group/slider',\n\t\t\t\t'overflow-clip',\n\t\t\t\t'flex',\n\t\t\t\t'rounded-full',\n\t\t\t\t'bg-white/20',\n\t\t\t\t'h-2',\n\t\t\t\t'mx-4',\n\t\t\t\t'relative',\n\t\t\t\t'w-available',\n\t\t\t])\n\t\t\t.appendTo(parent);\n\n\t\tconst sliderProgress = this.player.createElement('div', 'slider-progress')\n\t\t\t.addClasses([\n\t\t\t\t'slider-progress',\n\t\t\t\t'absolute',\n\t\t\t\t'flex',\n\t\t\t\t'h-full',\n\t\t\t\t'pointer-events-none',\n\t\t\t\t'rounded-full',\n\t\t\t\t'bg-white',\n\t\t\t\t'z-10',\n\t\t\t\t'-left-full',\n\t\t\t\t'w-full',\n\t\t\t])\n\t\t\t.appendTo(this.sliderBar);\n\n\t\tthis.chapterBar = this.player.createElement('div', 'chapter-progress')\n\t\t\t.addClasses([\n\t\t\t\t'chapter-bar',\n\t\t\t\t'bg-transparent',\n\t\t\t\t'flex',\n\t\t\t\t'h-2',\n\t\t\t\t'relative',\n\t\t\t\t'rounded-full',\n\t\t\t\t'overflow-clip',\n\t\t\t\t'w-available',\n\t\t\t])\n\t\t\t.appendTo(this.sliderBar);\n\n\t\tthis.player.on('item', () => {\n\t\t\tthis.sliderBar.classList.add('bg-white/20');\n\t\t\tthis.previewTime = [];\n\t\t\tthis.chapters = [];\n\t\t\tsliderProgress.style.transform = 'translateX(0%)';\n\t\t\tthis.fetchPreviewTime();\n\t\t});\n\n\t\tthis.player.on('chapters', () => {\n\t\t\tif (this.player.getChapters()?.length > 0 && !this.player.isTv()) {\n\t\t\t\tthis.sliderBar.classList.remove('bg-white/20');\n\t\t\t} else {\n\t\t\t\tthis.sliderBar.classList.add('bg-white/20');\n\t\t\t}\n\t\t});\n\n\t\tthis.player.on('time', (data) => {\n\t\t\tsliderProgress.style.transform = `translateX(${data.percentage}%)`;\n\t\t});\n\n\t\tthis.player.on('currentScrubTime', (data) => {\n\t\t\tsliderProgress.style.transform = `translateX(${(data.currentTime / data.duration) * 100}%)`;\n\t\t});\n\n\t\treturn this.sliderBar;\n\t}\n\n\tcreateTvEpisodeMenuButton(parent: HTMLDivElement, item: PlaylistItem, index: number) {\n\n\t\tconst episodeMenuButton = this.player.createElement('button', `playlist-${item.id}`)\n\t\t\t.addClasses([\n\t\t\t\t'playlist-menu-button',\n\t\t\t\t'relative',\n\t\t\t\t'flex',\n\t\t\t\t'w-available',\n\t\t\t\t'p-2',\n\t\t\t\t'gap-2',\n\t\t\t\t'rounded-lg',\n\t\t\t\t'snap-center',\n\t\t\t\t'outline-transparent',\n\t\t\t\t'outline',\n\t\t\t\t'outline-1',\n\t\t\t\t'outline-solid',\n\t\t\t\t'text-white',\n\t\t\t\t'focus-visible:outline-2',\n\t\t\t\t'focus-visible:outline-white',\n\t\t\t\t'transition-all',\n\t\t\t\t'duration-300',\n\t\t\t])\n\t\t\t.appendTo(parent);\n\n\t\tif (this.player.playlistItem().season !== 1) {\n\t\t\tepisodeMenuButton.style.display = 'none';\n\t\t}\n\n\t\tconst leftSide = this.player.createElement('div', `playlist-${item.id}-left`)\n\t\t\t.addClasses([\n\t\t\t\t'episode-menu-button-left',\n\t\t\t\t'relative',\n\t\t\t\t'rounded-md',\n\t\t\t\t'w-[50%]',\n\t\t\t\t'overflow-clip',\n\t\t\t\t'self-center',\n\t\t\t])\n\t\t\t.appendTo(episodeMenuButton);\n\n\t\tthis.player.createElement('div', `episode-${item.id}-shadow`)\n\t\t\t.addClasses([\n\t\t\t\t'episode-menu-button-shadow',\n\t\t\t\t'bg-[linear-gradient(0deg,rgba(0,0,0,0.87)_0%,rgba(0,0,0,0.7)_25%,rgba(0,0,0,0)_50%,rgba(0,0,0,0)_100%)]',\n\t\t\t\t'shadow-[inset_0px_1px_0px_rgba(255,255,255,0.24),inset_0px_-1px_0px_rgba(0,0,0,0.24),inset_0px_-2px_0px_rgba(0,0,0,0.24)]',\n\t\t\t\t'bottom-0',\n\t\t\t\t'left-0',\n\t\t\t\t'absolute',\n\t\t\t\t'!h-available',\n\t\t\t\t'w-available',\n\t\t\t])\n\t\t\t.appendTo(leftSide);\n\n\t\tconst image = this.player.createElement('img', `episode-${item.id}-image`)\n\t\t\t.addClasses([\n\t\t\t\t'episode-menu-button-image',\n\t\t\t\t'w-available',\n\t\t\t\t'h-auto',\n\t\t\t\t'aspect-video',\n\t\t\t\t'object-cover',\n\t\t\t\t'',\n\t\t\t])\n\t\t\t.appendTo(leftSide);\n\t\timage.setAttribute('loading', 'lazy');\n\n\t\tif (item.image?.startsWith('http')) {\n\t\t\timage.src = item.image ?? '';\n\t\t} else {\n\t\t\timage.src = item.image && item.image != '' ? `${this.imageBaseUrl}${item.image}` : '';\n\t\t}\n\n\t\tconst progressContainer = this.player.createElement('div', `episode-${item.id}-progress-container`)\n\t\t\t.addClasses([\n\t\t\t\t'episode-menu-progress-container',\n\t\t\t\t'absolute',\n\t\t\t\t'bottom-1',\n\t\t\t\t'w-available',\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'px-3',\n\t\t\t])\n\t\t\t.appendTo(leftSide);\n\n\t\tconst progressContainerItemBox = this.player.createElement('div', `episode-${item.id}-progress-box`)\n\t\t\t.addClasses([\n\t\t\t\t'episode-menu-progress-box',\n\t\t\t\t'flex',\n\t\t\t\t'justify-between',\n\t\t\t\t'h-available',\n\t\t\t\t'sm:mx-2',\n\t\t\t\t'mb-1',\n\t\t\t\t'px-1',\n\t\t\t])\n\t\t\t.appendTo(progressContainer);\n\n\n\t\tconst progressContainerItemText = this.player.createElement('div', `episode-${item.id}-progress-item`)\n\t\t\t.addClasses([\n\t\t\t\t'progress-item-text',\n\t\t\t\t'text-[0.7rem]',\n\t\t\t\t'',\n\t\t\t])\n\t\t\t.appendTo(progressContainerItemBox);\n\n\t\tif (item.episode && item.show) {\n\t\t\tprogressContainerItemText.innerText = `${this.player.localize('E')}${item.episode}`;\n\t\t}\n\n\t\tconst progressContainerDurationText = this.player.createElement('div', `episode-${item.id}-progress-duration`)\n\t\t\t.addClasses([\n\t\t\t\t'progress-duration',\n\t\t\t\t'text-[0.7rem]',\n\t\t\t])\n\t\t\t.appendTo(progressContainerItemBox);\n\t\tprogressContainerDurationText.innerText = item.duration?.replace(/^00:/u, '');\n\n\t\tconst sliderContainer = this.player.createElement('div', `episode-${item.id}-slider-container`)\n\t\t\t.addClasses([\n\t\t\t\t'slider-container',\n\t\t\t\t'group/slider',\n\t\t\t\t'overflow-clip',\n\t\t\t\t'hidden',\n\t\t\t\t'rounded-full',\n\t\t\t\t'bg-white/20',\n\t\t\t\t'h-1',\n\t\t\t\t'mx-4',\n\t\t\t\t'relative',\n\t\t\t\t'w-available',\n\t\t\t])\n\t\t\t.appendTo(progressContainer);\n\t\tsliderContainer.style.display = item.progress ? 'flex' : 'none';\n\n\t\tconst progressBar = this.player.createElement('div', `episode-${item.id}-progress-bar`)\n\t\t\t.addClasses([\n\t\t\t\t'progress-bar',\n\t\t\t\t'absolute',\n\t\t\t\t'flex',\n\t\t\t\t'h-full',\n\t\t\t\t'pointer-events-none',\n\t\t\t\t'rounded-full',\n\t\t\t\t'bg-white',\n\t\t\t\t'z-10',\n\t\t\t\t'-left-full',\n\t\t\t\t'w-full',\n\t\t\t])\n\t\t\t.appendTo(sliderContainer);\n\n\t\tif (item.progress?.time) {\n\t\t\tprogressBar.style.transform = `translateX(${(item.progress.time / convertToSeconds(item.duration)) * 100}%`;\n\t\t}\n\n\t\tconst episodeMenuButtonRightSide = this.player.createElement('div', `episode-${item.id}-right-side`)\n\t\t\t.addClasses([\n\t\t\t\t'playlist-card-right',\n\t\t\t\t'w-3/4',\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'text-left',\n\t\t\t\t'gap-1',\n\t\t\t\t'px-1',\n\t\t\t\t'outline-transparent',\n\t\t\t\t'outline',\n\t\t\t\t'outline-1',\n\t\t\t\t'outline-solid',\n\t\t\t\t'focus-visible:outline-2',\n\t\t\t\t'focus-visible:outline-white',\n\t\t\t\t'active:outline-white',\n\t\t\t])\n\t\t\t.appendTo(episodeMenuButton);\n\n\n\t\tconst episodeMenuButtonTitle = this.player.createElement('span', `episode-${item.id}-title`)\n\t\t\t.addClasses([\n\t\t\t\t'playlist-menu-button-title',\n\t\t\t\t'font-bold',\n\t\t\t\t'text-lg',\n\t\t\t\t'line-clamp-1',\n\t\t\t\t'text-white',\n\t\t\t\t'',\n\t\t\t])\n\t\t\t.appendTo(episodeMenuButtonRightSide);\n\t\tepisodeMenuButtonTitle.innerText = lineBreakShowTitle((item.title ?? '').replace(item.show ?? '', '').replace('%S', this.player.localize('S'))\n\t\t\t.replace('%E', this.player.localize('E')));\n\n\t\tconst episodeMenuButtonOverview = this.player.createElement('span', `episode-${item.id}-overview`)\n\t\t\t.addClasses([\n\t\t\t\t'playlist-menu-button-overview',\n\t\t\t\t'font-bold',\n\t\t\t\t'text-[0.7rem]',\n\t\t\t\t'leading-4',\n\t\t\t\t'line-clamp-4',\n\t\t\t\t'overflow-hidden',\n\t\t\t\t'text-white',\n\t\t\t])\n\t\t\t.appendTo(episodeMenuButtonRightSide);\n\t\tepisodeMenuButtonOverview.innerText = limitSentenceByCharacters(item.description, 600);\n\n\n\t\tthis.player.on('item', () => {\n\t\t\tif (this.player.playlistItem().season == item.season) {\n\t\t\t\tepisodeMenuButton.style.display = 'flex';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tepisodeMenuButton.style.display = 'none';\n\t\t\t}\n\n\t\t\tif (this.player.playlistItem().season == item.season && this.player.playlistItem().episode == item.episode) {\n\t\t\t\tepisodeMenuButton.style.background = 'rgba(255,255,255,.1)';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tepisodeMenuButton.style.background = 'transparent';\n\t\t\t}\n\t\t});\n\n\t\tthis.player.on('switch-season', (season) => {\n\t\t\tthis.selectedSeason = season;\n\n\t\t\tif (this.player.playlistItem().id == item.id) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.scrollCenter(episodeMenuButton, parent, {\n\t\t\t\t\t\tmargin: 1,\n\t\t\t\t\t\tduration: 100,\n\t\t\t\t\t});\n\t\t\t\t}, 50);\n\t\t\t}\n\t\t\telse if (this.player.playlistItem().season !== season) {\n\t\t\t\tthis.episodeScrollContainer.scrollTo(0, 0);\n\t\t\t}\n\n\t\t\tif (season == item.season) {\n\t\t\t\tepisodeMenuButton.style.display = 'flex';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tepisodeMenuButton.style.display = 'none';\n\t\t\t}\n\t\t});\n\n\t\tthis.player.on('active', () => {\n\t\t\tprogressBar.style.transform = `translateX(${this.player.getTimeData().percentage}%)`;\n\t\t});\n\n\t\tthis.player.on('time', (data) => {\n\t\t\tif (this.player.playlistItem()?.uuid == item.uuid) {\n\t\t\t\tif (this.player.container.classList.contains('active')) {\n\t\t\t\t\tsliderContainer.style.display = 'flex';\n\t\t\t\t\tprogressBar.style.transform = `translateX(${data.percentage}%)`;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (item.episode && item.show) {\n\t\t\tprogressContainerItemText.innerText\n\t\t\t\t= item.season == undefined ? `${item.episode}` : `${this.player.localize('S')}${item.season}: ${this.player.localize('E')}${item.episode}`;\n\t\t}\n\n\t\tepisodeMenuButton.addEventListener('keydown', (e) => {\n\t\t\tif (e.key == 'ArrowLeft') {\n\t\t\t\tdocument.querySelector<HTMLButtonElement>(`#season-${this.player.playlistItem().season}`)?.focus();\n\t\t\t}\n\t\t\telse if (e.key == 'ArrowRight') {\n\t\t\t\t//\n\t\t\t}\n\t\t\telse if (e.key == 'ArrowUp' && !this.player.options.disableTouchControls) {\n\t\t\t\t(episodeMenuButton.previousElementSibling as HTMLButtonElement)?.focus();\n\t\t\t}\n\t\t\telse if (e.key == 'ArrowDown' && !this.player.options.disableTouchControls) {\n\t\t\t\t(episodeMenuButton.nextElementSibling as HTMLButtonElement)?.focus();\n\t\t\t}\n\t\t});\n\n\t\tepisodeMenuButton.addEventListener('focus', () => {\n\t\t\tthis.scrollCenter(episodeMenuButton, parent, {\n\t\t\t\tmargin: 2,\n\t\t\t\tduration: 50,\n\t\t\t});\n\t\t});\n\n\t\tepisodeMenuButton.addEventListener('click', () => {\n\t\t\tif (item.episode && item.season) {\n\t\t\t\tthis.setEpisode(item.season, item.episode);\n\t\t\t} else {\n\t\t\t\tthis.player.playlistItem(index);\n\t\t\t}\n\n\t\t\tthis.closeEpisodeScreen();\n\t\t\tthis.closePreScreen();\n\t\t\tthis.player.play();\n\t\t});\n\n\t\treturn episodeMenuButton;\n\t}\n\n\tcreateTvSeasonButton(\n\t\tparent: HTMLElement,\n\t\tid: string,\n\t\tdata: {\n\t\t\tseason: any;\n\t\t\tseasonName: any;\n\t\t\tepisodes: number;\n\t\t},\n\t\taction: () => void,\n\t\ticon?: Icon['path']\n\t) {\n\n\t\tconst button = this.player.createElement('button', id)\n\t\t\t.addClasses([\n\t\t\t\t'w-available',\n\t\t\t\t'mr-auto',\n\t\t\t\t'h-8',\n\t\t\t\t'px-1',\n\t\t\t\t'py-2',\n\t\t\t\t'flex',\n\t\t\t\t'flex-nowrap',\n\t\t\t\t'items-center',\n\t\t\t\t'snap-center',\n\t\t\t\t'rounded',\n\t\t\t\t'outline-transparent',\n\t\t\t\t'outline',\n\t\t\t\t'outline-1',\n\t\t\t\t'outline-solid',\n\t\t\t\t'focus-visible:outline-2',\n\t\t\t\t'focus-visible:outline-white',\n\t\t\t\t'active:outline-white',\n\t\t\t\t`${id}-button`,\n\t\t\t])\n\t\t\t.appendTo(parent);\n\t\tbutton.type = 'button';\n\n\t\tbutton.addEventListener('focus', () => {\n\t\t\tthis.scrollIntoView(button);\n\t\t});\n\n\t\tbutton.addEventListener('keyup', (e) => {\n\t\t\tif (e.key == 'ArrowLeft') {\n\t\t\t\t//\n\t\t\t} else if (e.key == 'ArrowRight') {\n\t\t\t\tif (data.season == this.player.playlistItem()?.season) {\n\t\t\t\t\tArray.from(document.querySelectorAll<HTMLButtonElement>('[id^=playlist-]'))\n\t\t\t\t\t\t.filter(el => getComputedStyle(el).display == 'flex')\n\t\t\t\t\t\t.at((this.player.playlistItem()?.episode ?? 0) - 1)\n\t\t\t\t\t\t?.focus();\n\t\t\t\t} else {\n\t\t\t\t\tArray.from(document.querySelectorAll<HTMLButtonElement>('[id^=playlist-]'))\n\t\t\t\t\t\t.filter(el => getComputedStyle(el).display == 'flex')\n\t\t\t\t\t\t.at(0)\n\t\t\t\t\t\t?.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tbutton.addEventListener('keydown', (e) => {\n\t\t\tif (e.key == 'ArrowUp' && !this.player.options.disableTouchControls) {\n\t\t\t\t(button.previousElementSibling as HTMLButtonElement)?.focus();\n\t\t\t}\n\t\t\telse if (e.key == 'ArrowDown' && !this.player.options.disableTouchControls) {\n\t\t\t\t(button.nextElementSibling as HTMLButtonElement)?.focus();\n\t\t\t}\n\t\t});\n\n\t\tbutton.addEventListener('click', () => {\n\t\t\taction?.bind(this)();\n\t\t});\n\n\t\tif (icon) {\n\t\t\tconst svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\t\t\tsvg.setAttribute('viewBox', '0 0 24 24');\n\n\t\t\tsvg.id = id;\n\t\t\tthis.player.addClasses(svg, [\n\t\t\t\t`${id}-icon`,\n\t\t\t\t...icon.classes,\n\t\t\t\t'svg-size',\n\t\t\t\t'h-5',\n\t\t\t\t'w-5',\n\t\t\t\t'fill-current',\n\t\t\t\t'pointer-events-none',\n\t\t\t\t'group-hover/button:scale-110',\n\t\t\t\t'duration-700',\n\t\t\t]);\n\n\t\t\tconst path2 = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n\t\t\tpath2.setAttribute('d', icon.hover);\n\t\t\tsvg.appendChild(path2);\n\t\t\tbutton.appendChild(svg);\n\t\t}\n\n\t\tconst buttonText = this.player.createElement('div', `${id}-button-text`)\n\t\t\t.addClasses(this.menuButtonTextStyles)\n\t\t\t.addClasses([\n\t\t\t\t'flex',\n\t\t\t\t'justify-between',\n\t\t\t\t'items-center',\n\t\t\t\t'w-available',\n\t\t\t\t'gap-1',\n\t\t\t\t'flex-nowrap',\n\t\t\t])\n\t\t\t.appendTo(button);\n\n\t\tconst buttonTextSpan1 = this.player.createElement('span', `${id}-button-text-span-1`)\n\t\t\t.addClasses([\n\t\t\t\t'line-clamp-1',\n\t\t\t\t'text-nowrap',\n\t\t\t\t'text-sm',\n\t\t\t\t'w-auto',\n\t\t\t])\n\t\t\t.appendTo(buttonText);\n\n\t\tconst buttonTextSpan2 = this.player.createElement('span', `${id}-button-text-span-2`)\n\t\t\t.addClasses([\n\t\t\t\t'line-clamp-1',\n\t\t\t\t'text-nowrap',\n\t\t\t\t'text-xs',\n\t\t\t\t'w-min',\n\t\t\t])\n\t\t\t.appendTo(buttonText);\n\n\t\tif (data.seasonName) {\n\t\t\tbuttonTextSpan1.innerText = data.seasonName;\n\t\t\tbuttonTextSpan2.innerText = `${data.episodes} ${this.player.localize('ep')}`;\n\t\t} else if (data.season) {\n\t\t\tbuttonTextSpan1.innerText = `${this.player.localize('Season')} ${data.season}`;\n\t\t\tbuttonTextSpan2.innerText = `${data.episodes} ${this.player.localize('ep')}`;\n\t\t} else {\n\t\t\tbuttonTextSpan2.innerText = `${data.episodes} ${this.player.localize('ep')}`;\n\t\t}\n\n\t\treturn button;\n\n\t}\n\n\tgetVisibleButtons(element: HTMLButtonElement) {\n\t\tconst container = element.parentElement;\n\t\tconst buttons = container?.querySelectorAll<HTMLButtonElement>('button');\n\t\tif (!buttons || buttons?.length == 0) return;\n\n\t\tconst visibleButtons = Array.from(buttons).filter(el => el.style.display != 'none');\n\n\t\tconst currentButtonIndex = visibleButtons.findIndex(el => el == element);\n\n\t\treturn {\n\t\t\tvisibleButtons,\n\t\t\tcurrentButtonIndex,\n\t\t};\n\t}\n\n\tfindPreviousVisibleButton(element: HTMLButtonElement) {\n\t\tconst buttons = this.getVisibleButtons(element);\n\t\tif (!buttons) return;\n\n\t\tconst { visibleButtons, currentButtonIndex } = buttons;\n\n\t\t// eslint-disable-next-line no-unreachable-loop\n\t\tfor (let i = currentButtonIndex; i >= 0; i--) {\n\t\t\treturn visibleButtons[i - 1];\n\t\t}\n\t}\n\n\tfindNextVisibleButton(element: HTMLButtonElement) {\n\t\tconst buttons = this.getVisibleButtons(element);\n\t\tif (!buttons) return;\n\n\t\tconst { visibleButtons, currentButtonIndex } = buttons;\n\n\t\t// eslint-disable-next-line no-unreachable-loop\n\t\tfor (let i = currentButtonIndex; i < visibleButtons.length; i++) {\n\t\t\treturn visibleButtons[i + 1];\n\t\t}\n\t}\n\n\tcreateImageContainer(parent: HTMLElement) {\n\n\t\tconst leftSideTop = this.player.createElement('div', 'left-side-top')\n\t\t\t.addClasses([\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'justify-center',\n\t\t\t\t'items-center',\n\t\t\t\t'w-available',\n\t\t\t\t'gap-2',\n\t\t\t\t'h-auto',\n\t\t\t])\n\t\t\t.appendTo(parent);\n\n\t\tconst logoContainer = this.player.createElement('div', 'logo-container')\n\t\t\t.addClasses([\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'justify-center',\n\t\t\t\t'items-center',\n\t\t\t\t'w-available',\n\t\t\t\t'h-[85px]',\n\t\t\t\t'min-h-[85px]',\n\t\t\t])\n\t\t\t.appendTo(leftSideTop);\n\n\t\tconst fallbackText = this.player.createElement('span', 'fallbackText')\n\t\t\t.addClasses([\n\t\t\t\t'w-auto',\n\t\t\t\t'h-available',\n\t\t\t\t'items-center',\n\t\t\t\t'py-0',\n\t\t\t\t'max-w-[38vw]',\n\t\t\t\t'mr-auto',\n\t\t\t\t'leading-[1.2]',\n\t\t\t\t'font-bold',\n\t\t\t\t'object-fit',\n\t\t\t])\n\t\t\t.appendTo(logoContainer);\n\n\t\tconst logo = this.player.createElement('img', 'logo')\n\t\t\t.addClasses([\n\t\t\t\t'w-auto',\n\t\t\t\t'px-2',\n\t\t\t\t'py-2',\n\t\t\t\t'mr-auto',\n\t\t\t\t'object-fit',\n\t\t\t\t'h-auto',\n\t\t\t\t'max-w-[23rem]',\n\t\t\t\t'max-h-available',\n\t\t\t\t'',\n\t\t\t])\n\t\t\t.appendTo(logoContainer);\n\n\t\tconst logoFooterContainer = this.player.createElement('div', 'left-side-top-overview')\n\t\t\t.addClasses([\n\t\t\t\t'flex',\n\t\t\t\t'flex-col',\n\t\t\t\t'w-available',\n\t\t\t\t'h-[40px]',\n\t\t\t])\n\t\t\t.appendTo(leftSideTop);\n\n\t\tconst ratingContainer = this.player.createElement('div', 'rating-container')\n\t\t\t.addClasses([\n\t\t\t\t'flex',\n\t\t\t\t'gap-2',\n\t\t\t\t'items-center',\n\t\t\t\t'w-available',\n\t\t\t\t'text-white',\n\t\t\t])\n\t\t\t.appendTo(logoFooterContainer);\n\n\t\tconst year = this.player.createElement('span', 'year-text')\n\t\t\t.addClasses([\n\t\t\t\t'flex',\n\t\t\t\t'text-white',\n\t\t\t\t'text-sm',\n\t\t\t\t'font-bold',\n\t\t\t\t'mx-2',\n\t\t\t])\n\t\t\t.appendTo(ratingContainer);\n\n\t\tconst ratingImage = this.player.createElement('img', 'rating-image')\n\t\t\t.addClasses([\n\t\t\t\t'w-8',\n\t\t\t\t'h-available',\n\t\t\t\t'object-fit',\n\t\t\t\t'invert',\n\t\t\t])\n\t\t\t.appendTo(ratingContainer);\n\n\n\t\tconst episodesCount = this.player.createElement('span', 'episodes-count-text')\n\t\t\t.addClasses([\n\t\t\t\t'flex',\n\t\t\t\t'text-white',\n\t\t\t\t'text-sm',\n\t\t\t\t'font-bold',\n\t\t\t\t'mx-2',\n\t\t\t])\n\t\t\t.appendTo(ratingContainer);\n\n\t\tthis.player.on('item', () => {\n\t\t\tconst image = this.player.playlistItem()?.logo;\n\n\t\t\tif (!image || image == '' || image.includes('null') || image.includes('undefined')) {\n\t\t\t\tfallbackText.innerText = breakLogoTitle(this.player.playlistItem()?.show ?? '');\n\t\t\t\tfallbackText.style.fontSize = `calc(110px / ${fallbackText.innerText.length} + 3ch)`;\n\n\t\t\t\tfallbackText.style.display = 'flex';\n\t\t\t\tlogo.style.display = 'none';\n\n\t\t\t} else {\n\n\t\t\t\tlogo.style.display = 'block';\n\t\t\t\tfallbackText.style.display = 'none';\n\n\t\t\t\tif (image?.startsWith('http')) {\n\t\t\t\t\tlogo.src = image;\n\t\t\t\t} else {\n\t\t\t\t\tlogo.src = image && image != '' ? `${this.imageBaseUrl}${image}` : '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tyear.innerHTML = this.player.playlistItem()?.year?.toString() ?? '';\n\t\t\tif (this.player.playlistItem()?.year) {\n\t\t\t\tyear.style.display = 'flex';\n\t\t\t} else {\n\t\t\t\tyear.style.display = 'none';\n\t\t\t}\n\n\t\t\tratingImage.removeAttribute('src');\n\t\t\tratingImage.removeAttribute('alt');\n\t\t\tratingImage.style.opacity = '0';\n\n\t\t\tif (this.player.getPlaylist().length > 1) {\n\t\t\t\tepisodesCount.innerHTML = `${this.player.getPlaylist().length} ${this.player.localize('episodes')}`;\n\t\t\t}\n\n\t\t\tconst rating = this.player.playlistItem()?.rating;\n\t\t\tif (!rating) return;\n\n\t\t\tratingImage.src = `https://storage.nomercy.tv/laravel/kijkwijzer/${rating.image}`;\n\t\t\tratingImage.alt = rating.rating.toString();\n\t\t\tratingImage.style.opacity = '1';\n\t\t});\n\n\t\treturn leftSideTop;\n\n\t}\n\n\tcreateTvButton(parent: HTMLElement, id: string, text: string|null, action: () => void, icon?: Icon['path']) {\n\n\t\tconst tvButton = this.player.createElement('button', id)\n\t\t\t.addClasses([\n\t\t\t\t'w-9/12',\n\t\t\t\t'mr-auto',\n\t\t\t\t'h-8',\n\t\t\t\t'px-1',\n\t\t\t\t'py-2',\n\t\t\t\t'flex',\n\t\t\t\t'items-center',\n\t\t\t\t'rounded',\n\t\t\t\t'snap-center',\n\t\t\t\t'outline-transparent',\n\t\t\t\t'outline',\n\t\t\t\t'outline-1',\n\t\t\t\t'outline-solid',\n\t\t\t\t'focus-visible:outline-2',\n\t\t\t\t'focus-visible:outline-white',\n\t\t\t\t'active:outline-white',\n\t\t\t\t`${id}-button`,\n\t\t\t])\n\t\t\t.appendTo(parent);\n\t\ttvButton.type = 'button';\n\n\t\ttvButton.addEventListener('focus', () => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.scrollCenter(tvButton, parent, {\n\t\t\t\t\tmargin: 1,\n\t\t\t\t\tduration: 100,\n\t\t\t\t});\n\t\t\t}, 50);\n\t\t});\n\n\t\ttvButton.addEventListener('keydown', (e) => {\n\t\t\tif (e.key == 'ArrowUp' && !this.player.options.disableTouchControls) {\n\t\t\t\tthis.findPreviousVisibleButton(tvButton)?.focus();\n\t\t\t} else if (e.key == 'ArrowDown' && !this.player.options.disableTouchControls) {\n\t\t\t\tconst el = this.findNextVisibleButton(tvButton);\n\t\t\t\tif (el) {\n\t\t\t\t\tel?.focus();\n\t\t\t\t} else {\n\t\t\t\t\t(tvButton.parentElement?.nextElementSibling as HTMLButtonElement)?.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\ttvButton.addEventListener('click', action?.bind(this.player));\n\n\t\tif (icon) {\n\t\t\tconst svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\t\t\tsvg.setAttribute('viewBox', '0 0 24 24');\n\n\t\t\tsvg.id = id;\n\t\t\tthis.player.addClasses(svg, [\n\t\t\t\t`${id}-icon`,\n\t\t\t\t...icon.classes,\n\t\t\t\t'svg-size',\n\t\t\t\t'h-5',\n\t\t\t\t'w-5',\n\t\t\t\t'fill-current',\n\t\t\t\t'pointer-events-none',\n\t\t\t\t'group-hover/button:scale-110',\n\t\t\t\t'duration-700',\n\t\t\t]);\n\n\t\t\tconst path2 = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n\t\t\tpath2.setAttribute('d', icon.hover);\n\t\t\tsvg.appendChild(path2);\n\t\t\ttvButton.appendChild(svg);\n\t\t}\n\n\t\tconst buttonText = this.player.createElement('span', `${id}-buttonText`)\n\t\t\t.addClasses(this.menuButtonTextStyles)\n\t\t\t.appendTo(tvButton);\n\n\t\tif (!text) {\n\t\t\ttext = 'Play';\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.player.once('firstFrame', () => {\n\t\t\t\t\ttext = 'Resume';\n\t\t\t\t\tbuttonText.innerHTML = this.player.localize('Resume');\n\t\t\t\t});\n\t\t\t}, 500);\n\t\t}\n\n\t\tbuttonText.innerHTML = this.player.localize(text);\n\n\t\treturn tvButton;\n\n\t}\n\n}\n","<script setup lang=\"ts\">\nimport { onMounted, onUnmounted, ref} from 'vue';\nimport {useRoute} from 'vue-router';\nimport {useTranslation} from 'i18next-vue';\nimport {IonContent, IonPage, isPlatform} from '@ionic/vue';\nimport {App} from '@capacitor/app';\n\nimport {isNative} from '@/config/global';\nimport {currentServer} from '@/store/currentServer';\nimport {user} from '@/store/user';\nimport {setDisableScreensaver} from '@/store/imageModal';\n\nimport type {NMPlayer, PlaylistItem, SetupConfig} from '@/lib/VideoPlayer';\nimport {\n  AutoSkipPlugin,\n  TVUIPlugin,\n  KeyHandlerPlugin,\n  nmplayer,\n  OctopusPlugin,\n  SyncPlugin\n} from '@/lib/VideoPlayer';\n\nimport audioPlayer from '@/store/audioPlayer';\nimport router from \"@/router\";\nimport {hideNavBar, setNavBarVisible, showNavBar} from \"@/store/ui\";\n\nconst {t} = useTranslation();\nconst route = useRoute();\n\nconst config: SetupConfig = {\n  muted: false,\n  controls: false,\n  preload: 'auto',\n  debug: false,\n  autoPlay: true,\n  playlist: `${currentServer.value?.serverApiUrl}${route.fullPath}`,\n\n  controlsTimeout: 3000,\n  doubleClickDelay: 500,\n  playbackRates: [\n    0.25,\n    0.5,\n    0.75,\n    1,\n    1.25,\n    1.5,\n    1.75,\n    2,\n  ],\n  accessToken: user.value?.accessToken || localStorage.getItem('access_token') || '',\n  basePath: currentServer.value?.serverBaseUrl,\n  forceTvMode: (isPlatform('android') || isPlatform('ios')) && !isPlatform('mobile'),\n  disableTouchControls: false,\n  disableMediaControls: 'mediaSession' in navigator || isPlatform('capacitor'),\n  renderAhead: 10,\n};\n\ninterface MyNmPlayer extends NMPlayer {\n  showInProduction: () => boolean;\n  getPlaylistItem: () => PlaylistItem & {\n    tmdb_id: number,\n    special_id: number,\n    video_type: string,\n    video_id: number;\n  };\n}\n\nconst player = ref<MyNmPlayer>();\n\nconst goBack =  () => {\n  player.value?.emit('back-button');\n  player.value?.emit('back-button-hyjack');\n}\n\nonMounted(() => {\n  setNavBarVisible(false);\n\n  // @ts-ignore\n  player.value ??= nmplayer('player1')\n      .setup(config);\n\n  const tvUIPlugin = new TVUIPlugin();\n  player.value?.registerPlugin('tvUI', tvUIPlugin);\n  player.value?.usePlugin('tvUI');\n\n  const octopusPlugin = new OctopusPlugin();\n  player.value?.registerPlugin('octopus', octopusPlugin);\n  player.value?.usePlugin('octopus');\n\n  const autoSkipPlugin = new AutoSkipPlugin();\n  player.value?.registerPlugin('autoSkip', autoSkipPlugin);\n  player.value?.usePlugin('autoSkip');\n\n  // const sabrePlugin = new SabrePlugin();\n  // player.value?.registerPlugin('sabre', sabrePlugin);\n  // player.value?.usePlugin('sabre');\n\n  const keyHandlerPlugin = new KeyHandlerPlugin();\n  player.value?.registerPlugin('keyHandler', keyHandlerPlugin);\n  player.value?.usePlugin('keyHandler');\n\n  const syncPlugin = new SyncPlugin();\n  player.value?.registerPlugin('sync', syncPlugin);\n  player.value?.usePlugin('sync');\n\n  player.value?.once('play', () => {\n    player.value?.enterFullscreen();\n  });\n\n  player.value?.once('back', () => {\n  });\n\n  player.value?.on('playlistComplete', () => {\n    player.value?.dispose();\n    router.back();\n  });\n\n  player.value?.on('play', () => {\n    setDisableScreensaver(true);\n  });\n\n  player.value?.on('pause', () => {\n    setDisableScreensaver(false);\n  });\n\n  player.value?.on('ready', () => {\n    hideNavBar();\n    audioPlayer.stop();\n  });\n\n  player.value?.on('item', (playlistItem: PlaylistItem) => {\n    player.value?.play();\n  });\n\n  player.value?.on('active', (value) => {\n    if (value) {\n      //\n    } else {\n      //\n    }\n  });\n\n  player.value?.on('dispose', () => {\n    router.back();\n    showNavBar();\n  });\n\n  App.addListener('backButton', goBack);\n\n});\n\nonUnmounted(() => {\n  setDisableScreensaver(false);\n  setNavBarVisible(true);\n  player.value?.dispose();\n});\n\n</script>\n\n<template>\n  <ion-page>\n    <ion-content :fullscreen=\"true\">\n<!--      <Teleport to=\"body\">-->\n        <div class=\"absolute inset-0 flex h-full w-full overflow-clip bg-black z-1199\"\n             :class=\"{\n             'mb-28': isNative,\n             'mb-0': !isNative,\n           }\">\n          <div id=\"player1\" class=\"group nomercyplayer\"></div>\n        </div>\n<!--      </Teleport>-->\n    </ion-content>\n  </ion-page>\n</template>\n\n<style>\n.nomercyplayer .top-bar {\n  padding-top: calc(var(--safe-area-inset-top, 0px) + 1rem);\n}\n.nomercyplayer .seek-container {\n  @apply mb-28;\n}\n.nomercyplayer .-mb-28 {\n  margin-bottom: 7rem !important;\n}\n.nomercyplayer #thumbnail-clone-1 {\n  display: none !important;\n}\n</style>\n"],"names":["TVUIPlugin","BaseUIPlugin","__publicField","e","parent","tvOverlay","topBar","backButton","restartButton","nextButton","bottomBar","bottomRow","activeButton","button","_a","_b","_c","didSlide","newScrubbTime","newScrubTime","preScreen","leftSide","leftSideTop","overviewContainer","title","description","buttonContainer","episodeMenuButton","languageMenuButton","episodeScreen","seasonButtonContainer","rightSide","lastSeasonButton","season","el","index","item","languageScreen","scrollContainer","audioTitle","audioButtonContainer","lastAudioButton","eventHandler","event","track","subtitleTitle","subtitleButtonContainer","sliderProgress","data","image","progressContainer","progressContainerItemBox","progressContainerItemText","progressContainerDurationText","sliderContainer","progressBar","convertToSeconds","episodeMenuButtonRightSide","episodeMenuButtonTitle","lineBreakShowTitle","episodeMenuButtonOverview","limitSentenceByCharacters","id","action","icon","_d","svg","path2","buttonText","buttonTextSpan1","buttonTextSpan2","element","container","buttons","visibleButtons","currentButtonIndex","i","logoContainer","fallbackText","logo","logoFooterContainer","ratingContainer","year","ratingImage","episodesCount","breakLogoTitle","_e","rating","_f","text","tvButton","useTranslation","route","useRoute","config","currentServer","user","isPlatform","player","ref","goBack","onMounted","setNavBarVisible","nmplayer","tvUIPlugin","octopusPlugin","OctopusPlugin","autoSkipPlugin","AutoSkipPlugin","keyHandlerPlugin","KeyHandlerPlugin","_g","_h","syncPlugin","SyncPlugin","_i","_j","_k","_l","_m","router","_n","setDisableScreensaver","_o","_p","hideNavBar","audioPlayer","_q","playlistItem","_r","value","_s","showNavBar","App","onUnmounted"],"mappings":"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"}