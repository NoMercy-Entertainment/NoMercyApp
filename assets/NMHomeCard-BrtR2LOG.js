import{C as p,G as z,H as j,J as o,Ot as x,Q as H,S as l,T as n,Tt as f,X as L,c as _,ct as i,g as I,gt as N,j as $,k as t,kt as s,w as m,x as d}from"./i18n-Cs-AFcrY.js";import"./ionic-XwZpO7IE.js";import"./vue-core-CKeWI2Kt.js";import"./primevue-DNc5dNs0.js";import{Bn as P,Vi as S,Vn as C,Zn as W,_r as F,b as c,ei as V,n as g,ni as D,ua as A,zn as E}from"./index-CT-PfpgH.js";import"./MusicButton-BX0eGfN0.js";import{t as v}from"./BannerButton-rZMdFuW3.js";import{t as O}from"./MediaLikeButton-Bw_CyVO5.js";import{t as R}from"./CardShadow-Dnj2c-Gj.js";_();var q={key:0,class:"flex gap-4"},G={key:0,class:"absolute top-3 grid h-0 w-max origin-bottom group-hover/play:grid-cols-1 items-center gap-1 rounded-md duration-200 bg-surface-1 grid-cols-[0fr] group-hover/play:h-[32.77px] left-[-31px] group-hover/play:top-[-38px] overflow-clip"},J={class:"text-xs font-bold px-2.5 py-0.5"},Q={key:1,class:"flex w-full gap-4"},U={class:"flex-1 text-center"},X={class:"whitespace-nowrap"},Z=$({__name:"HomeCardActions",props:{link:{},data:{},endTime:{},hasWatched:{type:Boolean},isMobile:{type:Boolean},onToggleWatched:{type:Function},onFocus:{type:Function}},setup(a){const r=a,b=d(()=>r.isMobile?"playCircle":"playbackSpeed"),h=d(()=>r.isMobile?"add":"infoCircle");return(e,y)=>{const u=H("RouterLink");return e.isMobile?(o(),n("div",Q,[t(u,{"aria-label":e.$t("Play"),to:`${e.link}/watch`,class:"flex h-10 flex-1 items-center justify-between gap-2 whitespace-nowrap rounded-md px-4 py-1.5 text-black bg-surface-1",onFocus:e.onFocus},{default:i(()=>[t(c,{"class-name":"w-6",icon:"playCircle"}),l("span",U,s(e.$t("Play")),1)]),_:1},8,["aria-label","to","onFocus"]),t(u,{"aria-label":e.$t("Info"),to:e.link,class:"flex items-center gap-2 p-2 rounded-lg hover:bg-surface-5/6 transition-colors",onFocus:e.onFocus},{default:i(()=>[t(c,{"class-name":"w-6",icon:h.value},null,8,["icon"]),l("span",X,s(e.$t("Info")),1)]),_:1},8,["aria-label","to","onFocus"])])):(o(),n("div",q,[t(v,{href:`${e.link}/watch`,class:"group/play relative",title:"Play",onFocus:e.onFocus},{default:i(()=>[t(c,{class:"w-7",icon:b.value},null,8,["icon"]),e.endTime?(o(),n("div",G,[l("p",J,s(e.$t("Ends at"))+" "+s(e.endTime),1)])):m("",!0)]),_:1},8,["href","onFocus"]),t(v,{onclick:e.onToggleWatched,title:"Toggle seen",onFocus:e.onFocus},{default:i(()=>[t(c,{stroke:e.hasWatched?"var(--color-green-600)":"currentColor",class:"w-7",icon:"check"},null,8,["stroke"])]),_:1},8,["onclick","onFocus"]),e.data?(o(),p(O,{key:0,data:e.data,type:"video",onFocus:e.onFocus},null,8,["data","onFocus"])):m("",!0),t(v,{href:e.link,title:"Info",onFocus:e.onFocus},{default:i(()=>[t(c,{class:"w-7",icon:"infoCircle"})]),_:1},8,["href","onFocus"])]))}}}),T=Z;_();var K={key:0,class:"card scheme-dark relative m-4 pb-0 mb-0 flex flex-col justify-end gap-4 rounded-md bg-black/50 p-4 min-h-[65vh] overflow-clip text-surface-12 before:content-[''] before:pointer-events-none before:absolute before:inset-0 before:z-0 before:mt-auto before:h-4/5 before:bg-gradient-to-t before:from-black before:via-black/60 before:bottom-0","data-scroll":"",style:{contain:"layout style paint"}},Y={class:"z-10 flex flex-col gap-4 p-4"},ee={class:"flex items-end justify-between gap-4 w-full"},ae=["innerHTML"],te={class:"max-w-4xl text-lg font-medium line-clamp-4 leading-8 mt-4 z-10"},oe={key:1,class:"flex w-full p-6 pt-7 pb-0",style:{contain:"layout style paint"}},le={class:"frosting relative flex h-auto w-full flex-col justify-end overflow-hidden rounded-lg bg-cover bg-center aspect-poster bg-focus max-h-[75vh] before:content-[''] before:absolute before:inset-0 before:z-[1] before:pt-10 before:bg-gradient-to-b before:from-black/[5%] before:to-black/60",style:{"box-shadow":"0 8px 24px 0 rgba(0, 0, 0, 0.08)"}},re={class:"relative z-10 flex flex-col items-center gap-3 p-3",style:{filter:"drop-shadow(0px 1px 4px rgba(0, 0, 0, 0.08))"}},ne={class:"w-full text-center text-3xl font-bold"},se={class:"flex flex-wrap justify-center gap-1 text-center text-sm"},ie=$({__name:"NMHomeCard",props:{data:{type:Object,required:!1}},setup(a){const r=a,b=N(!1),h=d(()=>r.data?.duration&&new Date(new Date().getTime()+r.data?.duration*60*1e3).toLocaleTimeString(A.language,{hour:"2-digit",minute:"2-digit"})),e=d(()=>F(r.data?.color_palette?.poster).replace(/,/gu," ")??"var(--color-primary)"),y=d(()=>F(r.data?.color_palette?.backdrop)?.replace(/,/gu," ")??"var(--color-primary)");function u(){}z(()=>{r.data?.color_palette&&C(r.data?.color_palette?.backdrop)}),j(()=>{C(null),P(null)});function B(){E.value?.scrollTo({top:0,behavior:"smooth"})}return(ce,k)=>f(S)?(o(),n("article",oe,[l("div",le,[a.data?(o(),p(g,{key:0,"color-palette":a.data?.color_palette?.poster,path:a.data?.poster,style:x(`--color-theme-8: ${e.value};`),title:a.data?.title,width:null,class:"children:!w-available flex overflow-clip border-2 border-focus rounded-lg z-0 absolute inset-0","class-name":"relative flex h-auto aspect-poster !w-available min-h-full items-end justify-start gap-4 overflow-clip transition-opacity duration-700 bg-surface-50 max-h-available",loading:"eager"},null,8,["color-palette","path","style","title"])):m("",!0),t(R,{"class-name":"top-auto bottom-0 w-full",colored:""}),l("header",re,[l("h1",ne,s(f(V)(a.data?.title??"")),1),l("div",se,[(o(!0),n(I,null,L(a.data?.tags?.slice(0,4)??[],(w,M)=>(o(),n("p",{key:w,class:"whitespace-nowrap"},s(w.toTitleCase())+s(M<3?", ":""),1))),128))])]),t(T,{data:a.data,"is-mobile":!0,link:a.data?.link??"",class:"relative z-10 p-6"},null,8,["data","link"])])])):(o(),n("article",K,[a.data?(o(),p(g,{key:0,"color-palette":a.data?.color_palette?.backdrop,path:a.data?.backdrop,style:x(`--color-theme-8: ${y.value};`),title:a.data?.title,width:null,aspect:"backdrop",class:"!absolute !inset-0 children:!w-available flex overflow-clip border-2 border-focus rounded-md items-start justify-start","class-name":"relative flex w-available items-end justify-start gap-4 self-stretch overflow-clip transition-opacity duration-700 bg-surface-1",loading:"eager",priority:"high"},null,8,["color-palette","path","style","title"])):m("",!0),l("header",Y,[k[0]||(k[0]=l("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-black via-black/60 bottom-0"},null,-1)),l("div",ee,[a.data?.logo?(o(),p(g,{key:0,"color-palette":a.data?.color_palette?.backdrop,left:!0,path:a.data?.logo,title:a.data?.title,width:500,class:"h-screen max-h-40 max-w-md ml-0 mr-4 translate-y-[5%]","class-name":"px-4 py-4",loading:"eager",type:"logo"},null,8,["color-palette","path","title"])):(o(),n("p",{key:1,class:"h-screen max-h-40 flex-grow content-end text-5xl font-bold z-10",innerHTML:f(D)(a.data?.title||f(W)||"","text-3xl line-clamp-2")},null,8,ae)),t(T,{data:a.data,"end-time":h.value,"has-watched":b.value,link:a.data?.link??"","on-focus":B,"on-toggle-watched":u},null,8,["data","end-time","has-watched","link"])]),l("p",te,s(a.data?.overview),1)])]))}}),ye=ie;export{ye as default};
