{"version":3,"file":"Mobile-CcRPQkEO.js","sources":["../../src/views/Music/Cards/Mobile.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport {nextTick, ref, watch} from 'vue';\nimport {useRoute} from 'vue-router';\nimport {IonPage, IonContent, onIonViewDidEnter} from '@ionic/vue';\n\nimport type {MusicCardPageResponse} from '@/types/musicPlayer';\n\nimport useServerClient from '@/lib/clients/useServerClient';\nimport {isNative} from '@/config/global';\nimport {currentSong} from '@/store/audioPlayer';\nimport {setColorPalette} from '@/store/ui';\n\nimport MusicCard from '@/components/Cards/MusicCard.vue';\nimport Indexer from '@/Layout/Indexer.vue';\nimport NotFound from \"@/Layout/Desktop/components/NotFound.vue\";\n\nconst show = ref(false);\n\nconst route = useRoute();\nconst { data, isError } = useServerClient<MusicCardPageResponse['data']>({\n  path: route.fullPath,\n  keepForever: true,\n});\n\nwatch(data, () => {\n  show.value = true;\n});\n\nonIonViewDidEnter(() => {\n  show.value = true;\n  setColorPalette(null);\n  nextTick(() =>{\n    document.dispatchEvent(new Event('indexer'));\n  });\n});\n\n</script>\n\n<template>\n  <ion-page>\n    <ion-content :fullscreen=\"true\" >\n      <NotFound v-if=\"isError\" />\n      <div v-else class=\"pt-safe flex w-full pr-8 h-inherit\">\n        <div\n            v-if=\"show\"\n            :class=\"{\n           'pb-24' : isNative &&  !currentSong,\n           'pb-40' : isNative &&  currentSong,\n           'children:pb-4 sm:children:pb-3' : !isNative &&  currentSong\n        }\"\n            class=\"z-0 w-available overflow-x-clip w-full h-auto grid gap-4 pl-4 pr-4 sm:pt-4 music-showing:pb-0 grid-cols-2 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-7 3xl:grid-cols-9 4xl:grid-cols-9 5xl:grid-cols-[repeat(14,minmax(0,1fr))] tv:grid-cols-6 scroll-smooth\"\n            style=\"opacity:1\">\n\n          <template v-if=\"Array.isArray(data)\">\n            <template  v-for=\"item in data\"\n                       :key=\"item.id\">\n\n              <MusicCard :data=\"item\" />\n            </template>\n          </template>\n          <Indexer class=\"w-8 fixed right-0 bg-slate-light-1 dark:bg-slate-dark-3\"\n                   :class=\"{\n                      'h-available': !isNative,\n                      'h-full top-0': isNative\n                   }\"\n          />\n        </div>\n      </div>\n      </ion-content>\n  </ion-page>\n</template>\n"],"names":["show","ref","route","useRoute","data","isError","useServerClient","watch","onIonViewDidEnter","setColorPalette","nextTick"],"mappings":"wlBAgBM,MAAAA,EAAOC,EAAI,EAAK,EAEhBC,EAAQC,EAAS,EACjB,CAAE,KAAAC,EAAM,QAAAC,CAAQ,EAAIC,EAA+C,CACvE,KAAMJ,EAAM,SACZ,YAAa,EAAA,CACd,EAED,OAAAK,EAAMH,EAAM,IAAM,CAChBJ,EAAK,MAAQ,EAAA,CACd,EAEDQ,EAAkB,IAAM,CACtBR,EAAK,MAAQ,GACbS,EAAgB,IAAI,EACpBC,EAAS,IAAK,CACZ,SAAS,cAAc,IAAI,MAAM,SAAS,CAAC,CAAA,CAC5C,CAAA,CACF"}