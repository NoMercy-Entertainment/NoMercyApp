import{$ as U,d as k,w as C,f as D,h as d,o as i,z as f,p as h,j as o,a0 as y,b1 as E,v as u,A as I,x as v,b2 as M,c as q,y as O,b3 as G,F as H,q as J,b4 as K,b5 as P,b as Q}from"./vue-ionic-DRNtAYzz.js";import{bq as V}from"./index-BQx8LJO8.js";import{_ as $}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-CWob-vhG.js";const R={class:"relative w-full"},W={key:0,class:"flex items-center self-center"},X=["src","onerror","alt"],Y={class:"ml-3 block truncate text-left"},Z={key:1,class:"flex items-center self-center"},ee={key:0,class:"ml-3 block truncate text-left"},ae={key:1,class:"ml-3 block truncate text-left"},te={class:"ml-2 flex items-center self-center"},ne=["src","onerror","alt"],ie=U({__name:"LanguageSelect",props:{modelValue:{required:!0},name:{type:String,required:!0},id:{type:String,required:!0},multiple:{type:Boolean,required:!1,default:!1},variant:{type:String,required:!1,default:"normal"},languages:{type:Array,required:!1}},emits:["update:modelValue"],setup(a,{emit:F}){const b=a,T=F,n=k(b.modelValue),w=k(""),x=k([]),m=k(b.languages??[]);return C(b,t=>{t.languages&&(m.value=t.languages)}),C(n,t=>{t&&T("update:modelValue",t)}),C(m,t=>{var s;t&&(b.multiple?x.value=t:x.value=w.value===""?t.filter(e=>V.includes(e.iso_639_1))??[]:((s=t.filter(e=>V.includes(e.iso_639_1)))==null?void 0:s.filter(e=>e.english_name.toLowerCase().includes(w.value.toLowerCase())))??[])}),D(()=>{var t;m.value&&(b.multiple?x.value=m.value:x.value=w.value===""?m.value.filter(s=>V.includes(s.iso_639_1))??[]:((t=m.value.filter(s=>V.includes(s.iso_639_1)))==null?void 0:t.filter(s=>s.english_name.toLowerCase().includes(w.value.toLowerCase())))??[])}),(t,s)=>(i(),d("div",R,[f(y(K),{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=e=>n.value=e),as:"div",multiple:a.multiple,onChange:s[1]||(s[1]=e=>{var r;return t.$emit("update:modelValue",(r=e.target)==null?void 0:r.value)})},{default:h(()=>[f(y(E),{class:u(["block select-none space-nowrap empty:hidden",{"mb-1 text-sm font-medium":a.variant==="normal","mb-0.5 text-sm font-medium":a.variant==="dense","mb-px text-xs font-thin":a.variant==="tight"}])},{default:h(()=>[I(v(t.$t(a.name)),1)]),_:1},8,["class"]),o("div",{class:u(["relative",{"h-10 min-h-10 mt-2":a.variant==="normal","h-8 min-h-8 mt-1":a.variant==="dense","h-7 min-h-7 mt-0":a.variant==="tight"}])},[f(y(M),{class:u(["relative flex items-center w-full cursor-default rounded-md shadow-sm sm:text-sm data-[headlessui-state='disabled']:grayscale *:data-[headlessui-state='disabled']:hidden",{"!bg-auto-1 ring-[1.5px] ring-inset ring-auto-3 focus:outline-none focus:ring-2 focus:ring-focus data-[headlessui-state='open']:ring-2 data-[headlessui-state='open']:ring-focus":a.variant==="normal"||a.variant==="dense","h-10 min-h-10 pl-3":a.variant==="normal","h-8 min-h-8 pl-2":a.variant==="dense","h-5 min-h-5 pl-0":a.variant==="tight"}])},{default:h(()=>{var e,r,c,g,p,L,S,A,B,j,N,_,z;return[Array.isArray(n.value)?(i(),d("span",Z,[((N=n.value)==null?void 0:N.length)>4?(i(),d("span",ee,v((_=n.value)==null?void 0:_.length)+" "+v(t.$t("selected")),1)):(i(),d("span",ae,v((z=n.value.map(l=>(l==null?void 0:l.name)!==""&&(l==null?void 0:l.name)!==null?l==null?void 0:l.name:l==null?void 0:l.english_name))==null?void 0:z.join(", ")),1))])):(i(),d("span",W,[o("img",{src:`https://pub-a68768bb5b1045f296df9ea56bd53a7f.r2.dev/flags/${(r=(e=n.value)==null?void 0:e.iso_639_1)==null?void 0:r.toUpperCase()}.svg`,onerror:l=>{l.target.onerror=null,l.target.src="https://pub-a68768bb5b1045f296df9ea56bd53a7f.r2.dev/flags/xxx.svg"},alt:`${((c=n.value)==null?void 0:c.name)!==""&&((g=n.value)==null?void 0:g.name)!==null?(p=n.value)==null?void 0:p.name:(L=n.value)==null?void 0:L.english_name} flag`,class:"h-auto w-6 rounded-sm border border-auto-50 group-hover:border-theme-600"},null,8,X),o("span",Y,v(((S=n.value)==null?void 0:S.name)!==""&&((A=n.value)==null?void 0:A.name)!==null?(B=n.value)==null?void 0:B.name:(j=n.value)==null?void 0:j.english_name),1)])),o("span",{class:u(["absolute inset-y-0 right-0 flex h-auto items-center rounded-r-md min-h-auto focus-visible:outline-transparent",{"h-10 min-h-10 px-3":a.variant==="normal","h-8 min-h-8 px-2":a.variant==="dense",hidden:a.variant==="tight"}])},[a.multiple?(i(),q($,{key:0,icon:"arrowSelect","class-name":"w-5 ui-open:rotate-180 transition-transform duration-200"})):(i(),q($,{key:1,icon:"chevronDown","class-name":"w-5 ui-open:rotate-180 transition-transform duration-200"}))],2)]}),_:1},8,["class"]),f(O,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:h(()=>[f(y(G),{class:u(["absolute z-10 h-auto max-h-56 min-w-fit overflow-auto rounded-md text-base shadow-lg ring-1 ring-black ring-opacity-5 min-h-auto w-available bg-auto-1 focus:outline-none sm:text-sm",{"py-2 px-3":a.variant==="normal","py-1 px-2":a.variant==="dense","py-0.5 px-1.5":a.variant==="tight"}])},{default:h(()=>[(i(!0),d(H,null,J(x.value,e=>(i(),q(y(P),{key:e.iso_639_1,as:"template",value:e},{default:h(({active:r,selected:c})=>{var g;return[o("li",{class:u(["relative flex w-full min-w-fit cursor-default select-none items-center rounded-sm",{"!bg-focus text-auto-12 ":r,"text-contrast":!r,"h-8 min-h-8":a.variant==="normal","h-6 min-h-6":a.variant==="dense"}])},[o("div",te,[o("img",{src:`https://pub-a68768bb5b1045f296df9ea56bd53a7f.r2.dev/flags/${(g=e==null?void 0:e.iso_639_1)==null?void 0:g.toUpperCase()}.svg`,onerror:p=>{p.target.onerror=null,p.target.src="https://pub-a68768bb5b1045f296df9ea56bd53a7f.r2.dev/flags/xxx.svg"},alt:`${e.name!==""&&e.name!==null?e.name:e.english_name} flag`,class:"h-auto w-6 rounded-sm border border-auto-1 group-hover:border-theme-600"},null,8,ne),o("span",{class:u(["mx-3 block truncate text-left",{"font-semibold":c,"font-normal":!c}])},v(e.name!==""&&e.name!==null?e.name:e.english_name),3)]),c?(i(),d("span",{key:0,class:u(["absolute right-0 flex items-center justify-center pr-4 data-[headlessui-state='disabled']:hidden",{"text-auto-50":r,"text-focus":!r}])},[f($,{icon:"check",class:"h-5 w-5","aria-hidden":"true"})],2)):Q("",!0)],2)]}),_:2},1032,["value"]))),128))]),_:1},8,["class"])]),_:1})],2)]),_:1},8,["modelValue","multiple"])]))}});export{ie as _};
