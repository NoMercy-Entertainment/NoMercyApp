import{t as y}from"./useQueryClient-BDTWlHnP.js";import{$o as w,Ba as g,Dr as f,Ea as b,Gs as k,Hs as C,Ka as S,Ki as T,Mt as j,Ns as B,Os as L,Tr as N,Ua as O,Ut as q,Ws as l,Wt as E,Xi as d,Yo as I,Yr as M,Ys as n,_n as U,cs as v,ec as V,gs as $,h as z,i as u,ii as p,js as c,ks as D,ms as a,ns as W,on as Y,qa as H,sc as t,ss as e,tn as m,us as K,va as Q,vn as A}from"./index-zK1-WOQT.js";import{t as _}from"./OptimizedIcon-BHUzMN75.js";import"./dist-YiGZl1e5.js";import"./md5-CCcM0Kf_.js";import{t as F}from"./NoMercyAvatar-iqJDac8m.js";import"./HubConnection-A53UwK20.js";import{t as G}from"./ripperSocket-Da6CoWgH.js";import"./DeviceIcon-CyxkJ65k.js";import{t as P}from"./ServerCard-BNrHt7AT.js";I();H();g();var R={class:"flex h-full w-full flex-auto flex-col items-center justify-center gap-8 p-8"},X={class:"flex w-full flex-grow flex-col justify-between p-2 min-h-auto"},J={class:"flex justify-between items-center self-stretch flex-grow-0 flex-shrink-0 w-full relative gap-2.5 mb-2"},Z={class:"flex justify-start items-center relative gap-2.5",inert:""},ee={class:"size-12 my-auto"},te={class:"w-48 text-base font-semibold text-left"},se={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},ae={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},re=$({__name:"Tv",setup(oe){const x=y(),i=V();async function h(s){f(s),await N().get("libraries").then(({data:r})=>{M(r.data),U.value=!0,q.value=!0,setTimeout(async()=>{m.value==="/setup/select-servers"?await u.replace({name:"Home"}):await u.replace(m.value)},50)}).catch(async()=>{await u.replace({name:"Server offline"})})}return L(()=>{f(null),Y(),x.removeQueries(),z.value?.stop(),j.value?.stop(),G.value?.stop()}),D(()=>{A()}),O(()=>{setTimeout(()=>{i.value?.querySelector("button")?.focus()},100)}),C(i,s=>{setTimeout(()=>{s?.querySelector("button")?.focus()},100)}),(s,r)=>(c(),v(t(b),null,{default:l(()=>[a(t(Q),{fullscreen:!0},{default:l(()=>[e("div",R,[e("div",X,[e("div",J,[e("div",Z,[e("div",ee,[a(F,{user:t(p),size:40},null,8,["user"])]),e("p",te,n(t(p).name),1)]),k(e("button",{tabindex:"0",class:"flex justify-center items-center ml-auto relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",onClick:r[0]||(r[0]=o=>d.value=!t(d))},[a(_,{icon:"doorOut",class:""}),e("span",se,n(s.$t("Exit TV mode")),1)],512),[[w,!t(T)]]),a(t(S),{to:"/logout",class:"flex justify-center items-center relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]"},{default:l(()=>[a(_,{icon:"doorOut",class:""}),e("span",ae,n(s.$t("Logout")),1)]),_:1})]),e("div",{ref_key:"serverList",ref:i,class:"tv:children:w-[30%] tv:mt-0 -mt-24 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4"},[(c(!0),K(W,null,B(t(E),o=>(c(),v(P,{key:o.id,server:o,onclick:()=>h(o)},null,8,["server","onclick"]))),128))],512)])])]),_:1})]),_:1}))}}),_e=re;export{_e as default};
