import{Ba as j,Bi as B,Fs as V,Hs as $,Js as G,Ks as M,Ns as T,Os as F,Rs as q,Vn as Y,Ws as i,Yo as m,Ys as H,cs as c,ec as x,fo as J,gs as y,ic as s,in as h,js as l,ls as K,ms as v,na as U,ns as z,sc as n,ss as C,us as k,vi as W}from"./index-zK1-WOQT.js";import{a as o,c as p,f,h as P,l as S,o as X,p as N,t as E,u as R}from"./imageModal-CsFJnOhE.js";import{t as Q}from"./OptimizedIcon-BHUzMN75.js";import{t as Z}from"./TMDBImage-BTvZBjXB.js";import{n as A}from"./swiper-vue-AKTsLRi0.js";import{t as D}from"./Carousel-CXMP6j5Y.js";import{t as ee}from"./PersonCard-C_E_weSu.js";m();var te={class:"relative flex flex-shrink-0 flex-grow-0 items-center justify-start gap-2 px-1"},ae={class:"flex-shrink-0 flex-grow-0 text-center text-sm font-medium"},re=y({__name:"GenrePill",props:{genre:{type:Object,required:!0}},setup(t){return(a,d)=>{const r=V("RouterLink");return l(),c(r,{class:M([n(B)(t.genre?.name).iconBg,"relative flex flex-shrink-0 flex-grow-0 items-center justify-start rounded-2xl px-2 py-0.5 hover:!grayscale-0 bg-theme-5 border-theme-3 border-1 text-surface-12/12 hover:shadow-[0px_0px_0_3px_var(--color-theme-6)]"]),to:`/genre/${t.genre?.id}`},{default:i(()=>[v(Q,{icon:n(B)(t.genre?.name).icon,"class-name":"relative w-5 flex-shrink-0 flex-grow-0 group-hover/card:text-theme-5"},null,8,["icon"]),C("div",te,[C("p",ae,H(t.genre?.name),1)])]),_:1},8,["class","to"])}}}),xe=re;m();var le=y({__name:"PersonCarousel",props:{data:{type:Array,required:!0},title:{type:String,required:!0},limitCardCountBy:{type:Number,required:!1}},setup(t){return(a,d)=>(l(),c(D,{title:t.title,"limit-card-count-by":t.limitCardCountBy,type:"poster","disable-auto-aspect":!0},{default:i(()=>[(l(!0),k(z,null,T(t.data,r=>(l(),c(n(A),{key:r.id,class:"flex sm:p-1 pl-0"},{default:i(()=>[v(ee,{data:r,class:""},null,8,["data"])]),_:2},1024))),128))]),_:1},8,["title","limit-card-count-by"]))}}),he=le;m();var se=["onfocus","onClick"],oe=y({__name:"ImageCard",props:{data:{type:Object,required:!0},aspect:{type:String,required:!1,default:"poster"},setData:{type:Function,required:!0},limitCardCountBy:{type:Number,required:!1}},setup(t){const a=Y(t.data?.color_palette?.image);return(d,r)=>r[0]||(q(-1,!0),(r[0]=t.data?(l(),k("button",{key:0,onfocus:n(W),style:G(n(a)?`
       --color-theme-8: ${n(a)};
    `:""),class:"group/card frosting flex flex-col h-full items-center focus-outline relative rounded-lg select-none shadow-[0px_0px_0_1px_rgb(from_var(--color-theme-8,var(--color-theme-6))_r_g_b/70%)] w-full z-0 bg-surface-50/70 flex-grow-0","data-card":"true",onClick:w=>t.setData(t.data)},[C("span",{class:M([t.aspect==="poster"?" aspect-poster":"aspect-backdrop","relative h-auto w-full cursor-pointer overflow-clip rounded-lg"])},[v(Z,{aspect:t.aspect,"color-palette":t.data?.color_palette?.image,path:t.data?.src,size:t.aspect==="poster"?162:660,title:t.data?.name,class:"!relative","class-name":"inset-0 h-full w-full overflow-clip rounded-lg",type:"image"},null,8,["aspect","color-palette","path","size","title"])],2)],12,se)):K("",!0)).cacheIndex=0,q(1),r[0])}}),ne=oe;m();j();var ue=y({__name:"ImageCarousel",props:{data:{type:Array,required:!0},title:{type:String,required:!0},type:{type:String,required:!1,default:"poster"}},setup(t){const a=t,d=x(!1),r=x();function w(e){p({...e,color_palette:s(e.color_palette)?s(e.color_palette):{image:s(h.value)},aspectRatio:a.type==="poster"?"2/3":"16/9"}),f({type:a.type,index:a.data.indexOf(e)}),X(a.type),S(!0)}function I(){const e=a.data[o.value-1];e&&(f({index:o.value-1,type:P.value.type}),p({...e,color_palette:e.color_palette?s(e.color_palette):{image:s(h.value)},aspectRatio:a.type==="poster"?"2/3":"16/9"}),R(o.value-1))}function g(){const e=a.data[o.value+1];e&&(f({index:o.value+1,type:P.value.type}),p({...e,color_palette:e.color_palette?s(e.color_palette):{image:s(h.value)},aspectRatio:a.type==="poster"?"2/3":"16/9"}),R(o.value+1))}const _=x();function L(){clearInterval(_.value),_.value=setInterval(()=>{a.data[o.value+1]||f({index:0,type:a.type}),g()},15*1e3)}function u(){clearInterval(_.value)}$(N,e=>{e||u()}),U(window,"keyup",e=>{document.activeElement.nodeName!=="TEXTAREA"&&document.activeElement.nodeName!=="INPUT"&&(e.key==="Enter"&&N.value||E.value===a.type&&(e.key==="ArrowLeft"&&(u(),I()),e.key==="ArrowRight"&&(u(),g()),e.key===" "&&(d.value?u():L()),(e.key==="Escape"||e.key==="Backspace")&&(p(null),S(!1),u())))}),F(()=>{r.value=J({el:document.querySelector("#imageModal"),onStart:()=>void 0,onMove:e=>O(e),onEnd:()=>void 0,gestureName:"swipe"})});function O({velocityX:e}){E.value===a.type&&(e>0?I():g())}function ie(){}function ce(){}return(e,de)=>(l(),c(D,{title:`${t.title}s`,type:t.type,"disable-auto-aspect":t.type==="poster"},{default:i(()=>[(l(!0),k(z,null,T(t.data,b=>(l(),c(n(A),{key:b.id,class:"flex"},{default:i(()=>[v(ne,{data:b,aspect:t.type,"set-data":w},null,8,["data","aspect"])]),_:2},1024))),128))]),_:1},8,["title","type","disable-auto-aspect"]))}}),Ce=ue;export{he as n,xe as r,Ce as t};
