import{Bn as dt,Bt as p,Gt as d,Ht as ct,I as tt,Ln as u,Lt as j,M as et,Mt as b,Rn as A,Rt as s,Sn as mt,Tt as g,Vn as _,Vt as n,Wt as vt,an as U,cn as e,dn as z,fn as L,i as ft,kn as q,kt as pt,on as at,qt as x,u as _t,un as w,xn as m,yn as R,zt as v}from"./index-C8wrpkyN.js";import"./dist-DT2yuChF.js";import"./esm-DnlYWABm.js";import"./esm-CdHIRdo_.js";import"./dist-DtOedwIT.js";import"./focus-visible-C1DWu8Oz.js";import"./index5-C9RIJ-sZ.js";import"./client-DAXuPTec.js";import"./ionic-global-QXgPMqNd.js";import"./hardware-back-button-9ZINzT5a.js";import"./index3-BubtwhWu.js";import"./helpers-D5mJiZ9q.js";import"./index6-Cj1ScfU-.js";import"./index8-DaGgXvc2.js";import"./keyboard-COERgV0V.js";import"./index2-BuY1gQTr.js";import"./ios.transition-BUwO3_AE.js";import"./keyboard2-CSWHSxpI.js";import"./md.transition-Dd2SUgMb.js";import"./dir-CJiJYBc7.js";import"./basecomponent-CKGbzbTY.js";import"./classnames-C7QsyfAI.js";import"./button-BynHS9zl.js";import"./baseicon-BULsv_7E.js";import"./times-C8aYiEVK.js";import{B as yt,L as rt,V as ht,a as st,b as gt,l as xt,m as F,n as lt,o as V,p as H}from"./ui-BWVnjNNY.js";import"./client-BmAhQ-69.js";import{S as kt,m as bt,t as wt,v as $t,x as Ct}from"./currentServer-B_KQACAB.js";import"./config-BZ-AEJ_J.js";import"./core-BLZUGO-K.js";import"./esm-BiKSXF-U.js";import"./global-WVsx5src.js";import"./esm-B8xVkXPy.js";import"./bundle-mjs-DzMTChaT.js";import{s as it}from"./user-CXzDmTwG.js";import"./serverClient-K02oLPZR.js";import{b as jt,l as E}from"./router-I2PvuKTp.js";import"./utils-CYCtUrjH.js";import"./useBaseQuery-B6wsCOmB.js";import"./useInfiniteServerClient-D5CFD8Z7.js";import{N as Tt,V as St,Z as G,c as At,g as S,h as I,k as N,l as Z,m as Lt}from"./SocketClient-CeGi9Yeo.js";import"./useQueryClient-mZLXzkAX.js";import"./useQuery-BBjfmHCe.js";import"./apiClient-CnOywAmP.js";import"./notifications-DAOHq0v-.js";import"./utils-T6SCnbWu.js";import{a as J}from"./deviceInfo-DQllL7m1.js";import"./auth-D3TfzZqc.js";import"./musicPlaylists-CeYpVUjG.js";import"./esm-7i_Wtgyh.js";import{a as Pt}from"./contextMenuItems-BAxEuer3.js";import"./_plugin-vue_export-helper-pDp7unP0.js";import"./AppLogoSquare-B9MCCmvc.js";import{t as M}from"./MoooomIcon-un4l75-N.js";import{t as Mt}from"./DropdownMenu-CZfoN-P5.js";import"./dist-Dd_BbWhG.js";import"./fileupload-BFNv7rr5.js";import{t as qt}from"./useServerClient-Bvu1z2Rs.js";import{t as Bt}from"./ScrollContainer-Nc0DKhrC.js";import"./Button-C7060WzV.js";import{t as Y}from"./CoverImage-CcRvdF9S.js";import"./MusicButton-yLkQD0Gb.js";import{t as B}from"./BannerButton-B2nPYdxM.js";import{t as ut}from"./MediaLikeButton-DVyfvAKN.js";import{t as K}from"./PlayerIcon-B_LEyqNM.js";import"./Modal-SWnpBpsA.js";import{n as Rt}from"./swiper-vue-CgnUSjX-.js";import"./swiper-element-bundle-5g6LKjiG.js";import{n as zt,t as Nt}from"./EqSpinner-DO4w_JXh.js";import{t as Dt}from"./NotFound-C0w2vGjZ.js";import{t as Ot}from"./ShareButton-CcLOsF80.js";import{t as Ft}from"./Carousel-DtkS8mBt.js";import{t as Ht}from"./ClickUploadModal-Bofg3J3p.js";et();g();var Et=["data-track-id"],It={class:"flex w-10 justify-center text-center min-w-10"},Vt={key:0,class:"group-focus-visible/track:sm:hidden group-hover/track:sm:hidden"},Gt={class:"flex h-12 items-center gap-2 overflow-hidden w-available sm:gap-4"},Ut={class:"flex h-full flex-col justify-evenly overflow-clip w-inherit"},Yt={class:"flex h-5 flex-nowrap overflow-clip text-left font-bold line-clamp-1 w-inherit"},Wt=["data-size"],Zt={class:"flex whitespace-nowrap"},Jt={class:"flex items-center justify-between gap-2 text-end"},Kt={class:"mr-4 monospace sm:mr-0"},Qt=x({__name:"TrackRow",props:{data:{type:Object,required:!0},index:{type:Number,required:!0},displayList:{type:Array,required:!0}},setup(t){const a=t;function r(){if(!it.value.features?.nomercyConnect){At.playTrack(a.data,a.displayList);return}G.value?.invoke("StartPlaybackCommand",E.value?"album":"artist",E.value?a.data?.album_track.at(0)?.id:a.data?.artist_track.at(0)?.id,a.data.id)}return(c,i)=>{const f=L("RouterLink");return e(),n("button",{"data-track-id":t.data?.id,class:"grid justify-start items-center self-stretch pr-3 sm:px-3 rounded-lg hover:bg-surface-6/8 group/track text-sm font-medium py-2 z-0 group/track home-grid gap-2","data-target":"track",tabindex:"0",onClick:i[0]||(i[0]=l=>r()),onContextmenu:i[1]||(i[1]=l=>u(Pt)(l,t.data))},[s("span",It,[u(S)?.id!==t.data.id?(e(),n("span",Vt,_(t.index+1),1)):p("",!0),u(S)?.id===t.data.id?(e(),v(Nt,{key:1,playing:u(N),class:"hidden group-focus-visible/track:sm:!hidden group-hover/track:sm:!hidden",color:"var(--color-theme-8)"},null,8,["playing"])):p("",!0),u(S)?.id===t.data.id&&u(N)?(e(),v(K,{key:2,class:"hidden h-6 w-6 group-focus-visible/track:sm:block group-hover/track:sm:block",icon:"nmPause"})):(e(),v(K,{key:3,class:"hidden h-6 w-6 group-focus-visible/track:sm:block group-hover/track:sm:block",icon:"nmPlay"}))]),s("span",Gt,[u(E)?(e(),v(Y,{key:0,data:t.data,size:100,"class-name":"relative hidden h-12 w-12 overflow-hidden min-w-[3rem] sm:block",loading:"eager"},null,8,["data"])):p("",!0),s("span",Ut,[s("span",Yt,_(t.data.name),1),s("span",{"data-size":u(Tt),class:"inline-flex h-5 w-fit gap-1 overflow-hidden whitespace-nowrap text-surface-9 line-clamp-1 text-2xs hover:animate-pause"},[t.data?(e(),v(zt,{key:0,id:t.data.id,data:t.data.artist_track,onclick:l=>l.stopPropagation(),"data-target":"artist",type:"artists"},null,8,["id","data","onclick"])):p("",!0)],8,Wt)])]),t.data?(e(!0),n(b,{key:0},w(t.data.album_track,l=>(e(),n("span",{key:l.id,class:"max-w-sm items-center overflow-clip pr-2 line-clamp-2 h-inherit w-inherit"},[d(f,{onclick:y=>y.stopPropagation(),to:l?.link,class:"flex items-center gap-1 whitespace-nowrap text-xs font-semibold line-clamp-1 hover:underline focus:underline dark:font-medium","data-target":"album",tabindex:"0"},{default:m(()=>[s("span",Zt,_(l.name),1)]),_:2},1032,["onclick","to"])]))),128)):p("",!0),s("span",Jt,[(e(),v(ut,{key:t.data.id,data:t.data,onclick:l=>l.stopPropagation(),class:"hidden sm:flex",color:"var(--color-theme-8)"},null,8,["data","onclick"])),s("span",Kt,_(t.data.duration),1)]),d(Mt,{direction:"down"},{button:m(()=>[d(B,{class:"mx-3",title:""},{default:m(()=>[d(M,{"class-name":"relative h-5 w-5",icon:"menuDotsVertical"})]),_:1})]),_:1})],40,Et)}}}),Xt=Qt;g();var te={key:0,class:"flex w-full flex-col items-start justify-start gap-4 self-stretch"},ee={class:"self-stretch text-xl font-bold leading-loose"},ae={class:"flex flex-col items-start justify-start gap-1 self-stretch"},re={class:"z-10 grid items-center justify-start gap-4 self-stretch py-2 pr-3 text-sm font-medium home-grid sm:px-3"},se={class:"shrink grow basis-0 text-sm leading-tight text-surface-12/11"},le={class:"shrink grow basis-0 text-sm leading-tight text-surface-12/11"},ie={class:"shrink grow basis-0 text-right text-sm leading-tight text-surface-12/11"},ue={class:"flex flex-col items-start justify-start gap-1 self-stretch"},oe=x({__name:"TrackCard",props:{data:{type:Array,required:!0},title:{type:String,required:!0}},setup(t){return(a,r)=>t.data&&t.data?.length>0?(e(),n("div",te,[s("div",ee,_(a.$t(t.title)),1),s("div",ae,[s("div",re,[r[0]||(r[0]=s("div",{class:"w-10 text-center text-sm leading-tight text-surface-12/11"}," # ",-1)),s("div",se,_(a.$t("Title")),1),s("div",le,_(a.$t("Album")),1),s("div",ie,_(a.$t("Duration")),1)])]),s("div",ue,[(e(!0),n(b,null,w(t.data,(c,i)=>(e(),v(Xt,{key:c.id+c?.favorite,data:c,"display-list":t.data,index:i},null,8,["data","display-list","index"]))),128))])])):p("",!0)}}),Q=oe;g();var ne={class:"contents"},de=x({__name:"Tab",props:{isActive:{type:Boolean,default:!1}},setup(t){return(a,r)=>mt((e(),n("div",ne,[z(a.$slots,"default")],512)),[[pt,t.isActive]])}}),T=de;g();var ce={class:"flex w-full flex-col items-start justify-start gap-4"},me={key:0,class:"flex flex-col items-start justify-start self-stretch overflow-clip rounded-lg relative group/cover"},ve={class:"w-full whitespace-pre-line font-semibold leading-normal"},fe=x({__name:"ProfileCard",props:{data:{type:Object,required:!0}},setup(t){const a=t;return U(()=>{a.data?.color_palette&&V(a.data?.color_palette?.cover)}),at(()=>{V(null),st(null)}),(r,c)=>(e(),n("div",ce,[t.data.cover?(e(),n("div",me,[d(Ht,{data:t.data,url:`${t.data.link}/cover`},{default:m(({data:i,ref:f})=>[d(Y,{data:i,"img-ref":f,size:500,class:"aspect-square h-auto w-full"},null,8,["data","img-ref"])]),_:1},8,["data","url"])])):p("",!0),s("div",ve,_(t.data.disambiguation||t.data.description?u(bt)(t.data.description??t.data.disambiguation,200):""),1)]))}}),pe=fe;g();var _e={class:"inline-flex w-auto flex-wrap items-start justify-start gap-2"},ye={class:"flex items-center justify-start gap-2 px-2"},he=x({__name:"GenresCard",props:{data:{type:Object,required:!0}},setup(t){return(a,r)=>{const c=L("RouterLink");return e(),n("div",_e,[(e(!0),n(b,null,w(t.data.genres,i=>(e(),v(c,{key:i.id,to:i?.link,class:"flex items-center justify-start rounded-2xl py-1 px-1.5 bg-focus/10"},{default:m(()=>[s("div",ye,[s("div",{class:A([`${u(yt)(u(rt)(u(lt)),100)?"text-black/12":"text-white/12"}`,"text-center text-sm font-medium leading-tight"])},_(a.$t(i.name)),3)])]),_:2},1032,["to"]))),128))])}}}),ot=he;g();var ge={key:0,class:"flex w-full flex-col items-start justify-start gap-4"},xe={class:"text-xl font-bold leading-loose text-surface-11"},ke={class:"grid grid-cols-2 gap-4"},be={class:"flex h-16 w-16 items-center justify-center rounded px-px py-px"},we={class:"flex items-center justify-start gap-2.5"},$e={class:"text-sm font-semibold text-surface-8 text-balance line-clamp-2"},Ce=x({__name:"FeaturedCard",props:{data:{type:Object,required:!0}},setup(t){const a=t,r=j(()=>{const c={};return a.data?.tracks?.forEach(i=>{i.artist_track?.forEach(f=>{f.id===a.data.id||!f.cover||(c[f.id]={id:f.id,name:f.name,cover:f.cover})})}),Object.values(c)});return(c,i)=>{const f=L("RouterLink");return r.value.length>0?(e(),n("div",ge,[s("div",xe,_(c.$t("Featured Artists")),1),s("div",ke,[(e(!0),n(b,null,w(r.value,l=>(e(),v(f,{key:l.id,to:l.link,class:"inline-flex items-center justify-start gap-4 underline-offset-4 hover:underline"},{default:m(()=>[s("div",be,[d(Y,{data:l,size:60,class:"h-14 w-14 rounded-lg"},null,8,["data"])]),s("div",we,[s("div",$e,_(l.name),1)])]),_:2},1032,["to"]))),128))])])):p("",!0)}}}),je=Ce;g();var Te={class:"flex flex-row items-start justify-start gap-8 overflow-clip w-available"},Se={class:"inline-flex flex-col items-start justify-start gap-8 w-[clamp(200px,25%,500px)]"},Ae=x({__name:"TabFrame",props:{data:{type:Object,required:!0},activeTab:{type:String,required:!0}},setup(t){return(a,r)=>(e(),n("div",Te,[s("div",Se,[d(pe,{data:t.data},null,8,["data"]),t.activeTab!=="About"?(e(),v(ot,{key:0,data:t.data,class:"max-w-md"},null,8,["data"])):p("",!0),t.activeTab!=="About"?(e(),v(je,{key:1,data:t.data},null,8,["data"])):p("",!0)]),s("div",{class:A(["z-0 flex h-min w-0 flex-1 flex-col gap-x-2 gap-y-8 overflow-clip",t.activeTab==="About"?"ml-8 w-[60%]":""])},[z(a.$slots,"default")],2)]))}}),D=Ae;g();var Le={class:"flex flex-1 basis-0 items-start justify-start gap-8 self-stretch p-8 pb-0"},Pe=x({__name:"Home",props:{data:{type:Object,required:!0},displayType:{type:String,default:"list"},activeTab:{type:String,required:!0}},setup(t){const a=[{name:"list"},{name:"card"}];return(r,c)=>(e(),n("div",Le,[d(D,{"active-tab":t.activeTab,data:t.data},{default:m(()=>[d(T,{"is-active":t.displayType===a[0].name},{default:m(()=>[d(Q,{data:t.data.favorite_tracks??[],title:"Your most played"},null,8,["data"]),d(Q,{data:t.data.tracks??[],title:"All songs"},null,8,["data"])]),_:1},8,["is-active"]),d(T,{"is-active":t.displayType===a[1].name},null,8,["is-active"])]),_:1},8,["active-tab","data"])]))}}),Me=Pe;g();var qe={class:"flex flex-1 basis-0 items-start justify-start gap-8 self-stretch p-8 pb-0"},Be=x({__name:"Albums",props:{data:{type:Object,required:!0},item:{type:String,required:!0},activeTab:{type:String,required:!0}},setup(t){return(a,r)=>{const c=L("NMMusicCard");return e(),n("div",qe,[d(D,{"active-tab":t.activeTab,data:t.data},{default:m(()=>[s("div",{class:A([{"pb-4 sm:pb-4":!u(S)},"z-0 w-full h-available h-fit grid gap-4 music-showing:pb-0 grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-5 3xl:grid-cols-7 4xl:grid-cols-7 5xl:grid-cols-[repeat(8,minmax(0,1fr))] tv:grid-cols-6 scroll-smooth items-start"]),style:{opacity:"1"}},[Array.isArray(t.data?.[t.item])?(e(!0),n(b,{key:0},w(t.data[t.item],i=>(e(),n(b,{key:i?.id},[i?(e(),v(c,{key:0,data:i},null,8,["data"])):p("",!0)],64))),128)):p("",!0)],2)]),_:1},8,["active-tab","data"])])}}}),X=Be;g();var Re={class:"flex flex-1 basis-0 items-start justify-start gap-8 self-stretch p-8 pb-0"},ze=x({__name:"Playlists",props:{data:{type:Object,required:!0},activeTab:{type:String,required:!0}},setup(t){return(a,r)=>{const c=L("NMMusicCard");return e(),n("div",Re,[d(D,{"active-tab":t.activeTab,data:t.data},{default:m(()=>[s("div",{class:A([{"pb-4 sm:pb-4":u(S)},"z-0 w-available h-available w-full h-fit grid gap-4 pl-4 pr-4 pt-4 pb-4 music-showing:pb-0 grid-cols-2 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-7 3xl:grid-cols-9 4xl:grid-cols-9 5xl:grid-cols-[repeat(14,minmax(0,1fr))] tv:grid-cols-6 scroll-smooth"]),style:{opacity:"1"}},[Array.isArray(t.data.playlists)?(e(!0),n(b,{key:0},w(t.data.playlists,i=>(e(),v(c,{key:i.id,data:i},null,8,["data"]))),128)):p("",!0)],2)]),_:1},8,["active-tab","data"])])}}}),Ne=ze;g();var De=x({__name:"MusicCarousel",props:{data:{type:Object,required:!0},index:{type:Number,required:!1,default:0},limitCardCountBy:{type:Number,required:!1}},setup(t){function a(r){setTimeout(()=>{r.color_palette},50)}return(r,c)=>{const i=L("RouterLink"),f=L("NMMusicCard");return t.data.items?.length>0?(e(),v(Ft,{key:0,"disable-auto-aspect":!0,index:t.index,"limit-card-count-by":t.limitCardCountBy,title:t.data.title},ct({default:m(()=>[(e(!0),n(b,null,w(t.data.items,l=>(e(),v(u(Rt),{key:l?.id,"virtual-index":t.index,class:"flex py-1"},{default:m(()=>[l?.id?(e(),v(f,{key:0,id:`item-${l?.name}-${l?.id}`,data:l,onclick:()=>a(l),class:""},null,8,["id","data","onclick"])):p("",!0)]),_:2},1032,["virtual-index"]))),128))]),_:2},[t.data.moreLink?{name:"link",fn:m(()=>[d(i,{to:t.data.moreLink,class:"mr-auto ml-4 font-medium underline underline-offset-4"},{default:m(()=>[...c[0]||(c[0]=[vt(" see more ",-1)])]),_:1},8,["to"])]),key:"0"}:void 0]),1032,["index","limit-card-count-by","title"])):p("",!0)}}}),Oe=De;g();var Fe={key:0,class:"flex flex-1 basis-0 items-start justify-start self-stretch overflow-clip px-8 py-8 w-available"},He={class:"flex flex-col gap-2 overflow-clip w-available max-w-[75ch]"},Ee=["innerHTML"],Ie={class:"max-w-available"},Ve=x({__name:"About",props:{data:{type:Object,required:!0},activeTab:{type:String,required:!0}},setup(t){const a=t,r=j(()=>{const i={};return a.data?.tracks?.forEach(f=>{f.artist_track?.forEach(l=>{l.id===a.data.id||!l.cover||(i[l.id]=l)})}),Object.values(i)}),c=j(()=>[{title:"Featuring artists",moreLink:"",children:r.value}]);return(i,f)=>t.activeTab?(e(),n("div",Fe,[d(D,{data:t.data,"active-tab":t.activeTab},{default:m(()=>[s("div",He,[(e(!0),n(b,null,w((t.data.description??"")?.split(`
`)??[],l=>(e(),n("div",{key:l,class:"flex flex-col gap-1"},[(e(!0),n(b,null,w(l.split(`
`),y=>(e(),n("span",{key:y,class:"bionic-text font-semibold !text-base",innerHTML:y},null,8,Ee))),128))]))),128))]),d(ot,{data:t.data},null,8,["data"]),s("div",Ie,[(e(!0),n(b,null,w(c.value??[],l=>(e(),v(Oe,{key:l.title,data:l,class:"-mx-3","limit-card-count-by":2},null,8,["data"]))),128))])]),_:1},8,["data","active-tab"])])):p("",!0)}}),Ge=Ve;g();var Ue={class:"z-0 flex shrink grow basis-0 flex-col items-start justify-start self-stretch"},Ye={class:"sticky -top-1 z-10 h-14 w-full border-b border-surface-12/6 bg-surface-1"},We={class:"absolute left-4 inline-flex flex-col items-start justify-start gap-2 top-[15px]"},Ze={class:"inline-flex items-start justify-start gap-4"},Je=["onClick"],Ke=x({__name:"Tabs",props:{tabs:{type:Array,required:!0}},setup(t){const a=t,r=q(a.tabs[0].name);function c(i){r.value=a.tabs[i].name}return(i,f)=>(e(),n("div",Ue,[s("div",Ye,[s("nav",We,[s("ul",Ze,[(e(!0),n(b,null,w(t.tabs,(l,y)=>(e(),n("button",{key:l.name,class:A(`px-1 pb-4 ${r.value===l.name?"border-b-2":""} empty:hidden transition-transform duration-100 border-focus justify-center items-center gap-2 flex cursor-pointer`),onClick:C=>c(y)},[l?.name?(e(),n("div",{key:0,class:A(`${r.value===l.name?"text-focus":""} text-base font-semibold leading-normal`)},_(i.$t(l.name)),3)):p("",!0)],10,Je))),128))])]),z(i.$slots,"extra",{activeTab:r.value})]),z(i.$slots,"default",{activeTab:r.value,class:"z-0"})]))}}),Qe=Ke;g();var Xe={class:"flex flex-shrink-0 flex-grow-0 items-end justify-start gap-4 w-[710px]"},ta={class:"relative flex flex-grow flex-col items-start justify-start gap-4"},ea={class:"flex-shrink-0 flex-grow-0 self-stretch text-5xl font-bold w-[710px]"},aa={class:"relative flex flex-shrink-0 flex-grow-0 items-center justify-start gap-2.5"},ra={key:0,class:"flex-shrink-0 flex-grow-0 text-sm"},sa={class:"flex-shrink-0 flex-grow-0 text-sm"},la={class:"flex-shrink-0 flex-grow-0 text-sm"},ia={class:"flex flex-shrink-0 flex-grow-0 items-center justify-start gap-2"},ua=x({__name:"Header",props:{data:{type:Object,required:!0}},setup(t){const a=t,r=tt(),c=q("");U(()=>{c.value=gt(a.data)});const i=j(()=>{let h=a.data?.images?.toSorted((o,$)=>$.voteCount-o.voteCount)?.find(o=>o.type==="banner");if(h||(h=a.data?.images?.toSorted((o,$)=>$.voteCount-o.voteCount)?.find(o=>o.type==="background")),!!h)return`${wt.value?.serverBaseUrl}${h?.src}`}),f=j(()=>`/music/${a.data?.type?.replace(/s$/u,"")}/${a.data?.id}`);function l(){if(!a.data?.tracks)return;if(!it.value.features?.nomercyConnect){if(I.value===f.value){Z.togglePlayback();return}Z.playTrack(a.data.tracks.at(0),a.data.tracks),St(f.value);return}Lt.value||G.value?.invoke("ChangeDeviceCommand",J.value).then(()=>{console.log("Switched to device:",J.value)}).catch(o=>{console.error("Error switching device:",o)});const h=a.data.tracks.some(o=>o.id===S.value?.id)?S.value?.id:a.data.tracks.at(0)?.id;G.value?.invoke("StartPlaybackCommand",a.data.type.replace(/s$/u,""),a.data.id,h)}const y=j(()=>({title:a.data?.name??"",url:`https://app.nomercy.tv${r.fullPath}`})),C=j(()=>ht(rt(lt.value),150));return(h,o)=>(e(),n("div",{class:A([{"h-[425px]":i.value,"h-[200px]":!i.value,"text-black/12":C.value,"text-white/12":!C.value},"relative -mx-2 flex flex-shrink-0 flex-grow-0 items-end justify-between self-stretch overflow-hidden bg-cover bg-start bg-no-repeat object-cover p-9 w-available !h-[306px]"]),style:dt(i.value?`background-image: url('${i.value}')`:"background-image: linear-gradient(180deg, var(--color-theme-8) 0%, var(--color-theme-8) 100%)")},[o[2]||(o[2]=s("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-black via-black/60"},null,-1)),s("div",Xe,[s("div",ta,[s("p",ea,_(t.data.name),1),s("div",aa,[t.data.playlists?.length?(e(),n("p",ra,[s("span",null,_(u(kt)("Appears in {0} Playlists",t.data.playlists?.length??0)),1),o[0]||(o[0]=s("svg",{class:"flex-shrink-0 flex-grow-0",fill:"none",height:"4",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 3 4",width:"3",xmlns:"http://www.w3.org/2000/svg"},[s("circle",{cx:"1.5",cy:"2",fill:"#9BA1A6",r:"1.5"})],-1))])):p("",!0),s("p",sa,_(t.data.tracks?.length)+" "+_(t.data.tracks?.length===1?h.$t("song"):h.$t("songs")),1),o[1]||(o[1]=s("svg",{class:"flex-shrink-0 flex-grow-0",fill:"none",height:"4",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 3 4",width:"3",xmlns:"http://www.w3.org/2000/svg"},[s("circle",{cx:"1.5",cy:"2",fill:"#9BA1A6",r:"1.5"})],-1)),s("p",la,_(c.value),1)])])]),s("div",ia,[d(B,{onclick:l,title:u(N)&&u(I)===f.value?h.$t("Pause"):h.$t("Play")},{default:m(()=>[u(N)&&u(I)===f.value?(e(),v(M,{key:0,"class-name":"relative h-6 w-6",icon:"pause"})):(e(),v(M,{key:1,"class-name":"relative h-6 w-6",icon:"play"}))]),_:1},8,["title"]),d(Ot,{"share-data":y.value,class:"!p-1"},null,8,["share-data"]),t.data&&!u(jt)?(e(),v(ut,{key:0,data:t.data,"class-name":"h-5 w-5",color:"var(--color-theme-8)"},null,8,["data"])):p("",!0),d(B,{title:h.$t("More")},{default:m(()=>[d(M,{"class-name":"relative h-5 w-5",icon:"menuDotsHorizontal"})]),_:1},8,["title"])])],6))}}),oa=ua;g();et();var na={key:0,class:"inline-flex w-full flex-1 flex-col items-start justify-start overflow-clip rounded-2xl bg-surface-2/1"},da={key:0,class:"absolute right-4 inline-flex items-center justify-start top-[9.65px] gap-2.5"},ca=x({__name:"Desktop",setup(t){const a=tt(),{data:r,isError:c}=qt({path:a.fullPath,keepForever:!0});U(()=>{document.dispatchEvent(new Event("sidebar"))}),at(()=>{V(null),st(null)});const i=q(),f=q("");R(H,o=>{l(r.value?.tracks??[],F.value,o,f.value)}),R(F,o=>{l(r.value?.tracks??[],o,H.value,f.value)}),R(f,o=>{l(r.value?.tracks??[],F.value,H.value,o)}),R(r,o=>{$t(o?.name??null)});function l(o,$,k,P){const W=Ct(o??[],$,k,xt);P===""?i.value=W:i.value=W?.filter(O=>O.name?.toLowerCase().includes(P?.toLowerCase?.())||O.artist_track?.some(nt=>nt.name.toLowerCase().includes(P?.toLowerCase?.()))||O.album_track?.[0]?.name.toLowerCase().includes(P?.toLowerCase?.()))??[]}const y=j(()=>[{name:"Home"},{name:"Albums"},{name:"Featured"},{name:"Playlists"},{name:"About"}].filter(o=>(o.name==="Albums"&&r.value?.albums?.length===0&&(o.name=""),o.name==="Playlists"&&r.value?.playlists?.length===0&&(o.name=""),o.name==="Playlists"&&r.value?.featured?.length===0&&(o.name=""),!0))),C=q("list");function h(o){C.value=o}return(o,$)=>(e(),v(u(_t),null,{default:m(()=>[d(u(ft),{fullscreen:!0},{default:m(()=>[u(c)&&!u(r)?(e(),v(Dt,{key:0})):(e(),v(Bt,{key:1,"auto-hide":!0,static:!0},{default:m(()=>[u(r)?.id===u(a).params.id?(e(),n("div",na,[u(r)?(e(),v(oa,{key:0,data:u(r)},null,8,["data"])):p("",!0),d(Qe,{tabs:y.value,class:"min-h-[calc(100vh-175px)] !flex-1"},{extra:m(({activeTab:k})=>[k===y.value[0].name?(e(),n("div",da,[d(B,{"is-active":C.value==="list",title:"List",onClick:$[0]||($[0]=P=>h("list"))},{default:m(()=>[d(M,{"class-name":"relative h-5 w-5",icon:"bulletList"})]),_:1},8,["is-active"]),d(B,{"is-active":C.value==="card",title:"Grid",onClick:$[1]||($[1]=P=>h("card"))},{default:m(()=>[d(M,{"class-name":"relative h-5 w-5",icon:"collection"})]),_:1},8,["is-active"])])):p("",!0)]),default:m(({activeTab:k})=>[d(T,{"is-active":k===y.value[0].name},{default:m(()=>[u(r)?(e(),v(Me,{key:0,"active-tab":k,data:u(r),"display-type":C.value},null,8,["active-tab","data","display-type"])):p("",!0)]),_:2},1032,["is-active"]),d(T,{"is-active":k===y.value[1].name},{default:m(()=>[u(r)?(e(),v(X,{key:0,"active-tab":k,data:u(r),item:"albums"},null,8,["active-tab","data"])):p("",!0)]),_:2},1032,["is-active"]),d(T,{"is-active":k===y.value[2].name},{default:m(()=>[u(r)?(e(),v(X,{key:0,"active-tab":k,data:u(r),item:"featured"},null,8,["active-tab","data"])):p("",!0)]),_:2},1032,["is-active"]),d(T,{"is-active":k===y.value[3].name},{default:m(()=>[u(r)?(e(),v(Ne,{key:0,"active-tab":k,data:u(r)},null,8,["active-tab","data"])):p("",!0)]),_:2},1032,["is-active"]),d(T,{"is-active":k===y.value[4].name},{default:m(()=>[u(r)?(e(),v(Ge,{key:0,"active-tab":k,data:u(r)},null,8,["active-tab","data"])):p("",!0)]),_:2},1032,["is-active"])]),_:1},8,["tabs"])])):p("",!0)]),_:1}))]),_:1})]),_:1}))}}),Pr=ca;export{Pr as default};
