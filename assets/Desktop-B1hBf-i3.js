import{C as p,Ct as i,Dt as x,E as ge,Et as W,J as j,K as t,O as ye,S as r,T as u,U as K,W as ne,X as D,Y as F,c as _,g as $,it as R,j as b,k as v,mt as P,ot as m,w as f,wt as S,x as C,z as he}from"./i18n-Rm1NkeNf.js";import"./ionic-vX7GXDhi.js";import{C as xe,U as I,W as H,_ as _e}from"./vue-core-ChFWZS_w.js";import"./primevue-DkuV93HA.js";import"./query-BPfDyGC_.js";import{t as be}from"./esm-CJ_npMp9.js";import{At as G,Bn as ue,H as te,In as de,It as ae,J as Y,Qn as ke,Rr as U,V as se,Vn as J,Wn as X,Xn as z,Y as T,Yn as B,_r as oe,b as q,br as we,bt as ce,ct as O,ft as $e,g as Q,gi as Ce,hi as je,jn as Te,q as Ae,qi as Pe,ui as Se,w as Le,xa as ve,xr as qe,zn as E}from"./index-Dfm86O85.js";import{t as Re}from"./DropdownMenu-BH2A7eLV.js";import"./useInfiniteServerClient-BKxCqg1l.js";import{t as ze}from"./useServerClient-Br1zrBCB.js";import{t as Be}from"./ScrollContainer-BEcirdOP.js";import"./MusicButton-DOwQUOio.js";import{t as M}from"./BannerButton-X7AerRvE.js";import{t as fe}from"./MediaLikeButton-BKgIwHg8.js";import{t as re}from"./PlayerIcon-DW6ijf_3.js";import{r as Me}from"./swiper-BH8HiUg1.js";import"./MusicCardImage-DSdRSudW.js";import{t as Z}from"./NMMusicCard-C_FbmsNT.js";import{t as Ee}from"./TrackLinks-lEc-P7do.js";import{t as Fe}from"./EqSpinner-Bh8rWJeI.js";import{t as Oe}from"./NotFound-C74lJWpj.js";import{t as De}from"./ShareButton--7q1hvh0.js";import{t as Ie}from"./Carousel-9MICZhkt.js";_();I();var He=["data-track-id"],Ne={class:"flex w-10 justify-center text-center min-w-10"},Ve={key:0,class:"group-focus-visible/track:sm:hidden group-hover/track:sm:hidden"},Ye={class:"flex h-12 items-center gap-2 overflow-hidden w-available sm:gap-4"},We={class:"flex h-full flex-col justify-evenly overflow-clip w-inherit"},Ge={class:"flex h-5 flex-nowrap overflow-clip text-left font-bold line-clamp-1 w-inherit"},Ue=["data-size"],Je={class:"flex whitespace-nowrap"},Xe={class:"flex items-center justify-between gap-2 text-end"},Ke={class:"mr-4 monospace sm:mr-0"},Qe=b({__name:"TrackRow",props:{data:{type:Object,required:!0},index:{type:Number,required:!0},displayList:{type:Array,required:!0},isAlbumRoute:{type:Boolean,default:!1},isFavoritesRoute:{type:Boolean,default:!1}},setup(e){const s=e,a=H();function o(){const c=s.isAlbumRoute?"album":"artist",n=a.params.id;if(!ve.value.features?.nomercyConnect){if(T.value?.id===s.data.id){se.togglePlayback();return}se.playTrack(s.data,s.displayList),ce(`/music/${c}/${n}`);return}G.value?.invoke("StartPlaybackCommand",c,n,s.data.id)}return(c,n)=>{const d=D("RouterLink");return t(),u("button",{"data-track-id":e.data?.id,class:"grid w-full justify-start items-center self-stretch pr-3 sm:px-3 rounded-lg hover:bg-surface-6/8 group/track text-sm font-medium py-2 z-0 group/track home-grid gap-2","data-target":"track",tabindex:"0",onClick:n[0]||(n[0]=g=>o()),onContextmenu:n[1]||(n[1]=g=>i(Le)(g,i(a),e.data))},[r("span",Ne,[i(T)?.id!==e.data.id?(t(),u("span",Ve,x(e.index+1),1)):f("",!0),i(T)?.id===e.data.id?(t(),p(Fe,{key:1,playing:i(O),class:"hidden group-focus-visible/track:sm:!hidden group-hover/track:sm:!hidden",color:"var(--color-theme-8)"},null,8,["playing"])):f("",!0),i(T)?.id===e.data.id&&i(O)?(t(),p(re,{key:2,class:"hidden h-6 w-6 group-focus-visible/track:sm:block group-hover/track:sm:block",icon:"nmPause"})):(t(),p(re,{key:3,class:"hidden h-6 w-6 group-focus-visible/track:sm:block group-hover/track:sm:block",icon:"nmPlay"}))]),r("span",Ye,[e.isAlbumRoute?(t(),p(Q,{key:0,data:e.data,size:100,"class-name":"relative hidden h-12 w-12 overflow-hidden min-w-[3rem] sm:block",loading:"eager"},null,8,["data"])):f("",!0),r("span",We,[r("span",Ge,x(e.data.name),1),e.isFavoritesRoute?(t(),u("span",{key:0,"data-size":i($e),class:"inline-flex h-5 w-fit gap-1 overflow-hidden whitespace-nowrap text-surface-9 line-clamp-1 text-2xs hover:animate-pause"},[e.data?(t(),p(Ee,{key:0,id:e.data.id,data:e.data.artist_track,onclick:g=>g.stopPropagation(),"data-target":"artist",type:"artists"},null,8,["id","data","onclick"])):f("",!0)],8,Ue)):f("",!0)])]),e.data?(t(!0),u($,{key:0},j(e.data.album_track,g=>(t(),u("span",{key:g.id,class:"max-w-sm items-center overflow-clip pr-2 line-clamp-2 h-inherit w-inherit"},[v(d,{onclick:w=>w.stopPropagation(),to:g?.link,class:"flex items-center gap-1 whitespace-nowrap text-xs font-semibold line-clamp-1 hover:underline focus:underline dark:font-medium","data-target":"album",tabindex:"0"},{default:m(()=>[r("span",Je,x(g.name),1)]),_:2},1032,["onclick","to"])]))),128)):f("",!0),r("span",Xe,[(t(),p(fe,{key:e.data.id,data:e.data,onclick:g=>g.stopPropagation(),class:"hidden sm:flex",color:"var(--color-theme-8)"},null,8,["data","onclick"])),r("span",Ke,x(e.data.duration),1)]),v(Re,{direction:"down"},{button:m(()=>[v(M,{class:"mx-3",title:""},{default:m(()=>[v(q,{"class-name":"relative h-5 w-5",icon:"menuDotsVertical"})]),_:1})]),_:1})],40,He)}}}),Ze=Qe;_();I();var et={key:0,class:"flex w-full flex-col items-start justify-start gap-4 self-stretch"},tt={class:"self-stretch text-xl font-bold leading-loose"},at={class:"flex flex-col items-start justify-start gap-1 self-stretch"},st={class:"z-10 grid items-center justify-start gap-4 self-stretch py-2 pr-3 text-sm font-medium home-grid sm:px-3"},rt={class:"shrink grow basis-0 text-sm leading-tight text-surface-12/11"},lt={class:"shrink grow basis-0 text-sm leading-tight text-surface-12/11"},it={class:"shrink grow basis-0 text-right text-sm leading-tight text-surface-12/11"},nt=b({__name:"TrackCard",props:{data:{type:Array,required:!0},title:{type:String,required:!0}},setup(e){const s=e,a=H(),o=C(()=>a.path.startsWith("/music/album")),c=C(()=>a.path.startsWith("/music/playlists")),n=P(),d=P(0);function g(){if(!n.value||!E.value)return;const h=n.value.getBoundingClientRect(),l=E.value.getBoundingClientRect();d.value=h.top-l.top+E.value.scrollTop}R(()=>s.data,()=>{he(g)});const w=be(C(()=>({count:s.data?.length??0,getScrollElement:()=>E.value??null,estimateSize:()=>64,overscan:10,scrollMargin:d.value})));return(h,l)=>e.data&&e.data?.length>0?(t(),u("div",et,[r("div",tt,x(h.$t(e.title)),1),r("div",at,[r("div",st,[l[0]||(l[0]=r("div",{class:"w-10 text-center text-sm leading-tight text-surface-12/11"}," # ",-1)),r("div",rt,x(h.$t("Title")),1),r("div",lt,x(h.$t("Album")),1),r("div",it,x(h.$t("Duration")),1)])]),r("div",{ref_key:"virtualContainerRef",ref:n,style:W({height:`${i(w).getTotalSize()}px`,width:"100%",position:"relative"})},[(t(!0),u($,null,j(i(w).getVirtualItems(),y=>(t(),u("div",{key:e.data[y.index]?.id+e.data[y.index]?.favorite,style:W({position:"absolute",top:0,left:0,width:"100%",height:`${y.size}px`,transform:`translateY(${y.start-d.value}px)`})},[v(Ze,{data:e.data[y.index],"display-list":e.data,index:y.index,"is-album-route":o.value,"is-favorites-route":c.value},null,8,["data","display-list","index","is-album-route","is-favorites-route"])],4))),128))],4)])):f("",!0)}}),le=nt;_();var ut={key:0,class:"contents"},dt=b({__name:"Tab",props:{isActive:{type:Boolean,default:!1}},setup(e){return(s,a)=>e.isActive?(t(),u("div",ut,[F(s.$slots,"default")])):f("",!0)}}),A=dt;_();var ot={class:"flex w-full flex-col items-start justify-start gap-4"},ct={key:0,class:"absolute grid inset-0 bg-black/40 w-full items-center justify-center flex-col opacity-0 group-hover/cover:opacity-100 transition-all duration-100"},vt={class:"p-4 font-semibold text-theme-8 text-lg"},ft={class:"w-full whitespace-pre-line font-semibold leading-normal"},mt=b({__name:"ProfileCard",props:{data:{type:Object,required:!0}},setup(e){const s=e;K(()=>{s.data?.color_palette&&J(s.data?.color_palette?.cover)}),ne(()=>{J(null),ue(null)});function a(){const o=new CustomEvent("showModal",{detail:{modalName:"createPlaylist",modalTitle:"Edit {{name}}",modalTitleArgs:{name:s.data?.name},modalProps:s.data}});document.dispatchEvent(o)}return(o,c)=>(t(),u("div",ot,[r("div",{class:"flex flex-col items-start justify-start self-stretch overflow-clip rounded-lg relative group/cover",onClick:a},[v(Q,{data:e.data,size:500,class:"aspect-square h-auto w-full"},null,8,["data"]),e.data?.type!=="track"?(t(),u("div",ct,[r("span",vt,x(o.$t("Change cover")),1)])):f("",!0)]),r("div",ft,x(e.data.disambiguation||e.data.description?i(Se)(e.data.description??e.data.disambiguation,200):""),1)]))}}),pt=mt;_();var gt={class:"inline-flex w-auto flex-wrap items-start justify-start gap-2"},yt={class:"flex items-center justify-start gap-2 px-2"},ht=b({__name:"GenresCard",props:{data:{type:Object,required:!0}},setup(e){return(s,a)=>{const o=D("RouterLink");return t(),u("div",gt,[(t(!0),u($,null,j(e.data.genres,c=>(t(),p(o,{key:c.id,to:c?.link,class:"flex items-center justify-start rounded-2xl py-1 px-1.5 bg-focus/10"},{default:m(()=>[r("div",yt,[r("div",{class:S([`${i(we)(i(oe)(i(de)),100)?"text-black/12":"text-white/12"}`,"text-center text-sm font-medium leading-tight"])},x(s.$t(c.name)),3)])]),_:2},1032,["to"]))),128))])}}}),me=ht;_();var xt={key:0,class:"flex w-full flex-col items-start justify-start gap-4"},_t={class:"text-xl font-bold leading-loose text-surface-11"},bt={class:"grid grid-cols-2 gap-4"},kt={class:"flex h-16 w-16 items-center justify-center rounded px-px py-px"},wt={class:"flex items-center justify-start gap-2.5"},$t={class:"text-sm font-semibold text-surface-8 text-balance line-clamp-2"},Ct=b({__name:"FeaturedCard",props:{data:{type:Object,required:!0}},setup(e){const s=e,a=C(()=>{const o={};return s.data?.tracks?.forEach(c=>{c.artist_track?.forEach(n=>{n.id===s.data.id||!n.cover||(o[n.id]={id:n.id,name:n.name,cover:n.cover})})}),Object.values(o)});return(o,c)=>{const n=D("RouterLink");return a.value.length>0?(t(),u("div",xt,[r("div",_t,x(o.$t("Featured Artists")),1),r("div",bt,[(t(!0),u($,null,j(a.value,d=>(t(),p(n,{key:d.id,to:d.link,class:"inline-flex items-center justify-start gap-4 underline-offset-4 hover:underline"},{default:m(()=>[r("div",kt,[v(Q,{data:d,size:60,class:"h-14 w-14 rounded-lg"},null,8,["data"])]),r("div",wt,[r("div",$t,x(d.name),1)])]),_:2},1032,["to"]))),128))])])):f("",!0)}}}),jt=Ct;_();var Tt={class:"flex flex-row items-start justify-start gap-8 overflow-clip w-available"},At={class:"inline-flex flex-col items-start justify-start gap-8 w-[clamp(200px,25%,500px)]"},Pt=b({__name:"TabFrame",props:{data:{type:Object,required:!0},activeTab:{type:String,required:!0}},setup(e){return(s,a)=>(t(),u("div",Tt,[r("div",At,[v(pt,{data:e.data},null,8,["data"]),e.activeTab!=="About"?(t(),p(me,{key:0,data:e.data,class:"max-w-md"},null,8,["data"])):f("",!0),e.activeTab!=="About"?(t(),p(jt,{key:1,data:e.data},null,8,["data"])):f("",!0)]),r("div",{class:S(["z-0 flex h-min w-0 flex-1 flex-col gap-x-2 gap-y-8 overflow-clip",e.activeTab==="About"?"ml-8 w-[60%]":""])},[F(s.$slots,"default")],2)]))}}),N=Pt;_();var St={class:"flex flex-1 basis-0 items-start justify-start gap-8 self-stretch p-8 pb-0"},Lt=b({__name:"Home",props:{data:{type:Object,required:!0},displayType:{type:String,default:"list"},activeTab:{type:String,required:!0}},setup(e){const s=[{name:"list"},{name:"card"}];return(a,o)=>(t(),u("div",St,[v(N,{"active-tab":e.activeTab,data:e.data},{default:m(()=>[v(A,{"is-active":e.displayType===s[0].name},{default:m(()=>[v(le,{data:e.data.favorite_tracks??[],title:"Your most played"},null,8,["data"]),v(le,{data:e.data.tracks??[],title:"All songs"},null,8,["data"])]),_:1},8,["is-active"]),v(A,{"is-active":e.displayType===s[1].name},null,8,["is-active"])]),_:1},8,["active-tab","data"])]))}}),qt=Lt;_();var Rt={class:"flex flex-1 basis-0 items-start justify-start gap-8 self-stretch p-8 pb-0"},zt=b({__name:"Albums",props:{data:{type:Object,required:!0},item:{type:String,required:!0},activeTab:{type:String,required:!0}},setup(e){return(s,a)=>(t(),u("div",Rt,[v(N,{"active-tab":e.activeTab,data:e.data},{default:m(()=>[r("div",{class:S([{"pb-4 sm:pb-4":!i(T)},"z-0 w-full h-available h-fit grid gap-4 music-showing:pb-0 grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-5 3xl:grid-cols-7 4xl:grid-cols-7 5xl:grid-cols-[repeat(8,minmax(0,1fr))] tv:grid-cols-6 scroll-smooth items-start"]),style:{opacity:"1"}},[Array.isArray(e.data?.[e.item])?(t(!0),u($,{key:0},j(e.data[e.item],o=>(t(),u($,{key:o?.id},[o?(t(),p(Z,{key:0,data:o},null,8,["data"])):f("",!0)],64))),128)):f("",!0)],2)]),_:1},8,["active-tab","data"])]))}}),ie=zt;_();var Bt={class:"flex flex-1 basis-0 items-start justify-start gap-8 self-stretch p-8 pb-0"},Mt=b({__name:"Playlists",props:{data:{type:Object,required:!0},activeTab:{type:String,required:!0}},setup(e){return(s,a)=>(t(),u("div",Bt,[v(N,{"active-tab":e.activeTab,data:e.data},{default:m(()=>[r("div",{class:S([{"pb-4 sm:pb-4":i(T)},"z-0 w-available h-available w-full h-fit grid gap-4 pl-4 pr-4 pt-4 pb-4 music-showing:pb-0 grid-cols-2 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-7 3xl:grid-cols-9 4xl:grid-cols-9 5xl:grid-cols-[repeat(14,minmax(0,1fr))] tv:grid-cols-6 scroll-smooth"]),style:{opacity:"1"}},[Array.isArray(e.data.playlists)?(t(!0),u($,{key:0},j(e.data.playlists,o=>(t(),p(Z,{key:o.id,data:o},null,8,["data"]))),128)):f("",!0)],2)]),_:1},8,["active-tab","data"])]))}}),Et=Mt;_();var Ft=b({__name:"MusicCarousel",props:{data:{type:Object,required:!0},index:{type:Number,required:!1,default:0},limitCardCountBy:{type:Number,required:!1}},setup(e){function s(a){setTimeout(()=>{a.color_palette},50)}return(a,o)=>{const c=D("RouterLink");return e.data.items?.length>0?(t(),p(Ie,{key:0,"disable-auto-aspect":!0,index:e.index,"limit-card-count-by":e.limitCardCountBy,title:e.data.title},ge({default:m(()=>[(t(!0),u($,null,j(e.data.items,(n,d)=>(t(),p(i(Me),{key:n?.id,"virtual-index":d,class:"flex py-1"},{default:m(()=>[n?.id?(t(),p(Z,{key:0,id:`item-${n?.name}-${n?.id}`,data:n,onclick:()=>s(n),class:""},null,8,["id","data","onclick"])):f("",!0)]),_:2},1032,["virtual-index"]))),128))]),_:2},[e.data.moreLink?{name:"link",fn:m(()=>[v(c,{to:e.data.moreLink,class:"mr-auto ml-4 font-medium underline underline-offset-4"},{default:m(()=>[...o[0]||(o[0]=[ye(" see more ",-1)])]),_:1},8,["to"])]),key:"0"}:void 0]),1032,["index","limit-card-count-by","title"])):f("",!0)}}}),Ot=Ft;_();var Dt={key:0,class:"flex flex-1 basis-0 items-start justify-start self-stretch overflow-clip px-8 py-8 w-available"},It={class:"flex flex-col gap-2 overflow-clip w-available max-w-[75ch]"},Ht=["innerHTML"],Nt={class:"max-w-available"},Vt=b({__name:"About",props:{data:{type:Object,required:!0},activeTab:{type:String,required:!0}},setup(e){const s=e,a=C(()=>{const c={};return s.data?.tracks?.forEach(n=>{n.artist_track?.forEach(d=>{d.id===s.data.id||!d.cover||(c[d.id]=d)})}),Object.values(c)}),o=C(()=>[{title:"Featuring artists",moreLink:"",children:a.value}]);return(c,n)=>e.activeTab?(t(),u("div",Dt,[v(N,{data:e.data,"active-tab":e.activeTab},{default:m(()=>[r("div",It,[(t(!0),u($,null,j((e.data.description??"")?.split(`
`)??[],d=>(t(),u("div",{key:d,class:"flex flex-col gap-1"},[(t(!0),u($,null,j(d.split(`
`),g=>(t(),u("span",{key:g,class:"bionic-text font-semibold !text-base",innerHTML:g},null,8,Ht))),128))]))),128))]),v(me,{data:e.data},null,8,["data"]),r("div",Nt,[(t(!0),u($,null,j(o.value??[],d=>(t(),p(Ot,{key:d.title,data:d,class:"-mx-3","limit-card-count-by":2},null,8,["data"]))),128))])]),_:1},8,["data","active-tab"])])):f("",!0)}}),Yt=Vt;_();var Wt={class:"z-0 flex shrink grow basis-0 flex-col items-start justify-start self-stretch"},Gt={class:"sticky -top-1 z-10 h-14 w-full border-b border-surface-12/6 bg-surface-1"},Ut={class:"absolute left-4 inline-flex flex-col items-start justify-start gap-2 top-[15px]"},Jt={class:"inline-flex items-start justify-start gap-4"},Xt=["onClick"],Kt=b({__name:"Tabs",props:{tabs:{type:Array,required:!0}},setup(e){const s=e,a=P(s.tabs[0].name);function o(c){a.value=s.tabs[c].name}return(c,n)=>(t(),u("div",Wt,[r("div",Gt,[r("nav",Ut,[r("ul",Jt,[(t(!0),u($,null,j(e.tabs,(d,g)=>(t(),u("button",{key:d.name,class:S(`px-1 pb-4 ${a.value===d.name?"border-b-2":""} empty:hidden transition-transform duration-100 border-focus justify-center items-center gap-2 flex cursor-pointer`),onClick:w=>o(g)},[d?.name?(t(),u("div",{key:0,class:S(`${a.value===d.name?"text-focus":""} text-base font-semibold leading-normal`)},x(c.$t(d.name)),3)):f("",!0)],10,Xt))),128))])]),F(c.$slots,"extra",{activeTab:a.value})]),F(c.$slots,"default",{activeTab:a.value,class:"z-0"})]))}}),Qt=Kt;_();I();var Zt={class:"flex flex-shrink-0 flex-grow-0 items-end justify-start gap-4 w-[710px]"},ea={class:"relative flex flex-grow flex-col items-start justify-start gap-4"},ta={class:"flex-shrink-0 flex-grow-0 self-stretch text-5xl font-bold w-[710px]"},aa={class:"relative flex flex-shrink-0 flex-grow-0 items-center justify-start gap-2.5"},sa={key:0,class:"flex-shrink-0 flex-grow-0 text-sm"},ra={class:"flex-shrink-0 flex-grow-0 text-sm"},la={class:"flex-shrink-0 flex-grow-0 text-sm"},ia={class:"flex flex-shrink-0 flex-grow-0 items-center justify-start gap-2"},na=b({__name:"Header",props:{data:{type:Object,required:!0}},setup(e){const s=e,a=H(),o=P("");K(()=>{o.value=ke(s.data)});const c=C(()=>{let h=s.data?.images?.toSorted((l,y)=>y.voteCount-l.voteCount)?.find(l=>l.type==="banner");if(h||(h=s.data?.images?.toSorted((l,y)=>y.voteCount-l.voteCount)?.find(l=>l.type==="background")),!!h)return`${Pe.value?.serverBaseUrl}${h?.src}`}),n=C(()=>`/music/${s.data?.type?.replace(/s$/u,"")}/${s.data?.id}`);function d(){if(!s.data?.tracks)return;if(!ve.value.features?.nomercyConnect){if(Y.value===n.value){te.togglePlayback();return}const y=U(s.data.tracks,z.value,B.value,X);te.playTrack(y.at(0),y),ce(n.value);return}Ae.value||G.value?.invoke("ChangeDeviceCommand",ae.value).then(()=>{console.log("Switched to device:",ae.value)}).catch(y=>{console.error("Error switching device:",y)});const h=U(s.data.tracks,z.value,B.value,X),l=h.some(y=>y.id===T.value?.id)?T.value?.id:h.at(0)?.id;G.value?.invoke("StartPlaybackCommand",s.data.type.replace(/s$/u,""),s.data.id,l)}const g=C(()=>({title:s.data?.name??"",url:`https://app.nomercy.tv${a.fullPath}`})),w=C(()=>qe(oe(de.value),150));return(h,l)=>(t(),u("div",{class:S([{"h-[425px]":c.value,"h-[200px]":!c.value,"text-black/12":w.value,"text-white/12":!w.value},"relative -mx-2 flex flex-shrink-0 flex-grow-0 items-end justify-between self-stretch overflow-hidden bg-cover bg-start bg-no-repeat object-cover p-9 w-available !h-[306px]"]),style:W(c.value?`background-image: url('${c.value}')`:"background-image: linear-gradient(180deg, var(--color-theme-8) 0%, var(--color-theme-8) 100%)")},[l[2]||(l[2]=r("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-black via-black/60"},null,-1)),r("div",Zt,[r("div",ea,[r("p",ta,x(e.data.name),1),r("div",aa,[e.data.playlists?.length?(t(),u("p",sa,[r("span",null,x(i(Ce)("Appears in {0} Playlists",e.data.playlists?.length??0)),1),l[0]||(l[0]=r("svg",{class:"flex-shrink-0 flex-grow-0",fill:"none",height:"4",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 3 4",width:"3",xmlns:"http://www.w3.org/2000/svg"},[r("circle",{cx:"1.5",cy:"2",fill:"#9BA1A6",r:"1.5"})],-1))])):f("",!0),r("p",ra,x(e.data.tracks?.length)+" "+x(e.data.tracks?.length===1?h.$t("song"):h.$t("songs")),1),l[1]||(l[1]=r("svg",{class:"flex-shrink-0 flex-grow-0",fill:"none",height:"4",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 3 4",width:"3",xmlns:"http://www.w3.org/2000/svg"},[r("circle",{cx:"1.5",cy:"2",fill:"#9BA1A6",r:"1.5"})],-1)),r("p",la,x(o.value),1)])])]),r("div",ia,[v(M,{onclick:d,title:i(O)&&i(Y)===n.value?h.$t("Pause"):h.$t("Play")},{default:m(()=>[i(O)&&i(Y)===n.value?(t(),p(q,{key:0,"class-name":"relative h-6 w-6",icon:"pause"})):(t(),p(q,{key:1,"class-name":"relative h-6 w-6",icon:"play"}))]),_:1},8,["title"]),v(De,{"share-data":g.value,class:"!p-1"},null,8,["share-data"]),e.data&&!i(Te)?(t(),p(fe,{key:0,data:e.data,"class-name":"h-5 w-5",color:"var(--color-theme-8)"},null,8,["data"])):f("",!0),v(M,{title:h.$t("More")},{default:m(()=>[v(q,{"class-name":"relative h-5 w-5",icon:"menuDotsHorizontal"})]),_:1},8,["title"])])],6))}}),ua=na;_();I();var da={key:0,class:"inline-flex w-full flex-1 flex-col items-start justify-start overflow-clip rounded-2xl bg-surface-2/1"},oa={key:0,class:"absolute right-4 inline-flex items-center justify-start top-[9.65px] gap-2.5"},ca=b({__name:"Desktop",setup(e){const s=H(),{data:a,isError:o}=ze({path:s.fullPath,keepForever:!0});K(()=>{document.dispatchEvent(new Event("sidebar"))}),ne(()=>{J(null),ue(null)});const c=P(),n=P("");R(B,l=>{d(a.value?.tracks??[],z.value,l,n.value)}),R(z,l=>{d(a.value?.tracks??[],l,B.value,n.value)}),R(n,l=>{d(a.value?.tracks??[],z.value,B.value,l)}),R(a,l=>{je(l?.name??null)});function d(l,y,k,L){const ee=U(l??[],y,k,X);L===""?c.value=ee:c.value=ee?.filter(V=>V.name?.toLowerCase().includes(L?.toLowerCase?.())||V.artist_track?.some(pe=>pe.name.toLowerCase().includes(L?.toLowerCase?.()))||V.album_track?.[0]?.name.toLowerCase().includes(L?.toLowerCase?.()))??[]}const g=C(()=>[{name:"Home"},{name:"Albums"},{name:"Featured"},{name:"Playlists"},{name:"About"}].filter(l=>(l.name==="Albums"&&a.value?.albums?.length===0&&(l.name=""),l.name==="Playlists"&&a.value?.playlists?.length===0&&(l.name=""),l.name==="Playlists"&&a.value?.featured?.length===0&&(l.name=""),!0))),w=P("list");function h(l){w.value=l}return(l,y)=>(t(),p(i(xe),null,{default:m(()=>[v(i(_e),{fullscreen:!0},{default:m(()=>[i(o)&&!i(a)?(t(),p(Oe,{key:0})):(t(),p(Be,{key:1,"auto-hide":!0,static:!0},{default:m(()=>[i(a)?.id===i(s).params.id?(t(),u("div",da,[i(a)?(t(),p(ua,{key:0,data:i(a)},null,8,["data"])):f("",!0),v(Qt,{tabs:g.value,class:"min-h-[calc(100vh-175px)] !flex-1"},{extra:m(({activeTab:k})=>[k===g.value[0].name?(t(),u("div",oa,[v(M,{"is-active":w.value==="list",title:"List",onClick:y[0]||(y[0]=L=>h("list"))},{default:m(()=>[v(q,{"class-name":"relative h-5 w-5",icon:"bulletList"})]),_:1},8,["is-active"]),v(M,{"is-active":w.value==="card",title:"Grid",onClick:y[1]||(y[1]=L=>h("card"))},{default:m(()=>[v(q,{"class-name":"relative h-5 w-5",icon:"collection"})]),_:1},8,["is-active"])])):f("",!0)]),default:m(({activeTab:k})=>[v(A,{"is-active":k===g.value[0].name},{default:m(()=>[i(a)?(t(),p(qt,{key:0,"active-tab":k,data:i(a),"display-type":w.value},null,8,["active-tab","data","display-type"])):f("",!0)]),_:2},1032,["is-active"]),v(A,{"is-active":k===g.value[1].name},{default:m(()=>[i(a)?(t(),p(ie,{key:0,"active-tab":k,data:i(a),item:"albums"},null,8,["active-tab","data"])):f("",!0)]),_:2},1032,["is-active"]),v(A,{"is-active":k===g.value[2].name},{default:m(()=>[i(a)?(t(),p(ie,{key:0,"active-tab":k,data:i(a),item:"featured"},null,8,["active-tab","data"])):f("",!0)]),_:2},1032,["is-active"]),v(A,{"is-active":k===g.value[3].name},{default:m(()=>[i(a)?(t(),p(Et,{key:0,"active-tab":k,data:i(a)},null,8,["active-tab","data"])):f("",!0)]),_:2},1032,["is-active"]),v(A,{"is-active":k===g.value[4].name},{default:m(()=>[i(a)?(t(),p(Yt,{key:0,"active-tab":k,data:i(a)},null,8,["active-tab","data"])):f("",!0)]),_:2},1032,["is-active"])]),_:1},8,["tabs"])])):f("",!0)]),_:1}))]),_:1})]),_:1}))}}),Ba=ca;export{Ba as default};
