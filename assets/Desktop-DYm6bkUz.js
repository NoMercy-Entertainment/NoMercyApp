import{Bt as N,Gt as h,I as R,Ln as t,M as T,Mt as $,Rn as z,Rt as y,Tt as E,Vt as L,an as M,cn as o,i as V,kn as v,on as D,qt as F,u as P,un as j,xn as g,yn as _,zt as p}from"./index-BVMfOxho.js";import"./dist-vlkWK_nZ.js";import"./esm-DY8g5_-d.js";import"./esm-BkTpNeyF.js";import"./dist-CH0b9ib9.js";import"./focus-visible-bSSZdOZP.js";import"./index5-CWJdeeO8.js";import"./client-CTmm1pIY.js";import"./ionic-global-oucWixmt.js";import"./hardware-back-button-DEko41f-.js";import"./index3-BiTNNMaN.js";import"./helpers-B612kBZQ.js";import"./index6-D7h1Gg6a.js";import"./index8-Dt0xOjwC.js";import"./keyboard-BHL796m8.js";import"./index2-D1kFYiB0.js";import"./ios.transition--OH3Fy46.js";import"./keyboard2-BoLAeL-2.js";import"./md.transition-BznYYDQ-.js";import"./dir-1LliqD9e.js";import"./basecomponent-D893k91J.js";import"./classnames-C7QsyfAI.js";import"./button-DrEO03-q.js";import"./baseicon-C2_EXBmf.js";import"./times-waW0j6QK.js";import{a as O,l as q,m as u,o as x,p as d}from"./ui-FAE7KUbU.js";import"./client-BaHBQSTJ.js";import{v as A,x as G}from"./currentServer-wKQllb71.js";import"./config-BZ-AEJ_J.js";import"./core-DZundPdS.js";import"./esm-Bc84JaZh.js";import{p as C}from"./global-DPeGmG9M.js";import"./esm-BRDlnhr9.js";import"./bundle-mjs-DqJ8Zzkh.js";import"./user-CWo_OqEw.js";import"./serverClient-DP8QK8AC.js";import"./router-CwEKSEy2.js";import"./utils-CgFfn36P.js";import"./useBaseQuery-DoGC_b9i.js";import"./useInfiniteServerClient-B_ACTkxi.js";import{g as b}from"./SocketClient-Ci81BRq-.js";import"./useQueryClient-B99C1vuk.js";import"./useQuery-AxjyXFw9.js";import"./apiClient-BJYxfNk7.js";import"./notifications-CMaZS40X.js";import"./utils-B0jNLXCr.js";import"./deviceInfo-DuLvxTKJ.js";import"./auth-B7LO68e-.js";import"./musicPlaylists-CXV9ecla.js";import"./esm-DfIlvn3K.js";import"./contextMenuItems-CLPDYgB_.js";import"./_plugin-vue_export-helper-pDp7unP0.js";import"./AppLogoSquare-DNGtmCzk.js";import"./MoooomIcon-x_D_dAky.js";import"./DropdownMenu-ARSIhILX.js";import"./dist-CyJoSfg1.js";import"./fileupload-CaQfK8Tn.js";import{t as U}from"./useServerClient-BJP3z55h.js";import{t as J}from"./ScrollContainer-aMg5G8IN.js";import"./Button-gEqDWnkH.js";import"./CoverImage-C5HI0SiN.js";import"./MusicButton-C0Fj9x4p.js";import"./BannerButton-D5TGoJ_5.js";import"./MediaLikeButton-DuG0N7Ye.js";import"./PlayerIcon-cUGdv3wT.js";import"./Marquee-CJwVusPd.js";import"./Modal-BAtA_bet.js";import"./BigPlayButton-CMm8W9mE.js";import"./EqSpinner-BdHSSO3j.js";import{t as K}from"./NotFound-C-yCUvh5.js";import"./ShareButton-C5WN2xOb.js";import"./ClickUploadModal-C_y54pVM.js";import{i as Q,n as W,r as X,t as Y}from"./TrackRow-BP12ATWt.js";E();T();var Z={class:"relative z-0 flex h-auto flex-shrink-0 flex-grow flex-col items-start justify-start self-stretch"},tt=F({__name:"Desktop",setup(et){const f=R(),{data:e,isError:B}=U({path:f.fullPath,data:{version:"lolomo"}}),S=v(null),c=v(),a=v("");_(e,r=>{r&&(A(r?.name??null),n(r?.tracks??[],u.value,d.value,a.value),x(r?.color_palette?.cover))}),_(d,r=>{n(e.value?.tracks??[],u.value,r,a.value)}),_(u,r=>{n(e.value?.tracks??[],r,d.value,a.value)}),_(a,r=>{n(e.value?.tracks??[],u.value,d.value,r)});function n(r,l,i,m){const w=G(r??[],l,i,q);m===""?c.value=w:c.value=w?.filter(k=>k.name?.toLowerCase().includes(m?.toLowerCase?.())||k.artist_track?.some(I=>I.name.toLowerCase().includes(m?.toLowerCase?.()))||k.album_track?.[0]?.name.toLowerCase().includes(m?.toLowerCase?.()))??[]}M(()=>{e?.value?.tracks&&n(e?.value?.tracks??[],u.value,d.value,a.value),e.value?.color_palette?.cover&&x(e.value?.color_palette?.cover)}),D(()=>{document.getElementById("navbar")&&(document.getElementById("navbar").style.display="flex"),x(null),O(null)});const s=v();function H(){window.CSS.supports("container-type","scroll-state")||(Math.ceil(s.value?.$el?.getBoundingClientRect()?.top??500)<=67?(s.value?.$el?.classList.add("!bg-focus"),s.value?.$el?.firstChild?.classList.add("!bg-black/50")):(s.value?.$el?.classList.remove("!bg-focus"),s.value?.$el?.firstChild?.classList.remove("!bg-black/50")))}return(r,l)=>(o(),p(t(P),null,{default:g(()=>[h(t(V),{fullscreen:!0,class:"flex"},{default:g(()=>[t(B)&&!t(e)?(o(),p(K,{key:0})):(o(),p(J,{key:1,"auto-hide":!0,static:!0,onScroll:H},{default:g(()=>[!t(f).params.id||t(f).params.id&&t(e)?.id===t(f).params.id?(o(),L("div",{key:0,ref_key:"main",ref:S,class:"flex flex-col w-available h-available sm:rounded-2xl"},[h(X,{data:t(e)},null,8,["data"]),y("div",Z,[l[1]||(l[1]=y("div",{class:"pointer-events-none absolute z-0 h-96 w-full bg-spotifyBottom"},null,-1)),(o(),p(Q,{key:t(e)?.id,data:t(e),filter:a.value,onFilterChange:l[0]||(l[0]=i=>a.value=i)},null,8,["data","filter"])),y("div",{class:z([{"pb-24":t(C)&&!t(b),"pb-40":t(C)&&t(b),"pb-4 sm:pb-4":!t(C)&&t(b)},"flex flex-1 flex-shrink-0 flex-col items-start justify-start self-stretch bg-surface-3 flex-grow-1 gap-0.5 sm:p-4"])},[(o(),p(W,{key:t(e)?.id,ref_key:"sortHeader",ref:s})),(o(!0),L($,null,j(c.value,(i,m)=>(o(),p(Y,{key:i.id+i?.favorite,data:i,"display-list":c.value,index:m},null,8,["data","display-list","index"]))),128))],2)])],512)):N("",!0)]),_:1}))]),_:1})]),_:1}))}}),Ce=tt;export{Ce as default};
