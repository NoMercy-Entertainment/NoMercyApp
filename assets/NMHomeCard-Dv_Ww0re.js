import{$ as M,At as n,C as p,Et as f,K as B,S as o,T as i,U as j,Y as l,_t as W,c as F,j as T,k as a,kt as k,lt as s,w as m,x as d}from"./i18n-DXLa9EKW.js";import"./ionic-B9XaRwPa.js";import"./vue-core-DBpBuPMK.js";import"./primevue-wrrgrfJj.js";import{Gn as z,Ki as H,Kn as w,Sr as x,Wn as L,ai as S,b as c,ha as D,n as b,nr as N,si as A}from"./index-CLM6Y7vI.js";import"./MusicButton-E8_BNXYz.js";import{t as g}from"./BannerButton-BP0Yr5ty.js";import{t as E}from"./MediaLikeButton-CTr1VNS5.js";import{t as I}from"./CardShadow-DeEWxEAC.js";F();var P={key:0,class:"flex gap-4"},K={key:0,class:"absolute top-3 grid h-0 w-max origin-bottom group-hover/play:grid-cols-1 items-center gap-1 rounded-md duration-200 bg-surface-1 grid-cols-[0fr] group-hover/play:h-[32.77px] left-[-31px] group-hover/play:top-[-38px] overflow-clip"},V={class:"text-xs font-bold px-2.5 py-0.5"},R={key:1,class:"flex w-full gap-4"},U={class:"text-center font-medium"},q={class:"text-center font-medium"},G=T({__name:"HomeCardActions",props:{link:{},data:{},endTime:{},hasWatched:{type:Boolean},isMobile:{type:Boolean},onToggleWatched:{type:Function},onFocus:{type:Function}},setup(t){const r=t,h=d(()=>r.isMobile?"playCircle":"playbackSpeed");return d(()=>r.isMobile?"add":"infoCircle"),(e,v)=>{const u=M("RouterLink");return e.isMobile?(l(),i("div",R,[a(u,{"aria-label":e.$t("Watch"),to:`${e.link}/watch`,class:"flex h-10 flex-1 items-center justify-center gap-1 whitespace-nowrap rounded-lg px-4 text-black bg-white",onFocus:e.onFocus},{default:s(()=>[a(c,{"class-name":"w-5",icon:"playCircle"}),o("span",U,n(e.$t("Watch")),1)]),_:1},8,["aria-label","to","onFocus"]),a(u,{"aria-label":e.$t("Details"),to:e.link,class:"flex h-10 flex-1 items-center justify-center gap-1 whitespace-nowrap rounded-lg px-4 text-white bg-black",onFocus:e.onFocus},{default:s(()=>[a(c,{"class-name":"w-5",icon:"infoCircle"}),o("span",q,n(e.$t("Details")),1)]),_:1},8,["aria-label","to","onFocus"])])):(l(),i("div",P,[a(g,{href:`${e.link}/watch`,class:"group/play relative",title:"Play",onFocus:e.onFocus},{default:s(()=>[a(c,{class:"w-7",icon:h.value},null,8,["icon"]),e.endTime?(l(),i("div",K,[o("p",V,n(e.$t("Ends at"))+" "+n(e.endTime),1)])):m("",!0)]),_:1},8,["href","onFocus"]),a(g,{onclick:e.onToggleWatched,title:"Toggle seen",onFocus:e.onFocus},{default:s(()=>[a(c,{stroke:e.hasWatched?"var(--color-green-600)":"currentColor",class:"w-7",icon:"check"},null,8,["stroke"])]),_:1},8,["onclick","onFocus"]),e.data?(l(),p(E,{key:0,data:e.data,type:"video",onFocus:e.onFocus},null,8,["data","onFocus"])):m("",!0),a(g,{href:e.link,title:"Info",onFocus:e.onFocus},{default:s(()=>[a(c,{class:"w-7",icon:"infoCircle"})]),_:1},8,["href","onFocus"])]))}}}),C=G;F();var O={key:0,class:"card scheme-dark relative m-4 pb-0 mb-0 flex flex-col justify-end gap-4 rounded-md bg-black/50 p-4 min-h-[65vh] overflow-clip text-surface-12 before:content-[''] before:pointer-events-none before:absolute before:inset-0 before:z-0 before:mt-auto before:h-4/5 before:bg-gradient-to-t before:from-black before:via-black/60 before:bottom-0","data-scroll":"",style:{contain:"layout style paint"}},Y={class:"z-10 flex flex-col gap-4 p-4"},J={class:"flex items-end justify-between gap-4 w-full"},Q=["innerHTML"],X={class:"max-w-4xl text-lg font-medium line-clamp-4 leading-8 mt-4 z-10"},Z={key:1,class:"flex w-full px-[18px] pt-4 pb-0",style:{contain:"layout style paint"}},ee={class:"relative z-10 flex flex-col items-center gap-4 p-6"},te={class:"w-full text-center text-2xl font-bold"},ae=T({__name:"NMHomeCard",props:{data:{type:Object,required:!1}},setup(t){const r=t,h=W(!1),e=d(()=>r.data?.duration&&new Date(new Date().getTime()+r.data?.duration*60*1e3).toLocaleTimeString(D.language,{hour:"2-digit",minute:"2-digit"})),v=d(()=>x(r.data?.color_palette?.poster).replace(/,/gu," ")??"var(--color-primary)"),u=d(()=>x(r.data?.color_palette?.backdrop)?.replace(/,/gu," ")??"var(--color-primary)");function _(){}B(()=>{r.data?.color_palette&&w(r.data?.color_palette?.backdrop)}),j(()=>{w(null),z(null)});function $(){L.value?.scrollTo({top:0,behavior:"smooth"})}return(oe,y)=>f(H)?(l(),i("article",Z,[o("div",{style:k([`--color-theme-8: ${v.value};`,{"box-shadow":"0 8px 24px 0 rgba(0, 0, 0, 0.08)"}]),class:"frosting relative flex h-auto w-full flex-col justify-end overflow-hidden rounded-xl bg-cover bg-center aspect-poster bg-focus max-h-[75vh]"},[t.data?(l(),p(b,{key:0,"color-palette":t.data?.color_palette?.poster,path:t.data?.poster,title:t.data?.title,width:null,class:"children:!w-available flex overflow-clip border-2 border-focus rounded-xl z-0 absolute inset-0","class-name":"relative flex h-auto aspect-poster !w-available min-h-full items-end justify-start gap-4 overflow-clip transition-opacity duration-700 bg-surface-50 max-h-available",loading:"eager"},null,8,["color-palette","path","title"])):m("",!0),a(I,{"class-name":"top-auto bottom-0 w-full",colored:""}),o("div",ee,[o("h1",te,n(f(S)(t.data?.title??"")),1),a(C,{data:t.data,"is-mobile":!0,link:t.data?.link??"",class:"w-full"},null,8,["data","link"])])],4)])):(l(),i("article",O,[t.data?(l(),p(b,{key:0,"color-palette":t.data?.color_palette?.backdrop,path:t.data?.backdrop,style:k(`--color-theme-8: ${u.value};`),title:t.data?.title,width:null,aspect:"backdrop",class:"!absolute !inset-0 children:!w-available flex overflow-clip border-2 border-focus rounded-md items-start justify-start","class-name":"relative flex w-available items-end justify-start gap-4 self-stretch overflow-clip transition-opacity duration-700 bg-surface-1",loading:"eager",priority:"high"},null,8,["color-palette","path","style","title"])):m("",!0),o("header",Y,[y[0]||(y[0]=o("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-black via-black/60 bottom-0"},null,-1)),o("div",J,[t.data?.logo?(l(),p(b,{key:0,"color-palette":t.data?.color_palette?.backdrop,left:!0,path:t.data?.logo,title:t.data?.title,width:500,class:"h-screen max-h-40 max-w-md ml-0 mr-4 translate-y-[5%]","class-name":"px-4 py-4",loading:"eager",type:"logo"},null,8,["color-palette","path","title"])):(l(),i("p",{key:1,class:"h-screen max-h-40 flex-grow content-end text-5xl font-bold z-10",innerHTML:f(A)(t.data?.title||f(N)||"","text-3xl line-clamp-2")},null,8,Q)),a(C,{data:t.data,"end-time":e.value,"has-watched":h.value,link:t.data?.link??"","on-focus":$,"on-toggle-watched":_},null,8,["data","end-time","has-watched","link"])]),o("p",X,n(t.data?.overview),1)])]))}}),pe=ae;export{pe as default};
