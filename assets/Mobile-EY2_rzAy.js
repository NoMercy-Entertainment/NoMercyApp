import{At as f,C as m,Et as v,K as d,S as r,T as n,Y as l,Z as _,c as h,g as w,j as S,k as y}from"./i18n-DBb78QAI.js";import"./ionic-DNKsarlx.js";import"./vue-core-C9HAaO_1.js";import{c as k}from"./query-Dwz_k4KB.js";import{$i as o,F as x,Gn as b,H as g,I as C,Li as B,Ln as i,Mt as L,Wn as M,Zi as u,Zn as j,bn as E,k as e,xn as I,yn as P}from"./index-A9ZXfM_l.js";import{t as Z}from"./ripperSocket-BF5Gj0oB.js";import{t as F}from"./screensaver-CYB_zAni.js";import{t as H}from"./EmptyBackdrop-DBJkud75.js";import{t as N}from"./ServerCard-MDFf2Oz5.js";h();var Q={class:"flex h-full w-full flex-auto flex-col items-center justify-center gap-8"},T={class:"flex w-full flex-grow flex-col justify-between p-2 min-h-auto"},V={class:"mt-16 mb-4 w-full whitespace-pre-line"},$={class:"relative text-center text-lg font-semibold"},q={class:"tv:children:w-[30%] tv:mt-0 -mt-24 tv:-ml-8 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4"},A=S({__name:"Mobile",setup(D){const c=k();async function p(a){o(a);try{const{data:t}=await u(5).get("setup/server-info");if(!t.data?.setup_complete){i.value="/setup/post-install",await e.replace({name:"Post Install"});return}}catch{await e.replace({name:"Server offline"});return}await u().get("libraries").then(({data:t})=>{B(t.data),j.value=!0,E.value=!0,setTimeout(async()=>{i.value==="/setup/select-servers"?await e.replace({name:"Home"}):await e.replace(i.value)},50)}).catch(async()=>{await e.replace({name:"Server offline"})})}return d(()=>{o(null),b(null),M(null),x(),C(),P(),F(),c.removeQueries(),g.value?.stop(),L.value?.stop(),Z.value?.stop()}),(a,t)=>(l(),n("div",Q,[y(H),r("div",T,[r("div",V,[r("h5",$,f(a.$t("Choose a server")),1)]),r("div",q,[(l(!0),n(w,null,_(v(I),s=>(l(),m(N,{key:s.id,server:s,onclick:()=>p(s)},null,8,["server","onclick"]))),128))])])]))}}),X=A;export{X as default};
