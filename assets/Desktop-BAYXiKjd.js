import{Bt as T,E as V,Gt as L,I as H,Ln as t,M as N,Mt as R,Rn as $,Rt as y,T as z,Tt as D,Vt as h,cn as o,i as F,kn as v,qt as M,u as P,un as j,xn as g,yn as _,zt as p}from"./index-C8wrpkyN.js";import"./dist-DT2yuChF.js";import"./esm-DnlYWABm.js";import"./esm-CdHIRdo_.js";import"./dist-DtOedwIT.js";import"./focus-visible-C1DWu8Oz.js";import"./index5-C9RIJ-sZ.js";import"./client-DAXuPTec.js";import"./ionic-global-QXgPMqNd.js";import"./hardware-back-button-9ZINzT5a.js";import"./index3-BubtwhWu.js";import"./helpers-D5mJiZ9q.js";import"./index6-Cj1ScfU-.js";import"./index8-DaGgXvc2.js";import"./keyboard-COERgV0V.js";import"./index2-BuY1gQTr.js";import"./ios.transition-BUwO3_AE.js";import"./keyboard2-CSWHSxpI.js";import"./md.transition-Dd2SUgMb.js";import"./dir-CJiJYBc7.js";import"./basecomponent-CKGbzbTY.js";import"./classnames-C7QsyfAI.js";import"./button-BynHS9zl.js";import"./baseicon-BULsv_7E.js";import"./times-C8aYiEVK.js";import{a as O,l as W,m as u,o as x,p as d}from"./ui-BWVnjNNY.js";import"./client-BmAhQ-69.js";import{v as q,x as A}from"./currentServer-B_KQACAB.js";import"./config-BZ-AEJ_J.js";import"./core-BLZUGO-K.js";import"./esm-BiKSXF-U.js";import{p as C}from"./global-WVsx5src.js";import"./esm-B8xVkXPy.js";import"./bundle-mjs-DzMTChaT.js";import"./user-CXzDmTwG.js";import"./serverClient-K02oLPZR.js";import"./router-I2PvuKTp.js";import"./utils-CYCtUrjH.js";import"./useBaseQuery-B6wsCOmB.js";import"./useInfiniteServerClient-D5CFD8Z7.js";import{g as b}from"./SocketClient-CeGi9Yeo.js";import"./useQueryClient-mZLXzkAX.js";import"./useQuery-BBjfmHCe.js";import"./apiClient-CnOywAmP.js";import"./notifications-DAOHq0v-.js";import"./utils-T6SCnbWu.js";import"./deviceInfo-DQllL7m1.js";import"./auth-D3TfzZqc.js";import"./musicPlaylists-CeYpVUjG.js";import"./esm-7i_Wtgyh.js";import"./contextMenuItems-BAxEuer3.js";import"./_plugin-vue_export-helper-pDp7unP0.js";import"./AppLogoSquare-B9MCCmvc.js";import"./MoooomIcon-un4l75-N.js";import"./DropdownMenu-CZfoN-P5.js";import"./dist-Dd_BbWhG.js";import"./fileupload-BFNv7rr5.js";import{t as G}from"./useServerClient-Bvu1z2Rs.js";import{t as J}from"./ScrollContainer-Nc0DKhrC.js";import"./Button-C7060WzV.js";import"./CoverImage-CcRvdF9S.js";import"./MusicButton-yLkQD0Gb.js";import"./BannerButton-B2nPYdxM.js";import"./MediaLikeButton-DVyfvAKN.js";import"./PlayerIcon-B_LEyqNM.js";import"./Marquee-WbcysVQu.js";import"./Modal-SWnpBpsA.js";import"./BigPlayButton-l6keFQVr.js";import"./EqSpinner-DO4w_JXh.js";import{t as K}from"./NotFound-C0w2vGjZ.js";import"./ShareButton-CcLOsF80.js";import"./ClickUploadModal-Bofg3J3p.js";import{i as Q,n as U,r as X,t as Y}from"./TrackRow-pTkGj6kt.js";D();N();var Z={class:"relative z-0 flex h-auto flex-shrink-0 flex-grow flex-col items-start justify-start self-stretch"},tt=M({__name:"Desktop",setup(et){const f=H(),{data:e,isError:B}=G({path:f.fullPath}),S=v(null),c=v(),a=v("");_(e,r=>{r&&(q(r?.name??null),n(r?.tracks??[],u.value,d.value,a.value),x(r?.color_palette?.cover))}),_(d,r=>{n(e.value?.tracks??[],u.value,r,a.value)}),_(u,r=>{n(e.value?.tracks??[],r,d.value,a.value)}),_(a,r=>{n(e.value?.tracks??[],u.value,d.value,r)});function n(r,s,i,m){const w=A(r??[],s,i,W);m===""?c.value=w:c.value=w?.filter(k=>k.name?.toLowerCase().includes(m?.toLowerCase?.())||k.artist_track?.some(E=>E.name.toLowerCase().includes(m?.toLowerCase?.()))||k.album_track?.[0]?.name.toLowerCase().includes(m?.toLowerCase?.()))??[]}z(()=>{e?.value?.tracks&&n(e?.value?.tracks??[],u.value,d.value,a.value),e.value?.color_palette?.cover&&x(e.value?.color_palette?.cover)}),V(()=>{document.getElementById("navbar")&&(document.getElementById("navbar").style.display="flex"),x(null),O(null)});const l=v();function I(){window.CSS.supports("container-type","scroll-state")||(Math.ceil(l.value?.$el?.getBoundingClientRect()?.top??500)<=67?(l.value?.$el?.classList.add("!bg-focus"),l.value?.$el?.firstChild?.classList.add("!bg-black/50")):(l.value?.$el?.classList.remove("!bg-focus"),l.value?.$el?.firstChild?.classList.remove("!bg-black/50")))}return(r,s)=>(o(),p(t(P),null,{default:g(()=>[L(t(F),{fullscreen:!0,class:"flex"},{default:g(()=>[t(B)&&!t(e)?(o(),p(K,{key:0})):(o(),p(J,{key:1,"auto-hide":!0,static:!0,onScroll:I},{default:g(()=>[!t(f).params.id||t(f).params.id&&t(e)?.id===t(f).params.id?(o(),h("div",{key:0,ref_key:"main",ref:S,class:"flex flex-col w-available h-available sm:rounded-2xl"},[L(X,{data:t(e)},null,8,["data"]),y("div",Z,[s[1]||(s[1]=y("div",{class:"pointer-events-none absolute z-0 h-96 w-full bg-spotifyBottom"},null,-1)),(o(),p(Q,{key:t(e)?.id,data:t(e),filter:a.value,onFilterChange:s[0]||(s[0]=i=>a.value=i)},null,8,["data","filter"])),y("div",{class:$([{"pb-24":t(C)&&!t(b),"pb-40":t(C)&&t(b),"pb-4 sm:pb-4":!t(C)&&t(b)},"flex flex-1 flex-shrink-0 flex-col items-start justify-start self-stretch bg-surface-3 flex-grow-1 gap-0.5 sm:p-4"])},[(o(),p(U,{key:t(e)?.id,ref_key:"sortHeader",ref:l})),(o(!0),h(R,null,j(c.value,(i,m)=>(o(),p(Y,{key:i.id+i?.favorite,data:i,"display-list":c.value,index:m},null,8,["data","display-list","index"]))),128))],2)])],512)):T("",!0)]),_:1}))]),_:1})]),_:1}))}}),Ce=tt;export{Ce as default};
