import{Bs as L,Gi as d,Ic as _,Ks as q,Ls as i,Rs as v,Tc as m,Ws as h,_c as g,oc as c,rc as x,uc as b,ws as B,yc as f}from"./index-DO6J_9Tp.js";import{t as w}from"./MoooomIcon-c5XNQtse.js";B();var k={class:"relative w-full"},M={class:"flex flex-col gap-2"},$={for:"languages"},U={class:"flex items-center gap-2"},D=["alt","onerror","src"],I=q({__name:"LanguageSelect",props:{modelValue:{required:!0},name:{type:String,required:!0},id:{type:String,required:!0},multiple:{type:Boolean,required:!1,default:!1},variant:{type:String,required:!1,default:"normal"},languages:{type:Array,required:!1}},emits:["update:modelValue"],setup(p,{emit:S}){const n=p,y=S,s=m(n.modelValue),u=m(""),r=m([]),t=m(n.languages??[]);return g(n,e=>{e.languages&&(t.value=e.languages)}),g(s,e=>{e&&y("update:modelValue",e)}),g(t,e=>{e&&(n.multiple?r.value=e:r.value=u.value===""?e.filter(a=>d.includes(a.iso_639_1))??[]:e.filter(a=>d.includes(a.iso_639_1))?.filter(a=>a.english_name.toLowerCase().includes(u.value.toLowerCase()))??[])}),x(()=>{t.value&&(n.multiple?r.value=t.value:r.value=u.value===""?t.value.filter(e=>d.includes(e.iso_639_1))??[]:t.value.filter(e=>d.includes(e.iso_639_1))?.filter(e=>e.english_name.toLowerCase().includes(u.value.toLowerCase()))??[])}),(e,a)=>{const V=b("MultiSelect"),C=b("Select");return c(),L("div",k,[i("div",M,[i("label",$,_(e.$t(p.name)),1),p.multiple?(c(),v(V,{key:0,id:"languages",modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=l=>s.value=l),options:t.value.toSorted((l,o)=>l.english_name.localeCompare(o.english_name)),class:"w-full",display:"chip",filter:"","option-label":"english_name",placeholder:"Select Languages",onChange:a[1]||(a[1]=l=>e.$emit("update:modelValue",l.target?.value))},{option:f(l=>[i("div",U,[i("img",{alt:l.option.english_name,onerror:o=>{o.target.onerror=null,o.target.src="https://pub-a68768bb5b1045f296df9ea56bd53a7f.r2.dev/flags/xxx.svg"},src:`https://pub-a68768bb5b1045f296df9ea56bd53a7f.r2.dev/flags/${l.option?.iso_639_1?.toUpperCase()}.svg`,style:{width:"18px"}},null,8,D),i("div",null,_(l.option.english_name),1)])]),dropdownicon:f(()=>[h(w,{"class-name":"w-5 h-5 ui-open:rotate-180 transition-transform duration-200",icon:"chevronDown"})]),filtericon:f(()=>[h(w,{"class-name":"w-5 h-5",icon:"globe"})]),_:1},8,["modelValue","options"])):(c(),v(C,{key:1,id:"languages",modelValue:s.value,"onUpdate:modelValue":a[2]||(a[2]=l=>s.value=l),options:r.value.toSorted((l,o)=>l.english_name.localeCompare(o.english_name)),class:"w-full",filter:"","option-label":"english_name",placeholder:"Select Language",onChange:a[3]||(a[3]=l=>e.$emit("update:modelValue",l.target?.value))},null,8,["modelValue","options"]))])])}}}),A=I;export{A as t};
