import{al as g,aO as q,aU as K,ab as f,U as m,w as p,R as Q}from"./vue-ionic-Cv2or74p.js";import{z as t,bd as M,c as b,a as h,r as w}from"./index-TGTKA4w-.js";const o=a=>{var i;const e=f(),s=[];return(i=a??(e==null?void 0:e.path))==null||i.split("/").slice(1).forEach(r=>{r.includes("?")?(s.push(r.split("?")[0]),s.push(r.split("?")[1].split("=")[1])):s.push(r)}),s},E=({queryKey:a,path:e}={queryKey:void 0,path:void 0})=>g({mutationKey:a??o(e)}),C=m();p(C,async a=>{a&&(await t.invalidateQueries(),t.getMutationCache().clear())});p(b,async a=>{a||M(),t.getQueriesData({type:"all"}).forEach(e=>{t.invalidateQueries({queryKey:e}),t.removeQueries({queryKey:e}),t.getMutationCache().clear(),t.clear()}),await t.invalidateQueries(),t.removeQueries(),t.getMutationCache().clear(),t.clear()});const F=({queryKey:a,path:e}={queryKey:void 0,path:void 0})=>q({queryKey:a??o(e),queryFn:async()=>h().get(e??w.currentRoute.value.path).then(({data:s})=>s.data)}),O=({queryKey:a,path:e,homeData:s})=>K({mutationKey:a??o(e),mutationFn:async i=>{var c;const r=[...((c=s.value)==null?void 0:c.map(u=>structuredClone(Q(u))))??[]];for(const u of i)await h().post(e??u.update.link,{replace_id:u.update.body.replace_id}).then(v=>{var l,y,d;for(let n=0;n<r.length;n++)r[n].id==((y=(l=u.update)==null?void 0:l.body)==null?void 0:y.replace_id)&&(r[n]=(d=v.data)==null?void 0:d.data[0])});return r}});export{F as a,O as b,E as g,o as q};
