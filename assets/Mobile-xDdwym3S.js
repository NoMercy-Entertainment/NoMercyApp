import{I as qe,Y as Ge,l as m,w as j,B as Ye,R as Je,bg as Qe,a6 as Xe,b1 as He,a8 as Me,cs as Pe,e8 as Ae,a5 as Ue,a7 as Ze,a2 as et,bM as tt,d as s,o,s as S,j as L,K as t,bu as rt,z as at,a as p,b as l,c as ot,bm as st,e9 as lt,t as Ve,d$ as it,cv as nt,d_ as Re,e0 as ct,bh as pt,a3 as We,O as dt}from"./index-DkQngsHe.js";import{u as mt}from"./useServerClient-CmW8VHrx.js";import{_ as Ee,a as Ne}from"./PersonCarousel.vue_vue_type_script_setup_true_lang-BB7XWOfg.js";import{_ as Fe}from"./MediaCarousel.vue_vue_type_script_setup_true_lang-DKJ6gSGT.js";import{_ as ut}from"./ContentRating.vue_vue_type_script_setup_true_lang-BF8dUcVb.js";import{_ as f}from"./InfoItem.vue_vue_type_script_setup_true_lang-tMXRBa6p.js";import{_ as ft,a as gt}from"./SeasonCarousel.vue_vue_type_script_setup_true_lang-B7h96B9b.js";import{_ as kt,a as C}from"./Collapsible.vue_vue_type_script_setup_true_lang-CrK_jlWB.js";import{_ as xt}from"./MobileInfoCard.vue_vue_type_script_setup_true_lang-wPHlAt2c.js";import{_ as ht}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useQuery-jTNaBwZN.js";import"./useBaseQuery-BnGe7Aaf.js";import"./useQueryClient-Cy1MABnp.js";import"./useInfiniteServerClient-BHsBwDbE.js";import"./OptimizedIcon.vue_vue_type_script_setup_true_lang-BBYVQkaB.js";import"./swiper-vue-CvTfcGRK.js";import"./imageModal-Or-EXmDB.js";import"./Carousel-B6mS7hEY.js";import"./swiper-config-BunBYb4m.js";import"./TMDBImage.vue_vue_type_script_setup_true_lang-TirsOY0V.js";import"./AppLogoSquare-BLQmk_bo.js";import"./PersonCard.vue_vue_type_script_setup_true_lang-DgVRNc9a.js";import"./CardIndicator.vue_vue_type_script_setup_true_lang-BiUo6g5N.js";import"./index-Czi9s18M.js";import"./autoSkipPlugin-W08l_S14.js";import"./subtitles-octopus-BvnPWJkB.js";import"./buttons-DnucOQvv.js";import"./desktopUIPlugin-DtYivsLh.js";import"./keyHandlerPlugin-CwaPA8uJ.js";import"./sidebar-CHTrkKN2.js";import"./Select.vue_vue_type_script_setup_true_lang-CX1X_pYi.js";import"./listbox-D_RAdM55.js";import"./CardShadow.vue_vue_type_script_setup_true_lang-CG09qOeh.js";import"./MediaLikeButton-qW9HjHDP.js";import"./MusicButton.vue_vue_type_script_setup_true_lang-BSFDDcuJ.js";import"./index-MemSO8RC.js";import"./index-Be1fzYNM.js";import"./index-CE67H0ZO.js";import"./index-DHTGByx4.js";import"./ShareButton.vue_vue_type_script_setup_true_lang-CswGJJ8e.js";const _t={class:"flex flex-col justify-start items-center self-stretch flex-grow h-auto gap-4 will-change-auto text-slate-lightA-12/70 dark:text-slate-darkA-12/80 z-0",style:{"box-shadow":"0 2px 2px 0 rgba(0, 0, 0, 0.16)"}},wt={class:"flex bg-slate-light-3 dark:bg-slate-dark-1 flex-col justify-start items-start self-stretch flex-grow-0 flex-shrink-0 gap-3 pt-16 pb-5 will-change-auto w-inherit px-6"},yt=["innerHTML"],bt={key:1,class:"flex justify-start items-center self-stretch flex-grow-0 flex-shrink-0 relative gap-2 flex-wrap"},vt={class:"whitespace-nowrap"},Tt={class:"whitespace-nowrap"},$t=qe({__name:"Mobile",setup(St){const I=Ge(),Ke=m(!1),Oe=m(!1),g=m(!1),k=m("loading"),d=m(-1),z=m(null),D=m(null),x=m(),{data:e}=mt({keepForever:!0,path:I==null?void 0:I.fullPath});j(e,r=>{var a,i,n,c;(i=(a=x.value)==null?void 0:a.$el)==null||i.scrollToTop(window.innerHeight),Ke.value=!0,d.value=0,He((r==null?void 0:r.title)??(r==null?void 0:r.name)),r!=null&&r.backdrop&&Me(r==null?void 0:r.backdrop),r!=null&&r.poster&&Pe(r==null?void 0:r.poster),r!=null&&r.logo&&Ae(r==null?void 0:r.logo),(n=r==null?void 0:r.color_palette)!=null&&n.poster&&Ue((c=r==null?void 0:r.color_palette)==null?void 0:c.poster),A(r)});const B=Ye(()=>{var r,a;return`${(r=Je.value)==null?void 0:r.serverBaseUrl}/images/original${((a=e.value)==null?void 0:a.backdrop)??Qe.value}`});Xe(()=>{var r,a,i,n,c,h,_,w,y,b,v,T,$;(a=(r=x.value)==null?void 0:r.$el)==null||a.scrollToTop(window.innerHeight),He((i=e==null?void 0:e.value)==null?void 0:i.name),(n=e==null?void 0:e.value)!=null&&n.backdrop&&Me((c=e==null?void 0:e.value)==null?void 0:c.backdrop),(h=e==null?void 0:e.value)!=null&&h.poster&&Pe((_=e==null?void 0:e.value)==null?void 0:_.poster),(w=e==null?void 0:e.value)!=null&&w.logo&&Ae((y=e==null?void 0:e.value)==null?void 0:y.logo),(v=(b=e==null?void 0:e.value)==null?void 0:b.color_palette)!=null&&v.poster&&Ue(($=(T=e==null?void 0:e.value)==null?void 0:T.color_palette)==null?void 0:$.poster)}),Ze(()=>{var r,a;(a=(r=x.value)==null?void 0:r.$el)==null||a.scrollToTop(window.innerHeight)}),et.afterEach(()=>{setTimeout(()=>{var r,a;(a=(r=x.value)==null?void 0:r.$el)==null||a.scrollToTop(window.innerHeight)},100)});const H=m();j(Oe,r=>{var a,i;r?(i=(a=H.value)==null?void 0:a.$el)==null||i.classList.remove("line-clamp-3"):setTimeout(()=>{var n,c;(c=(n=H.value)==null?void 0:n.$el)==null||c.classList.add("line-clamp-3")},300)});function M(){var a;if(!((a=e==null?void 0:e.value)!=null&&a.videos))return;g.value=!g.value;const r=document.querySelector("#main");r&&(r.style.overflow=g.value?"hidden":"auto")}function P(){var r,a,i;!(e!=null&&e.value)||((a=(r=e==null?void 0:e.value)==null?void 0:r.videos)==null?void 0:a.length)===0||(d.value===((i=e==null?void 0:e.value)==null?void 0:i.videos.length)-1?d.value=0:d.value++)}function A(r){var a,i,n;if(k.value="loading",!r||((a=r.videos)==null?void 0:a.length)===0||!((i=r.videos)!=null&&i[d.value])){k.value=!1;return}z.value=r.duration&&new Date(new Date().getTime()+r.duration*60*1e3).toLocaleTimeString(We.language??"en-US",{hour:"2-digit",minute:"2-digit"}),D.value=setInterval(()=>{z.value=r.duration&&new Date(new Date().getTime()+r.duration*60*1e3).toLocaleTimeString(We.language??"en-US",{hour:"2-digit",minute:"2-digit"})},1e3),dt().head(`trailer/${(n=r.videos[d.value])==null?void 0:n.src}`,{withCredentials:!1}).then(()=>{k.value=!0}).catch(()=>{P(),k.value=!1})}return j(d,(r,a)=>{!r||r===a||A(e==null?void 0:e.value)}),tt(()=>{clearInterval(D.value??void 0)}),(r,a)=>(o(),s(t(pt),null,{default:S(()=>[L(t(rt),{ref_key:"content",ref:x,fullscreen:!0,style:at(`--background-image: ${B.value&&!B.value.includes("null")?`url(${B.value})`:""};`)},{default:S(()=>{var i,n,c,h,_,w,y,b,v,T,$,U,V,R,W,E,N,F,K,O,q,G,Y,J,Q,X,Z,ee,te,re,ae,oe,se,le,ie,ne,ce,pe,de,me,ue,fe,ge,ke,xe,he,_e,we,ye,be,ve,Te,$e,Se,Ce,Ie,Be,je,Le,ze;return[p("div",_t,[a[3]||(a[3]=p("div",{class:"flex justify-start items-end -mx-4 w-available h-[410px] relative gap-2"},[p("div",{class:"absolute flex flex-col justify-start items-end flex-grow w-available -mx-20 h-[410px] bg-cover bg-top",style:{background:`linear-gradient(
                  0deg,
                  rgba(0, 0, 0, 0.5) 0%,
                  rgba(0, 0, 0, 0.5) 100%
                ),
                var(--background-image) lightgray 50% / cover no-repeat`}}),p("div",{class:"absolute flex flex-col justify-start items-end flex-grow w-available -mx-20 h-[410px] bg-cover dark:bg-black/50"})],-1)),p("div",wt,[p("p",{class:"self-stretch flex-grow-0 flex-shrink-0 w-[351px] text-2xl font-bold text-left z-10",innerHTML:t(st)(((i=t(e))==null?void 0:i.title)||t(lt)||"","text-lg line-clamp-2")},null,8,yt),(n=t(e))!=null&&n.overview?(o(),s(kt,{key:0,text:(c=t(e))==null?void 0:c.overview,"max-lines":3},null,8,["text"])):l("",!0),t(e)?(o(),ot("div",bt,[(h=t(e))!=null&&h.year?(o(),s(C,{key:0,title:"",data:(_=t(e))==null?void 0:_.year.toString()},null,8,["data"])):l("",!0),(w=t(e))!=null&&w.content_ratings.length?(o(),s(C,{key:1,title:""},{default:S(()=>{var u;return[L(ut,{size:4,class:"h-full object-scale-down rounded-lg overflow-clip",ratings:(u=t(e))==null?void 0:u.content_ratings},null,8,["ratings"])]}),_:1})):l("",!0),(y=t(e))!=null&&y.have_items?(o(),s(C,{key:2,title:"",data:`${(b=t(e))==null?void 0:b.have_items}/${(v=t(e))==null?void 0:v.number_of_items}`},null,8,["data"])):l("",!0),(T=t(e))!=null&&T.duration?(o(),s(C,{key:3,title:""},{default:S(()=>{var u;return[p("span",vt,Ve(t(it)(t(nt),(u=t(e))==null?void 0:u.duration,!0)),1)]}),_:1})):l("",!0),($=t(e))!=null&&$.voteAverage?(o(),s(C,{key:4,title:""},{default:S(()=>{var u,De;return[p("span",Tt,"⭐ ️"+Ve((De=(u=t(e))==null?void 0:u.voteAverage)==null?void 0:De.toFixed(0))+"/10",1)]}),_:1})):l("",!0)])):(o(),s(t(Re),{key:2,animated:!0,class:"h-6 will-change-auto"})),a[0]||(a[0]=p("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-slate-dark-7/[0.1] dark:bg-slate-dark-11/[0.1]"},null,-1)),(U=t(e))!=null&&U.genres?(o(),s(f,{key:3,data:t(e),title:"Genres","key-name":"genres",prefix:"genres"},null,8,["data"])):(o(),s(t(Re),{key:4,animated:!0,class:"h-12 will-change-auto"})),a[1]||(a[1]=p("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-slate-dark-7/[0.1] dark:bg-slate-dark-11/[0.1]"},null,-1)),(V=t(e))!=null&&V.writer?(o(),s(f,{key:5,data:{writer:[(R=t(e))==null?void 0:R.writer]},title:"Writer","key-name":"writer",prefix:"person"},null,8,["data"])):l("",!0),(W=t(e))!=null&&W.creator?(o(),s(f,{key:6,data:{creator:[(E=t(e))==null?void 0:E.creator]},title:"Creator","key-name":"creator",prefix:"person"},null,8,["data"])):l("",!0),(N=t(e))!=null&&N.director?(o(),s(f,{key:7,data:{director:[(F=t(e))==null?void 0:F.director]},title:"Director","key-name":"director",prefix:"person"},null,8,["data"])):l("",!0),(K=t(e))!=null&&K.creators?(o(),s(f,{key:8,data:t(e),title:"Creators","key-name":"creators",prefix:"person"},null,8,["data"])):l("",!0),(O=t(e))!=null&&O.directors?(o(),s(f,{key:9,data:t(e),title:"Directors","key-name":"directors",prefix:"person"},null,8,["data"])):l("",!0),(q=t(e))!=null&&q.writers?(o(),s(f,{key:10,data:t(e),title:"Writers","key-name":"writers",prefix:"person"},null,8,["data"])):l("",!0),(G=t(e))!=null&&G.keywords?(o(),s(f,{key:11,data:t(e),title:"Keywords","key-name":"keywords"},null,8,["data"])):l("",!0),a[2]||(a[2]=p("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-slate-dark-7/[0.1] dark:bg-slate-dark-11/[0.1]"},null,-1)),(Y=t(e))!=null&&Y.seasons&&((Q=(J=t(e))==null?void 0:J.seasons)==null?void 0:Q.length)>0?(o(),s(ft,{key:12,data:(X=t(e))==null?void 0:X.seasons,type:"backdrop",class:"-mx-6","limit-card-count-by":0},null,8,["data"])):l("",!0),(Z=t(e))!=null&&Z.cast&&((te=(ee=t(e))==null?void 0:ee.cast)==null?void 0:te.length)>0?(o(),s(Ee,{key:13,class:"-mx-6",data:(re=t(e))==null?void 0:re.cast,title:"Cast"},null,8,["data"])):l("",!0),(ae=t(e))!=null&&ae.crew&&((se=(oe=t(e))==null?void 0:oe.crew)==null?void 0:se.length)>0?(o(),s(Ee,{key:14,class:"-mx-6",data:t(ct)((le=t(e))==null?void 0:le.crew,"profile","id"),title:"Crew"},null,8,["data"])):l("",!0),(ie=t(e))!=null&&ie.posters&&((ce=(ne=t(e))==null?void 0:ne.posters)==null?void 0:ce.length)>0?(o(),s(Ne,{key:15,class:"-mx-6",data:(pe=t(e))==null?void 0:pe.posters,title:"Poster",type:"poster"},null,8,["data"])):l("",!0),(de=t(e))!=null&&de.backdrops&&((ue=(me=t(e))==null?void 0:me.backdrops)==null?void 0:ue.length)>0?(o(),s(Ne,{key:16,class:"-mx-6","color-palette":(ge=(fe=t(e))==null?void 0:fe.color_palette)==null?void 0:ge.poster,data:(ke=t(e))==null?void 0:ke.backdrops,title:"Backdrop",type:"backdrop"},null,8,["color-palette","data"])):l("",!0),(xe=t(e))!=null&&xe.recommendations&&((_e=(he=t(e))==null?void 0:he.recommendations)==null?void 0:_e.length)>0?(o(),s(Fe,{key:17,class:"-mx-6","color-palette":(we=t(e))==null?void 0:we.color_palette,data:(ye=t(e))==null?void 0:ye.recommendations,title:"Recommendations",type:"poster"},null,8,["color-palette","data"])):l("",!0),(be=t(e))!=null&&be.similar&&((Te=(ve=t(e))==null?void 0:ve.similar)==null?void 0:Te.length)>0?(o(),s(Fe,{key:18,class:"-mx-6","color-palette":($e=t(e))==null?void 0:$e.color_palette,data:(Se=t(e))==null?void 0:Se.similar,title:"Similar",type:"poster"},null,8,["color-palette","data"])):l("",!0)])]),L(xt,{data:t(e),"toggle-trailer":M,"trailer-state":k.value},null,8,["data","trailer-state"]),(Ce=t(e))!=null&&Ce.videos&&((Be=(Ie=t(e))==null?void 0:Ie.videos)==null?void 0:Be.length)>0&&g.value?(o(),s(gt,{key:d.value,"increment-trailer-index":P,index:d.value,open:g.value,title:((je=t(e))==null?void 0:je.title)??((Le=t(e))==null?void 0:Le.name),toggle:M,videos:(ze=t(e))==null?void 0:ze.videos,class:"inset-0 h-full w-available z-999"},null,8,["index","open","title","videos"])):l("",!0)]}),_:1},8,["style"])]),_:1}))}}),ur=ht($t,[["__scopeId","data-v-0d9fb121"]]);export{ur as default};
