import{g as $,p as D,n as O,ap as C}from"./index-D29s6-I8.js";import{_ as V}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-BMWMPBMW.js";import{$ as w,k as F,c as f,o as n,v as M,a0 as m,p as y,z as b,j as q,x as G,d as k,h as I,b as U,G as X,w as H,b6 as J,f as K,b7 as Q,q as P,a7 as j,F as z,R as u}from"./vue-ionic-D4s4ExYp.js";import{a as E,h as N,b as x,f as R,n as p,j as h,t as B,k as A,l as W}from"./imageModal-DHrF4kx7.js";import{C as L}from"./Carousel-By_U_piY.js";import{_ as Y}from"./TMDBImage.vue_vue_type_script_setup_true_lang-rY4G8dQh.js";import{_ as Z}from"./PersonCard.vue_vue_type_script_setup_true_lang-Cr4FszhL.js";const ee={class:"relative flex flex-shrink-0 flex-grow-0 items-center justify-start gap-2 px-1"},te={class:"flex-shrink-0 flex-grow-0 text-center text-sm font-medium"},de=w({__name:"GenrePill",props:{genre:{type:Object,required:!0}},setup(t){return(a,d)=>{var i,o;const r=F("RouterLink");return n(),f(r,{to:`/genre/${(i=t.genre)==null?void 0:i.id}`,class:M(["relative flex flex-shrink-0 flex-grow-0 items-center justify-start rounded-2xl px-2 py-0.5 hover:!grayscale-0 text-slate-lightA-12 dark:text-slate-darkA-12",m($)((o=t.genre)==null?void 0:o.name).iconBg])},{default:y(()=>{var c,l;return[b(V,{"class-name":"relative w-5 flex-shrink-0 flex-grow-0",icon:m($)((c=t.genre)==null?void 0:c.name).icon},null,8,["icon"]),q("div",ee,[q("p",te,G((l=t.genre)==null?void 0:l.name),1)])]}),_:1},8,["to","class"])}}}),ae=["onfocus"],re=w({__name:"ImageCard",props:{data:{type:Object,required:!0},aspect:{type:String,required:!1,default:"poster"},setData:{type:Function,required:!0},limitCardCountBy:{type:Number,required:!1}},setup(t){var r,i,o;const d=k(((o=D((i=(r=t.data)==null?void 0:r.color_palette)==null?void 0:i.image))==null?void 0:o.replace("rgb(","").replace(")","").replace(/,/gu," "))??"var(--color-primary)");return(c,l)=>{var g,s,v,_;return t.data?(n(),I("button",{key:0,onfocus:m(O),style:X(`--color-focus: ${d.value};`),"data-card":"true",class:"frosting border-0 border-[rgb(var(--color-focus))] flex flex-col h-auto items-center focus-shift focus-outline transition-all duration-200 relative !rounded-lg select-none shadow-[0px_0px_0_1px_rgb(var(--color-focus,var(--color-theme-6))/70%)] w-full z-0 bg-auto-1/8",onClick:l[0]||(l[0]=T=>t.setData(t.data))},[q("span",{class:M(["relative h-auto w-full cursor-pointer overflow-clip rounded-lg",t.aspect==="poster"?" aspect-poster":"aspect-backdrop"])},[b(Y,{"class-name":"inset-0 h-full w-full overflow-clip rounded-lg",class:"!relative",aspect:t.aspect,path:(g=t.data)==null?void 0:g.src,type:"image",title:(s=t.data)==null?void 0:s.name,"color-palette":(_=(v=t.data)==null?void 0:v.color_palette)==null?void 0:_.image,size:t.aspect==="poster"?162:660},null,8,["aspect","path","title","color-palette","size"])],2)],12,ae)):U("",!0)}}}),fe=w({__name:"ImageCarousel",props:{data:{type:Array,required:!0},title:{type:String,required:!0},type:{type:String,required:!1,default:"poster"}},setup(t){const a=t,d=k(!1),r=k();function i(e){x({...e,color_palette:u(e.color_palette)?u(e.color_palette):{image:u(C.value)},aspectRatio:a.type==="poster"?"2/3":"16/9"}),h({type:a.type,index:a.data.indexOf(e)}),W(a.type),R(!0)}function o(){const e=a.data[p.value-1];e&&(h({index:p.value-1,type:B.value.type}),x({...e,color_palette:e.color_palette?u(e.color_palette):{image:u(C.value)},aspectRatio:a.type==="poster"?"2/3":"16/9"}),A(p.value-1))}function c(){const e=a.data[p.value+1];e&&(h({index:p.value+1,type:B.value.type}),x({...e,color_palette:e.color_palette?u(e.color_palette):{image:u(C.value)},aspectRatio:a.type==="poster"?"2/3":"16/9"}),A(p.value+1))}const l=k();function g(){clearInterval(l.value),l.value=setInterval(()=>{a.data[p.value+1]||h({index:0,type:a.type}),c()},15*1e3)}function s(){clearInterval(l.value)}H(E,e=>{e||s()}),J(window,"keyup",e=>{document.activeElement.nodeName!=="TEXTAREA"&&document.activeElement.nodeName!=="INPUT"&&(e.key==="Enter"&&E.value||N.value===a.type&&(e.key==="ArrowLeft"&&(s(),o()),e.key==="ArrowRight"&&(s(),c()),e.key===" "&&(d.value?s():g()),(e.key==="Escape"||e.key==="Backspace")&&(x(null),R(!1),s())))}),K(()=>{r.value=Q({el:document.querySelector("#imageModal"),onStart:()=>void 0,onMove:e=>v(e),onEnd:()=>void 0,gestureName:"swipe"})});function v({velocityX:e}){N.value===a.type&&(e>0?o():c())}function _(){}function T(){}return(e,le)=>(n(),f(L,{title:`${t.title}s`,type:t.type,"disable-auto-aspect":t.type==="poster"},{default:y(()=>[(n(!0),I(z,null,P(t.data,S=>(n(),f(m(j),{key:S.id,class:"flex"},{default:y(()=>[b(re,{data:S,aspect:t.type,"set-data":i},null,8,["data","aspect"])]),_:2},1024))),128))]),_:1},8,["title","type","disable-auto-aspect"]))}}),me=w({__name:"PersonCarousel",props:{data:{type:Array,required:!0},title:{type:String,required:!0},limitCardCountBy:{type:Number,required:!1}},setup(t){return(a,d)=>(n(),f(L,{title:t.title,"limit-card-count-by":t.limitCardCountBy,type:"poster","disable-auto-aspect":!0},{default:y(()=>[(n(!0),I(z,null,P(t.data,r=>(n(),f(m(j),{key:r.id,class:"flex sm:p-1 pl-0"},{default:y(()=>[b(Z,{data:r,class:""},null,8,["data"])]),_:2},1024))),128))]),_:1},8,["title","limit-card-count-by"]))}});export{me as _,fe as a,de as b};
