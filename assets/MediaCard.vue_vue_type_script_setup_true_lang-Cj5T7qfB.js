import{g as P,p as $}from"./index-DA_trMwP.js";import{_ as C}from"./TMDBImage.vue_vue_type_script_setup_true_lang-BpYhTEZZ.js";import{_ as q}from"./CardIndicator.vue_vue_type_script_setup_true_lang-B7s6776B.js";import{Y as A,C as d,j as S,c as L,b as V,o as n,H as F,t as _,l as R,i as o,y as c,h as u,v as B,F as D}from"./vue-ionic-Cv2or74p.js";const E={class:"w-full h-full overflow-clip rounded-lg inset-0 absolute"},H={key:0,class:"absolute inset-0 h-full w-full"},M={class:"absolute bottom-0 left-0 h-full max-h-24 w-full max-w-[66%]"},O={key:1,class:"absolute inset-0 h-full w-full"},U={class:"absolute bottom-4 left-4 w-full max-w-[66%]"},Y={class:"z-10 w-auto text-2xl font-bold line-clamp-2 leading-[1.2] text-auto-12 empty:hidden dark:font-medium"},G={class:"z-10 w-auto flex-shrink-0 flex-grow-0 self-stretch text-sm font-bold line-clamp-2 leading-[1.2] text-auto-12 empty:hidden dark:font-medium text-wrap"},T=A({__name:"MediaCard",props:{data:{type:Object,required:!0},index:{type:Number,required:!1,default:0},watch:{type:Boolean,required:!1,default:!1},disableAutoAspect:{type:Boolean,required:!1,default:!1}},setup(e){const i=e,N=d(()=>{var a,t,l,r;return`scroll_${(r=(l=(t=(a=i.data)==null?void 0:a.titleSort)==null?void 0:t[0])==null?void 0:l.toUpperCase)==null?void 0:r.call(l)}`}),s=d(()=>P.value&&!i.disableAutoAspect),p=d(()=>{var a;return(a=i.data)==null?void 0:a[s.value?"backdrop":"poster"]}),j=d(()=>{var a,t,l,r;return(t=(a=i.data)==null?void 0:a.color_palette)!=null&&t[s.value?"backdrop":"poster"]?$((r=(l=i.data)==null?void 0:l.color_palette)==null?void 0:r[s.value?"backdrop":"poster"]).replace(/,/gu," ").replace(")","").replace("rgb(",""):""});return(a,t)=>{var r,f;const l=S("RouterLink");return(r=e.data)!=null&&r.link?(n(),L(l,{key:0,"data-scroll":N.value,to:(f=e.data)==null?void 0:f.link,class:_(["group/card flex flex-col h-full items-center focus-outline relative rounded-lg select-none shadow-[0px_0px_0_1px_rgb(var(--color-focus,var(--color-theme-6))/70%)] w-full z-0 bg-auto-50/70 flex-grow-0",s.value?"aspect-backdrop":"aspect-poster"]),style:F(`--color-focus: ${j.value};`)},{default:R(()=>{var m,b,v,g,h,x,k,y,w,z;return[o("div",E,[t[3]||(t[3]=o("div",{class:"backdropCard-overlay"},null,-1)),c(C,{path:p.value,title:(m=e.data)==null?void 0:m.title,loading:"lazy",size:s.value?330:180,aspect:s.value?"backdrop":"poster",colorPalette:(v=(b=e.data)==null?void 0:b.color_palette)==null?void 0:v[s.value?"backdrop":"poster"],className:"h-full overflow-clip rounded-lg"},null,8,["path","title","size","aspect","colorPalette"]),s.value?(n(),u(D,{key:0},[(g=e.data)!=null&&g.logo?(n(),u("div",H,[t[0]||(t[0]=o("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-auto-1 via-auto-1/80"},null,-1)),o("div",M,[c(C,{path:(h=e.data)==null?void 0:h.logo,title:(x=e.data)==null?void 0:x.title,colorPalette:(y=(k=e.data)==null?void 0:k.color_palette)==null?void 0:y.logo,size:500,loading:"lazy",class:"w-auto object-contain h-available object-[0_0%] max-h-inherit !duration-700 children:!duration-700",className:"mr-auto p-4 !duration-700 children:!duration-700",type:"logo"},null,8,["path","title","colorPalette"])])])):(n(),u("div",O,[t[1]||(t[1]=o("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-auto-1 via-auto-1/80"},null,-1)),o("div",U,[o("p",Y,B((w=e.data)==null?void 0:w.title),1)])]))],64)):(n(),u("div",{key:1,class:_(`flex flex-col justify-start items-start w-full contain-strict will-change-transform h-14 z-0 absolute overflow-clip rounded-b-lg left-0 transition-all duration-200 px-2 py-1 group-hover/card:-bottom-0 text-left ${p.value?"-bottom-20":"bottom-0"}`)},[t[2]||(t[2]=o("div",{class:"absolute inset-0 z-0 opacity-0 group-hover/card:opacity-100 transition-all duration-200 bg-auto-1/60 overflow-clip rounded-b-lg"},null,-1)),o("p",G,B((z=e.data)==null?void 0:z.title),1)],2)),c(q,{data:e.data},null,8,["data"])])]}),_:1},8,["data-scroll","to","class","style"])):V("",!0)}}});export{T as _};
