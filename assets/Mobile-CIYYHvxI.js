import{aw as be,I as t,J as _,az as fe,e as w,a7 as c,aB as N,q as $,o as h,v as u,a as r,a6 as ee,t as f,c as R,bB as O,h as W,dw as U,dy as I,f6 as ae,aM as F,bF as ye,bG as Se}from"./index-DTULoChM.js";import{u as Te}from"./useMounted-6yX7oy7E.js";import{c as l,a as ne,s as we,b as Ce}from"./castSocket-BVKPegAf.js";const Pe={class:"flex flex-col gap-4 items-center justify-center px-4 h-available"},xe={class:"flex gap-4 w-full items-center"},_e={key:0,class:"flex flex-col gap-4 w-full items-center justify-center"},Ne={class:"flex gap-1 items-center"},Ie={key:0},Me=["src","alt"],Ve={class:"flex gap-4 w-full items-center justify-center"},Ae={class:"flex gap-4 w-full items-center"},Be={class:"font-mono"},He={class:"font-mono"},Le={class:"flex gap-4 w-full items-center"},ze={class:"flex flex-col gap-4 w-full items-center justify-center"},je={class:"flex gap-4 w-full items-center justify-center"},Ue=be({__name:"Mobile",setup(Ge){const y=t([]),j=t(""),D=t(""),J=t(""),k=t(0),M=t(!1),le=t(!1),G=t(!0),E=t("tv/117933"),v=t({currentTime:0,duration:0,percentage:0,remaining:0,playbackRate:1,currentTimeHuman:"00:00",durationHuman:"00:00",remainingHuman:"00:00"}),Y=t(v.value.currentTime),Z=t(v.value.duration),ie=t(v.value.remaining),Q=t(v.value.currentTimeHuman),oe=t(v.value.durationHuman),X=t(v.value.remainingHuman),q=t(0);_(v,a=>{Y.value=a.currentTime,Z.value=a.duration,ie.value=a.remaining,Q.value=a.currentTimeHuman,oe.value=a.durationHuman,X.value=a.remainingHuman,q.value=a.percentage});const C=t([]),s=t({}),V=t([]),P=t(null),S=t([]),x=t(null);Te(Ce,we),_(ne,a=>{var e,m,g,T,p,i,b,A,B,H,L,z;a&&((e=l.value)==null||e.invoke("GetChromeCasts").then(o=>{y.value=o}),(m=l.value)==null||m.invoke("GetChromeCastStatus").then(o=>{D.value=o}),(g=l.value)==null||g.invoke("GetMediaStatus").then(o=>{J.value=o}),(T=l.value)==null||T.invoke("GetPlayerState","sender"),(p=l.value)==null||p.on("Time",o=>{v.value=o.time}),(i=l.value)==null||i.on("Item",o=>{s.value=o.item}),(b=l.value)==null||b.on("Playlist",o=>{C.value=o.playlist}),(A=l.value)==null||A.on("AudioTracks",o=>{S.value=o.audio}),(B=l.value)==null||B.on("CurrentAudioTrack",o=>{x.value=S.value.find(n=>n.id==o.audio)}),(H=l.value)==null||H.on("SubtitleTracks",o=>{V.value=o.subtitle}),(L=l.value)==null||L.on("CurrentSubtitleTrack",o=>{P.value=o.subtitle}),(z=l.value)==null||z.on("PlayerState",({state:o})=>{console.log(o),v.value=o.time,k.value=o.volume,M.value=o.muted,C.value=o.playlist,G.value=!o.isPlaying,V.value=o.subtitles,P.value=o.currentSubtitleTrack,S.value=o.audioTracks,x.value=o.audioTracks.find(n=>n.id==o.currentAudioTrack),s.value=o.playlist.find(n=>{var d;return(d=n.tracks)==null?void 0:d.some(K=>K.file==o.currentSubtitleTrack.file)})}))}),fe(()=>{var a,e,m,g,T,p,i,b,A,B,H,L,z,o;(a=l.value)==null||a.on("ChromeCastConnected",n=>{y.value.push(n)}),(e=l.value)==null||e.on("ChromeCastDisconnected",n=>{y.value=y.value.filter(d=>d!==n)}),ne.value&&((m=l.value)==null||m.invoke("GetChromeCasts").then(n=>{y.value=n}),(g=l.value)==null||g.invoke("GetChromeCastStatus").then(n=>{D.value=n}),(T=l.value)==null||T.invoke("GetMediaStatus").then(n=>{J.value=n}),(p=l.value)==null||p.invoke("GetPlayerState","sender"),(i=l.value)==null||i.on("Time",n=>{v.value=n.time}),(b=l.value)==null||b.on("Item",n=>{s.value=n.item}),(A=l.value)==null||A.on("Playlist",n=>{C.value=n.playlist}),(B=l.value)==null||B.on("AudioTracks",n=>{S.value=n.audio}),(H=l.value)==null||H.on("CurrentAudioTrack",n=>{x.value=S.value.find(d=>d.id==n.audio)}),(L=l.value)==null||L.on("SubtitleTracks",n=>{V.value=n.subtitle}),(z=l.value)==null||z.on("CurrentSubtitleTrack",n=>{P.value=n.subtitle}),(o=l.value)==null||o.on("PlayerState",({state:n})=>{console.log(n),v.value=n.time,k.value=n.volume,M.value=n.muted,C.value=n.playlist,G.value=!n.isPlaying,V.value=n.subtitles,P.value=n.currentSubtitleTrack,S.value=n.audioTracks,x.value=n.audioTracks.find(d=>d.id==n.currentAudioTrack),s.value=n.playlist.find(d=>{var K;return(K=d.tracks)==null?void 0:K.some(ge=>ge.file==n.currentSubtitleTrack.file)})}))}),_(j,a=>{var e;(e=l.value)==null||e.invoke("SelectChromecast",a)}),_(D,a=>{k.value=a.Volume.Level*100,M.value=a.Volume.Muted,le.value=a.IsStandBy}),_(y,a=>{a.length>0&&(j.value=a[0])}),_(k,a=>{var e;(e=l.value)==null||e.invoke("SetVolume","sender",a)});const te=()=>{var a;(a=l.value)==null||a.invoke("Launch")},ue=a=>{var e;(e=l.value)==null||e.invoke("CastPlaylist",a)},se=()=>{var a,e;M.value?(a=l.value)==null||a.invoke("UnMute"):(e=l.value)==null||e.invoke("Mute")},re=()=>{var a,e;G.value?(a=l.value)==null||a.invoke("Pause","sender"):(e=l.value)==null||e.invoke("Play","sender")},ve=()=>{var a;(a=l.value)==null||a.invoke("Next","sender")},ce=()=>{var a;(a=l.value)==null||a.invoke("Previous","sender")},me=a=>{var e;q.value=a,(e=l.value)==null||e.invoke("Seek","sender",a)},de={off:"Off",und:"Unknown",zxx:"None",contain:"Contain",cover:"Cover",fill:"Fill",aar:"Afar",abk:"Abkhaz",afr:"Afrikaans",aka:"Akan",alb:"Albanian",amh:"Amharic",ara:"Arabic",arg:"Aragonese",arm:"Armenian",asm:"Assamese",ava:"Avaric",ave:"Avestan",aym:"Aymara",aze:"Azerbaijani",bak:"Bashkir",bam:"Bambara",baq:"Basque",bel:"Belarusian",ben:"Bengali",bih:"Bihari",bis:"Bislama",bos:"Bosnian",bra:"Brazilian",bre:"Breton",bul:"Bulgarian",bur:"Burmese",cat:"Catalan",cha:"Chamorro",che:"Chechen",chi:"Chinese",chu:"Old Church Slavonic, Church Slavonic, Old Bulgarian",chv:"Chuvash",cor:"Cornish",cro:"Croatian",cos:"Corsican",cre:"Cree",cze:"Czech",dan:"Danish",div:"Divehi, Dhivehi, Maldivian",dut:"Dutch",dzo:"Dzongkha",eng:"English",epo:"Esperanto",est:"Estonian",ewe:"Ewe",fao:"Faroese",fij:"Fijian",fil:"Filipino",fin:"Finnish",fre:"French",fry:"Western Frisian",ful:"Fulah",geo:"Georgian",ger:"German",gla:"Scottish Gaelic, Gaelic",gle:"Irish",glg:"Galician",glv:"Manx",gre:"Greek",grn:"Guaraní",gsw:"Swiss German",guj:"Gujarati",hat:"Haitian, Haitian Creole",hau:"Hausa",haw:"Hawaiian",heb:"Hebrew",her:"Herero",hin:"Hindi",hmo:"Hiri Motu",hrv:"Croatian",hun:"Hungarian",ibo:"Igbo",ice:"Icelandic",ido:"Ido",iii:"Sichuan Yi",iku:"Inuktitut",ile:"Interlingue",ina:"Interlingua",ind:"Indonesian",ipk:"Inupiaq",ita:"Italian",jav:"Javanese",jpn:"Japanese",kan:"Kannada",kas:"Kashmiri",kau:"Kanuri",kaz:"Kazakh",khm:"Khmer",kik:"Kikuyu",kin:"Kinyarwanda",kir:"Kyrgyz",kom:"Komi",kon:"Kongo",kor:"Korean",kua:"Kwanyama, Kuanyama",kur:"Kurdish",lao:"Lao",lat:"Latin",lav:"Latvian",lim:"Limburgish, Limburgan, Limburger",lin:"Lingala",lit:"Lithuanian",ltz:"Luxembourgish, Letzeburgesch",lub:"Luba-Katanga",lug:"Ganda",mac:"Macedonian",mah:"Marshallese",mal:"Malayalam",mao:"Māori",mar:"Marathi",may:"Malay",mlg:"Malagasy",mlt:"Maltese",mon:"Mongolian",nau:"Nauru",nav:"Navajo, Navaho",nbl:"Southern Ndebele",nde:"Northern Ndebele",ndo:"Ndonga",nep:"Nepali",nno:"Norwegian Nynorsk",nob:"Norwegian Bokmål",nor:"Norwegian",nya:"Chichewa, Chewa, Nyanja",oci:"Occitan",oji:"Ojibwe, Ojibwa",ori:"Oriya",orm:"Oromo",oss:"Ossetian, Ossetic",pan:"Punjabi",per:"Persian",pli:"Pāli",pob:"Brazilian Portuguese",pol:"Polish",por:"Portuguese",pus:"Pashto",que:"Quechua",roh:"Romansh",rum:"Romanian",run:"Kirundi",rus:"Russian",sag:"Sango",san:"Sanskrit (Saṁskṛta)",sin:"Sinhala",slo:"Slovak",slv:"Slovenian",sme:"Northern Sami",smo:"Samoan",sna:"Shona",snd:"Sindhi",som:"Somali",sot:"Southern Sotho",spa:"Spanish",srd:"Sardinian",srp:"Serbian",ssw:"Swati",sun:"Sundanese",swa:"Swahili",swe:"Swedish",tah:"Tahitian",tam:"Tamil",tat:"Tatar",tel:"Telugu",tgk:"Tajik",tgl:"Tagalog",tha:"Thai",tib:"Tibetan",tir:"Tigrinya",ton:"Tonga",tsn:"Tswana",tso:"Tsonga",tuk:"Turkmen",tur:"Turkish",twi:"Twi",uig:"Uyghur, Uighur",ukr:"Ukrainian",urd:"Urdu",uzb:"Uzbek",ven:"Venda",vie:"Vietnamese",vol:"Volapük",wel:"Welsh",wln:"Walloon",wol:"Wolof",xho:"Xhosa",yid:"Yiddish",yor:"Yoruba",zha:"Zhuang, Chuang",zul:"Zulu"},he=a=>{var e;(e=l.value)==null||e.invoke("SetSubtitleTrack","sender",a)},ke=a=>{var e;(e=l.value)==null||e.invoke("SetAudioTrack","sender",a)},pe=a=>{var e;(e=l.value)==null||e.invoke("SetPlaylistItem","sender",a)};return(a,e)=>{const m=$("Select"),g=$("Button"),T=$("InputText"),p=$("FloatLabel");return h(),w(N(Se),null,{default:c(()=>[u(N(ye),{fullscreen:!0},{default:c(()=>[r("div",Pe,[u(m,{modelValue:j.value,"onUpdate:modelValue":e[0]||(e[0]=i=>j.value=i),options:y.value,optionLabel:"",class:"w-full"},null,8,["modelValue","options"]),r("div",xe,[u(g,{onClick:te,id:"launch"},{default:c(()=>[ee(f(a.$t("Launch")),1)]),_:1}),u(T,{modelValue:E.value,"onUpdate:modelValue":e[1]||(e[1]=i=>E.value=i),class:"w-full"},null,8,["modelValue"]),u(g,{onClick:e[2]||(e[2]=i=>ue(E.value)),id:"cast"},{default:c(()=>[ee(f(a.$t("Cast")),1)]),_:1})]),s.value?(h(),R("div",_e,[r("div",Ne,[r("span",null,f(s.value.show),1),s.value.season&&s.value.episode?(h(),R("span",Ie," - S"+f(N(O)(s.value.season,2))+"E"+f(N(O)(s.value.episode,2))+" - ",1)):W("",!0),r("span",null,f(s.value.title),1)]),s.value.image?(h(),R("img",{key:0,src:s.value.image,alt:s.value.title,class:"aspect-video w-full h-auto"},null,8,Me)):W("",!0)])):W("",!0),r("div",Ve,[u(U,{label:"Previous",onclick:ce},{default:c(()=>[u(I,{icon:"nmPreviousHalftone",class:"absolute h-7 w-7 inset-1.5"}),u(I,{icon:"nmPrevious",class:"absolute h-7 w-7 opacity-0 group-hover/button:opacity-100 inset-1.5"})]),_:1}),u(U,{label:"Toggle Playback",onclick:re},{default:c(()=>[G.value?(h(),w(I,{key:0,icon:"nmPause",className:"h-9 w-9"})):(h(),w(I,{key:1,icon:"nmPlay",className:"h-9 w-9"}))]),_:1}),u(U,{label:"Next",onclick:ve},{default:c(()=>[u(I,{icon:"nmNextHalftone",class:"absolute h-7 w-7 inset-1.5"}),u(I,{icon:"nmNext",class:"absolute h-7 w-7 opacity-0 group-hover/button:opacity-100 inset-1.5"})]),_:1})]),r("div",Ae,[r("span",Be,f(Q.value),1),u(ae,{percentage:q.value,position:Y.value,min:0,max:Z.value,onInput:e[3]||(e[3]=i=>me(Number(i.target.value)))},null,8,["percentage","position","max"]),r("span",He,f(X.value),1)]),r("div",Le,[u(U,{label:"Mute",onclick:se},{default:c(()=>[M.value?(h(),w(F,{key:0,icon:"volumeMuted",class:"h-6 w-6"})):k.value==0?(h(),w(F,{key:1,icon:"volumeOne",class:"h-6 w-6"})):k.value>50?(h(),w(F,{key:2,icon:"volumeThree",class:"h-6 w-6"})):(h(),w(F,{key:3,icon:"volumeTwo",class:"h-6 w-6"}))]),_:1}),u(ae,{percentage:k.value,position:k.value,onInput:e[4]||(e[4]=i=>k.value=Number(i.target.value)),min:0,step:1,max:100},null,8,["percentage","position"])]),r("div",ze,[r("div",je,[u(p,{variant:"on",class:"w-full"},{default:c(()=>[u(m,{modelValue:P.value,"onUpdate:modelValue":e[5]||(e[5]=i=>P.value=i),options:V.value,id:"subtitleTracks",optionLabel:i=>{var b;return`${i.language?de[i.language]:""} ${(b=i.label)==null?void 0:b.toTitleCase()} ${i.file.endsWith("ass")?" - Styled":""}`},class:"w-full",onChange:e[6]||(e[6]=i=>he(i.value.id))},null,8,["modelValue","options","optionLabel"]),e[11]||(e[11]=r("label",{for:"subtitleTracks"},"Subtitle",-1))]),_:1}),u(p,{variant:"on",class:"w-full"},{default:c(()=>[u(m,{modelValue:x.value,"onUpdate:modelValue":e[7]||(e[7]=i=>x.value=i),options:S.value,id:"audioTracks",optionLabel:i=>`${i.label}`,class:"w-full",onChange:e[8]||(e[8]=i=>ke(i.value.id))},null,8,["modelValue","options","optionLabel"]),e[12]||(e[12]=r("label",{for:"audioTracks"},"Audio",-1))]),_:1})]),u(p,{variant:"on",class:"w-full"},{default:c(()=>[u(m,{modelValue:s.value,"onUpdate:modelValue":e[9]||(e[9]=i=>s.value=i),id:"playlist",options:C.value,optionLabel:i=>`S${N(O)(i.season??0,2)}E${N(O)(i.episode??0,2)} - ${i.title}`,class:"w-full",onChange:e[10]||(e[10]=i=>pe(C.value.indexOf(i.value)))},null,8,["modelValue","options","optionLabel"]),e[13]||(e[13]=r("label",{for:"playlist"},"Playlist Item",-1))]),_:1})])])]),_:1})]),_:1})}}});export{Ue as default};
//# sourceMappingURL=Mobile-CIYYHvxI.js.map
