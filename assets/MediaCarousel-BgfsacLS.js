import{Dn as I,Ht as w,Mn as g,Qn as b,Rn as c,Tn as i,Wn as N,Yt as y,Zn as j,cn as p,en as f,er as T,in as d,kn as _,nn as v,rn as h,tn as s,tr as x,un as q}from"./index-04Sh3wNb.js";import{I as $,a as z,c as B,d as S,o as M}from"./ui-BT6EUdI0.js";import{d as R}from"./client-DMa-uSBE.js";import{t as C}from"./TMDBImage-Dcp6aBnk.js";import{t as P}from"./MoooomIcon-DNWQYuYD.js";import{n as D}from"./swiper-vue-Dzagr7Ak.js";import{t as V}from"./CardIndicator-B772HJka.js";import{t as F}from"./Carousel-DODF1Jwj.js";w();var O={class:"w-full h-full overflow-clip rounded-lg inset-0 absolute"},E={key:0,class:"absolute inset-0 h-full w-full"},H={class:"absolute bottom-0 left-0 h-full max-h-24 w-full max-w-[66%]"},Q={key:1,class:"absolute inset-0 h-full w-full"},U={class:"absolute bottom-4 left-4 w-full max-w-[66%]"},W={class:"z-10 w-auto text-2xl font-bold line-clamp-2 leading-[1.2] empty:hidden dark:font-medium"},Y={class:"z-10 w-auto flex-shrink-0 flex-grow-0 self-stretch text-xs font-semibold line-clamp-2 leading-[1.2] text-slate-900 dark:text-slate-100 empty:hidden dark:font-medium text-wrap"},Z=q({__name:"MediaCard",props:{data:{type:Object,required:!0},index:{type:Number,required:!1,default:0},watch:{type:Boolean,required:!1,default:!1},disableAutoAspect:{type:Boolean,required:!1,default:!1}},setup(e){const r=e,k=f(()=>`scroll_${r.data?.titleSort?.[0]?.toUpperCase?.()}`),a=f(()=>R.value&&!r.disableAutoAspect),u=f(()=>r.data?.[a.value?"backdrop":"poster"]),m=f(()=>r.data?.color_palette?.[a.value?"backdrop":"poster"]?$(r.data?.color_palette?.[a.value?"backdrop":"poster"]):"");function t(l){r.data?.link.includes("watch")||setTimeout(()=>{l?.backdrop&&z(l?.backdrop),l?.poster&&B(l.poster),l.title&&S(l.title),l.color_palette&&M(l.color_palette.poster)},30)}return(l,o)=>{const n=_("RouterLink");return o[0]||(g(-1,!0),(o[0]=e.data?.link?(i(),v(n,{key:0,class:b([a.value?"aspect-backdrop":"aspect-poster","group/card flex flex-col h-full items-center focus-outline relative rounded-lg select-none shadow-[0px_0px_0_1px_rgb(from_var(--color-theme-8,var(--color-theme-6))_r_g_b/70%)] w-full z-0 bg-surface-50/70 flex-grow-0"]),"data-scroll":k.value,onclick:()=>t(e.data),style:T(m.value?`
       --color-theme-8: ${m.value};
    `:""),to:e.data?.link},{default:c(()=>[s("div",O,[o[3]||(o[3]=s("div",{class:"backdropCard-overlay"},null,-1)),p(C,{aspect:a.value?"backdrop":"poster","color-palette":e.data?.color_palette?.[a.value?"backdrop":"poster"],path:u.value,size:a.value?330:180,title:e.data?.title,"class-name":"h-full overflow-clip rounded-lg",loading:"lazy"},null,8,["aspect","color-palette","path","size","title"]),a.value?(i(),d(y,{key:0},[e.data?.logo?(i(),d("div",E,[o[1]||(o[1]=s("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-surface-1 via-surface-1/80"},null,-1)),s("div",H,[p(C,{"color-palette":e.data?.color_palette?.logo,path:e.data?.logo,size:500,title:e.data?.title,class:"w-auto object-contain h-available object-[0_0%] max-h-inherit !duration-700 children:!duration-700","class-name":"mr-auto p-4 !duration-700 children:!duration-700",loading:"lazy",type:"logo"},null,8,["color-palette","path","title"])])])):(i(),d("div",Q,[o[2]||(o[2]=s("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-surface-1 via-surface-1/80"},null,-1)),s("div",U,[s("p",W,x(e.data?.title),1)])]))],64)):(i(),d("div",{key:1,class:b([{"-bottom-20":u.value,"bottom-0":!u.value},"flex flex-col justify-start items-start w-full h-12 z-0 absolute left-0 transition-all duration-200 px-2 py-1 group-hover/card:-bottom-0 text-left"])},[s("div",{class:b([{"opacity-0 group-hover/card:opacity-100":u.value},"absolute inset-0 z-0 transition-all duration-200 bg-surface-1/80"])},null,2),s("p",Y,x(e.data.title),1)],2)),p(V,{data:e.data},null,8,["data"])])]),_:1},8,["class","data-scroll","onclick","style","to"])):h("",!0)).cacheIndex=0,g(1),o[0])}}}),G=Z;w();var J=q({__name:"MediaCarousel",props:{data:{type:Array,required:!0},title:{type:String,required:!0},moreLink:{type:String,required:!1},type:{type:String,required:!1},suffix:{type:String,required:!1,default:""},index:{type:Number,required:!1,default:0},limitCardCountBy:{type:Number,required:!1},disableAutoAspect:{type:Boolean,required:!1,default:!1},menuItems:{type:Array,required:!1,default:()=>[]},onRightClick:{type:Function,required:!1},colorPalette:{type:Object,required:!1}},setup(e){const r=e;function k(t){t?.backdrop&&z(t?.backdrop),t?.poster&&B(t.poster),t.title&&S(t.title),t.color_palette&&M(t.color_palette.poster)}const a=f(()=>R.value&&r.type!=="poster"),u=N();function m(t,l){r.onRightClick&&(r.onRightClick(t,l),u.value.show(t))}return(t,l)=>{const o=_("RouterLink");return i(),v(F,{"disable-auto-aspect":!a.value,index:e.index,"limit-card-count-by":e.limitCardCountBy,title:e.title,type:a.value?"poster":"backdrop",class:""},{link:c(()=>[e.moreLink?(i(),v(o,{key:0,to:e.moreLink,class:"text-base text-slate-9 dark:text-slate-9 flex items-center ml-auto mr-2"},{default:c(()=>[s("span",null,x(t.$t("See more")),1),p(P,{"class-name":"w-6 mt-1",icon:"chevronRight"})]),_:1},8,["to"])):h("",!0)]),default:c(()=>[(i(!0),d(y,null,I(e.data,(n,L)=>(i(),d(y,{key:n?.id},[n?.id?(i(),v(j(D),{key:0,class:"flex"},{default:c(()=>[p(G,{id:`item-${e.title}-${n.id}`,data:n,"disable-auto-aspect":!a.value,index:L,onclick:()=>k(n),type:a.value?"poster":"backdrop",watch:e.suffix==="/watch",class:"",onContextmenu:A=>m(A,n)},null,8,["id","data","disable-auto-aspect","index","onclick","type","watch","onContextmenu"])]),_:2},1024)):h("",!0)],64))),128))]),_:1},8,["disable-auto-aspect","index","limit-card-count-by","title","type"])}}}),se=J;export{se as t};
