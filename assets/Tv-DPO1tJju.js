import{t as y}from"./useQueryClient-YAttX_Mh.js";import{Bn as w,Di as g,Es as b,Fc as i,Fs as e,Hs as s,Is as f,La as d,Mo as k,Mt as S,Na as C,Oo as j,Qn as v,Rs as L,Ss as T,Vn as B,Ws as M,Zi as N,ac as n,fo as I,gc as V,h as E,hr as O,i as u,io as q,jc as t,jo as D,ki as m,ks as F,mr as Q,nc as $,oa as p,rc as z,rr as H,sc as R,vc as c,wc as U,yc as W}from"./index-BLQpgzX8.js";import{t as _}from"./MoooomIcon-dvFgFFTt.js";import"./dist-BxEpkriv.js";import"./md5-Ab_tgx4v.js";import{t as A}from"./NoMercyAvatar-CLn5oL1M.js";import"./HubConnection-klX5ssCm.js";import{t as P}from"./ripperSocket-D1Nd2ST_.js";import"./DeviceIcon-CNrT6Wbu.js";import{t as Z}from"./ServerCard-Camzu1No.js";T();k();var G={class:"flex h-full w-full flex-auto flex-col items-center justify-center gap-8 p-8"},J={class:"flex w-full flex-grow flex-col justify-between p-2 min-h-auto"},K={class:"flex justify-between items-center self-stretch flex-grow-0 flex-shrink-0 w-full relative gap-2.5 mb-2"},X={class:"flex justify-start items-center relative gap-2.5",inert:""},Y={class:"size-12 my-auto"},ee={class:"w-48 text-base font-semibold text-left"},te={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},re={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},se=M({__name:"Tv",setup(ae){const x=y(),l=U();async function h(r){m(r),await g().get("libraries").then(({data:a})=>{N(a.data),Q.value=!0,w.value=!0,setTimeout(async()=>{v.value==="/setup/select-servers"?await u.replace({name:"Home"}):await u.replace(v.value)},50)}).catch(async()=>{await u.replace({name:"Server offline"})})}return $(()=>{m(null),H(),x.removeQueries(),E.value?.stop(),S.value?.stop(),P.value?.stop()}),z(()=>{O()}),j(()=>{setTimeout(()=>{l.value?.querySelector("button")?.focus()},100)}),V(l,r=>{setTimeout(()=>{r?.querySelector("button")?.focus()},100)}),(r,a)=>(n(),f(t(I),null,{default:c(()=>[s(t(q),{fullscreen:!0},{default:c(()=>[e("div",G,[e("div",J,[e("div",K,[e("div",X,[e("div",Y,[s(A,{size:40,user:t(p)},null,8,["user"])]),e("p",ee,i(t(p).name),1)]),W(e("button",{class:"flex justify-center items-center ml-auto relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",tabindex:"0",onClick:a[0]||(a[0]=o=>d.value=!t(d))},[s(_,{class:"",icon:"doorOut"}),e("span",te,i(r.$t("Exit TV mode")),1)],512),[[b,!t(C)]]),s(t(D),{class:"flex justify-center items-center relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",to:"/logout"},{default:c(()=>[s(_,{class:"",icon:"doorOut"}),e("span",re,i(r.$t("Logout")),1)]),_:1})]),e("div",{ref_key:"serverList",ref:l,class:"tv:children:w-[30%] tv:mt-0 -mt-24 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4"},[(n(!0),L(F,null,R(t(B),o=>(n(),f(Z,{key:o.id,onclick:()=>h(o),server:o},null,8,["onclick","server"]))),128))],512)])])]),_:1})]),_:1}))}}),pe=se;export{pe as default};
