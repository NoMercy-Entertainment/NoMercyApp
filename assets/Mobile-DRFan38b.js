import{aG as b,bb as k,bn as C,c_ as w,c$ as x,d0 as M,aN as P,aM as B,aP as I,L as N,ba as q,j as d,o as m,a7 as h,x as D,aI as o,bQ as K,c as L,h as V,F as E,w as F,k as Q,m as R,bP as j}from"./index-DQ0F_mrS.js";const W=b({__name:"Mobile",setup(G){const u=k(),f=C.currentRoute.value.name,y=w({queryKey:["music","home"],path:u.path}),{data:n,refetch:p}=x({queryKey:["music","home"],path:u.path}),{data:l,mutate:_,reset:v}=M({queryKey:["music","home"],homeData:n,path:u.path});return P(()=>{var s,e;if(B(null),I(null),!n.value){p();return}if(u.name!==f)return;const c=((e=(s=n.value)==null?void 0:s.filter)==null?void 0:e.call(s,r=>{var a;return((a=r==null?void 0:r.update)==null?void 0:a.when)=="pageLoad"}))??[];_(c)}),N(q,c=>{c?(p(),v()):(l.value=void 0,n.value=void 0)}),(c,s)=>(m(),d(o(j),null,{default:h(()=>[D(o(K),{fullscreen:!0},{default:h(()=>{var e,r,a,i;return[!o(y)&&((r=(e=o(l))==null?void 0:e.every)!=null&&r.call(e,t=>t.component)||(i=(a=o(n))==null?void 0:a.every)!=null&&i.call(a,t=>t.component))?(m(!0),L(E,{key:0},F(o(l)??o(n),(t,g)=>(m(),d(Q(t.component),R({index:g,key:t.id,ref_for:!0},t.props),null,16,["index"]))),128)):V("",!0)]}),_:1})]),_:1}))}});export{W as default};
