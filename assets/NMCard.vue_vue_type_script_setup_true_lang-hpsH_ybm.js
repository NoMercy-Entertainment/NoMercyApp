import{I as w,C as d,a0 as s,a6 as C,f as z,d as _,b as B,o as r,A,n as c,K as n,s as j,a as l,j as f,c as u,t as m,F as M,aa as q,cr as N,cs as S,a7 as $}from"./index-BlsCkKvU.js";import{s as L,m as P,d as R,a as V}from"./contextMenuItems-BpOVjWCT.js";import{_ as k}from"./TMDBImage.vue_vue_type_script_setup_true_lang-BloXBgAN.js";import{_ as F}from"./CardIndicator.vue_vue_type_script_setup_true_lang-BHSaBP4Q.js";const D={class:"w-full h-full overflow-clip rounded-lg inset-0 absolute"},E={key:0,class:"absolute inset-0 h-full w-full"},I={class:"absolute bottom-0 left-0 h-full max-h-24 w-full max-w-[66%]"},K={key:1,class:"absolute inset-0 h-full w-full"},O={class:"absolute bottom-4 left-4 w-full max-w-[66%]"},T={class:"z-10 w-auto text-xl font-bold line-clamp-2 leading-[1.2] text-neutral-950 dark:text-neutral-100 empty:hidden dark:font-medium"},U={class:"z-10 w-auto flex-shrink-0 flex-grow-0 self-stretch text-xs font-semibold line-clamp-2 leading-[1.2] text-neutral-950 dark:text-neutral-100 empty:hidden dark:font-medium text-wrap"},W=w({__name:"NMCard",props:{data:{type:Object,required:!0},watch:{type:Boolean,required:!1,default:!1},disableAutoAspect:{type:Boolean,required:!1,default:!1},context_menu_items:{type:Array,required:!1,default:()=>[]}},setup(t){const a=t,b=d(()=>`scroll_${a.data.titleSort?.[0]?.toUpperCase?.()}`),p=d(()=>s.value&&!a.disableAutoAspect),i=d(()=>a.data[s.value?"backdrop":"poster"]),v=d(()=>a.data?.color_palette?.[p.value?"backdrop":"poster"]?C(a.data?.color_palette?.[p.value?"backdrop":"poster"]).replace(/,/gu," ").replace(")","").replace("rgb(",""):"");function x(e){a.context_menu_items&&(L(P(a.context_menu_items)),R(a.data),V.value.show(e))}function h(e){a.data?.link.includes("watch")||(e?.backdrop&&q(e?.backdrop),e?.poster&&N(e.poster),e.title&&S(e.title),e.color_palette&&$(e.color_palette.poster))}return(e,o)=>{const g=z("RouterLink");return t.data?.link?(r(),_(g,{key:0,"data-scroll":b.value,"data-card":t.data?.link,onclick:()=>h(t.data),to:t.data.link,"no-ring":"",class:c(["group/card frosting flex flex-col h-full items-center focus-outline relative rounded-lg select-none shadow-[0px_0px_0_1px_rgb(var(--color-focus,var(--color-theme-6))/70%)] w-full z-0 bg-auto-50/70 flex-grow-0",n(s)?"aspect-backdrop":"aspect-poster"]),style:A(`--color-focus: ${v.value};`),onContextmenu:o[0]||(o[0]=y=>x(y))},{default:j(()=>[l("div",D,[o[3]||(o[3]=l("div",{class:"backdropCard-overlay"},null,-1)),f(k,{path:i.value,title:t.data.title,loading:"lazy",size:n(s)?330:180,aspect:n(s)?"backdrop":"poster","color-palette":t.data.color_palette?.[n(s)?"backdrop":"poster"],"class-name":"h-full overflow-clip rounded-lg"},null,8,["path","title","size","aspect","color-palette"]),n(s)?(r(),u(M,{key:0},[t.data.logo?(r(),u("div",E,[o[1]||(o[1]=l("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-neutral-100 via-neutral-100 dark:from-neutral-950 dark:via-neutral-950/60"},null,-1)),l("div",I,[f(k,{path:t.data.logo,title:t.data.title,"color-palette":t.data.color_palette?.logo,size:500,loading:"lazy",class:"w-auto object-contain h-available object-[0_0%] max-h-inherit !duration-700 children:!duration-700","class-name":"mr-auto p-4 !duration-700 children:!duration-700",type:"logo"},null,8,["path","title","color-palette"])])])):(r(),u("div",K,[o[2]||(o[2]=l("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-neutral-100 via-neutral-100 dark:from-neutral-950 dark:via-neutral-950/60"},null,-1)),l("div",O,[l("p",T,m(t.data.title),1)])]))],64)):(r(),u("div",{key:1,class:c(["flex flex-col justify-start items-start w-full h-12 z-0 absolute left-0 transition-all duration-200 px-2 py-1 group-hover/card:-bottom-0 text-left",{"-bottom-20":i.value,"bottom-0":!i.value}])},[l("div",{class:c(["absolute inset-0 z-0 transition-all duration-200 bg-neutral-100/80 dark:bg-neutral-950/80",{"opacity-0 group-hover/card:opacity-100":i.value}])},null,2),l("p",U,m(t.data.title),1)],2)),f(F,{data:t.data},null,8,["data"])])]),_:1},8,["data-scroll","data-card","onclick","to","class","style"])):B("",!0)}}});export{W as _};
