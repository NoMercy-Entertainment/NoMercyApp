import"./useBaseQuery-DhMTNjjH.js";import{n as V}from"./useInfiniteServerClient-BOGzXRLT.js";import"./useQueryClient-BDTWlHnP.js";import{Ba as R,Ea as F,Gi as m,Hs as y,Ja as L,Ks as k,Lr as $,Ns as C,Os as b,Va as q,Ws as g,X as _,Yo as z,cs as o,dn as G,ec as i,gs as K,i as w,js as r,ks as j,ls as E,ms as H,ns as u,os as J,qa as O,sc as t,sr as U,ss as W,un as M,us as l,va as X}from"./index-zK1-WOQT.js";import"./musicPlaylists-C_vb7EZC.js";import"./contextMenuItems-DhNO6yQR.js";import"./_plugin-vue_export-helper-CksOYaUN.js";import"./AppLogoSquare-ClEEG0E7.js";import"./OptimizedIcon-BHUzMN75.js";import"./TMDBImage-BTvZBjXB.js";import"./dist-YiGZl1e5.js";import{t as Y}from"./ScrollContainer-PonBYV96.js";import"./CardIndicator-VBpmWWeN.js";import{t as A}from"./NMCard-DTkjfCg8.js";import{t as Q}from"./NotFound-CMMKlcNX.js";import{t as Z}from"./PersonCard-C_E_weSu.js";import{n as ee,t as te}from"./EmptyCard-DR5VwfRw.js";import"./NoResultImage-CmE2qAus.js";z();R();O();var ae="grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 2xl:grid-cols-4 3xl:grid-cols-5 4xl:grid-cols-5 5xl:grid-cols-9 tv:grid-cols-6",re="grid-cols-2 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-7 3xl:grid-cols-9 4xl:grid-cols-10 5xl:grid-cols-[repeat(14,minmax(0,1fr))] tv:grid-cols-6",se=K({__name:"Desktop",setup(oe){const d=L(),{data:s,fetchNextPage:v,hasNextPage:f,isError:N}=V({queryKey:["libraries",d?.params.id??d.name],limit:20,keepForever:!0});b(()=>{U(),M(null),G(null),document.dispatchEvent(new Event("sidebar")),setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},1e3)}),y(s,a=>{a&&setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},1e3)});const B=J(()=>{const a=s.value?.pages?.[0]?.data?.[0];return a&&$.value&&a.media_type!=="person"&&a.media_type!=="genres"});j(()=>{stop(),M(null)});const P=i(),S=i();b(()=>{S.value=d.params.id??d.name,f.value&&(s?.value?.pages?.length??0)<10&&v(),document.addEventListener("scrollToDiv",a=>{P.value?.scrollTo({top:a.detail.top-100,behavior:"smooth"})})}),q(()=>{document.dispatchEvent(new Event("indexer"))}),y(s,a=>{a&&f.value&&a?.pages?.length<10&&v()});const D=i(),I=i();function c(a,x){D.value=x,I.value.show(a)}return(a,x)=>(r(),o(t(F),null,{default:g(()=>[H(t(X),{fullscreen:!0},{default:g(()=>[t(N)&&!t(s)?.pages?(r(),o(Q,{key:0})):(r(),o(Y,{key:1,id:t(w).currentRoute.value.fullPath,"auto-hide":!0,static:!0},{default:g(()=>[(r(),l("div",{key:t(w).currentRoute.value.params?.id,class:k([{"pb-24":t(m)&&!t(_),"pb-40":t(m)&&t(_),"children:pb-4 sm:children:pb-3":!t(m)&&t(_)},"z-0 flex flex-col gap-4 rounded-3xl border-0 p-4 w-available scrollbar-none border-surface-3 transform-gpu will-change-auto"])},[W("div",{class:k(`grid w-full gap-4 scroll-smooth music-showing:pb-0 whitespace-pre ${B.value?ae:re}`)},[(r(!0),l(u,null,C(t(s)?.pages??[],(h,T)=>(r(),l(u,{key:T},[h.data.length>0?(r(!0),l(u,{key:0},C(h.data??[],(e,p)=>(r(),l(u,null,[e?.media_type==="tv"||e?.media_type==="movie"||e?.media_type==="collection"||e?.media_type==="specials"?(r(),o(A,{key:e.id,data:e,index:p,onContextMenu:n=>c(n,e)},null,8,["data","index","onContextMenu"])):e?.media_type==="person"?(r(),o(Z,{key:`${e.id}_person`,data:e,index:p,onContextMenu:n=>c(n,e)},null,8,["data","index","onContextMenu"])):e?.media_type==="genres"?(r(),o(ee,{key:`${e.id}_genres`,data:e,index:p,onContextMenu:n=>c(n,e)},null,8,["data","index","onContextMenu"])):E("",!0)],64))),256)):t(s)?.pages?.[0]?.data?.length===0?(r(),o(te,{key:1})):E("",!0)],64))),128))],2)],2))]),_:1},8,["id"]))]),_:1})]),_:1}))}}),we=se;export{we as default};
