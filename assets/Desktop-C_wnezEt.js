import{aG as Se,K as t,L as N,dS as ye,az as we,v as U,j as C,o as h,a7 as v,x as u,aI as I,bQ as Te,a as r,c as Y,h as J,a6 as ne,t as S,bL as F,dd as D,dc as L,fF as le,aS as E,bO as Ce}from"./index-vSadrVXF.js";import{s as Pe,a as _e,c as n,b as ie}from"./castSocket-Ae4pdtEZ.js";import{_ as xe}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-DaBRPk_z.js";import"./FloatingBackButton.vue_vue_type_script_setup_true_lang-DXSb0tge.js";import"./Button.vue_vue_type_script_setup_true_lang-Ch2LSQNy.js";const Ne={class:"flex flex-col gap-4 items-center justify-center p-4"},Ie={class:"flex gap-4 w-1/3 min-w-96 items-center"},Le={key:0,class:"flex flex-col gap-4 w-1/3 min-w-96 items-center justify-center"},Ve={class:"flex gap-1 items-center"},Ae={key:0},He=["src","alt"],Me={class:"flex gap-4 w-1/3 min-w-96 items-center justify-center"},Be={class:"flex gap-4 w-1/3 min-w-96 items-center"},je={class:"font-mono"},ze={class:"font-mono"},Ge={class:"flex gap-4 w-1/3 min-w-96 items-center"},Ke={class:"flex flex-col gap-4 w-1/3 min-w-96 items-center justify-center"},$e={class:"flex gap-4 w-full items-center justify-center"},We=Se({__name:"Desktop",setup(Oe){const y=t([]),$=t(""),R=t(""),Q=t(""),k=t(0),V=t(!1),oe=t(!1),p=t(!1),W=t("tv/117933"),c=t({currentTime:0,duration:0,percentage:0,remaining:0,playbackRate:1,currentTimeHuman:"00:00",durationHuman:"00:00",remainingHuman:"00:00"}),Z=t(c.value.currentTime),X=t(c.value.duration),te=t(c.value.remaining),ee=t(c.value.currentTimeHuman),ue=t(c.value.durationHuman),ae=t(c.value.remainingHuman),q=t(0);N(c,a=>{Z.value=a.currentTime,X.value=a.duration,te.value=a.remaining,ee.value=a.currentTimeHuman,ue.value=a.durationHuman,ae.value=a.remainingHuman,q.value=a.percentage});const P=t([]),s=t({}),A=t([]),_=t(null),w=t([]),x=t(null);ye(_e,Pe,10),N(ie,a=>{var e,m,f,T,g,i,b,H,M,B,j,z,G,K;a&&((e=n.value)==null||e.invoke("GetChromeCasts").then(o=>{y.value=o}),(m=n.value)==null||m.invoke("GetChromeCastStatus").then(o=>{R.value=o}),(f=n.value)==null||f.invoke("GetMediaStatus").then(o=>{Q.value=o}),(T=n.value)==null||T.invoke("GetPlayerState"),(g=n.value)==null||g.on("Time",o=>{c.value=o}),(i=n.value)==null||i.on("Item",o=>{s.value=o}),(b=n.value)==null||b.on("Play",()=>{p.value=!0}),(H=n.value)==null||H.on("Pause",()=>{p.value=!1}),(M=n.value)==null||M.on("Playlist",o=>{P.value=o}),(B=n.value)==null||B.on("AudioTracks",o=>{w.value=o}),(j=n.value)==null||j.on("CurrentAudioTrack",o=>{x.value=w.value.find(l=>l.id==o)}),(z=n.value)==null||z.on("SubtitleTracks",o=>{A.value=o}),(G=n.value)==null||G.on("CurrentSubtitleTrack",o=>{_.value=o}),(K=n.value)==null||K.on("PlayerState",o=>{console.log(o),c.value=o.time,k.value=o.volume,V.value=o.muted,P.value=o.playlist,p.value=o.isPlaying,A.value=o.subtitles,_.value=o.currentSubtitleTrack,w.value=o.audioTracks,x.value=o.audioTracks.find(l=>l.id==o.currentAudioTrack),s.value=o.playlist.find(l=>{var d;return(d=l.tracks)==null?void 0:d.some(O=>O.file==o.currentSubtitleTrack.file)})}))}),we(()=>{var a,e,m,f,T,g,i,b,H,M,B,j,z,G,K,o;(a=n.value)==null||a.on("ChromeCastConnected",l=>{y.value.push(l)}),(e=n.value)==null||e.on("ChromeCastDisconnected",l=>{y.value=y.value.filter(d=>d!==l)}),ie.value&&((m=n.value)==null||m.invoke("GetChromeCasts").then(l=>{y.value=l}),(f=n.value)==null||f.invoke("GetChromeCastStatus").then(l=>{R.value=l}),(T=n.value)==null||T.invoke("GetMediaStatus").then(l=>{Q.value=l}),(g=n.value)==null||g.invoke("GetPlayerState"),(i=n.value)==null||i.on("Time",l=>{c.value=l}),(b=n.value)==null||b.on("Item",l=>{s.value=l}),(H=n.value)==null||H.on("Play",()=>{p.value=!0}),(M=n.value)==null||M.on("Pause",()=>{p.value=!1}),(B=n.value)==null||B.on("Playlist",l=>{P.value=l}),(j=n.value)==null||j.on("AudioTracks",l=>{w.value=l}),(z=n.value)==null||z.on("CurrentAudioTrack",l=>{x.value=w.value.find(d=>d.id==l)}),(G=n.value)==null||G.on("SubtitleTracks",l=>{A.value=l}),(K=n.value)==null||K.on("CurrentSubtitleTrack",l=>{_.value=l}),(o=n.value)==null||o.on("PlayerState",l=>{c.value=l.time,k.value=l.volume,V.value=l.muted,P.value=l.playlist,p.value=l.isPlaying,A.value=l.subtitles,_.value=l.currentSubtitleTrack,w.value=l.audioTracks,x.value=l.audioTracks.find(d=>d.id==l.currentAudioTrack),s.value=l.playlist.find(d=>{var O;return(O=d.tracks)==null?void 0:O.some(be=>be.file==l.currentSubtitleTrack.file)})}))}),N($,a=>{var e;(e=n.value)==null||e.invoke("SelectChromecast",a)}),N(R,a=>{a&&(k.value=a.Volume.Level*100,V.value=a.Volume.Muted,oe.value=a.IsStandBy)}),N(y,a=>{a.length>0&&($.value=a[0])}),N(k,a=>{var e;(e=n.value)==null||e.invoke("SetVolume",a)});const se=()=>{var a;(a=n.value)==null||a.invoke("Launch")},re=a=>{var e;(e=n.value)==null||e.invoke("CastPlaylist",a)},ve=()=>{var a,e;V.value?(a=n.value)==null||a.invoke("SetUnMute"):(e=n.value)==null||e.invoke("SetMute")},ce=()=>{var a,e;p.value?(a=n.value)==null||a.invoke("SetPause"):(e=n.value)==null||e.invoke("SetPlay")},me=()=>{var a;(a=n.value)==null||a.invoke("SetNext")},de=()=>{var a;(a=n.value)==null||a.invoke("SetPrevious")},he=a=>{var e;q.value=a,(e=n.value)==null||e.invoke("SetSeek",a)},ke={off:"Off",und:"Unknown",zxx:"None",contain:"Contain",cover:"Cover",fill:"Fill",aar:"Afar",abk:"Abkhaz",afr:"Afrikaans",aka:"Akan",alb:"Albanian",amh:"Amharic",ara:"Arabic",arg:"Aragonese",arm:"Armenian",asm:"Assamese",ava:"Avaric",ave:"Avestan",aym:"Aymara",aze:"Azerbaijani",bak:"Bashkir",bam:"Bambara",baq:"Basque",bel:"Belarusian",ben:"Bengali",bih:"Bihari",bis:"Bislama",bos:"Bosnian",bra:"Brazilian",bre:"Breton",bul:"Bulgarian",bur:"Burmese",cat:"Catalan",cha:"Chamorro",che:"Chechen",chi:"Chinese",chu:"Old Church Slavonic, Church Slavonic, Old Bulgarian",chv:"Chuvash",cor:"Cornish",cro:"Croatian",cos:"Corsican",cre:"Cree",cze:"Czech",dan:"Danish",div:"Divehi, Dhivehi, Maldivian",dut:"Dutch",dzo:"Dzongkha",eng:"English",epo:"Esperanto",est:"Estonian",ewe:"Ewe",fao:"Faroese",fij:"Fijian",fil:"Filipino",fin:"Finnish",fre:"French",fry:"Western Frisian",ful:"Fulah",geo:"Georgian",ger:"German",gla:"Scottish Gaelic, Gaelic",gle:"Irish",glg:"Galician",glv:"Manx",gre:"Greek",grn:"Guaraní",gsw:"Swiss German",guj:"Gujarati",hat:"Haitian, Haitian Creole",hau:"Hausa",haw:"Hawaiian",heb:"Hebrew",her:"Herero",hin:"Hindi",hmo:"Hiri Motu",hrv:"Croatian",hun:"Hungarian",ibo:"Igbo",ice:"Icelandic",ido:"Ido",iii:"Sichuan Yi",iku:"Inuktitut",ile:"Interlingue",ina:"Interlingua",ind:"Indonesian",ipk:"Inupiaq",ita:"Italian",jav:"Javanese",jpn:"Japanese",kan:"Kannada",kas:"Kashmiri",kau:"Kanuri",kaz:"Kazakh",khm:"Khmer",kik:"Kikuyu",kin:"Kinyarwanda",kir:"Kyrgyz",kom:"Komi",kon:"Kongo",kor:"Korean",kua:"Kwanyama, Kuanyama",kur:"Kurdish",lao:"Lao",lat:"Latin",lav:"Latvian",lim:"Limburgish, Limburgan, Limburger",lin:"Lingala",lit:"Lithuanian",ltz:"Luxembourgish, Letzeburgesch",lub:"Luba-Katanga",lug:"Ganda",mac:"Macedonian",mah:"Marshallese",mal:"Malayalam",mao:"Māori",mar:"Marathi",may:"Malay",mlg:"Malagasy",mlt:"Maltese",mon:"Mongolian",nau:"Nauru",nav:"Navajo, Navaho",nbl:"Southern Ndebele",nde:"Northern Ndebele",ndo:"Ndonga",nep:"Nepali",nno:"Norwegian Nynorsk",nob:"Norwegian Bokmål",nor:"Norwegian",nya:"Chichewa, Chewa, Nyanja",oci:"Occitan",oji:"Ojibwe, Ojibwa",ori:"Oriya",orm:"Oromo",oss:"Ossetian, Ossetic",pan:"Punjabi",per:"Persian",pli:"Pāli",pob:"Brazilian Portuguese",pol:"Polish",por:"Portuguese",pus:"Pashto",que:"Quechua",roh:"Romansh",rum:"Romanian",run:"Kirundi",rus:"Russian",sag:"Sango",san:"Sanskrit (Saṁskṛta)",sin:"Sinhala",slo:"Slovak",slv:"Slovenian",sme:"Northern Sami",smo:"Samoan",sna:"Shona",snd:"Sindhi",som:"Somali",sot:"Southern Sotho",spa:"Spanish",srd:"Sardinian",srp:"Serbian",ssw:"Swati",sun:"Sundanese",swa:"Swahili",swe:"Swedish",tah:"Tahitian",tam:"Tamil",tat:"Tatar",tel:"Telugu",tgk:"Tajik",tgl:"Tagalog",tha:"Thai",tib:"Tibetan",tir:"Tigrinya",ton:"Tonga",tsn:"Tswana",tso:"Tsonga",tuk:"Turkmen",tur:"Turkish",twi:"Twi",uig:"Uyghur, Uighur",ukr:"Ukrainian",urd:"Urdu",uzb:"Uzbek",ven:"Venda",vie:"Vietnamese",vol:"Volapük",wel:"Welsh",wln:"Walloon",wol:"Wolof",xho:"Xhosa",yid:"Yiddish",yor:"Yoruba",zha:"Zhuang, Chuang",zul:"Zulu"},ge=a=>{var e;(e=n.value)==null||e.invoke("SetSubtitleTrack",a)},pe=a=>{var e;(e=n.value)==null||e.invoke("SetAudioTrack",a)},fe=a=>{var e;(e=n.value)==null||e.invoke("SetPlaylistItem",a)};return(a,e)=>{const m=U("Select"),f=U("Button"),T=U("InputText"),g=U("FloatLabel");return h(),C(I(Ce),null,{default:v(()=>[u(I(Te),{fullscreen:!0},{default:v(()=>[u(xe,{gridStyle:3,title:"ChromeCast"},{default:v(()=>[r("div",Ne,[u(m,{modelValue:$.value,"onUpdate:modelValue":e[0]||(e[0]=i=>$.value=i),options:y.value,optionLabel:"",class:"w-1/3 min-w-96"},null,8,["modelValue","options"]),r("div",Ie,[u(f,{onClick:se,id:"launch"},{default:v(()=>[ne(S(a.$t("Launch")),1)]),_:1}),u(T,{modelValue:W.value,"onUpdate:modelValue":e[1]||(e[1]=i=>W.value=i),class:"w-full"},null,8,["modelValue"]),u(f,{onClick:e[2]||(e[2]=i=>re(W.value)),id:"cast"},{default:v(()=>[ne(S(a.$t("Cast")),1)]),_:1})]),s.value?(h(),Y("div",Le,[r("div",Ve,[r("span",null,S(s.value.show),1),s.value.season&&s.value.episode?(h(),Y("span",Ae," - S"+S(I(F)(s.value.season,2))+"E"+S(I(F)(s.value.episode,2))+" - ",1)):J("",!0),r("span",null,S(s.value.title),1)]),s.value.image?(h(),Y("img",{key:0,src:s.value.image,alt:s.value.title,class:"aspect-video w-full h-auto"},null,8,He)):J("",!0)])):J("",!0),r("div",Me,[u(D,{label:"Previous",onclick:de},{default:v(()=>[u(L,{icon:"nmPreviousHalftone",class:"absolute h-7 w-7 inset-1.5"}),u(L,{icon:"nmPrevious",class:"absolute h-7 w-7 opacity-0 group-hover/button:opacity-100 inset-1.5"})]),_:1}),u(D,{label:"Toggle Playback",onclick:ce},{default:v(()=>[p.value?(h(),C(L,{key:0,icon:"nmPause",className:"h-9 w-9"})):(h(),C(L,{key:1,icon:"nmPlay",className:"h-9 w-9"}))]),_:1}),u(D,{label:"Next",onclick:me},{default:v(()=>[u(L,{icon:"nmNextHalftone",class:"absolute h-7 w-7 inset-1.5"}),u(L,{icon:"nmNext",class:"absolute h-7 w-7 opacity-0 group-hover/button:opacity-100 inset-1.5"})]),_:1})]),r("div",Be,[r("span",je,S(ee.value),1),u(le,{percentage:q.value,value:Z.value,min:0,max:X.value,onInput:e[3]||(e[3]=i=>he(Number(i.target.value)))},null,8,["percentage","value","max"]),r("span",ze,S(ae.value),1)]),r("div",Ge,[u(D,{label:"Mute",onclick:ve},{default:v(()=>[V.value?(h(),C(E,{key:0,icon:"volumeMuted",class:"h-6 w-6"})):k.value==0?(h(),C(E,{key:1,icon:"volumeOne",class:"h-6 w-6"})):k.value>50?(h(),C(E,{key:2,icon:"volumeThree",class:"h-6 w-6"})):(h(),C(E,{key:3,icon:"volumeTwo",class:"h-6 w-6"}))]),_:1}),u(le,{percentage:k.value,value:k.value,onInput:e[4]||(e[4]=i=>k.value=Number(i.target.value)),min:0,step:1,max:100},null,8,["percentage","value"])]),r("div",Ke,[r("div",$e,[u(g,{variant:"on",class:"w-full"},{default:v(()=>[u(m,{modelValue:_.value,"onUpdate:modelValue":e[5]||(e[5]=i=>_.value=i),options:A.value,id:"subtitleTracks",optionLabel:i=>{var b;return`${i.language?ke[i.language]:""} ${(b=i.label)==null?void 0:b.toTitleCase()} ${i.file.endsWith("ass")?" - Styled":""}`},class:"w-full",onChange:e[6]||(e[6]=i=>ge(i.value.id))},null,8,["modelValue","options","optionLabel"]),e[11]||(e[11]=r("label",{for:"subtitleTracks"},"Subtitle",-1))]),_:1}),u(g,{variant:"on",class:"w-full"},{default:v(()=>[u(m,{modelValue:x.value,"onUpdate:modelValue":e[7]||(e[7]=i=>x.value=i),options:w.value,id:"audioTracks",optionLabel:i=>`${i.label}`,class:"w-full",onChange:e[8]||(e[8]=i=>pe(i.value.id))},null,8,["modelValue","options","optionLabel"]),e[12]||(e[12]=r("label",{for:"audioTracks"},"Audio",-1))]),_:1})]),u(g,{variant:"on",class:"w-full"},{default:v(()=>[u(m,{modelValue:s.value,"onUpdate:modelValue":e[9]||(e[9]=i=>s.value=i),id:"playlist",options:P.value,optionLabel:i=>`S${I(F)(i.season??0,2)}E${I(F)(i.episode??0,2)} - ${i.title}`,class:"w-full",onChange:e[10]||(e[10]=i=>fe(P.value.indexOf(i.value)))},null,8,["modelValue","options","optionLabel"]),e[13]||(e[13]=r("label",{for:"playlist"},"Playlist Item",-1))]),_:1})])])]),_:1})]),_:1})]),_:1})}}});export{We as default};
