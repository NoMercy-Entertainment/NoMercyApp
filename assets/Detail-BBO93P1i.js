import{$ as D,At as o,C as c,Et as t,K as $,S as a,T as n,Y as s,Z as C,c as B,g as M,j as T,k as f,kt as d,lt as u,q as z,st as I,w as l}from"./i18n-DXLa9EKW.js";import"./ionic-B9XaRwPa.js";import{x as S,y as L}from"./vue-core-DBpBuPMK.js";import"./query-DJ5OsBey.js";import{Bn as b,Gn as _,Kn as m,Zn as k,b as R,n as A,qn as v,v as V}from"./index-CLM6Y7vI.js";import"./useInfiniteServerClient-DbihGahL.js";import{t as j}from"./useServerClient-QYfn39K-.js";import"./ScrollContainer-aZQSs5X2.js";import"./useMounted-DrbBl1d-.js";import"./RipperOverlay-DCWWVsFD.js";import"./ripperSocket-AoTnHHCA.js";import"./swiper-DkXT2e8s.js";import"./CardIndicator-CN-BcQKi.js";import"./swiper-config-BqkNjSI4.js";import"./FloatingBackButton-BrTpeYvl.js";import{n as q,t as E}from"./ContentRating-UDLHof_-.js";import{t as g}from"./InfoHeaderItem-BRJ5PBcS.js";import"./Carousel-B9m9x-iy.js";import{t as K}from"./MediaCarousel-DIkWHLQN.js";import{t as N}from"./DashboardLayout-BtrwC5sp.js";B();L();var F={key:0,class:"flex w-full flex-col gap-8"},G={class:"tv:group-focus-visible/card:bg-black/3 absolute -inset-1 z-20 grid h-available w-full items-center transition-transform duration-200 opacity-0 [background:radial-gradient(75%_50%_at_50%_50%,_rgba(0,_0,_0,_0.40)_0%,_rgba(0,_0,_0,_0.00)_100%),_rgba(0,_0,_0,_0.09)] mx-auto group-hover/card:opacity-100"},P={class:"inset-0 grid group-hover/card:grid h-full w-full place-content-center group-focus-visible/card:bg-none group-hover/card:bg-none text-5xl text-transparent transition-transform duration-200 group-focus-visible/card:transitioning group-hover/card:text-surface-12"},Z={key:1,class:"grid h-full w-full place-items-center bg-surface-3"},H={class:"text-xl font-bold text-surface-12/50"},U={class:"flex flex-col gap-4"},Y={class:"flex-shrink-0 text-sm font-bold"},J={class:"flex-shrink-0 text-sm font-bold uppercase"},O={class:"flex-shrink-0 text-sm font-bold"},Q={class:"grid-cols-3 text-xs font-bold uppercase text-surface-12/70 dark:text-surface-12/80"},W={class:"col-span-6 col-start-3 flex w-full max-w-fit flex-wrap gap-1 self-center xl:col-start-3 2xl:col-start-2 text-surface-12 dark:text-surface-12/80 font-semibold"},X={class:"gap-1 children:whitespace-nowrap text-sm"},ee=["href"],te={class:"gap-1 children:whitespace-nowrap text-sm"},ae=["href"],re={key:0,class:"gap-1 children:whitespace-nowrap text-sm"},se=["href"],le=30,oe=T({__name:"Detail",setup(ie){const p=S(),{data:e,error:y}=j({path:`dashboard/recommendations/${p.params.type}/${p.params.id}`,queryKey:["dashboard","recommendation",p.params.type,p.params.id]});I(e,r=>{r?.title&&k(r.title),r?.backdrop&&b.value!==r?.backdrop&&_(r?.backdrop),r?.logo&&v(r?.logo),(r?.color_palette?.backdrop||r?.color_palette?.poster)&&m(r?.color_palette?.poster||r?.color_palette?.backdrop)});function i(r){return`animation-delay: ${r*le}ms`}return $(()=>{k(e?.value?.title),e?.value?.backdrop&&b.value!==e?.value?.backdrop&&_(e?.value?.backdrop),e?.value?.logo&&v(e?.value?.logo),(e?.value?.color_palette?.backdrop||e?.value?.color_palette?.poster)&&m(e?.value?.color_palette?.poster??e?.value?.color_palette?.backdrop)}),z(()=>{_(null),m(null),v(null)}),(r,h)=>{const w=D("RouterLink");return s(),c(N,{error:t(y),"grid-style":0,params:{title:t(e)?.title},back:"","class-name":"!px-0",title:"Recommendation: {{title}}"},{cta:u(()=>[...h[0]||(h[0]=[])]),default:u(()=>[t(e)?(s(),n("div",F,[a("div",{style:d(i(0)),class:"grid grid-cols-1 items-start gap-6 rounded-2xl border-1 border-surface-5/8 bg-gradient-to-b from-surface-1/12 via-surface-2/12 to-surface-2/11 p-6 lg:grid-cols-[16rem_1fr] fade-up mx-4"},[a("div",{style:d(i(1)),class:"mx-auto w-48 flex-shrink-0 overflow-clip rounded-lg lg:mx-0 lg:w-64 aspect-poster fade-up relative group/card z-0"},[t(e).poster?(s(),c(w,{key:0,"aria-label":r.$t("Details"),to:`${t(e)?.link}`,class:"","data-nav":"true","data-nav-r":"play","data-nav-reset":"true"},{default:u(()=>[f(A,{"color-palette":t(e).color_palette?.poster,path:t(e).poster,size:400,title:t(e).title,aspect:"poster",class:"h-full w-full","class-name":"h-full w-full object-cover",priority:"high"},null,8,["color-palette","path","title"]),a("span",G,[a("span",P,[f(R,{"class-name":"w-20 text-surface-12/70 dark:text-surface-12/80",icon:"link1"})])])]),_:1},8,["aria-label","to"])):(s(),n("div",Z,[a("span",H,o(t(e).title),1)]))],4),a("div",U,[a("p",{style:d([i(2),{"font-size":"clamp(1.25rem, 2.309vw + 0.652rem, 2rem)","line-height":"clamp(1.875rem, 2.54vw + 1.218rem, 2.75rem)"}]),class:"text-3xl font-bold text-surface-12 fade-up"},o(t(e).title),5),t(e).year||t(e).voteAverage||t(e).content_ratings?.length?(s(),n("div",{key:0,style:d(i(3)),class:"flex flex-wrap items-center gap-3 fade-up"},[f(g,null,{default:u(()=>[a("p",Y,o(t(e).media_type==="tv"?"TV Show":"Movie"),1)]),_:1}),t(e).year?(s(),c(g,{key:0},{default:u(()=>[a("p",J,o(t(e).year),1)]),_:1})):l("",!0),t(e).voteAverage?(s(),c(g,{key:1},{default:u(()=>[a("p",O," â­ "+o(t(e).voteAverage?.toFixed(1))+"/10 ",1)]),_:1})):l("",!0),t(e).content_ratings?.length?(s(),c(E,{key:2,ratings:t(e).content_ratings,size:4},null,8,["ratings"])):l("",!0)],4)):l("",!0),t(e).overview?(s(),n("p",{key:1,style:d(i(4)),class:"text-base font-medium text-surface-12/70 dark:text-surface-12/80 fade-up"},o(t(e).overview),5)):l("",!0),t(e).genres?.length?(s(),n("div",{key:2,style:d(i(5)),class:"flex flex-wrap gap-1.5 fade-up"},[(s(!0),n(M,null,C(t(e).genres,x=>(s(),c(q,{key:x.id,genre:x},null,8,["genre"]))),128))],4)):l("",!0),a("div",{style:d(i(36)),class:"relative grid w-full flex-shrink-0 flex-grow-0 grid-cols-7 items-start justify-start gap-1 fade-up"},[a("p",Q,o(r.$t("External links")),1),a("div",W,[a("div",X,[a("a",{href:`https://themoviedb.org/${t(e)?.media_type}/${t(e)?.id}`,class:"text-surface-12/60 underline-offset-4 hover:text-surface-12 hover:underline",target:"_blank"}," TheMovieDb ",8,ee),a("span",null,o(t(e)?.external_ids?.imdb_id?",":""),1)]),a("div",te,[t(e).external_ids?.imdb_id?(s(),n("a",{key:0,href:`https://imdb.com/title/${t(e).external_ids.imdb_id}`,class:"text-surface-12/60 underline-offset-4 hover:text-surface-12 hover:underline",target:"_blank"}," IMDb ",8,ae)):l("",!0),a("span",null,o(t(e)?.external_ids?.tvdb_id?",":""),1)]),t(e)?.external_ids?.tvdb_id?(s(),n("div",re,[a("a",{href:`https://thetvdb.com/?tab=series&id=${t(e)?.external_ids?.tvdb_id}&lid=eng`,class:"text-surface-12/60 underline-offset-4 hover:text-surface-12 hover:underline",target:"_blank"}," TheTvDb ",8,se)])):l("",!0)])],4)])],4),t(e).because_you_have?.length?(s(),c(K,{key:0,data:t(e).because_you_have,style:d(i(7)),class:"fade-up",title:"Because you have",type:"poster"},null,8,["data","style"])):l("",!0)])):l("",!0)]),_:1},8,["error","params"])}}}),Me=V(oe,[["__scopeId","data-v-5f1833ea"]]);export{Me as default};
