import{I as L,Ln as t,Lt as R,M as S,Mt as m,Rn as q,Rt as x,Tt as g,Vn as f,Vt as s,an as z,cn as o,k as A,kn as I,on as T,qt as C,un as M,xn as B,zt as Z}from"./index-cywnPOBC.js";import{r as $}from"./currentServer-ns-65dJg.js";import{f as v,p as _}from"./global-oyc8MvKQ.js";import{t as a}from"./router-b6Y7vD7A.js";import{n as j,t as h}from"./scrollHandlers-BbBCAHVc.js";import{t as N}from"./_plugin-vue_export-helper-pDp7unP0.js";g();var d=I(!1);const X=R(()=>d.value);function P(c){d.value=c}var u=d;g();S();var V={class:"flex-shrink-0 flex-grow-0 text-center text-xs sm:text-base font-semibold leading-none"},D=["data-indexer","onClick"],F={class:"flex-shrink-0 flex-grow-0 text-center text-xs sm:text-base font-semibold leading-none"},G=C({__name:"Indexer",setup(c){const b=["Libraries","Library","Collections","Albums","Artists","Music Genres"],y=[new RegExp("music/albums"),new RegExp("music/artists"),new RegExp("libraries/[a-zA-Z0-9]+/letter/[a-zA-Z0-9_]"),new RegExp("music/genres/letter/[a-zA-Z0-9_]")];function w(e){return b.some(r=>e.startsWith(r))}function i(e){return y.some(r=>e.match(r))}const k=L();function l(){setTimeout(()=>{document.querySelector(v.value?"ion-tabs ion-router-outlet  div.ion-page:not(.ion-page-hidden) [indexer]":"[indexer]")?.querySelectorAll("[data-indexer]").forEach(e=>{let r;e.dataset.indexer==="#"?r=document.querySelector?.("ion-tabs ion-router-outlet div.ion-page:not(.ion-page-hidden) [data-scroll]"):r=document.querySelector?.(`ion-tabs ion-router-outlet div.ion-page:not(.ion-page-hidden) [data-scroll='scroll_${e.dataset.indexer}']`),r||i(a.currentRoute.value.path)?e.classList.remove("opacity-20","!cursor-not-allowed"):e.classList.add("opacity-20","!cursor-not-allowed")})},500)}function E(){document.querySelector(v.value?"ion-tabs ion-router-outlet  div.ion-page:not(.ion-page-hidden) [indexer]":"[indexer]")?.querySelectorAll("[data-indexer]").forEach(e=>{e.classList.add("opacity-20","!cursor-not-allowed")})}function p(e){P(w(e)),l()}return a.afterEach(e=>{setTimeout(()=>{p(e.name??e.path)},150)}),a.beforeEach(()=>{i(a.currentRoute.value.path)||E()}),z(()=>{setTimeout(()=>{p(a.currentRoute.value.name??a.currentRoute.value.path)},150),document.addEventListener("indexer",l),document.addEventListener("keydown",h)}),T(()=>{document.removeEventListener("indexer",l),document.removeEventListener("keydown",h)}),(e,r)=>(o(),s("div",{class:q([{"w-8":t(u),"w-0":!t(u),"sm:ml-2":!t(_)&&t(u),"bottom-0":t(_)},"pointer-events-none z-0 h-available sm:h-available flex flex-col items-center justify-between self-stretch overflow-clip transition-width duration-200 sm:-translate-x-3 pt-2 text-surface-12"]),indexer:""},[(o(!0),s(m,null,M(t($)("#","Z"),n=>(o(),s(m,{key:n},[i(t(k).path)?(o(),Z(t(A),{key:0,"data-indexer":n,to:`${n.replace("#","_")}`,class:"pointer-events-auto relative flex p-1.5 size-6 sm:size-8 aspect-square rounded-lg overflow-clip cursor-pointer flex-col items-center justify-center hover:bg-surface-5",tabindex:"-1"},{default:B(()=>[x("p",V,f(n),1)]),_:2},1032,["data-indexer","to"])):(o(),s("button",{key:1,"data-indexer":n,class:"pointer-events-auto relative flex p-1.5 size-6 sm:size-8 aspect-square rounded-lg overflow-clip cursor-pointer flex-col items-center justify-center hover:bg-surface-5/11",tabindex:"-1",onClick:H=>t(j)(n)},[x("p",F,f(n),1)],8,D))],64))),128))],2))}}),Y=N(G,[["__scopeId","data-v-51d04752"]]);export{u as n,Y as t};
