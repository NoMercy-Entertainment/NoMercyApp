import{aG as Ke,bb as Re,K as u,bE as Fe,L as Se,c9 as Ne,aP as Ce,a$ as Ie,cr as Le,aM as je,ax as Ge,ba as Oe,c8 as qe,aN as Qe,aO as Je,bn as Xe,aK as Be,cp as Ye,j as l,o as s,a7 as $,x as I,aI as t,bQ as Ze,av as et,a as d,h as o,c as tt,ca as rt,cs as at,cc as st,t as De,cd as lt,ce as ot,cb as He,cf as it,bP as nt,b6 as ct}from"./index-B4IqMpus.js";import{_ as ze,a as Me}from"./PersonCarousel.vue_vue_type_script_setup_true_lang-DueXdpcK.js";import{_ as Ae}from"./MediaCarousel.vue_vue_type_script_setup_true_lang-DTgKj5Ui.js";import{_ as f}from"./InfoItem.vue_vue_type_script_setup_true_lang-C63vv-US.js";import{_ as dt}from"./Trailer.vue_vue_type_script_setup_true_lang-CvGosOZA.js";import{_ as pt,a as P}from"./Collapsible.vue_vue_type_script_setup_true_lang-D6iPiHFa.js";import{_ as ut}from"./MobileInfoCard.vue_vue_type_script_setup_true_lang-BxVORb_F.js";import"./Carousel-BGw_4PgH.js";import"./swiper-config-ClY3VjBL.js";import"./PersonCard.vue_vue_type_script_setup_true_lang-DbJZvSwo.js";import"./MediaCard.vue_vue_type_script_setup_true_lang-GY8Xn7Lz.js";import"./CardIndicator.vue_vue_type_script_setup_true_lang-BzwwY_NB.js";import"./subtitles-octopus-DlMc0yV4.js";import"./desktopUIPlugin-C3o56WPw.js";import"./keyHandlerPlugin-DtIVf1BU.js";import"./CardShadow.vue_vue_type_script_setup_true_lang-ioKHC1RM.js";const mt={class:"flex flex-col justify-start items-center self-stretch flex-grow h-auto gap-4 will-change-auto text-slate-lightA-12/70 dark:text-slate-darkA-12/80 z-0",style:{"box-shadow":"0 2px 2px 0 rgba(0,0,0,0.16)"}},ft={class:"flex bg-slate-light-3 dark:bg-slate-dark-1 flex-col justify-start items-start self-stretch flex-grow-0 flex-shrink-0 gap-3 pt-16 pb-5 will-change-auto w-inherit px-6"},gt=["innerHTML"],kt={key:1,class:"flex justify-start items-center self-stretch flex-grow-0 flex-shrink-0 relative gap-2 flex-wrap"},xt={class:"whitespace-nowrap"},ht={class:"whitespace-nowrap"},wt=Ke({__name:"Mobile",setup(yt){const N=Re(),Ve=u(!1),Ee=u(!1),g=u(!1),S=u("loading"),p=u(-1),L=u(null),Ue=u(null),k=u(),{data:e}=Fe({keepForever:!0,path:N==null?void 0:N.fullPath});Se(e,r=>{var a,i,n,c;(i=(a=k.value)==null?void 0:a.$el)==null||i.scrollToTop(window.innerHeight),Ve.value=!0,p.value=0,Ne((r==null?void 0:r.title)??(r==null?void 0:r.name)),r!=null&&r.backdrop&&Ce(r==null?void 0:r.backdrop),r!=null&&r.poster&&Ie(r==null?void 0:r.poster),r!=null&&r.logo&&Le(r==null?void 0:r.logo),(n=r==null?void 0:r.color_palette)!=null&&n.poster&&je((c=r==null?void 0:r.color_palette)==null?void 0:c.poster),We(r)});const C=Ge(()=>{var r,a;return`${(r=Oe.value)==null?void 0:r.serverBaseUrl}/images/original${((a=e.value)==null?void 0:a.backdrop)??qe.value}`});Qe(()=>{var r,a,i,n,c,x,h,w,y,_,b,v,T;(a=(r=k.value)==null?void 0:r.$el)==null||a.scrollToTop(window.innerHeight),Ne((i=e==null?void 0:e.value)==null?void 0:i.name),(n=e==null?void 0:e.value)!=null&&n.backdrop&&Ce((c=e==null?void 0:e.value)==null?void 0:c.backdrop),(x=e==null?void 0:e.value)!=null&&x.poster&&Ie((h=e==null?void 0:e.value)==null?void 0:h.poster),(w=e==null?void 0:e.value)!=null&&w.logo&&Le((y=e==null?void 0:e.value)==null?void 0:y.logo),(b=(_=e==null?void 0:e.value)==null?void 0:_.color_palette)!=null&&b.poster&&je((T=(v=e==null?void 0:e.value)==null?void 0:v.color_palette)==null?void 0:T.poster)}),Je(()=>{var r,a;(a=(r=k.value)==null?void 0:r.$el)==null||a.scrollToTop(window.innerHeight)}),Xe.afterEach(()=>{setTimeout(()=>{var r,a;(a=(r=k.value)==null?void 0:r.$el)==null||a.scrollToTop(window.innerHeight)},100)});const j=u();Se(Ee,r=>{var a,i;r?(i=(a=j.value)==null?void 0:a.$el)==null||i.classList.remove("line-clamp-3"):setTimeout(()=>{var n,c;(c=(n=j.value)==null?void 0:n.$el)==null||c.classList.add("line-clamp-3")},300)});const B=()=>{var a;if(!((a=e==null?void 0:e.value)!=null&&a.videos))return;g.value=!g.value;const r=document.querySelector("#main");r&&(r.style.overflow=g.value?"hidden":"auto")},D=()=>{var r,a,i;!(e!=null&&e.value)||((a=(r=e==null?void 0:e.value)==null?void 0:r.videos)==null?void 0:a.length)==0||(p.value==((i=e==null?void 0:e.value)==null?void 0:i.videos.length)-1?p.value=0:p.value++,p.value++)},We=r=>{var a,i,n,c;if(S.value="loading",!r||((a=r.videos)==null?void 0:a.length)==0||!((i=r.videos)!=null&&i[p.value])){S.value=!1;return}L.value=r.duration&&new Date(new Date().getTime()+r.duration*60*1e3).toLocaleTimeString(Be.language??"en-US",{hour:"2-digit",minute:"2-digit"}),Ue.value=setInterval(()=>{L.value=r.duration&&new Date(new Date().getTime()+r.duration*60*1e3).toLocaleTimeString(Be.language??"en-US",{hour:"2-digit",minute:"2-digit"})},1e3),Ye.head(`https://trailer.nomercy.tv/${(n=r.videos[p.value])==null?void 0:n.src}/${(c=r.videos[p.value])==null?void 0:c.src}.webm`,{withCredentials:!1}).then(()=>{S.value=!0}).catch(()=>{D(),S.value=!1})};return(r,a)=>(s(),l(t(nt),null,{default:$(()=>[I(t(Ze),{ref_key:"content",ref:k,fullscreen:!0,style:et(`--background-image: ${C.value&&!C.value.includes("null")?`url(${C.value})`:""};`)},{default:$(()=>{var i,n,c,x,h,w,y,_,b,v,T,H,z,M,A,V,E,U,W,K,R,F,G,O,q,Q,J,X,Y,Z,ee,te,re,ae,se,le,oe,ie,ne,ce,de,pe,ue,me,fe,ge,ke,xe,he,we,ye,_e,be,ve,Te,$e;return[d("div",mt,[a[3]||(a[3]=d("div",{class:"flex justify-start items-end -mx-4 w-available h-[410px] relative gap-2"},[d("div",{class:"absolute flex flex-col justify-start items-end flex-grow w-available -mx-20 h-[410px] bg-cover bg-top",style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.50) 0%, rgba(0, 0, 0, 0.50) 100%), var(--background-image) lightgray 50% / cover no-repeat"}}),d("div",{class:"absolute flex flex-col justify-start items-end flex-grow w-available -mx-20 h-[410px] bg-cover dark:bg-black/50"})],-1)),d("div",ft,[d("p",{class:"self-stretch flex-grow-0 flex-shrink-0 w-[351px] text-2xl font-bold text-left z-10",innerHTML:t(rt)(((i=t(e))==null?void 0:i.title)||t(at)||"","text-lg line-clamp-2")},null,8,gt),(n=t(e))!=null&&n.overview?(s(),l(pt,{key:0,text:(c=t(e))==null?void 0:c.overview,maxLines:3},null,8,["text"])):o("",!0),t(e)?(s(),tt("div",kt,[(x=t(e))!=null&&x.year?(s(),l(P,{key:0,title:"",data:(h=t(e))==null?void 0:h.year.toString()},null,8,["data"])):o("",!0),(w=t(e))!=null&&w.content_ratings.length?(s(),l(P,{key:1,title:""},{default:$(()=>{var m;return[I(st,{size:6,class:"h-full min-!h-[1rem] object-scale-down rounded-lg overflow-clip children:-m-0.5",ratings:(m=t(e))==null?void 0:m.content_ratings},null,8,["ratings"])]}),_:1})):o("",!0),(y=t(e))!=null&&y.have_items?(s(),l(P,{key:2,title:"",data:`${(_=t(e))==null?void 0:_.have_items}/${(b=t(e))==null?void 0:b.number_of_items}`},null,8,["data"])):o("",!0),(v=t(e))!=null&&v.duration?(s(),l(P,{key:3,title:""},{default:$(()=>{var m;return[d("span",xt,De(t(lt)(t(ot),(m=t(e))==null?void 0:m.duration,!0)),1)]}),_:1})):o("",!0),(T=t(e))!=null&&T.voteAverage?(s(),l(P,{key:4,title:""},{default:$(()=>{var m,Pe;return[d("span",ht,"⭐ ️"+De((Pe=(m=t(e))==null?void 0:m.voteAverage)==null?void 0:Pe.toFixed(0))+"/10",1)]}),_:1})):o("",!0)])):(s(),l(t(He),{key:2,animated:!0,class:"h-6 will-change-auto"})),a[0]||(a[0]=d("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-slate-dark-7/[0.1] dark:bg-slate-dark-11/[0.1]"},null,-1)),(H=t(e))!=null&&H.genres?(s(),l(f,{key:3,data:t(e),title:"Genres",keyName:"genres",prefix:"genres"},null,8,["data"])):(s(),l(t(He),{key:4,animated:!0,class:"h-12 will-change-auto"})),a[1]||(a[1]=d("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-slate-dark-7/[0.1] dark:bg-slate-dark-11/[0.1]"},null,-1)),(z=t(e))!=null&&z.writer?(s(),l(f,{key:5,data:{writer:[(M=t(e))==null?void 0:M.writer]},title:"Writer",keyName:"writer",prefix:"person"},null,8,["data"])):o("",!0),(A=t(e))!=null&&A.creator?(s(),l(f,{key:6,data:{creator:[(V=t(e))==null?void 0:V.creator]},title:"Creator",keyName:"creator",prefix:"person"},null,8,["data"])):o("",!0),(E=t(e))!=null&&E.director?(s(),l(f,{key:7,data:{director:[(U=t(e))==null?void 0:U.director]},title:"Director",keyName:"director",prefix:"person"},null,8,["data"])):o("",!0),(W=t(e))!=null&&W.creators?(s(),l(f,{key:8,data:t(e),title:"Creators",keyName:"creators",prefix:"person"},null,8,["data"])):o("",!0),(K=t(e))!=null&&K.directors?(s(),l(f,{key:9,data:t(e),title:"Directors",keyName:"directors",prefix:"person"},null,8,["data"])):o("",!0),(R=t(e))!=null&&R.writers?(s(),l(f,{key:10,data:t(e),title:"Writers",keyName:"writers",prefix:"person"},null,8,["data"])):o("",!0),(F=t(e))!=null&&F.keywords?(s(),l(f,{key:11,data:t(e),title:"Keywords",keyName:"keywords"},null,8,["data"])):o("",!0),a[2]||(a[2]=d("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-slate-dark-7/[0.1] dark:bg-slate-dark-11/[0.1]"},null,-1)),(G=t(e))!=null&&G.cast&&((q=(O=t(e))==null?void 0:O.cast)==null?void 0:q.length)>0?(s(),l(ze,{key:12,class:"-mx-6",data:(Q=t(e))==null?void 0:Q.cast,title:"Cast"},null,8,["data"])):o("",!0),(J=t(e))!=null&&J.crew&&((Y=(X=t(e))==null?void 0:X.crew)==null?void 0:Y.length)>0?(s(),l(ze,{key:13,class:"-mx-6",data:t(it)((Z=t(e))==null?void 0:Z.crew,"profile","id"),title:"Crew"},null,8,["data"])):o("",!0),(ee=t(e))!=null&&ee.posters&&((re=(te=t(e))==null?void 0:te.posters)==null?void 0:re.length)>0?(s(),l(Me,{key:14,class:"-mx-6",data:(ae=t(e))==null?void 0:ae.posters,title:"Poster",type:"poster"},null,8,["data"])):o("",!0),(se=t(e))!=null&&se.backdrops&&((oe=(le=t(e))==null?void 0:le.backdrops)==null?void 0:oe.length)>0?(s(),l(Me,{key:15,class:"-mx-6",colorPalette:(ne=(ie=t(e))==null?void 0:ie.color_palette)==null?void 0:ne.poster,data:(ce=t(e))==null?void 0:ce.backdrops,title:"Backdrop",type:"backdrop"},null,8,["colorPalette","data"])):o("",!0),(de=t(e))!=null&&de.recommendations&&((ue=(pe=t(e))==null?void 0:pe.recommendations)==null?void 0:ue.length)>0?(s(),l(Ae,{key:16,class:"-mx-6",colorPalette:(me=t(e))==null?void 0:me.color_palette,data:(fe=t(e))==null?void 0:fe.recommendations,title:"Recommendations",type:"poster"},null,8,["colorPalette","data"])):o("",!0),(ge=t(e))!=null&&ge.similar&&((xe=(ke=t(e))==null?void 0:ke.similar)==null?void 0:xe.length)>0?(s(),l(Ae,{key:17,class:"-mx-6",colorPalette:(he=t(e))==null?void 0:he.color_palette,data:(we=t(e))==null?void 0:we.similar,title:"Similar",type:"poster"},null,8,["colorPalette","data"])):o("",!0)])]),I(ut,{data:t(e),toggleTrailer:B},null,8,["data"]),(ye=t(e))!=null&&ye.videos&&((be=(_e=t(e))==null?void 0:_e.videos)==null?void 0:be.length)>0&&g.value?(s(),l(dt,{key:p.value,incrementTrailerIndex:D,index:p.value,open:g.value,title:((ve=t(e))==null?void 0:ve.title)??((Te=t(e))==null?void 0:Te.name),toggle:B,videos:($e=t(e))==null?void 0:$e.videos,class:"absolute inset-0 h-full w-full z-999"},null,8,["index","open","title","videos"])):o("",!0)]}),_:1},8,["style"])]),_:1}))}}),Mt=ct(wt,[["__scopeId","data-v-e24fe220"]]);export{Mt as default};
//# sourceMappingURL=Mobile-CPyjFgaU.js.map
