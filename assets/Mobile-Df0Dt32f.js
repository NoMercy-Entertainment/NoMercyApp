import{$ as E,D as P,Dn as N,H as R,Ht as U,In as x,N as d,Qn as V,Rn as m,Tn as r,U as A,Wn as n,Y as W,Yt as q,Zn as t,cn as h,cr as F,en as b,er as Y,in as f,nn as a,rn as o,tn as i,tr as k,un as G,x as K}from"./index-04Sh3wNb.js";import"./dist-CVoPesok.js";import"./esm-BuFVrMo0.js";import"./esm-9iWgK55i.js";import"./esm-cDzTb79E.js";import"./esm-BfF1RlcU.js";import"./dist-B3n7-doU.js";import"./focus-visible-CHAJCf_J.js";import"./index5-B30D6T27.js";import"./client-rtF7IPPI.js";import"./ionic-global--aoJHCDL.js";import"./hardware-back-button-h528z6zo.js";import"./index3-CSo3jo06.js";import"./helpers-CXS86XKs.js";import"./index6-CZ6rqL_0.js";import"./index8-BpkFXja0.js";import"./keyboard-cU79cwdW.js";import"./index2-op38TIl9.js";import"./ios.transition-C8T7q-Bo.js";import"./keyboard2-DETZ41vp.js";import"./md.transition-BqH5iNQr.js";import"./dir-BUtgAzbR.js";import"./basecomponent-Dw-Pzf3B.js";import"./classnames-DtEYS8u9.js";import"./button-Bwdcz6Ds.js";import"./baseicon-pCfUe6Zj.js";import{a as w,b as Q,c as y,o as T,t as Z}from"./ui-BT6EUdI0.js";import{g as C,y as J}from"./client-DMa-uSBE.js";import{b as O,s as X,t as ee,v as $}from"./currentServer-B7-kbkE-.js";import"./config-BOA2pGQM.js";import"./esm-CcKFjObu.js";import"./global-gyhCjh_P.js";import"./esm-BuRgllmc.js";import"./user-C1ciKa7-.js";import"./serverClient-FHPKIHPu.js";import{t as te}from"./router-C_xBvmya.js";import"./utils-D5DD-7jP.js";import"./useBaseQuery-CNJp2kAB.js";import"./useInfiniteServerClient-By5CuBlL.js";import"./SocketClient-DPmgFkP-.js";import"./useQueryClient-s6ZLwuD6.js";import"./useQuery-C7DDAmeN.js";import"./apiClient-Cw7f36ko.js";import"./notifications-Bi_dU6lP.js";import"./utils-CdenF_Jv.js";import"./bundle-mjs-Xm_uQvzT.js";import"./deviceInfo-Bcw3-ht5.js";import"./helpers-fSCF1qXj.js";import"./auth-DfyD43WY.js";import"./musicPlaylists-CCn4HshY.js";import"./contextMenuItems-kfaglZX4.js";import{t as re}from"./_plugin-vue_export-helper-B_iOTHZb.js";import"./imageModal-B_AIV_up.js";import"./AppLogoSquare-DJq6h5gt.js";import"./TMDBImage-Dcp6aBnk.js";import"./MoooomIcon-DNWQYuYD.js";import"./dist-iWIfSzlj.js";import{t as ae}from"./useServerClient-CroZbKWw.js";import"./MusicButton-OKP8kSIv.js";import"./BannerButton-BVJ9NTRE.js";import"./MediaLikeButton-Cg9WrOdx.js";import"./swiper-vue-Dzagr7Ak.js";import"./CardIndicator-B772HJka.js";import{t as le}from"./NMCard-KUR8tI59.js";import"./swiper-element-bundle-D1nMfpgQ.js";import"./CardShadow-IG9Y_heN.js";import{t as oe}from"./dist-C8AyVl3u.js";import{n as I,r as ie,t as S}from"./ImageCarousel-iI8p4h9B.js";import"./ShareButton-B9i6bcLG.js";import"./Carousel-DODF1Jwj.js";import"./PersonCard-COl_OvGL.js";import{t as se}from"./InfoItem-B4bLZMnx.js";import{n as u,t as ne}from"./Collapsible-CctacMlY.js";import{t as pe}from"./MobileInfoCard-D91sanm1.js";U();W();var H=F(oe()),ue={class:"flex z-0 flex-col justify-start items-center self-stretch h-auto flex-grow gap-4 will-change-auto text-surface-12",style:{"box-shadow":"0 2px 2px 0 rgba(0, 0, 0, 0.16)"}},me={class:"flex bg-surface-3 dark:bg-surface-1 flex-col justify-start items-start self-stretch flex-grow-0 flex-shrink-0 gap-3 pt-16 pb-5 will-change-auto w-inherit px-6"},ce=["innerHTML"],de={key:3,class:"flex flex-wrap justify-start items-center self-stretch flex-grow-0 flex-shrink-0 relative gap-2"},fe={class:"whitespace-nowrap"},ge={class:"flex w-available flex-1 flex-col gap-2"},ve={class:"text-2xl font-bold mr-2"},_e="grid-cols-2 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-7 3xl:grid-cols-9 4xl:grid-cols-10 5xl:grid-cols-[repeat(14,minmax(0,1fr))] tv:grid-cols-6",xe=G({__name:"Mobile",setup(he){const M=E(),{data:e}=ae({queryKey:["base","collection",M.params.id],limit:1e3,keepForever:!0}),B=n(!1),D=n(!1),L=n(-1),g=n(null),j=n(null),p=n(),c=b(()=>`${ee.value?.serverBaseUrl}/images/original${Z.value||e.value?.backdrop}`);x(e,l=>{l&&(p.value?.$el?.scrollToTop(window.innerHeight),B.value=!0,L.value=0,$(l?.title),l?.backdrop&&w(l?.backdrop),l?.poster&&y(l?.poster),l?.color_palette?.poster&&T(l?.color_palette?.poster),g.value=l.total_duration&&new Date(new Date().getTime()+l.total_duration*60*1e3).toLocaleTimeString(C.language??"en-US",{hour:"2-digit",minute:"2-digit"}),j.value=setInterval(()=>{g.value=l.total_duration&&new Date(new Date().getTime()+l.total_duration*60*1e3).toLocaleTimeString(C.language??"en-US",{hour:"2-digit",minute:"2-digit"})},1e3))}),R(()=>{p.value?.$el?.scrollToTop(window.innerHeight),$(e?.value?.title),document.dispatchEvent(new Event("indexer")),e?.value?.backdrop&&w(e?.value?.backdrop),e?.value?.poster&&y(e?.value?.poster),e?.value?.color_palette?.poster&&T(e?.value?.color_palette?.poster)}),A(()=>{p.value?.$el?.scrollToTop(window.innerHeight)}),te.afterEach(()=>{setTimeout(()=>{p.value?.$el?.scrollToTop(window.innerHeight)},100)});const v=n();x(D,l=>{l?v.value?.$el?.classList.remove("line-clamp-3"):setTimeout(()=>{v.value?.$el?.classList.add("line-clamp-3")},300)});const z=b(()=>`${(0,H.collect)(e.value?.collection).min("year")} - ${(0,H.collect)(e.value?.collection).max("year")}`);return(l,s)=>(r(),a(t(P),null,{default:m(()=>[h(t(K),{ref_key:"content",ref:p,fullscreen:!0,style:Y(`--background-image: ${c.value&&!c.value.includes("null")?`url(${c.value})`:""};`)},{default:m(()=>[h(pe,{data:t(e)},null,8,["data"]),i("div",ue,[s[3]||(s[3]=i("div",{class:"flex justify-start items-end flex-grow-0 flex-shrink-0 -mx-4 w-available h-[410px] relative gap-2"},[i("div",{class:"absolute flex flex-col justify-start items-end flex-grow w-available -mx-20 h-[410px] bg-cover bg-top",style:{background:`linear-gradient(
                  0deg,
                  rgba(0, 0, 0, 0.3) 0%,
                  rgba(0, 0, 0, 0.3) 100%
                ),
                var(--background-image) lightgray 50% / cover no-repeat`}})],-1)),i("div",me,[t(e)?.title?(r(),f("p",{key:0,class:"self-stretch flex-grow-0 flex-shrink-0 w-[351px] text-3xl font-bold text-left z-10",innerHTML:t(X)(t(e)?.title??" ","text-lg line-clamp-2")},null,8,ce)):(r(),a(t(d),{key:1,animated:!0,class:"h-7 will-change-auto"})),t(e)?.overview?(r(),a(ne,{key:2,"max-lines":3,text:t(e)?.overview},null,8,["text"])):o("",!0),t(e)?(r(),f("div",de,[t(e)?.content_ratings?(r(),a(u,{key:0,class:"children:!border-none children:!bg-transparent",title:"Age rating"},{default:m(()=>[t(e)?.content_ratings?(r(),a(ie,{key:0,ratings:t(e)?.content_ratings,size:6,class:"h-full min-!h-[1rem] object-scale-down rounded-lg overflow-clip children:-m-0.5"},null,8,["ratings"])):o("",!0)]),_:1})):o("",!0),t(e)?.have_items?(r(),a(u,{key:1,data:`${t(e)?.have_items}/${t(e)?.number_of_items}`,title:"Availability"},null,8,["data"])):o("",!0),t(e)?.year?(r(),a(u,{key:2,data:t(e)?.year.toString(),title:"Release date"},null,8,["data"])):o("",!0),t(e)?.collection?(r(),a(u,{key:3,title:"Timespan"},{default:m(()=>[i("span",fe,k(z.value),1)]),_:1})):o("",!0),t(e)?.total_duration?(r(),a(u,{key:4,data:t(Q)(t(J),t(e)?.total_duration),title:"Duration"},null,8,["data"])):o("",!0)])):(r(),a(t(d),{key:4,animated:!0,class:"h-6 will-change-auto"})),s[0]||(s[0]=i("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-surface-7/[0.1] dark:bg-surface-11/[0.1]"},null,-1)),t(e)?.genres?(r(),a(se,{key:5,data:t(e),"key-name":"genres",prefix:"genres",title:"Genres"},null,8,["data"])):(r(),a(t(d),{key:6,animated:!0,class:"h-12 will-change-auto"})),s[1]||(s[1]=i("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-surface-7/[0.1] dark:bg-surface-11/[0.1]"},null,-1)),i("div",ge,[i("h3",ve,k(l.$t("Collection")),1),i("div",{class:V([_e,"grid w-full gap-4 scroll-smooth music-showing:pb-0"])},[(r(!0),f(q,null,N(t(e)?.collection??[],_=>(r(),a(le,{key:_?.id,data:_,class:""},null,8,["data"]))),128))])]),s[2]||(s[2]=i("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-surface-7/[0.1] dark:bg-surface-11/[0.1]"},null,-1)),t(e)?.cast&&t(e)?.cast?.length>0?(r(),a(I,{key:7,data:t(e)?.cast,class:"-mx-6",title:"Cast"},null,8,["data"])):o("",!0),t(e)?.crew&&t(e)?.crew?.length>0?(r(),a(I,{key:8,data:t(O)(t(e)?.crew,"profile","id"),class:"-mx-6",title:"Crew"},null,8,["data"])):o("",!0),t(e)?.posters&&t(e)?.posters?.length>0?(r(),a(S,{key:9,data:t(e)?.posters,class:"-mx-6",title:"Poster",type:"poster"},null,8,["data"])):o("",!0),t(e)?.backdrops&&t(e)?.backdrops?.length>0?(r(),a(S,{key:10,"color-palette":t(e)?.color_palette?.poster,data:t(e)?.backdrops,class:"-mx-6",title:"Backdrop",type:"backdrop"},null,8,["color-palette","data"])):o("",!0)])])]),_:1},8,["style"])]),_:1}))}}),Ut=re(xe,[["__scopeId","data-v-b77c31de"]]);export{Ut as default};
