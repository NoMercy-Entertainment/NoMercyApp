import{aZ as $,r as p,a_ as G,a$ as S,c as B,b0 as D,a as v}from"./index-pz_asidw.js";import{b9 as s}from"./vendor-F08gofix.js";import{m as E}from"./musicPlaylists-C8dhy1GW.js";import{d as r,C as I}from"./vue-ionic-Cv2or74p.js";const H=(t,a)=>v().get(t),L=(t,a)=>v().put(t,{data:a}),O=(t,a)=>v().post(t,{data:a}),Z=(t,a)=>v().delete(t,{data:a}),j=(t,a)=>v().patch(t,{data:a}),X=t=>t.map(a=>{let l;return a.method==="GET"?l=H:a.method==="PUT"?l=L:a.method==="POST"?l=O:a.method==="PATCH"?l=j:a.method==="DELETE"?l=Z:l=a.command,{label:a.label,icon:a.icon,confirm:a.confirm,command:()=>{var c;return l((c=a.args)==null?void 0:c.url,z.value)}}}),Y=r({}),U=r(),oo=I(()=>U.value);function eo(t){U.value=t}const N=r(null),z=I(()=>N.value);function ao(t){N.value=t}const F=r([]),J=r(),e=r(),to=(t,a)=>{var k,b,h,f,_,C,y,g,x,R,T,M,q,w,A,P;e.value=a;const l=[],c={label:s("Add to playlist"),icon:"mooooom-add",items:[{label:s("New Playlist"),icon:"mooooom-add",command:()=>{var o;alert((o=e.value)==null?void 0:o.id)}}]};E.value.length==0&&c.items.push({label:s("No playlist available"),icon:"mooooom-pause"});for(const o of E.value)c.items.push({label:o.name,icon:"mooooom-disk",command:()=>{var n;alert((n=e.value)==null?void 0:n.id)}});l.push(c),l.push({label:s("Save to your liked songs"),icon:"mooooom-heart",command:()=>{var o;alert((o=e.value)==null?void 0:o.id)}},{label:s("Add to queue"),icon:"mooooom-playlist1Add",command:()=>{var o;alert((o=e.value)==null?void 0:o.id)}},{separator:!0}),!$.value&&((k=e.value)!=null&&k.album_track)&&((h=(b=e.value)==null?void 0:b.album_track)==null?void 0:h.length)<2?l.push({label:s("Go to album"),icon:"mooooom-disk",command:()=>{var o,n,u,m,i,d;(u=(n=(o=e.value)==null?void 0:o.album_track)==null?void 0:n[0])!=null&&u.link&&p.push((d=(i=(m=e.value)==null?void 0:m.album_track)==null?void 0:i[0])==null?void 0:d.link)}}):!$.value&&((f=e.value)!=null&&f.album_track)&&((C=(_=e.value)==null?void 0:_.album_track)==null?void 0:C.length)>1&&l.push({label:s("Go to album"),icon:"mooooom-disk",items:(g=(y=e.value)==null?void 0:y.album_track)==null?void 0:g.map(o=>({label:o.name,icon:"mooooom-disk",command:()=>p.push(o.link)}))}),!G.value&&((x=e.value)!=null&&x.artist_track)&&((T=(R=e.value)==null?void 0:R.artist_track)==null?void 0:T.length)<2?l.push({label:s("Go to artist"),icon:"mooooom-user",command:()=>{var o,n,u,m,i,d;(u=(n=(o=e.value)==null?void 0:o.artist_track)==null?void 0:n[0])!=null&&u.link&&p.push((d=(i=(m=e.value)==null?void 0:m.artist_track)==null?void 0:i[0])==null?void 0:d.link)}}):!G.value&&((M=e.value)!=null&&M.artist_track)&&((w=(q=e.value)==null?void 0:q.artist_track)==null?void 0:w.length)>1&&l.push({label:s("Go to artist"),icon:"mooooom-user",items:(P=(A=e.value)==null?void 0:A.artist_track)==null?void 0:P.map(o=>({label:o.name,icon:"mooooom-user",command:()=>p.push(o.link)}))}),l.push({separator:!0},{label:s("Share"),icon:"mooooom-shareSquare",items:[{label:s("Copy page link"),icon:"mooooom-fileCopy",command:()=>S(window.location.href)},{label:s("Copy track link"),icon:"mooooom-fileCopy",command:()=>{var o,n,u,m;return e.value?S(`${(o=B.value)==null?void 0:o.serverBaseUrl}/${(n=e.value)==null?void 0:n.folder_id}${(u=e.value)==null?void 0:u.folder}${(m=e.value)==null?void 0:m.filename}?token=${D.value}`):{}}}]}),F.value=l,J.value.show(t)};export{ao as a,oo as b,Y as c,J as d,X as m,to as o,eo as s,F as t};
