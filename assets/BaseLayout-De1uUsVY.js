import{a4 as qe,a2 as Ne,a5 as Re,j as v,a6 as te,a7 as Fe,v as Z,a8 as re,a9 as me,aa as De,ab as ye,p as ke,ac as se,ad as We,n as ce,ae as He,af as Ve,ag as _e,ah as Ae,u as ue,l as q,P as Xe,Q as le,ai as Ue,T as ne,U as Ye,aj as ve,V as Ge,W as Qe,ak as Je,al as Ze,r as F,Y as he,am as Ke,an as et}from"./index-FAKGUJAJ.js";import{d as b,C as H,Y as M,w as Q,ap as pe,h as S,o,i as l,t as $,a as fe,H as L,Z as e,F as oe,c as f,T as tt,y as t,l as s,Q as A,b as g,v as m,P as lt,a7 as at,j as $e,aq as st,a4 as ot,p as Ce,ar as rt,aj as ae,as as z,aa as Se,q as nt,at as E,au as V,J as it,av as ct,aw as ut,ax as U,B,ay as I,f as ze,az as ft,aA as Y,aB as dt,ak as pt,aC as mt,ao as _t,aD as vt,_ as ht,an as xt}from"./vue-ionic-CB3fsSQu.js";import{_ as gt,a as bt,b as Me,c as wt,d as yt,e as kt,f as $t,g as Ct}from"./ShuffleButton.vue_vue_type_script_setup_true_lang-doYJGBTh.js";import{_ as C}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-DQt-oQaH.js";import{E as St,d as je,a as zt,c as Mt,b as jt,g as Pe,f as Pt,e as Te,_ as Tt}from"./ChristmasSnow.vue_vue_type_script_setup_true_lang-DJ1M3P3M.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as G}from"./MusicButton.vue_vue_type_script_setup_true_lang-Cm7aQ_Gx.js";import{_ as Be}from"./CoverImage.vue_vue_type_script_setup_true_lang-kum-8dJE.js";import{_ as Bt}from"./DropdownMenu.vue_vue_type_script_setup_true_lang-Ck_icWan.js";import{_ as Ie}from"./TrackLinks.vue_vue_type_script_setup_true_lang-Dd1saI89.js";import{M as Le}from"./MediaLikeButton-Gi3gSL5M.js";import{l as xe,s as It,m as ge,g as Lt,a as Et,b as Ot,d as qt,h as Nt,c as Rt,f as Ft,n as Dt}from"./icons-BW5E66pf.js";import{d as D}from"./colorScheme-BFaWEuYI.js";import{_ as Ee}from"./NoMercyAvatar.vue_vue_type_script_setup_true_lang-gya1X2wq.js";import{T as de}from"./Toggle-BiAgpoFf.js";import{bg as Wt,bh as be}from"./vendor-D67oQ9Zt.js";import{A as Ht}from"./AppLogoSquare-BQzxVNwo.js";import{s as ie,c as T}from"./sidebar-CTCz9PZ0.js";import"./api-BBofn2cc.js";import"./music-player-DVxBCkzH.js";import"./media-C2AqgyMX.js";import"./swiper-DhG1br88.js";import"./rxjs-BCp2L9Rn.js";import"./primevue-r1aCqwRp.js";import"./imageModal-lRNr_wf0.js";import"./TMDBImage.vue_vue_type_script_setup_true_lang-CwnWFu3m.js";import"./contextMenuItems-D7C3FEdw.js";import"./musicPlaylists-DsBA7obs.js";import"./PlayerIcon.vue_vue_type_script_setup_true_lang-CKfHBUj-.js";import"./SliderBar.vue_vue_type_script_setup_true_lang-CXT2HGzs.js";import"./ScrollContainer.vue_vue_type_script_setup_true_lang-BC0HU8gf.js";import"./Button.vue_vue_type_script_setup_true_lang-Dz3Tx9gf.js";const K=b(!1),J=H(()=>K.value),Vt=()=>{K.value=!K.value},W=()=>{K.value=!1},we=async()=>{K.value?W():Vt()},At={key:0,class:"h-1 w-8 flex-shrink-0 flex-grow-0 bg-black/25 rounded-[360px] dark:bg-white/25"},Xt={key:1,class:"h-1 w-8 flex-shrink-0 flex-grow-0"},Oe=M({__name:"BottomFlyout",props:{menuOpen:{type:Boolean,required:!0},closeMenu:{type:Function,required:!0},allowSwipeToClose:{type:Boolean,default:!0}},setup(p){const u=b(null),i=b(null),c=H(()=>{var h;return(h=i.value)==null?void 0:h.offsetHeight}),r=b("-125%"),a=p;Q(a,h=>{h.menuOpen?r.value="0":r.value="-125%"});const{isSwiping:n,lengthY:k}=pe(u,{passive:!0,onSwipe(){if(c.value&&a.allowSwipeToClose)if(k.value<0){const h=-Math.abs(k.value);r.value=`${h}px`}else r.value="0"},onSwipeEnd(h){k.value<0&&c.value&&Math.abs(k.value)/c.value>=.25?(r.value="-125%",a.closeMenu()):r.value="0"}});return(h,x)=>(o(),S(oe,null,[l("div",{class:$(["h-screen absolute w-available flex-shrink-0 flex-grow-0 transition-colors duration-200",{"bg-black/25 dark:bg-black/50 ":p.menuOpen,"pointer-events-none":!p.menuOpen}])},null,2),l("div",{class:$(["fixed flex w-full flex-shrink-0 flex-grow-0 select-none bg-slate-light-1 dark:bg-slate-dark-3 flex-col items-center justify-end gap-3 overflow-hidden rounded-t-3xl rounded-tl-lg rounded-tr-lg p-2 px-0 -bottom-[125%]",{"transition-bottom duration-200 ease-in-out ":!e(n)}]),ref_key:"target",ref:u,style:L({bottom:r.value})},[p.allowSwipeToClose?(o(),S("div",At)):(o(),S("div",Xt)),l("div",{ref_key:"container",ref:i,class:"flex flex-shrink-0 w-available flex-grow-0 flex-col items-start justify-start self-stretch overflow-hidden text-slate-dark-1 dark:text-slate-light-1"},[fe(h.$slots,"default")],512)],6)],64))}}),Ut={id:"equalizer",class:"flex flex-col w-available -mt-4 gap-4 p-4 z-[9999]"},Yt=M({__name:"EqualizerMenu",setup(p){const u=()=>{Re(!1)};return(i,c)=>(o(),f(tt,{to:"body"},[t(Oe,{menuOpen:e(Ne),closeMenu:e(qe),allowSwipeToClose:!1},{default:s(()=>[l("div",Ut,[t(St,null,{button:s(()=>[l("button",{onClick:c[0]||(c[0]=r=>u())},[t(C,{icon:"cross",class:"w-6 h-6"})])]),_:1})])]),_:1},8,["menuOpen","closeMenu"])]))}}),Gt=X(Yt,[["__scopeId","data-v-84c9b465"]]),Qt=["data-size"],Jt={key:0,class:"whitespace-pre text-center leading-none text-2xs"},Zt=["innerHTML"],Kt={class:"flex flex-col gap-1 min-h-[85px]"},el=M({__name:"TopRow",setup(p){const u=H(()=>{var i,c,r;return(r=(c=(i=v.value)==null?void 0:i.album_track)==null?void 0:c[0])==null?void 0:r.name});return(i,c)=>(o(),S("div",{class:"flex h-16 w-full items-center justify-between","data-size":e(Z)},[t(G,{label:"close",onclick:()=>e(te)(),class:"!min-w-12"},{default:s(()=>[t(C,{icon:"chevronDown",class:"h-6 w-6"})]),_:1},8,["onclick"]),l("div",{class:$(["relative flex flex-col gap-1",{"mt-2":!e(A)("capacitor")}])},[u.value?(o(),S("span",Jt,m(i.$t("Now playing")),1)):g("",!0),u.value?(o(),S("div",{key:1,class:"whitespace-pre-line text-pretty text-left leading-5 text-base",innerHTML:e(Fe)(u.value,"text-xs line-clamp-1")},null,8,Zt)):g("",!0)],2),t(Bt,{orientation:"vertical",class:"!min-w-12 flex items-center justify-center"},{button:s(()=>[t(C,{icon:"menuDotsVertical",class:"h-6 w-6"})]),default:s(()=>[l("div",Kt,[t(G,{label:"close",onclick:()=>e(te)()},{default:s(()=>[t(C,{icon:"chevronDown",class:"h-6 w-6"})]),_:1},8,["onclick"]),t(G,{label:"close",onclick:()=>e(te)()},{default:s(()=>[t(C,{icon:"chevronDown",class:"h-6 w-6"})]),_:1},8,["onclick"]),t(G,{label:"close",onclick:()=>e(te)()},{default:s(()=>[t(C,{icon:"chevronDown",class:"h-6 w-6"})]),_:1},8,["onclick"])])]),_:1})],8,Qt))}}),tl={class:"flex w-full flex-col justify-end gap-8"},ll={class:"my-1 flex w-full items-center"},al={class:"z-10 flex w-full flex-col gap-2 overflow-clip"},sl={class:"w-full overflow-clip text-xl font-semibold line-clamp-1"},ol={class:"overflow-hidden leading-none w-inherit line-clamp-1"},rl=["data-size"],nl=M({__name:"TrackRow",setup(p){const u=()=>{Z.value===re.compact?me(re.full):me(re.compact)};return(i,c)=>{var r,a,n;return o(),S("div",tl,[l("div",ll,[l("div",al,[l("h6",sl,[l("span",ol,m((r=e(v))==null?void 0:r.name),1)]),l("div",{"data-size":e(Z),class:"mb-1 inline-flex w-fit gap-1 overflow-hidden whitespace-nowrap text-xs line-clamp-1 hover:animate-pause"},[e(v)?(o(),f(Ie,{key:0,id:e(v).id,data:e(v).artist_track,onclick:u,type:"artists"},null,8,["id","data"])):g("",!0)],8,rl)]),e(v)?(o(),f(Le,{key:((a=e(v))==null?void 0:a.id)+((n=e(v))==null?void 0:n.favorite),data:e(v),color:"var(--color-focus)",class:"flex"},null,8,["data"])):g("",!0)])])}}}),il=["data-size"],cl=["data-size"],ul=M({__name:"ButtonContainer",setup(p){const u=lt("nmplayer-music-supports-audio-context",!1);return(i,c)=>(o(),S(oe,null,[l("div",{class:"flex w-full items-center justify-between px-6","data-size":e(Z)},[t(gt),t(bt),t(Me,{class:"!h-14 !w-14 !bg-focus/50 !rounded-full shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-9)/60%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-9)/70%)] dark:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-1)/70%)] hover:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-11)/60%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-11)/70%)] dark:hover:shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-1)/70%)] active:!shadow-none active:!dark:shadow-none"}),t(wt),t(yt)],8,il),l("div",{class:"mb-12 flex h-12 w-full justify-between px-6 gap-2 z-10","data-size":e(Z)},[t(je,{ref:"deviceOverlay",class:"!w-auto !justify-start"},null,512),t(zt,{class:"ml-auto"}),e(u)?(o(),f(Mt,{key:0})):g("",!0),t(jt,{ref:"queueOverlay"},null,512),t(Pe),t(Pt)],8,cl)],64))}}),fl={class:"relative z-0 pt-safe-offset-2 flex h-screen min-h-screen flex-col items-center justify-between gap-2 w-inherit scrollbar-none text-slate-light-12 dark:text-slate-dark-12 overflow-clip"},dl={class:"frosting w-available max-w-2xl h-auto aspect-square shadow mx-6 relative items-center flex"},pl={class:"frosting relative mx-3 -mt-10 mb-3 rounded-2xl pt-10 pb-4 w-available bg-focus/60 shadow"},ml={class:"absolute top-0 z-10 flex w-full items-center rounded-t-2xl pr-2 pl-4 font-semibold"},_l=M({__name:"FullPlayer",setup(p){const{t:u}=at(),i=b("small"),c=b(),r=b(),a=b(),n=b(0),k=b(),h=b("lazy"),x=b([v.value,...Object.values(De.value)]);Q(i,()=>{setTimeout(()=>{var _,y;i.value=="small"?(_=document.querySelector("#MobilePlayer"))==null||_.scrollTo({top:window.innerHeight/2,behavior:"smooth"}):(y=document.querySelector("#MobilePlayer"))==null||y.scrollTo({top:999990,behavior:"smooth"})},200)},{immediate:!0}),Q(se,_=>{_&&(a.value=Ve.value,setTimeout(()=>{h.value="eager"},50))}),Q(v,_=>{var j,P;if(!_)return;const y=x.value.findIndex(ee=>ee.id==_.id);n.value=y,(P=(j=k.value)==null?void 0:j.$el)==null||P.swiper.slideTo(y)});const d=H(()=>{var _,y,j,P;return ye.value?ke(((y=(_=v.value)==null?void 0:_.color_palette)==null?void 0:y.backdrop)??((P=(j=v.value)==null?void 0:j.color_palette)==null?void 0:P.cover),20,160).replace(/,/gu," ").replace("rgb(",""):"var(--color-theme-7)"}),w=_=>{_.touches.diff!=0&&(_.touches.startX>_.touches.currentX&&_.touches.diff<-100?ce.next():_.touches.startX<_.touches.currentX&&_.touches.diff>100&&ce.previous())},N=()=>{var _,y;r.value&&(i.value=i.value=="small"?"full":"small",i.value=="small"?((y=(_=c.value)==null?void 0:_.$el)==null||y.scrollToTop(),setTimeout(()=>{r.value.style.height="25rem"},500)):(r.value.style.height=`${window.innerHeight*.85}px`,setTimeout(()=>{var j;(j=c.value.$el)==null||j.scrollToBottom()},0)))},R=async()=>{He(!1)};return(_,y)=>{const j=$e("swiper-slide");return o(),f(e(st),{"is-open":e(se),onWillDismiss:R,"initial-breakpoint":1,breakpoints:[0,1],key:"fullPlayer",id:"fullPlayer"},{default:s(()=>[t(e(rt),{ref_key:"content",ref:c,fullscreen:!0,style:L(`--color-focus: ${d.value}`)},{default:s(()=>[t(Te),l("div",fl,[y[0]||(y[0]=l("div",{class:"pointer-events-none absolute inset-0 w-full bg-spotifyBottom bg-focus transition-all duration-500"},null,-1)),t(el,{class:"pt-safe px-6"}),(o(),f(e(ot),{ref_key:"swiper",ref:k,"slides-per-view":1,initialSlide:n.value,loop:!0,onTouchEnd:w,class:"w-available swiper isolate z-0",key:e(We)},{default:s(()=>[(o(!0),S(oe,null,Ce(x.value??[],(P,ee)=>(o(),f(j,{key:P.id,class:"h-full","data-index":ee,"data-id":P.id},{default:s(()=>[l("div",dl,[(o(),f(Be,{key:P.id,data:P,loading:ee==n.value?"eager":h.value,className:"pointer-events-none relative aspect-square h-auto overflow-clip rounded-md w-inherit shadow"},null,8,["data","loading"]))])]),_:2},1032,["data-index","data-id"]))),128))]),_:1},8,["initialSlide"])),t(nl,{class:"px-6"}),t(kt,{class:"children:!mx-0 gap-4 px-6"}),t(ul)]),l("div",pl,[l("div",ml,[l("span",null,m(e(u)("Lyrics")),1),t(G,{label:"expand",class:"ml-auto",onclick:N},{default:s(()=>[i.value=="full"?(o(),f(C,{key:0,icon:"arrowExitFullscreen",class:"h-5 w-5"})):(o(),f(C,{key:1,icon:"arrowEnterFullscreen",class:"h-5 w-5"}))]),_:1})]),y[1]||(y[1]=l("div",{class:"pointer-events-none absolute inset-0 flex items-center justify-center rounded-xl bg-black opacity-3"},null,-1)),l("div",{ref_key:"lyricsContainer",ref:r,class:"relative w-full mb-0 flex-col overflow-auto scroll-smooth rounded-b-2xl p-4 transition-transform duration-150 h-[25rem]"},[t($t,{class:"sm:hidden"})],512)])]),_:1},8,["style"])]),_:1},8,["is-open"])}}}),vl=X(_l,[["__scopeId","data-v-16bbdd33"]]),hl={class:"flex flex-grow items-center justify-start gap-2.5 overflow-clip w-[65%]"},xl={class:"frosting relative flex w-10 min-w-10 items-start justify-start gap-2 overflow-hidden rounded"},gl={class:"w-auto self-stretch text-left text-sm font-medium leading-6 line-clamp-1"},bl={class:"children:children:children:children:children:leading-6 w-auto self-stretch text-left text-sm text-auto-12/11"},wl={class:"flex items-center justify-end gap-1"},yl={class:"absolute left-0 w-full h-0.5 top-[54px] blur-[1px]"},kl=M({__name:"MiniPlayer",setup(p){const u=H(()=>{var d,w;return ye.value?ke((w=(d=v.value)==null?void 0:d.color_palette)==null?void 0:w.cover,20,160).replace(/,/gu," ").replace("rgb(",""):"var(--color-theme-7)"}),i=b(null),c=b(null),r=H(()=>{var d;return(d=c.value)==null?void 0:d.offsetWidth}),a=b("0"),n=b(1);function k(){a.value="0",n.value=1}const{isSwiping:h,lengthX:x}=pe(i,{passive:!0,onSwipe(){if(r.value){const d=Math.abs(x.value);n.value=1.1-d/r.value,x.value<0?a.value=`${d}px`:a.value=`-${d}px`}},onSwipeEnd(){r.value&&(x.value<0&&Math.abs(x.value)/r.value>=.5||x.value>100&&Math.abs(x.value)/r.value>=.5)?(a.value="100%",n.value=0,ce.stop(),k()):(a.value="0",n.value=1)}});return(d,w)=>{var N,R,_;return!e(J)&&e(v)?(o(),S("div",{key:0,onClick:w[0]||(w[0]=y=>e(Ae)()),id:"miniPlayer",ref_key:"container",ref:c,style:L(`--color-focus: ${u.value}`),class:"flex absolute w-available justify-between items-center self-stretch bottom-0 h-14 overflow-hidden p-2 bg-slate-light-1 dark:bg-slate-dark-3 mt-auto z-0"},[w[2]||(w[2]=l("div",{class:"absolute inset-0 h-full w-full bg-gradient-to-b to-black/40 from-focus/40"},null,-1)),l("div",hl,[l("div",xl,[e(v)?(o(),f(Be,{key:0,size:100,className:"relative aspect-square h-10 w-10 cursor-pointer overflow-hidden rounded-sm text-theme-400 min-w-[2.5rem] min-h-[2.5rem]",data:e(v)},null,8,["data"])):g("",!0)]),l("div",{class:$(["relative flex h-full flex-grow flex-col items-start justify-evenly overflow-clip w-inherit",{animated:!e(h)}]),ref_key:"target",ref:i,style:L({left:a.value,opacity:n.value})},[l("p",gl,m((N=e(v))==null?void 0:N.name),1),l("p",bl,[e(v)?(o(),f(Ie,{key:0,id:e(v).id,data:e(v).artist_track,type:"artists"},null,8,["id","data"])):g("",!0)])],6)]),l("div",wl,[t(je,{noName:""}),(o(),f(Le,{key:((R=e(v))==null?void 0:R.id)+((_=e(v))==null?void 0:_.favorite),data:e(v),color:"var(--color-focus)"},null,8,["data"])),t(Me,{class:"children:h-7 children:w-7"})]),l("div",yl,[w[1]||(w[1]=l("div",{class:"absolute w-full h-0.5 left-[-1px] top-[-1px] bg-black/[0.22]"},null,-1)),l("div",{class:"w-0 h-0.5 absolute left-[-1px] top-[-1px] rounded-sm bg-gradient-to-r from-black/5 to-[rgb(var(--color-focus))] z-10",style:L(`width: ${e(_e)}%;`)},null,4),l("div",{class:"w-1 h-0.5 absolute top-[-1px] rounded-sm bg-[#f1EEFE] -translate-x-[2px] z-0",style:L(`left: ${e(_e)}%;`)},null,4)])],4)):g("",!0)}}}),$l={class:"flex flex-col justify-start items-start flex-grow relative gap-0.5"},Cl={class:"flex-grow-0 flex-shrink-0 w-48 text-base font-semibold text-left text-slate-dark-1 dark:text-slate-light-1"},Sl={class:"flex justify-start items-center self-stretch flex-grow-0 flex-shrink-0 relative gap-0.5"},zl={class:"flex-grow text-sm text-left text-slate-dark-3 dark:text-slate-light-3"},Ml=M({__name:"ProfileMenuServerSection",setup(p){return(u,i)=>(o(),f(e(ae),{to:"/preferences/profile",class:"flex justify-start items-center self-stretch flex-grow-0 flex-shrink-0 relative gap-2.5 mb-2"},{default:s(()=>{var c;return[t(Ee,{user:e(ue),size:40},null,8,["user"]),l("div",$l,[l("p",Cl,m(e(ue).name),1),l("div",Sl,[e(q)?(o(),f(e(z),{key:0,"aria-hidden":"true",icon:e(xe),class:"w-4 h-4"},null,8,["icon"])):(o(),f(e(z),{key:1,"aria-hidden":"true",icon:e(xe),class:"w-4 h-4"},null,8,["icon"])),l("p",zl,m(((c=e(q))==null?void 0:c.name)??u.$t("Not connected")),1)])])]}),_:1}))}}),jl={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},Pl={class:"flex-grow w-full text-lg font-medium text-left"},Tl={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},Bl={class:"flex-grow w-full text-lg font-medium text-left"},Il={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},Ll={class:"flex-grow w-full text-lg font-medium text-left"},El={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},Ol={class:"flex-grow w-full text-lg font-medium text-left"},ql={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},Nl={class:"flex-grow w-full text-lg font-medium text-left"},Rl={for:"ion-tg-0",class:"flex justify-center items-center flex-grow relative gap-2 px-2 w-available"},Fl={class:"flex-grow w-full text-lg font-medium text-left"},Dl={for:"ion-tg-0",class:"flex justify-center items-center flex-grow relative gap-2 px-2 w-available"},Wl={class:"flex-grow w-full text-lg font-medium text-left"},Hl={class:"flex justify-center items-center flex-grow relative gap-2 pl-2"},Vl={class:"flex-grow w-full text-lg font-medium text-left"},Al=M({__name:"ProfileMenu",setup(p){const u=()=>window.location.reload(),i=Se(),c=async()=>{A("android")&&be.open({url:`nomercy://${i.path}`}).then(()=>{setTimeout(async()=>{await be.open({url:`nomercy://${i.path}`})},1e3)})};return(r,a)=>(o(),f(Oe,{menuOpen:e(J),closeMenu:e(W)},{default:s(()=>[t(e(ct),null,{default:s(()=>[t(e(E),{lines:"inset"},{default:s(()=>[t(Ml)]),_:1}),t(e(E),{lines:"inset"},{default:s(()=>[t(e(ae),{to:"/setup/select-servers",class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent"},{default:s(()=>[t(e(V)),a[4]||(a[4]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(z),{"aria-hidden":"true",icon:e(It),className:"size-6 min-w-6"},null,8,["icon"]),l("div",jl,[l("p",Pl,m(r.$t("Switch server")),1)])]),_:1})]),_:1}),t(e(E),{lines:"none"},{default:s(()=>[t(e(ae),{to:"/preferences/display",class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent"},{default:s(()=>[t(e(V)),a[5]||(a[5]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(z),{"aria-hidden":"true",icon:e(ge),className:"size-6 min-w-6"},null,8,["icon"]),l("div",Tl,[l("p",Bl,m(r.$t("Preferences")),1)])]),_:1})]),_:1}),t(e(E),{lines:"none"},{default:s(()=>[t(e(ae),{to:"/dashboard/system",class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent"},{default:s(()=>[t(e(V)),a[6]||(a[6]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(z),{"aria-hidden":"true",icon:e(Lt),className:"size-6 min-w-6"},null,8,["icon"]),l("div",Il,[l("p",Ll,m(r.$t("System")),1)])]),_:1})]),_:1}),t(e(E),{lines:"none"},{default:s(()=>[l("button",{"no-ring":"",onClick:a[0]||(a[0]=n=>u()),class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent"},[t(e(V)),a[7]||(a[7]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(z),{"aria-hidden":"true",icon:e(Et),className:"size-6 min-w-6"},null,8,["icon"]),l("div",El,[l("p",Ol,m(r.$t("Refresh")),1)])])]),_:1}),!e(A)("capacitor")&&e(A)("android")?(o(),f(e(E),{key:0,lines:"none"},{default:s(()=>[l("button",{"no-ring":"",onClick:c,class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent"},[t(e(V)),a[8]||(a[8]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(z),{"aria-hidden":"true",icon:e(Wt),className:"size-6 min-w-6"},null,8,["icon"]),l("div",ql,[l("p",Nl,m(r.$t("Open in App")),1)])])]),_:1})):g("",!0),t(e(E),{lines:"none"},{default:s(()=>[l("button",{"no-ring":"",onClick:a[1]||(a[1]=n=>D.value=!e(D)),class:"flex justify-center items-center self-stretch w-available h-full flex-grow-0 flex-shrink-0 relative pl-2 py-2.5 rounded-md bg-transparent border border-transparent"},[t(e(z),{"aria-hidden":"true",icon:e(Ot),className:"size-6 min-w-6"},null,8,["icon"]),l("label",Rl,[l("span",Fl,m(r.$t("Dark mode")),1)]),t(de,{"model-value":e(D),class:"pointer-events-none"},null,8,["model-value"])])]),_:1}),nt(t(e(E),{lines:"inset"},{default:s(()=>[l("button",{"no-ring":"",onClick:a[2]||(a[2]=n=>le.value=!e(le)),class:"flex justify-center items-center self-stretch w-available h-full flex-grow-0 flex-shrink-0 relative pl-2 py-2.5 rounded-md bg-transparent border border-transparent"},[t(e(z),{"aria-hidden":"true",icon:e(ge),className:"size-6 min-w-6"},null,8,["icon"]),l("label",Dl,[l("span",Wl,m(e(le)?r.$t("Disable TV mode"):r.$t("Enable TV mode")),1)]),t(de,{"model-value":e(le),class:"pointer-events-none"},null,8,["model-value"])])]),_:1},512),[[it,!e(Xe)&&!e(A)("mobileweb")]]),t(e(E),{lines:"none"},{default:s(()=>[l("button",{"no-ring":"",onClick:a[3]||(a[3]=n=>e(Ue)()),class:"flex justify-center items-center self-stretch w-full h-full flex-grow-0 flex-shrink-0 relative pl-1 py-2.5 rounded-md bg-transparent border border-transparent"},[t(e(V)),a[9]||(a[9]=l("div",{class:"flex-grow-0 flex-shrink-0 w-1 h-3.5"},null,-1)),t(e(z),{"aria-hidden":"true",icon:e(qt),className:"size-6 min-w-6"},null,8,["icon"]),l("div",Hl,[l("p",Vl,m(r.$t("Logout")),1)])])]),_:1})]),_:1})]),_:1},8,["menuOpen","closeMenu"]))}}),Xl=X(Al,[["__scopeId","data-v-f1dbce37"]]),Ul={class:"relative mx-auto flex flex-col rounded-full min-h-8 size-8 top-1.5 mb-2 mt-2.5 bg-black"},Yl=M({__name:"BottomBar",setup(p){return(u,i)=>(o(),f(e(ut),{slot:"bottom",mode:"md","selected-tab":"home",class:$(["w-available overflow-clip",{"bg-sand-light-1 dark:bg-slate-dark-3 hide-bg":e(J),"bg-sand-light-1 dark:bg-slate-dark-3":!e(J)}])},{default:s(()=>[e(q)?(o(),f(e(U),{key:0,tab:"home",href:"/home",onClick:e(W)},{default:s(()=>[t(e(z),{"aria-hidden":"true",icon:e(Nt)},null,8,["icon"]),t(e(I),null,{default:s(()=>[B(m(u.$t("Home")),1)]),_:1})]),_:1},8,["onClick"])):g("",!0),t(e(U),{tab:"search",href:"/search",onClick:e(W)},{default:s(()=>[t(e(z),{"aria-hidden":"true",icon:e(Rt)},null,8,["icon"]),t(e(I),null,{default:s(()=>[B(m(u.$t("Search")),1)]),_:1})]),_:1},8,["onClick"]),e(q)?(o(),f(e(U),{key:1,tab:"library",href:"/libraries",onClick:e(W)},{default:s(()=>[t(e(z),{"aria-hidden":"true",icon:e(Ft),class:"icon"},null,8,["icon"]),t(e(I),null,{default:s(()=>[B(m(u.$t("Library")),1)]),_:1})]),_:1},8,["onClick"])):g("",!0),e(q)?(o(),f(e(U),{key:2,tab:"music",href:"/music/start",onClick:e(W)},{default:s(()=>[t(e(z),{"aria-hidden":"true",icon:e(Dt)},null,8,["icon"]),t(e(I),null,{default:s(()=>[B(m(u.$t("Music")),1)]),_:1})]),_:1},8,["onClick"])):g("",!0),t(e(U),{"_on-click":e(we),onClick:e(we),tab:"/dashboard",class:$(["hide-bg",{"tab-selected":e(J)}])},{default:s(()=>[l("div",Ul,[t(Ht,{alt:"NoMercy Logo",class:"absolute w-8 h-8 rounded-full p-1.5"}),t(Ee,{user:e(ue),size:52,class:"absolute"},null,8,["user"])]),t(e(I),null,{default:s(()=>[B(m(u.$t("Profile")),1)]),_:1})]),_:1},8,["_on-click","onClick","class"])]),_:1},8,["class"]))}}),Gl=X(Yl,[["__scopeId","data-v-63d72b16"]]),Ql={class:"relative flex flex-grow items-center justify-center gap-2 pl-2"},Jl={class:"flex-grow text-left text-lg font-medium w-available"},Zl={class:"relative flex flex-grow items-center justify-center gap-2 pl-2"},Kl={class:"flex-grow text-left text-lg font-medium w-available"},O=M({__name:"SideFlyoutButton",props:{title:{type:String,required:!0},icon:{type:String,required:!0},href:{type:String,default:""},onclick:{type:Function},active:{type:Boolean,default:!1}},setup(p){return(u,i)=>{const c=$e("RouterLink");return p.href?(o(),f(c,{key:0,to:p.href,onClick:p.onclick,class:$([p.active?"bg-focus/12 border-focus/4 text-auto-12 shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-1)/60%)] hover:!shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-1)/60%)]":"","relative flex h-12 flex-shrink-0 flex-grow-0 items-center justify-center self-stretch rounded-md border border-transparent bg-transparent py-2.5"]),style:L(p.active?{background:"radial-gradient(50% 50% at 50% 100%, rgba(70, 70, 70, 0.09) 0%, rgba(70, 70, 70, 0.06) 40%, rgba(70, 70, 70, 0.00) 100%), linear-gradient(180deg, rgba(70, 70, 70, 0.00) 0%, rgba(70, 70, 70, 0.12) 100%), rgba(var(--color-focus) / 60%)",backgroundBlendMode:"normal, overlay, normal"}:{})},{default:s(()=>[i[1]||(i[1]=l("div",{class:"w-1 flex-shrink-0 flex-grow-0 h-3.5"},null,-1)),t(C,{icon:p.icon,className:"relative h-6 w-6 flex-shrink-0 flex-grow-0"},null,8,["icon"]),l("div",Ql,[l("p",Jl,m(u.$t(p.title)),1)]),fe(u.$slots,"default")]),_:3},8,["to","onClick","class","style"])):(o(),S("button",{key:1,onClick:i[0]||(i[0]=(...r)=>p.onclick&&p.onclick(...r)),class:$([p.active?"bg-focus/12 border-focus/4 text-auto-12 shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-1)/60%)] hover:!shadow-[0_1px_0_0_rgba(255,255,255,0.20)_inset,0_-1px_0_0_rgba(var(--color-slate-1)/30%)_inset,0_22px_30px_-4px_rgba(var(--color-slate-1)/60%)]":"","relative flex h-12 flex-shrink-0 flex-grow-0 items-center justify-center self-stretch rounded-md border border-transparent bg-transparent py-2.5"]),style:L(p.active?{background:"radial-gradient(50% 50% at 50% 100%, rgba(70, 70, 70, 0.09) 0%, rgba(70, 70, 70, 0.06) 40%, rgba(70, 70, 70, 0.00) 100%), linear-gradient(180deg, rgba(70, 70, 70, 0.00) 0%, rgba(70, 70, 70, 0.12) 100%), rgba(var(--color-focus) / 60%)",backgroundBlendMode:"normal, overlay, normal"}:{})},[i[2]||(i[2]=l("div",{class:"w-1 flex-shrink-0 flex-grow-0 h-3.5"},null,-1)),t(C,{icon:p.icon,className:"relative h-6 w-6 flex-shrink-0 flex-grow-0"},null,8,["icon"]),l("div",Zl,[l("p",Kl,m(u.$t(p.title)),1)]),fe(u.$slots,"default")],6))}}}),ea={key:0,class:"flex flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-1 self-stretch border-t border-r-0 border-b border-l-0 px-3 py-2 border-auto-12/[0.08]"},ta={key:1,class:"flex flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-1 self-stretch border-t-0 border-r-0 border-b border-l-0 px-3 py-2 border-auto-12/[0.08]"},la={class:"flex flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-1 self-stretch px-3 py-2"},aa={class:"inline-flex w-min cursor-pointer items-center gap-3",for:"ion-tg-0"},sa={class:"flex flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-1 self-stretch px-3 py-2 mt-auto border-t border-r-0 border-b-0 border-l-0 border-auto-12/[0.08]"},oa=M({__name:"SideFlyout",setup(p){const u=()=>window.location.reload(),i=b(null),c=b(null),r=H(()=>{var x;return(x=c.value)==null?void 0:x.offsetWidth}),a=b("-100%"),n=b(0);ze(()=>{ie.value==="open"?(a.value="0",n.value=1):(a.value="-100%",n.value=0)}),Q(ie,x=>{x==="open"?(a.value="0",n.value=1):x==="closed"&&(a.value="-100%",n.value=0)});const{isSwiping:k,lengthX:h}=pe(i,{passive:!0,onSwipe(){if(r.value)if(h.value>0){const x=Math.abs(h.value);a.value=`-${x}px`,n.value=1-x/r.value}else a.value="0",n.value=1},onSwipeEnd(){h.value>0&&r.value&&Math.abs(h.value)/r.value>=.25?(a.value="-100%",n.value=0,T()):(a.value="0",n.value=1)}});return(x,d)=>(o(),S("aside",{class:$([{"transition-left duration-200 ease-in-out ":!e(k)},"flex flex-col h-available absolute top-14 z-999 w-5/6 overflow-hidden"]),style:L([{"box-shadow":"0 4px 7px 0 rgba(0,0,0,0.08)"},{left:a.value}]),ref_key:"target",ref:i},[l("div",{class:$(["fixed inset-0 top-14 w-[500%] h-screen bg-black/40 -z-10",{"transition-opacity duration-200 ease-in-out ":!e(k),"pointer-events-none":e(ie)!=="open"}]),style:L({opacity:n.value}),onClick:d[0]||(d[0]=(...w)=>e(T)&&e(T)(...w))},null,6),l("div",{ref_key:"container",ref:c,class:"flex flex-shrink-0 flex-grow-0 flex-col items-start justify-start self-stretch overflow-hidden bg-slate-light-1 dark:bg-slate-dark-3 h-full"},[t(Tt),e(q)?(o(),S("div",ea,[t(O,{icon:"serverSwitch",title:"Switch server",href:"/setup/select-servers",onClick:e(T)},null,8,["onClick"])])):g("",!0),e(q)?(o(),S("div",ta,[e(ne)?(o(),f(O,{key:0,icon:"home1",title:"Home",href:"/home",onClick:e(T),active:e(Ye)},null,8,["onClick","active"])):g("",!0),e(ne)&&e(ve)?(o(),f(O,{key:1,icon:"folder",title:"Libraries",href:"/libraries",onClick:e(T),active:e(Ge)},null,8,["onClick","active"])):g("",!0),e(ne)&&e(ve)?(o(),f(O,{key:2,icon:"noteDouble",title:"Music",href:"/music/start",onClick:e(T),active:e(Qe)},null,8,["onClick","active"])):g("",!0)])):g("",!0),l("div",la,[e(q)?(o(),f(O,{key:0,icon:"gridMasonry",title:"System",href:"/dashboard/system",active:e(Je),onClick:e(T)},null,8,["active","onClick"])):g("",!0),e(q)?(o(),f(O,{key:1,icon:"paintSwatches",title:"Preferences",active:e(Ze),onClick:e(T),href:"/preferences/display"},null,8,["active","onClick"])):g("",!0),t(O,{icon:"arrowRefreshHorizontal",title:"Refresh",onclick:u,onClick:e(T)},null,8,["onClick"]),t(O,{icon:"moonDiagonal",title:"Dark mode",onClick:d[2]||(d[2]=w=>D.value=!e(D))},{default:s(()=>[l("label",aa,[t(de,{"model-value":e(D),"onUpdate:modelValue":d[1]||(d[1]=w=>D.value=w),id:"toggleScheme"},null,8,["model-value"])])]),_:1})]),l("div",sa,[t(O,{icon:"doorOpen",title:"Logout",onClick:d[3]||(d[3]=w=>{var N,R;return(R=(N=x.$keycloak)==null?void 0:N.keycloak)==null?void 0:R.logout()})})])],512)],6))}}),ra=M({__name:"MobileLibraryHeader",setup(p){const u=["/libraries/","/genre"],i=["/collection","/specials","/person"],c=Se(),r=b(u.some(a=>c.fullPath.startsWith(a))||i.some(a=>c.fullPath.endsWith(a)));return F.afterEach(a=>{r.value=u.some(n=>a.fullPath.startsWith(n))||i.some(n=>a.fullPath.endsWith(n))}),(a,n)=>r.value?(o(),f(e(ft),{key:0,class:"mt-safe transition-all duration-200 toolbar"},{default:s(()=>[t(e(dt),{scrollable:!0,mode:"ios",value:e(c).fullPath},{default:s(()=>{var k,h,x;return[(o(!0),S(oe,null,Ce(((k=e(he))==null?void 0:k.filter(d=>d.type!="music"))??[],d=>(o(),f(e(Y),{key:d.id,value:`/libraries/${d.id}`,layout:"icon-start",onClick:()=>e(F).push(`/libraries/${d.id}`),class:$({"bg-focus":e(c).fullPath.startsWith(`/libraries/${d.id}`)})},{default:s(()=>[t(C,{icon:"folder",class:"mr-2"}),t(e(I),null,{default:s(()=>[B(m(d.title),1)]),_:2},1024)]),_:2},1032,["value","onClick","class"]))),128)),(x=(h=e(he))==null?void 0:h.some)!=null&&x.call(h,d=>d.type==="movie")?(o(),f(e(Y),{key:0,value:"/collection",layout:"icon-start",onClick:n[0]||(n[0]=()=>e(F).push("/collection")),class:$({"bg-focus":e(c).fullPath.startsWith("/collection")})},{default:s(()=>[t(C,{icon:"collection1",class:"mr-2"}),t(e(I),null,{default:s(()=>[B(m(a.$t("Collections")),1)]),_:1})]),_:1},8,["class"])):g("",!0),t(e(Y),{value:"/specials",layout:"icon-start",onClick:n[1]||(n[1]=()=>e(F).push("/specials")),class:$({"bg-focus":e(c).fullPath.startsWith("/specials")})},{default:s(()=>[t(C,{icon:"sparkles",class:"mr-2"}),t(e(I),null,{default:s(()=>[B(m(a.$t("Specials")),1)]),_:1})]),_:1},8,["class"]),t(e(Y),{value:"/genre",layout:"icon-start",onClick:n[2]||(n[2]=()=>e(F).push("/genre")),class:$({"bg-focus":e(c).fullPath.startsWith("/genre")})},{default:s(()=>[t(C,{icon:"witchHat",class:"mr-2"}),t(e(I),null,{default:s(()=>[B(m(a.$t("Genres")),1)]),_:1})]),_:1},8,["class"]),t(e(Y),{value:"/person",layout:"icon-start",onClick:n[3]||(n[3]=()=>e(F).push("/person")),class:$({"bg-focus":e(c).fullPath.startsWith("/person")})},{default:s(()=>[t(C,{icon:"user",class:"mr-2"}),t(e(I),null,{default:s(()=>[B(m(a.$t("People")),1)]),_:1})]),_:1},8,["class"])]}),_:1},8,["value"])]),_:1})):g("",!0)}}),na=X(ra,[["__scopeId","data-v-ea870375"]]),ia=M({__name:"BaseLayout",setup(p){const u=pt();return ze(()=>{Ke(),F.afterEach(()=>{W()})}),mt(()=>{et()}),(i,c)=>(o(),f(e(xt),{id:"main-content"},{default:s(()=>[t(e(_t),null,{default:s(()=>{var r;return[e(u)>0?(o(),f(e(vt),{key:0,type:"indeterminate",class:"absolute mt-safe top-0 z-1199 bg-black"})):g("",!0),t(Te),t(na),t(e(ht),{animated:"false",class:"pointer-events-none children:pointer-events-auto"}),t(Xl),t(Gt),t(Pe,{class:"!z-10",ignoreElRef:[]}),t(Gl),(r=e(v))!=null&&r.id?(o(),f(vl,{key:e(se)?"full-player-open":"full-player-closed"})):g("",!0),(o(),f(kl,{key:e(se)?"mini-player-closed":"mini-player-open"})),t(Ct),e(A)("capacitor")?g("",!0):(o(),f(oa,{key:2}))]}),_:1})]),_:1}))}}),Da=X(ia,[["__scopeId","data-v-3c9115c8"]]);export{Da as default};
