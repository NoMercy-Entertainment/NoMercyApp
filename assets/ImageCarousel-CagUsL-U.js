import{Bn as z,Bt as E,Gt as x,Ln as i,Mt as M,Nn as s,Rn as T,Rt as d,Tt as m,Vn as F,Vt as h,Z as U,an as L,cn as n,fn as X,hn as q,kn as y,qt as g,un as j,xn as p,yn as A,zt as f}from"./index-BVMfOxho.js";import{L as Z,n as C}from"./ui-FAE7KUbU.js";import{o as H}from"./core-DZundPdS.js";import{s as R}from"./global-DPeGmG9M.js";import{m as J}from"./utils-B0jNLXCr.js";import{a as o,c as v,f as _,h as B,l as N,o as K,p as P,t as S,u as $}from"./imageModal-D-BdR7Xp.js";import{t as Q}from"./TMDBImage-C5R0lpck.js";import{t as W}from"./MoooomIcon-x_D_dAky.js";import{n as D}from"./swiper-vue-DPuA15Vc.js";import{t as V}from"./Carousel-xQ6W7YXX.js";import{t as Y}from"./PersonCard-Dbr9bPBZ.js";m();var ee={class:"relative flex flex-shrink-0 flex-grow-0 items-center justify-start gap-2 px-1"},te={class:"flex-shrink-0 flex-grow-0 text-center text-sm font-medium"},ae=g({__name:"GenrePill",props:{genre:{type:Object,required:!0}},setup(e){return(a,l)=>{const r=X("RouterLink");return n(),f(r,{class:T([i(R)(e.genre?.name).iconBg,"relative flex flex-shrink-0 flex-grow-0 items-center justify-start rounded-2xl px-2 py-0.5 hover:!grayscale-0 bg-theme-5 border-theme-3 border-1 text-surface-12/12 hover:shadow-[0px_0px_0_3px_var(--color-theme-6)]"]),to:`/genre/${e.genre?.id}`},{default:p(()=>[x(W,{icon:i(R)(e.genre?.name).icon,"class-name":"relative w-5 flex-shrink-0 flex-grow-0 group-hover/card:text-theme-5"},null,8,["icon"]),d("div",ee,[d("p",te,F(e.genre?.name),1)])]),_:1},8,["class","to"])}}}),Ie=ae;m();var re={key:0,class:"relative flex flex-col items-start justify-center gap-1"},le=["alt","src"],ne=g({__name:"ContentRating",props:{ratings:{type:Array,required:!0},size:{type:Number,default:10}},setup(e){const a=e,l=y();return A(a,r=>{r.ratings&&(l.value=r.ratings?.find(u=>u.iso_3166_1===window.navigator.language.split("-")[1]),l.value||(l.value=r.ratings?.at(0)))}),L(()=>{a.ratings&&(l.value=a.ratings?.find(r=>r.iso_3166_1===window.navigator.language.split("-")[1]),l.value||(l.value=a.ratings?.at(0)))}),(r,u)=>l.value?.iso_3166_1?(n(),h("div",re,[d("div",{id:"rating-image",style:z(`
            height: ${e.size*6}px;
            width: ${e.size*8}px;
        `),class:"flex w-auto whitespace-nowrap text-base font-medium"},[d("img",{alt:l.value?.iso_3166_1,src:`https://pub-a68768bb5b1045f296df9ea56bd53a7f.r2.dev/kijkwijzer/${l.value?.iso_3166_1}/${l.value?.iso_3166_1}_${l.value?.rating}.svg`,class:"dark:invert"},null,8,le)],4)])):E("",!0)}}),qe=ne;m();var se=g({__name:"PersonCarousel",props:{data:{type:Array,required:!0},title:{type:String,required:!0},limitCardCountBy:{type:Number,required:!1}},setup(e){return(a,l)=>(n(),f(V,{title:e.title,"limit-card-count-by":e.limitCardCountBy,type:"poster","disable-auto-aspect":!0},{default:p(()=>[(n(!0),h(M,null,j(e.data,r=>(n(),f(i(D),{key:r.id,class:"flex sm:p-1 pl-0"},{default:p(()=>[x(Y,{data:r,class:""},null,8,["data"])]),_:2},1024))),128))]),_:1},8,["title","limit-card-count-by"]))}}),Re=se;m();var oe=["onfocus","onClick"],ie=g({__name:"ImageCard",props:{data:{type:Object,required:!0},aspect:{type:String,required:!1,default:"poster"},setData:{type:Function,required:!0},limitCardCountBy:{type:Number,required:!1}},setup(e){const a=Z(e.data?.color_palette?.image);return(l,r)=>r[0]||(q(-1,!0),(r[0]=e.data?(n(),h("button",{key:0,onfocus:i(J),style:z(i(a)?`
       --color-theme-8: ${i(a)};
    `:""),class:"group/card frosting flex flex-col h-full items-center focus-outline relative rounded-lg select-none shadow-[0px_0px_0_1px_rgb(from_var(--color-theme-8,var(--color-theme-6))_r_g_b/70%)] w-full z-0 bg-surface-50/70 flex-grow-0","data-card":"true",onClick:u=>e.setData(e.data)},[d("span",{class:T([e.aspect==="poster"?" aspect-poster":"aspect-backdrop","relative h-auto w-full cursor-pointer overflow-clip rounded-lg"])},[x(Q,{aspect:e.aspect,"color-palette":e.data?.color_palette?.image,path:e.data?.src,size:e.aspect==="poster"?162:660,title:e.data?.name,class:"!relative","class-name":"inset-0 h-full w-full overflow-clip rounded-lg",type:"image"},null,8,["aspect","color-palette","path","size","title"])],2)],12,oe)):E("",!0)).cacheIndex=0,q(1),r[0])}}),ue=ie;m();var ce=g({__name:"ImageCarousel",props:{data:{type:Array,required:!0},title:{type:String,required:!0},type:{type:String,required:!1,default:"poster"}},setup(e){const a=e,l=y(!1),r=y();function u(t){v({...t,color_palette:s(t.color_palette)?s(t.color_palette):{image:s(C.value)},aspectRatio:a.type==="poster"?"2/3":"16/9"}),_({type:a.type,index:a.data.indexOf(t)}),K(a.type),N(!0)}function b(){const t=a.data[o.value-1];t&&(_({index:o.value-1,type:B.value.type}),v({...t,color_palette:t.color_palette?s(t.color_palette):{image:s(C.value)},aspectRatio:a.type==="poster"?"2/3":"16/9"}),$(o.value-1))}function w(){const t=a.data[o.value+1];t&&(_({index:o.value+1,type:B.value.type}),v({...t,color_palette:t.color_palette?s(t.color_palette):{image:s(C.value)},aspectRatio:a.type==="poster"?"2/3":"16/9"}),$(o.value+1))}const k=y();function G(){clearInterval(k.value),k.value=setInterval(()=>{a.data[o.value+1]||_({index:0,type:a.type}),w()},15*1e3)}function c(){clearInterval(k.value)}A(P,t=>{t||c()}),H(window,"keyup",t=>{document.activeElement.nodeName!=="TEXTAREA"&&document.activeElement.nodeName!=="INPUT"&&(t.key==="Enter"&&P.value||S.value===a.type&&(t.key==="ArrowLeft"&&(c(),b()),t.key==="ArrowRight"&&(c(),w()),t.key===" "&&(l.value?c():G()),(t.key==="Escape"||t.key==="Backspace")&&(v(null),N(!1),c())))}),L(()=>{r.value=U({el:document.querySelector("#imageModal"),onStart:()=>void 0,onMove:t=>O(t),onEnd:()=>void 0,gestureName:"swipe"})});function O({velocityX:t}){S.value===a.type&&(t>0?b():w())}function de(){}function pe(){}return(t,fe)=>(n(),f(V,{title:`${e.title}s`,type:e.type,"disable-auto-aspect":e.type==="poster"},{default:p(()=>[(n(!0),h(M,null,j(e.data,I=>(n(),f(i(D),{key:I.id,class:"flex"},{default:p(()=>[x(ue,{data:I,aspect:e.type,"set-data":u},null,8,["data","aspect"])]),_:2},1024))),128))]),_:1},8,["title","type","disable-auto-aspect"]))}}),Be=ce;export{Ie as i,Re as n,qe as r,Be as t};
