import{Ht as y,Qn as f,Rn as w,Tn as n,Yt as C,Zn as s,cn as m,en as d,er as _,in as u,kn as z,nn as M,rn as B,tn as l,tr as T,un as N}from"./index-04Sh3wNb.js";import{I as A,a as L,c as j,d as q,o as R}from"./ui-BT6EUdI0.js";import{d as r}from"./client-DMa-uSBE.js";import{o as S}from"./currentServer-B7-kbkE-.js";import{i as H,n as I,o as P,s as V}from"./contextMenuItems-kfaglZX4.js";import{t as v}from"./TMDBImage-Dcp6aBnk.js";import{t as D}from"./CardIndicator-B772HJka.js";y();var $={class:"w-full h-full overflow-clip rounded-lg inset-0 absolute"},E={key:0,class:"absolute inset-0 h-full w-full"},F={class:"absolute bottom-0 left-0 h-full max-h-24 w-full max-w-[66%]"},O={key:1,class:"absolute inset-0 h-full w-full"},Q={class:"absolute bottom-4 left-4 w-full"},U=["innerHTML"],Y={class:"z-10 w-available text-xl font-bold line-clamp-2 leading-[1.2] text-surface-12 dark:text-slate-1 empty:hidden dark:font-medium font-semibold whitespace-pre-line text-xs"},Z=N({__name:"NMCard",props:{data:{type:Object,required:!0},watch:{type:Boolean,required:!1,default:!1},disableAutoAspect:{type:Boolean,required:!1,default:!1},context_menu_items:{type:Array,required:!1,default:()=>[]}},setup(t){const a=t,b=d(()=>`scroll_${a.data.titleSort?.[0]?.toUpperCase?.()}`),c=d(()=>r.value&&!a.disableAutoAspect),i=d(()=>a.data[r.value?"backdrop":"poster"]),p=d(()=>a.data?.color_palette?.[c.value?"backdrop":"poster"]?A(a.data?.color_palette?.[c.value?"backdrop":"poster"]):"");function k(e){a.context_menu_items&&(P(H(a.context_menu_items)),V(a.data),I.value.show(e))}function x(e){a.data?.link.includes("watch")||setTimeout(()=>{e?.backdrop&&L(e?.backdrop),e?.poster&&j(e.poster),e.title&&q(e.title),e.color_palette&&R(e.color_palette.poster)},30)}return(e,o)=>{const h=z("RouterLink");return t.data?.link?(n(),M(h,{key:0,class:f([{"border-2":!!t.data.deathday,"aspect-backdrop":s(r),"aspect-poster":!s(r)},"group/card frosting flex flex-col h-full items-center focus-outline relative rounded-lg select-none shadow-[0px_0px_0_1px_rgb(from_var(--color-theme-8,var(--color-theme-6))_r_g_b/70%)] w-full z-0 bg-surface-50/70 flex-grow-0"]),"data-card":t.data?.link,"data-scroll":b.value,onclick:()=>x(t.data),style:_(p.value?`
       --color-theme-8: ${t.data.deathday?"#fff":p.value};
    `:""),to:t.data.link,"no-ring":"",onContextmenu:o[0]||(o[0]=g=>k(g))},{default:w(()=>[l("div",$,[o[3]||(o[3]=l("div",{class:"backdropCard-overlay"},null,-1)),m(v,{aspect:s(r)?"backdrop":"poster","color-palette":t.data.color_palette?.[s(r)?"backdrop":"poster"],path:i.value,size:s(r)?330:180,title:t.data.title,"class-name":"h-full overflow-clip rounded-lg",loading:"lazy"},null,8,["aspect","color-palette","path","size","title"]),c.value?(n(),u(C,{key:0},[t.data.logo?(n(),u("div",E,[o[1]||(o[1]=l("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-surface-12 via-surface-12 dark:from-surface-1 dark:via-surface-1/60"},null,-1)),l("div",F,[m(v,{"color-palette":t.data.color_palette?.logo,path:t.data.logo,size:500,title:t.data.title,class:"w-auto object-contain h-available object-[0_0%] max-h-inherit !duration-700 children:!duration-700","class-name":"mr-auto p-4 !duration-700 children:!duration-700",loading:"lazy",type:"logo"},null,8,["color-palette","path","title"])])])):(n(),u("div",O,[o[2]||(o[2]=l("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-surface-12 via-surface-12 dark:from-surface-1 dark:via-surface-1/60"},null,-1)),l("div",Q,[l("div",{class:"z-10 w-available text-xl font-bold line-clamp-2 leading-[1.2] text-surface-12 dark:text-slate-1 empty:hidden dark:font-medium text-xl font-semibold whitespace-pre-line flex-col flex",innerHTML:s(S)(t.data.title,"text-sm")},null,8,U)])]))],64)):(n(),u("div",{key:1,class:f([{"-bottom-20":i.value,"bottom-0":!i.value},"flex flex-col justify-start items-start w-full h-12 z-0 absolute left-0 transition-all duration-200 px-2 py-1 group-hover/card:-bottom-0 text-left"])},[l("div",{class:f([{"opacity-0 group-hover/card:opacity-100":i.value},"absolute inset-0 z-0 transition-all duration-200 bg-surface-1/80"])},null,2),l("div",Y,T(t.data.title),1)],2)),m(D,{data:t.data},null,8,["data"])])]),_:1},8,["class","data-card","data-scroll","onclick","style","to"])):B("",!0)}}}),at=Z;export{at as t};
