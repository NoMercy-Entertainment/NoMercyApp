import{aG as k,bf as b,bo as C,c$ as w,d0 as x,d1 as M,aN as B,aM as I,aP as N,L as P,ba as q,j as d,o as m,a7 as f,x as D,aI as o,bS as K,c as L,h as V,F as E,w as F,k as Q,m as R,bQ as S}from"./index-cFZT1LT1.js";const W=k({__name:"Mobile",setup(j){const u=b(),h=C.currentRoute.value.name,y=w({queryKey:["music","home"],path:u.path}),{data:n,refetch:p}=x({queryKey:["music","home"],path:u.path}),{data:l,mutate:v,reset:_}=M({queryKey:["music","home"],homeData:n,path:u.path});return B(()=>{var s,e;if(I(null),N(null),!n.value){p();return}if(u.name!==h)return;const c=((e=(s=n.value)==null?void 0:s.filter)==null?void 0:e.call(s,r=>{var a;return((a=r==null?void 0:r.update)==null?void 0:a.when)=="pageLoad"}))??[];v(c)}),P(q,c=>{c?(p(),_()):(l.value=void 0,n.value=void 0)}),(c,s)=>(m(),d(o(S),null,{default:f(()=>[D(o(K),{fullscreen:!0},{default:f(()=>{var e,r,a,i;return[!o(y)&&((r=(e=o(l))==null?void 0:e.every)!=null&&r.call(e,t=>t.component)||(i=(a=o(n))==null?void 0:a.every)!=null&&i.call(a,t=>t.component))?(m(!0),L(E,{key:0},F(o(l)??o(n),(t,g)=>(m(),d(Q(t.component),R({index:g,key:t.id,ref_for:!0},t.props),null,16,["index"]))),128)):V("",!0)]}),_:1})]),_:1}))}});export{W as default};
