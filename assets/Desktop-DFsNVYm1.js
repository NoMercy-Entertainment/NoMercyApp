import{aw as q,bu as Q,I as A,J as W,az as X,c9 as Y,cz as r,e as u,a7 as Z,aB as o,dz as ee,b1 as ae,bo as n,bd as N,b7 as se,o as i,eh as le,a as O,z as oe,cl as L,bG as ne}from"./index-BfnbdnLX.js";import{A as te,S as re,O as ue}from"./octopusPlugin-CRClh99V.js";import{n as ie}from"./subtitles-octopus-hvMhQUnP.js";import{D as ce}from"./desktopUIPlugin-C_rezhtx.js";import{K as pe}from"./keyHandlerPlugin-CaBDLtns.js";import{_ as de}from"./NotFound.vue_vue_type_script_setup_true_lang-I-fObtb2.js";const Pe=q({__name:"Desktop",setup(ve){const{data:c,isError:V}=Q({}),e=A(),K=A(),p=s=>{var d,v,f,g,m,y,b,k,P,w,_,h,C,S,E,I,T,z,D,U,B;const l={muted:!1,controls:!1,preload:"auto",debug:!1,autoPlay:!0,playlist:(s==null?void 0:s.filter(a=>!!a.id))??[],controlsTimeout:3e3,doubleClickDelay:500,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2],accessToken:(d=ee.value)==null?void 0:d.accessToken,basePath:(v=ae.value)==null?void 0:v.serverBaseUrl,forceTvMode:(n("android")||n("ios"))&&!n("mobile"),disableTouchControls:!1,disableMediaControls:"mediaSession"in navigator||n("capacitor"),renderAhead:100};(f=e.value)==null||f.dispose(),e.value=ie("player1").setup(l),(g=e.value)==null||g.once("back",()=>{N.back()});const F=new ce;(m=e.value)==null||m.registerPlugin("desktopUI",F),(y=e.value)==null||y.usePlugin("desktopUI");const G=new te;(b=e.value)==null||b.registerPlugin("autoSkip",G),(k=e.value)==null||k.usePlugin("autoSkip");const J=new pe;(P=e.value)==null||P.registerPlugin("keyHandler",J),(w=e.value)==null||w.usePlugin("keyHandler");const R=new re;(_=e.value)==null||_.registerPlugin("sync",R),(h=e.value)==null||h.usePlugin("sync");const $=new ue;(C=e.value)==null||C.registerPlugin("octopus",$),(S=e.value)==null||S.usePlugin("octopus"),(E=e.value)==null||E.once("play",()=>{var a;(a=e.value)==null||a.enterFullscreen()}),(I=e.value)==null||I.on("playlistComplete",()=>{var a;(a=e.value)==null||a.dispose(),N.back()}),(T=e.value)==null||T.once("back",()=>{}),(z=e.value)==null||z.on("play",()=>{r(!0)}),(D=e.value)==null||D.on("pause",()=>{r(!1)}),(U=e.value)==null||U.on("ready",()=>{var M;se.stop();const a=new MutationObserver(j=>j.filter(t=>t.type==="childList").forEach(t=>{t.addedNodes.forEach(x=>{x instanceof HTMLElement&&x.tagName==="VIDEO"&&console.log("video removed")})})),H=(M=e.value)==null?void 0:M.getVideoElement();H&&a.observe(H,{childList:!0,subtree:!0})}),(B=e.value)==null||B.on("item",()=>{var a;(a=e.value)==null||a.play()})};return W(c,s=>{p(s)}),X(()=>{p(c.value)}),Y(()=>{var s;(s=e.value)==null||s.dispose(),r(!1)}),(s,l)=>(i(),u(o(ne),null,{default:Z(()=>[o(V)?(i(),u(de,{key:0})):(i(),u(le,{key:1,to:"body",keepAlive:!0},[O("div",{ref_key:"playerContainer",ref:K,class:oe(["absolute inset-0 flex h-full w-full overflow-clip bg-black z-1199",{"mb-28":o(L),"mb-0":!o(L)}])},l[0]||(l[0]=[O("div",{id:"player1",class:"group nomercyplayer"},null,-1)]),2)]))]),_:1}))}});export{Pe as default};
//# sourceMappingURL=Desktop-DFsNVYm1.js.map
