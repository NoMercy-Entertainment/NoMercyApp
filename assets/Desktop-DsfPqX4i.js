import{Bt as T,E as V,Gt as L,I as H,Ln as t,M as N,Mt as R,Rn as $,Rt as y,T as z,Tt as D,Vt as h,cn as o,i as F,kn as v,qt as M,u as P,un as j,xn as g,yn as _,zt as p}from"./index-BvWvvCYJ.js";import"./dist-BihaqBnv.js";import"./esm-DfDPtva3.js";import"./esm-BqAMc7kU.js";import"./dist-V4VIRk0I.js";import"./focus-visible-BIx781Si.js";import"./index5-BzLuPScY.js";import"./client-CpuErVxZ.js";import"./ionic-global-CJmx_-hb.js";import"./hardware-back-button-B_o37u13.js";import"./index3-G0l1u6i6.js";import"./helpers-DowMkPjD.js";import"./index6-izL1HMLp.js";import"./index8-C7t1VdhY.js";import"./keyboard-DgjSUzE9.js";import"./index2-DPECLsCu.js";import"./ios.transition-DhveEC6M.js";import"./keyboard2-B9XnMMBK.js";import"./md.transition-BBFMewM_.js";import"./dir-t1mBJu83.js";import"./basecomponent-CLBkg3Xa.js";import"./classnames-C7QsyfAI.js";import"./button-BUY3bwi9.js";import"./baseicon-DozKd0E1.js";import"./times-DrBq9qa0.js";import{a as O,l as W,m as u,o as x,p as d}from"./ui-Dy-CmVFO.js";import"./client-Cg1KDvig.js";import{v as q,x as A}from"./currentServer-WcAeFY_n.js";import"./config-BZ-AEJ_J.js";import"./core-B2UrLovc.js";import"./esm-BmSfvbpt.js";import{p as C}from"./global-BWQ-eDb8.js";import"./esm-B0CTWw_3.js";import"./bundle-mjs-D4lrAgGd.js";import"./user-UVXKBmDM.js";import"./serverClient-BAqmq0Lj.js";import"./router-B1ISlAzM.js";import"./utils-CG-VUeeR.js";import"./useBaseQuery-CObiDOM4.js";import"./useInfiniteServerClient-C-13EaEr.js";import{g as b}from"./SocketClient-C4CiAzV3.js";import"./useQueryClient-Do_6BzeG.js";import"./useQuery-DwL9nltn.js";import"./apiClient--wowvE-1.js";import"./notifications-BlOU5FHA.js";import"./utils-TI96o6zm.js";import"./deviceInfo-a8a7PneO.js";import"./auth-MTzvpPik.js";import"./musicPlaylists-DBeSgbAD.js";import"./esm-C__ta2Q1.js";import"./contextMenuItems-Dm_tonIs.js";import"./_plugin-vue_export-helper-pDp7unP0.js";import"./AppLogoSquare-DrkhevvD.js";import"./MoooomIcon-BaTKWN1R.js";import"./DropdownMenu-uuiJrLjr.js";import"./dist-BA3H0wD6.js";import"./fileupload-BB9Gc9-2.js";import{t as G}from"./useServerClient-DLV471Yh.js";import{t as J}from"./ScrollContainer-DjWu4Vc3.js";import"./Button-4dOHt061.js";import"./CoverImage-Dcotlph_.js";import"./MusicButton-WvYGsZnu.js";import"./BannerButton-DrF0SOAC.js";import"./MediaLikeButton-LpjfSxPp.js";import"./PlayerIcon-DHzEBluf.js";import"./Marquee-JsocpyZ2.js";import"./Modal-DkbMeIf6.js";import"./BigPlayButton-Da9n5hsl.js";import"./EqSpinner-CMcZqmXk.js";import{t as K}from"./NotFound-C7A9PjW_.js";import"./ShareButton-DbHT1Br7.js";import"./ClickUploadModal-BcwFWNXG.js";import{i as Q,n as U,r as X,t as Y}from"./TrackRow-D06M41ic.js";D();N();var Z={class:"relative z-0 flex h-auto flex-shrink-0 flex-grow flex-col items-start justify-start self-stretch"},tt=M({__name:"Desktop",setup(et){const f=H(),{data:e,isError:B}=G({path:f.fullPath}),S=v(null),c=v(),a=v("");_(e,r=>{r&&(q(r?.name??null),n(r?.tracks??[],u.value,d.value,a.value),x(r?.color_palette?.cover))}),_(d,r=>{n(e.value?.tracks??[],u.value,r,a.value)}),_(u,r=>{n(e.value?.tracks??[],r,d.value,a.value)}),_(a,r=>{n(e.value?.tracks??[],u.value,d.value,r)});function n(r,s,i,m){const w=A(r??[],s,i,W);m===""?c.value=w:c.value=w?.filter(k=>k.name?.toLowerCase().includes(m?.toLowerCase?.())||k.artist_track?.some(E=>E.name.toLowerCase().includes(m?.toLowerCase?.()))||k.album_track?.[0]?.name.toLowerCase().includes(m?.toLowerCase?.()))??[]}z(()=>{e?.value?.tracks&&n(e?.value?.tracks??[],u.value,d.value,a.value),e.value?.color_palette?.cover&&x(e.value?.color_palette?.cover)}),V(()=>{document.getElementById("navbar")&&(document.getElementById("navbar").style.display="flex"),x(null),O(null)});const l=v();function I(){window.CSS.supports("container-type","scroll-state")||(Math.ceil(l.value?.$el?.getBoundingClientRect()?.top??500)<=67?(l.value?.$el?.classList.add("!bg-focus"),l.value?.$el?.firstChild?.classList.add("!bg-black/50")):(l.value?.$el?.classList.remove("!bg-focus"),l.value?.$el?.firstChild?.classList.remove("!bg-black/50")))}return(r,s)=>(o(),p(t(P),null,{default:g(()=>[L(t(F),{fullscreen:!0,class:"flex"},{default:g(()=>[t(B)&&!t(e)?(o(),p(K,{key:0})):(o(),p(J,{key:1,"auto-hide":!0,static:!0,onScroll:I},{default:g(()=>[!t(f).params.id||t(f).params.id&&t(e)?.id===t(f).params.id?(o(),h("div",{key:0,ref_key:"main",ref:S,class:"flex flex-col w-available h-available sm:rounded-2xl"},[L(X,{data:t(e)},null,8,["data"]),y("div",Z,[s[1]||(s[1]=y("div",{class:"pointer-events-none absolute z-0 h-96 w-full bg-spotifyBottom"},null,-1)),(o(),p(Q,{key:t(e)?.id,data:t(e),filter:a.value,onFilterChange:s[0]||(s[0]=i=>a.value=i)},null,8,["data","filter"])),y("div",{class:$([{"pb-24":t(C)&&!t(b),"pb-40":t(C)&&t(b),"pb-4 sm:pb-4":!t(C)&&t(b)},"flex flex-1 flex-shrink-0 flex-col items-start justify-start self-stretch bg-surface-3 flex-grow-1 gap-0.5 sm:p-4"])},[(o(),p(U,{key:t(e)?.id,ref_key:"sortHeader",ref:l})),(o(!0),h(R,null,j(c.value,(i,m)=>(o(),p(Y,{key:i.id+i?.favorite,data:i,"display-list":c.value,index:m},null,8,["data","display-list","index"]))),128))],2)])],512)):T("",!0)]),_:1}))]),_:1})]),_:1}))}}),Ce=tt;export{Ce as default};
