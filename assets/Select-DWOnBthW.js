import{Ac as D,Bs as _,Dc as ue,Ec as ee,Gc as E,Gs as q,Hc as O,Js as K,Ks as Q,Nc as W,Ns as H,Oc as $,Ps as se,Qs as N,Rc as w,Tc as re,Ws as x,Zs as de,_c as ve,ac as ce,cc as A,ec as C,fc as G,gc as pe,hc as j,oc as Z,pc as fe,qs as me,rc as X,yc as be}from"./index-CJcxWh6B.js";import{_ as U,a as z,c as he,f as xe,g as ge,i as h,l as ye,m as Se,n as S,o as Oe,r as we,s as Le,t as ke,u as Re}from"./use-text-value-BBy54sNT.js";import{c as g,i as Pe,n as De,r as Y,s as V,t as M}from"./render-Diyv4R_N.js";H();function Ve(e,l,u){let p=w(u?.value),s=x(()=>e.value!==void 0);return[x(()=>s.value?e.value:p.value),function(o){return s.value||(p.value=o),l?.(o)}]}H();var te=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(te||{}),Te=C({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:l,attrs:u}){return()=>{var p;let{features:s,...o}=e,t={"aria-hidden":(s&2)===2?!0:(p=o["aria-hidden"])!=null?p:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return M({ourProps:t,theirProps:o,slot:{},attrs:u,slots:l,name:"Hidden"})}}});function ae(e={},l=null,u=[]){for(let[p,s]of Object.entries(e))ne(u,le(l,p),s);return u}function le(e,l){return e?e+"["+l+"]":l}function ne(e,l,u){if(Array.isArray(u))for(let[p,s]of u.entries())ne(e,le(l,p.toString()),s);else u instanceof Date?e.push([l,u.toISOString()]):typeof u=="boolean"?e.push([l,u?"1":"0"]):typeof u=="string"?e.push([l,u]):typeof u=="number"?e.push([l,`${u}`]):u==null?e.push([l,""]):ae(u,l,e)}H();function Ie(e,l){return e===l}var Be=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Be||{}),Ae=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ae||{}),Ce=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ce||{});function $e(e){requestAnimationFrame(()=>requestAnimationFrame(e))}var oe=Symbol("ListboxContext");function F(e){let l=ce(oe,null);if(l===null){let u=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,F),u}return l}var Ne=C({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Ie},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:l,attrs:u,emit:p}){let s=w(1),o=w(null),t=w(null),v=w(null),f=w([]),m=w(""),b=w(null),n=w(1);function r(a=i=>i){let i=b.value!==null?f.value[b.value]:null,d=xe(a(f.value.slice()),y=>g(y.dataRef.domRef)),c=i?d.indexOf(i):null;return c===-1&&(c=null),{options:d,activeOptionIndex:c}}let k=x(()=>e.multiple?1:0),[R,L]=Ve(x(()=>e.modelValue),a=>p("update:modelValue",a),x(()=>e.defaultValue)),T=x(()=>R.value===void 0?V(k.value,{1:[],0:void 0}):R.value),P={listboxState:s,value:T,mode:k,compare(a,i){if(typeof e.by=="string"){let d=e.by;return a?.[d]===i?.[d]}return e.by(a,i)},orientation:x(()=>e.horizontal?"horizontal":"vertical"),labelRef:o,buttonRef:t,optionsRef:v,disabled:x(()=>e.disabled),options:f,searchQuery:m,activeOptionIndex:b,activationTrigger:n,closeListbox(){e.disabled||s.value!==1&&(s.value=1,b.value=null)},openListbox(){e.disabled||s.value!==0&&(s.value=0)},goToOption(a,i,d){if(e.disabled||s.value===1)return;let c=r(),y=we(a===S.Specific?{focus:S.Specific,id:i}:{focus:a},{resolveItems:()=>c.options,resolveActiveIndex:()=>c.activeOptionIndex,resolveId:B=>B.id,resolveDisabled:B=>B.dataRef.disabled});m.value="",b.value=y,n.value=d??1,f.value=c.options},search(a){if(e.disabled||s.value===1)return;let i=m.value!==""?0:1;m.value+=a.toLowerCase();let d=(b.value!==null?f.value.slice(b.value+i).concat(f.value.slice(0,b.value+i)):f.value).find(y=>y.dataRef.textValue.startsWith(m.value)&&!y.dataRef.disabled),c=d?f.value.indexOf(d):-1;c===-1||c===b.value||(b.value=c,n.value=1)},clearSearch(){e.disabled||s.value!==1&&m.value!==""&&(m.value="")},registerOption(a,i){let d=r(c=>[...c,{id:a,dataRef:i}]);f.value=d.options,b.value=d.activeOptionIndex},unregisterOption(a){let i=r(d=>{let c=d.findIndex(y=>y.id===a);return c!==-1&&d.splice(c,1),d});f.value=i.options,b.value=i.activeOptionIndex,n.value=1},theirOnChange(a){e.disabled||L(a)},select(a){e.disabled||L(V(k.value,{0:()=>a,1:()=>{let i=O(P.value.value).slice(),d=O(a),c=i.findIndex(y=>P.compare(d,O(y)));return c===-1?i.push(d):i.splice(c,1),i}}))}};Re([t,v],(a,i)=>{var d;P.closeListbox(),ge(i,Se.Loose)||(a.preventDefault(),(d=g(t))==null||d.focus())},x(()=>s.value===0)),pe(oe,P),Le(x(()=>V(s.value,{0:z.Open,1:z.Closed})));let I=x(()=>{var a;return(a=g(t))==null?void 0:a.closest("form")});return G(()=>{ee([I],()=>{if(!I.value||e.defaultValue===void 0)return;function a(){P.theirOnChange(e.defaultValue)}return I.value.addEventListener("reset",a),()=>{var i;(i=I.value)==null||i.removeEventListener("reset",a)}},{immediate:!0})}),()=>{let{name:a,modelValue:i,disabled:d,form:c,...y}=e,B={open:s.value===0,disabled:d,value:T.value};return X(_,[...a!=null&&T.value!=null?ae({[a]:T.value}).map(([J,ie])=>X(Te,De({features:te.Hidden,key:J,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:c,disabled:d,name:J,value:ie}))):[],M({ourProps:{},theirProps:{...u,...Pe(y,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:B,slots:l,attrs:u,name:"Listbox"})])}}}),je=C({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"},id:{type:String,default:null}},setup(e,{attrs:l,slots:u}){var p;let s=(p=e.id)!=null?p:`headlessui-listbox-label-${U()}`,o=F("ListboxLabel");function t(){var v;(v=g(o.buttonRef))==null||v.focus({preventScroll:!0})}return()=>{let v={open:o.listboxState.value===0,disabled:o.disabled.value},{...f}=e,m={id:s,ref:o.labelRef,onClick:t};return M({ourProps:m,theirProps:f,slot:v,attrs:l,slots:u,name:"ListboxLabel"})}}}),Me=C({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:l,slots:u,expose:p}){var s;let o=(s=e.id)!=null?s:`headlessui-listbox-button-${U()}`,t=F("ListboxButton");p({el:t.buttonRef,$el:t.buttonRef});function v(n){switch(n.key){case h.Space:case h.Enter:case h.ArrowDown:n.preventDefault(),t.openListbox(),A(()=>{var r;(r=g(t.optionsRef))==null||r.focus({preventScroll:!0}),t.value.value||t.goToOption(S.First)});break;case h.ArrowUp:n.preventDefault(),t.openListbox(),A(()=>{var r;(r=g(t.optionsRef))==null||r.focus({preventScroll:!0}),t.value.value||t.goToOption(S.Last)});break}}function f(n){switch(n.key){case h.Space:n.preventDefault();break}}function m(n){t.disabled.value||(t.listboxState.value===0?(t.closeListbox(),A(()=>{var r;return(r=g(t.buttonRef))==null?void 0:r.focus({preventScroll:!0})})):(n.preventDefault(),t.openListbox(),$e(()=>{var r;return(r=g(t.optionsRef))==null?void 0:r.focus({preventScroll:!0})})))}let b=ye(x(()=>({as:e.as,type:l.type})),t.buttonRef);return()=>{var n,r;let k={open:t.listboxState.value===0,disabled:t.disabled.value,value:t.value.value},{...R}=e,L={ref:t.buttonRef,id:o,type:b.value,"aria-haspopup":"listbox","aria-controls":(n=g(t.optionsRef))==null?void 0:n.id,"aria-expanded":t.listboxState.value===0,"aria-labelledby":t.labelRef.value?[(r=g(t.labelRef))==null?void 0:r.id,o].join(" "):void 0,disabled:t.disabled.value===!0?!0:void 0,onKeydown:v,onKeyup:f,onClick:m};return M({ourProps:L,theirProps:R,slot:k,attrs:l,slots:u,name:"ListboxButton"})}}}),Ee=C({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:l,slots:u,expose:p}){var s;let o=(s=e.id)!=null?s:`headlessui-listbox-options-${U()}`,t=F("ListboxOptions"),v=w(null);p({el:t.optionsRef,$el:t.optionsRef});function f(n){switch(v.value&&clearTimeout(v.value),n.key){case h.Space:if(t.searchQuery.value!=="")return n.preventDefault(),n.stopPropagation(),t.search(n.key);case h.Enter:if(n.preventDefault(),n.stopPropagation(),t.activeOptionIndex.value!==null){let r=t.options.value[t.activeOptionIndex.value];t.select(r.dataRef.value)}t.mode.value===0&&(t.closeListbox(),A(()=>{var r;return(r=g(t.buttonRef))==null?void 0:r.focus({preventScroll:!0})}));break;case V(t.orientation.value,{vertical:h.ArrowDown,horizontal:h.ArrowRight}):return n.preventDefault(),n.stopPropagation(),t.goToOption(S.Next);case V(t.orientation.value,{vertical:h.ArrowUp,horizontal:h.ArrowLeft}):return n.preventDefault(),n.stopPropagation(),t.goToOption(S.Previous);case h.Home:case h.PageUp:return n.preventDefault(),n.stopPropagation(),t.goToOption(S.First);case h.End:case h.PageDown:return n.preventDefault(),n.stopPropagation(),t.goToOption(S.Last);case h.Escape:n.preventDefault(),n.stopPropagation(),t.closeListbox(),A(()=>{var r;return(r=g(t.buttonRef))==null?void 0:r.focus({preventScroll:!0})});break;case h.Tab:n.preventDefault(),n.stopPropagation();break;default:n.key.length===1&&(t.search(n.key),v.value=setTimeout(()=>t.clearSearch(),350));break}}let m=Oe(),b=x(()=>m!==null?(m.value&z.Open)===z.Open:t.listboxState.value===0);return()=>{var n,r;let k={open:t.listboxState.value===0},{...R}=e,L={"aria-activedescendant":t.activeOptionIndex.value===null||(n=t.options.value[t.activeOptionIndex.value])==null?void 0:n.id,"aria-multiselectable":t.mode.value===1?!0:void 0,"aria-labelledby":(r=g(t.buttonRef))==null?void 0:r.id,"aria-orientation":t.orientation.value,id:o,onKeydown:f,role:"listbox",tabIndex:0,ref:t.optionsRef};return M({ourProps:L,theirProps:R,slot:k,attrs:l,slots:u,features:Y.RenderStrategy|Y.Static,visible:b.value,name:"ListboxOptions"})}}}),qe=C({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:l,attrs:u,expose:p}){var s;let o=(s=e.id)!=null?s:`headlessui-listbox-option-${U()}`,t=F("ListboxOption"),v=w(null);p({el:v,$el:v});let f=x(()=>t.activeOptionIndex.value!==null?t.options.value[t.activeOptionIndex.value].id===o:!1),m=x(()=>V(t.mode.value,{0:()=>t.compare(O(t.value.value),O(e.value)),1:()=>O(t.value.value).some(a=>t.compare(O(a),O(e.value)))})),b=x(()=>V(t.mode.value,{1:()=>{var a;let i=O(t.value.value);return((a=t.options.value.find(d=>i.some(c=>t.compare(O(c),O(d.dataRef.value)))))==null?void 0:a.id)===o},0:()=>m.value})),n=ke(v),r=x(()=>({disabled:e.disabled,value:e.value,get textValue(){return n()},domRef:v}));G(()=>t.registerOption(o,r)),fe(()=>t.unregisterOption(o)),G(()=>{ee([t.listboxState,m],()=>{t.listboxState.value===0&&m.value&&V(t.mode.value,{1:()=>{b.value&&t.goToOption(S.Specific,o)},0:()=>{t.goToOption(S.Specific,o)}})},{immediate:!0})}),ue(()=>{t.listboxState.value===0&&f.value&&t.activationTrigger.value!==0&&A(()=>{var a,i;return(i=(a=g(v))==null?void 0:a.scrollIntoView)==null?void 0:i.call(a,{block:"nearest"})})});function k(a){if(e.disabled)return a.preventDefault();t.select(e.value),t.mode.value===0&&(t.closeListbox(),A(()=>{var i;return(i=g(t.buttonRef))==null?void 0:i.focus({preventScroll:!0})}))}function R(){if(e.disabled)return t.goToOption(S.Nothing);t.goToOption(S.Specific,o)}let L=he();function T(a){L.update(a)}function P(a){L.wasMoved(a)&&(e.disabled||f.value||t.goToOption(S.Specific,o,0))}function I(a){L.wasMoved(a)&&(e.disabled||f.value&&t.goToOption(S.Nothing))}return()=>{let{disabled:a}=e,i={active:f.value,selected:m.value,disabled:a},{value:d,disabled:c,...y}=e,B={id:o,ref:v,role:"option",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-selected":m.value,disabled:void 0,onClick:k,onFocus:R,onPointerenter:T,onMouseenter:T,onPointermove:P,onMousemove:P,onPointerleave:I,onMouseleave:I};return M({ourProps:B,theirProps:y,slot:i,attrs:u,slots:l,name:"ListboxOption"})}}});H();var Fe={class:"pointer-events-auto relative w-auto group/selector"},ze={class:"!flex truncate text-left leading-none w-full"},He=C({__name:"Select",props:Z({id:{type:String,required:!0},items:{type:Array,required:!0},multiple:{type:Boolean,required:!1,default:!1},label:{type:String,required:!0},placeholder:{type:String,required:!1},disabled:{type:Boolean,required:!1,default:!1},variant:{type:String,required:!1,default:"normal"}},{modelValue:{required:!0},modelModifiers:{}}),emits:Z(["update:modelValue"],["update:modelValue"]),setup(e){const l=re(e,"modelValue");return(u,p)=>{const s=be("MoooomIcon");return j(),K("div",Fe,[N(E(Ne),{id:e.label,modelValue:l.value,"onUpdate:modelValue":p[0]||(p[0]=o=>l.value=o),disabled:e.disabled,multiple:e.multiple,value:l.value,as:"div",class:"flex flex-shrink-0 flex-grow-0 flex-col"},{default:$(()=>[N(E(je),{class:D([{"mb-1 text-sm font-medium":e.variant==="normal","mb-0.5 text-sm font-medium":e.variant==="dense","mb-px text-xs font-thin":e.variant==="tight"},"block select-none space-nowrap empty:hidden"])},{default:$(()=>[de(W(u.$t(e.label)),1)]),_:1},8,["class"]),q("div",{class:D([{"h-10 min-h-10 mt-2":e.variant==="normal","h-8 min-h-8 mt-1":e.variant==="dense","h-7 min-h-7 mt-0":e.variant==="tight"},"flex flex-1 flex-shrink-0 flex-grow-0 flex-col"])},[N(E(Me),{class:D([{"!bg-surface-1 ring-[1.5px] ring-inset ring-surface-3 focus:outline-none focus:ring-2 focus:ring-focus/70 data-[headlessui-state='open']:ring-2 data-[headlessui-state='open']:ring-focus/70":e.variant==="normal"||e.variant==="dense","h-10 min-h-10 px-3":e.variant==="normal","h-8 min-h-8 px-2":e.variant==="dense","h-5 min-h-5 px-0":e.variant==="tight"},"relative flex items-center w-full cursor-default rounded-md text-surface-12 shadow-sm sm:text-sm data-[headlessui-state='disabled']:grayscale *:last:data-[headlessui-state='disabled']:hidden"])},{default:$(()=>[q("span",ze,W(l.value&&l.value.length>0?l.value.map(o=>o?.title||o?.name||o?.label).join(", "):l.value?.name||l.value?.title||l.value?.label||u.t(e.placeholder)),1),q("span",{class:D([{"h-10 min-h-10 px-3":e.variant==="normal","h-8 min-h-8 px-2":e.variant==="dense",hidden:e.variant==="tight"},"absolute inset-y-0 right-0 flex h-auto items-center rounded-r-md min-h-auto focus-visible:outline-transparent"])},[e.multiple?(j(),Q(s,{key:0,"class-name":"w-5 ui-open:rotate-180 transition-transform duration-200",icon:"arrowSelect"})):(j(),Q(s,{key:1,"class-name":"w-5 ui-open:rotate-180 transition-transform duration-200",icon:"chevronDown"}))],2)]),_:1},8,["class"]),N(se,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:$(()=>[N(E(Ee),{class:D([{"p-1.5":e.variant==="normal","p-1":e.variant==="dense","p-0.5":e.variant==="tight"},"absolute top-full z-10 h-auto max-h-56 min-w-fit overflow-auto rounded-md text-base shadow-lg ring-1 ring-black ring-opacity-5 min-h-auto w-available bg-surface-1 focus:outline-none sm:text-sm"])},{default:$(()=>[(j(!0),K(_,null,ve(e.items,o=>(j(),Q(E(qe),{key:o.title||o.name||o.label,value:o,as:"template"},{default:$(({active:t,selected:v})=>[q("li",{class:D([{"!bg-focus/40":t,"h-8 min-h-8":e.variant==="normal","h-6 min-h-6":e.variant==="dense"},"relative flex w-full min-w-fit cursor-default select-none items-center rounded-sm text-surface-12"])},[q("span",{class:D([{"font-semibold":v,"font-normal":!v},"mx-3 block truncate text-left"])},W(u.$t(o.title||o.name||o.label)),3),v?(j(),K("span",{key:0,class:D([{"text-surface-50":t,"text-focus":!t},"absolute right-0 flex items-center justify-center pr-4 data-[headlessui-state='disabled']:hidden"])},[N(s,{"class-name":"w-5",icon:"check"})],2)):me("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1},8,["class"])]),_:1})],2)]),_:1},8,["id","modelValue","disabled","multiple","value"])])}}}),We=He;export{We as t};
