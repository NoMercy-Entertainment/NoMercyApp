import{cw as Se,L as I,K as D,I as Ve,aG as W,x as j,a6 as ye,ax as ge,b7 as Oe,e0 as be,v as z,j as U,o as T,a7 as V,c as F,h as ne,a as s,t as b,aI as O,eU as we,av as ce,bG as Te,cF as Le,cG as Be,bM as X,az as xe,bi as le,w as G,F as q,eo as Pe,aR as ae,eh as $e,bD as ee,eV as Ae,bP as De,bO as Fe,bF as Ee}from"./index-CA89l6Id.js";import{c as Ie,_ as Me}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-BEqaexcA.js";import{_ as Ke}from"./Modal.vue_vue_type_script_setup_true_lang-jdZYVqCt.js";import"./FloatingBackButton.vue_vue_type_script_setup_true_lang-C0S8YrIY.js";import"./Button.vue_vue_type_script_setup_true_lang-CadwOlci.js";var Q={d:(e,n)=>{for(var l in n)Q.o(n,l)&&!Q.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:n[l]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)},ke={};function oe(e,n){(n==null||n>e.length)&&(n=e.length);for(var l=0,a=new Array(n);l<n;l++)a[l]=e[l];return a}function Ce(e,n){if(e){if(typeof e=="string")return oe(e,n);var l=Object.prototype.toString.call(e).slice(8,-1);return l==="Object"&&e.constructor&&(l=e.constructor.name),l==="Map"||l==="Set"?Array.from(e):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?oe(e,n):void 0}}function R(e){return function(n){if(Array.isArray(n))return oe(n)}(e)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(e)||Ce(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Y(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}Q.d(ke,{Z:()=>Ge});const r=(pe={computed:()=>ge,createTextVNode:()=>ye,createVNode:()=>j,defineComponent:()=>W,reactive:()=>Ve,ref:()=>D,watch:()=>I,watchEffect:()=>Se},te={},Q.d(te,pe),te),qe=(0,r.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var e=this.data,n=this.onClick;return(0,r.createVNode)("span",{class:"vjs-tree-brackets",onClick:n},[e])}}),He=(0,r.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(e,n){var l=n.emit;return{uiType:(0,r.computed)(function(){return e.isMultiple?"checkbox":"radio"}),model:(0,r.computed)({get:function(){return e.checked},set:function(a){return l("update:modelValue",a)}})}},render:function(){var e=this.uiType,n=this.model,l=this.$emit;return(0,r.createVNode)("label",{class:["vjs-check-controller",n?"is-checked":""],onClick:function(a){return a.stopPropagation()}},[(0,r.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(e)},null),(0,r.createVNode)("input",{checked:n,class:"vjs-check-controller-original is-".concat(e),type:e,onChange:function(){return l("change",n)}},null)])}}),ze=(0,r.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var e=this.nodeType,n=this.onClick,l=e==="objectStart"||e==="arrayStart";return l||e==="objectCollapsed"||e==="arrayCollapsed"?(0,r.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(l?"open":"close"),onClick:n},[(0,r.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,r.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});var pe,te;function re(e){return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},re(e)}function je(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function K(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,i=a||{},f=i.key,m=i.index,c=i.type,g=c===void 0?"content":c,d=i.showComma,v=d!==void 0&&d,N=i.length,$=N===void 0?1:N,_=je(e);if(_==="array"){var k=fe(e.map(function(C,y,t){return K(C,"".concat(n,"[").concat(y,"]"),l+1,{index:y,showComma:y!==t.length-1,length:$,type:g})}));return[K("[",n,l,{showComma:!1,key:f,length:e.length,type:"arrayStart"})[0]].concat(k,K("]",n,l,{showComma:v,length:e.length,type:"arrayEnd"})[0])}if(_==="object"){var B=Object.keys(e),A=fe(B.map(function(C,y,t){return K(e[C],/^[a-zA-Z_]\w*$/.test(C)?"".concat(n,".").concat(C):"".concat(n,'["').concat(C,'"]'),l+1,{key:C,showComma:y!==t.length-1,length:$,type:g})}));return[K("{",n,l,{showComma:!1,key:f,index:m,length:B.length,type:"objectStart"})[0]].concat(A,K("}",n,l,{showComma:v,length:B.length,type:"objectEnd"})[0])}return[{content:e,level:l,key:f,index:m,path:n,showComma:v,length:$,type:g}]}function fe(e){if(typeof Array.prototype.flat=="function")return e.flat();for(var n=R(e),l=[];n.length;){var a=n.shift();Array.isArray(a)?n.unshift.apply(n,R(a)):l.push(a)}return l}function se(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e==null)return e;if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(re(e)!=="object")return e;if(n.get(e))return n.get(e);if(Array.isArray(e)){var l=e.map(function(f){return se(f,n)});return n.set(e,l),l}var a={};for(var i in e)a[i]=se(e[i],n);return n.set(e,a),a}function he(e,n){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),l.push.apply(l,a)}return l}function me(e){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?he(Object(l),!0).forEach(function(a){Y(e,a,l[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):he(Object(l)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(l,a))})}return e}var Ne={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},theme:{type:String,default:"light"},showKeyValueSpace:{type:Boolean,default:!0},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}};const Ue=(0,r.defineComponent)({name:"TreeNode",props:me(me({},Ne),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(e,n){var l=n.emit,a=(0,r.computed)(function(){return je(e.node.content)}),i=(0,r.computed)(function(){return"vjs-value vjs-value-".concat(a.value)}),f=(0,r.computed)(function(){return e.showDoubleQuotes?'"'.concat(e.node.key,'"'):e.node.key}),m=(0,r.computed)(function(){return e.selectableType==="multiple"}),c=(0,r.computed)(function(){return e.selectableType==="single"}),g=(0,r.computed)(function(){return e.nodeSelectable(e.node)&&(m.value||c.value)}),d=(0,r.reactive)({editing:!1}),v=function(y){var t,o,u=(o=(t=y.target)===null||t===void 0?void 0:t.value)==="null"?null:o==="undefined"?void 0:o==="true"||o!=="false"&&(o[0]+o[o.length-1]==='""'||o[0]+o[o.length-1]==="''"?o.slice(1,-1):typeof Number(o)=="number"&&!isNaN(Number(o))||o==="NaN"?Number(o):o);l("valueChange",u,e.node.path)},N=(0,r.computed)(function(){var y,t=(y=e.node)===null||y===void 0?void 0:y.content;return t===null?t="null":t===void 0&&(t="undefined"),a.value==="string"?'"'.concat(t,'"'):t+""}),$=function(){var y=e.renderNodeValue;return y?y({node:e.node,defaultValue:N.value}):N.value},_=function(){l("bracketsClick",!e.collapsed,e.node)},k=function(){l("iconClick",!e.collapsed,e.node)},B=function(){l("selectedChange",e.node)},A=function(){l("nodeClick",e.node),g.value&&e.selectOnClickNode&&l("selectedChange",e.node)},C=function(y){if(e.editable&&!d.editing){d.editing=!0;var t=function o(u){var p;u.target!==y.target&&((p=u.target)===null||p===void 0?void 0:p.parentElement)!==y.target&&(d.editing=!1,document.removeEventListener("click",o))};document.removeEventListener("click",t),document.addEventListener("click",t)}};return function(){var y,t=e.node;return(0,r.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":e.showSelectController,"has-carets":e.showIcon,"is-highlight":e.highlightSelectedNode&&e.checked,dark:e.theme==="dark"},onClick:A,style:e.style},[e.showLineNumber&&(0,r.createVNode)("span",{class:"vjs-node-index"},[t.id+1]),e.showSelectController&&g.value&&t.type!=="objectEnd"&&t.type!=="arrayEnd"&&(0,r.createVNode)(He,{isMultiple:m.value,checked:e.checked,onChange:B},null),(0,r.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(t.level)).map(function(o,u){return(0,r.createVNode)("div",{key:u,class:{"vjs-indent-unit":!0,"has-line":e.showLine}},null)}),e.showIcon&&(0,r.createVNode)(ze,{nodeType:t.type,onClick:k},null)]),t.key&&(0,r.createVNode)("span",{class:"vjs-key"},[(y=e.renderNodeKey,y?y({node:e.node,defaultKey:f.value||""}):f.value),(0,r.createVNode)("span",{class:"vjs-colon"},[":".concat(e.showKeyValueSpace?" ":"")])]),(0,r.createVNode)("span",null,[t.type!=="content"&&t.content?(0,r.createVNode)(qe,{data:t.content.toString(),onClick:_},null):(0,r.createVNode)("span",{class:i.value,onClick:!e.editable||e.editableTrigger&&e.editableTrigger!=="click"?void 0:C,onDblclick:e.editable&&e.editableTrigger==="dblclick"?C:void 0},[e.editable&&d.editing?(0,r.createVNode)("input",{value:N.value,onChange:v,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):$()]),t.showComma&&(0,r.createVNode)("span",null,[","]),e.showLength&&e.collapsed&&(0,r.createVNode)("span",{class:"vjs-comment"},[(0,r.createTextVNode)(" // "),t.length,(0,r.createTextVNode)(" items ")])])])}}});function ve(e,n){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),l.push.apply(l,a)}return l}function P(e){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?ve(Object(l),!0).forEach(function(a){Y(e,a,l[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):ve(Object(l)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(l,a))})}return e}const Ge=(0,r.defineComponent)({name:"Tree",props:P(P({},Ne),{},{data:{type:[String,Number,Boolean,Array,Object],default:null},collapsedNodeLength:{type:Number,default:1/0},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},rootPath:{type:String,default:"root"},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function},theme:{type:String,default:"light"}}),slots:["renderNodeKey","renderNodeValue"],emits:["nodeClick","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(e,n){var l=n.emit,a=n.slots,i=(0,r.ref)(),f=(0,r.computed)(function(){return K(e.data,e.rootPath)}),m=function(t,o){return f.value.reduce(function(u,p){var w,x=p.level>=t||p.length>=o,L=(w=e.pathCollapsible)===null||w===void 0?void 0:w.call(e,p);return p.type!=="objectStart"&&p.type!=="arrayStart"||!x&&!L?u:P(P({},u),{},Y({},p.path,1))},{})},c=(0,r.reactive)({translateY:0,visibleData:null,hiddenPaths:m(e.deep,e.collapsedNodeLength)}),g=(0,r.computed)(function(){for(var t=null,o=[],u=f.value.length,p=0;p<u;p++){var w=P(P({},f.value[p]),{},{id:p}),x=c.hiddenPaths[w.path];if(t&&t.path===w.path){var L=t.type==="objectStart",M=P(P(P({},w),t),{},{showComma:w.showComma,content:L?"{...}":"[...]",type:L?"objectCollapsed":"arrayCollapsed"});t=null,o.push(M)}else{if(x&&!t){t=w;continue}if(t)continue;o.push(w)}}return o}),d=(0,r.computed)(function(){var t=e.selectedValue;return t&&e.selectableType==="multiple"&&Array.isArray(t)?t:[t]}),v=(0,r.computed)(function(){return!e.selectableType||e.selectOnClickNode||e.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),N=function(){var t=g.value;if(e.virtual){var o,u=e.height/e.itemHeight,p=((o=i.value)===null||o===void 0?void 0:o.scrollTop)||0,w=Math.floor(p/e.itemHeight),x=w<0?0:w+u>t.length?t.length-u:w;x<0&&(x=0);var L=x+u;c.translateY=x*e.itemHeight,c.visibleData=t.filter(function(M,h){return h>=x&&h<L})}else c.visibleData=t},$=function(){N()},_=function(t){var o,u,p=t.path,w=e.selectableType;if(w==="multiple"){var x=d.value.findIndex(function(S){return S===p}),L=R(d.value);x!==-1?L.splice(x,1):L.push(p),l("update:selectedValue",L),l("selectedChange",L,R(d.value))}else if(w==="single"&&d.value[0]!==p){var M=(o=d.value,u=1,function(S){if(Array.isArray(S))return S}(o)||function(S,H){var E=S==null?null:typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(E!=null){var ie,ue,Z=[],J=!0,de=!1;try{for(E=E.call(S);!(J=(ie=E.next()).done)&&(Z.push(ie.value),!H||Z.length!==H);J=!0);}catch(_e){de=!0,ue=_e}finally{try{J||E.return==null||E.return()}finally{if(de)throw ue}}return Z}}(o,u)||Ce(o,u)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())[0],h=p;l("update:selectedValue",h),l("selectedChange",h,M)}},k=function(t){l("nodeClick",t)},B=function(t,o){if(t)c.hiddenPaths=P(P({},c.hiddenPaths),{},Y({},o,1));else{var u=P({},c.hiddenPaths);delete u[o],c.hiddenPaths=u}},A=function(t,o){e.collapsedOnClickBrackets&&B(t,o.path),l("bracketsClick",t,o)},C=function(t,o){B(t,o.path),l("iconClick",t,o)},y=function(t,o){var u=se(e.data),p=e.rootPath;new Function("data","val","data".concat(o.slice(p.length),"=val"))(u,t),l("update:data",u)};return(0,r.watchEffect)(function(){v.value&&function(t){throw new Error("[VueJSONPretty] ".concat(t))}(v.value)}),(0,r.watchEffect)(function(){g.value&&N()}),(0,r.watch)(function(){return e.deep},function(t){t&&(c.hiddenPaths=m(t,e.collapsedNodeLength))}),(0,r.watch)(function(){return e.collapsedNodeLength},function(t){t&&(c.hiddenPaths=m(e.deep,t))}),function(){var t,o,u=(t=e.renderNodeKey)!==null&&t!==void 0?t:a.renderNodeKey,p=(o=e.renderNodeValue)!==null&&o!==void 0?o:a.renderNodeValue,w=c.visibleData&&c.visibleData.map(function(x){return(0,r.createVNode)(Ue,{key:x.id,node:x,collapsed:!!c.hiddenPaths[x.path],theme:e.theme,showDoubleQuotes:e.showDoubleQuotes,showLength:e.showLength,checked:d.value.includes(x.path),selectableType:e.selectableType,showLine:e.showLine,showLineNumber:e.showLineNumber,showSelectController:e.showSelectController,selectOnClickNode:e.selectOnClickNode,nodeSelectable:e.nodeSelectable,highlightSelectedNode:e.highlightSelectedNode,editable:e.editable,editableTrigger:e.editableTrigger,showIcon:e.showIcon,showKeyValueSpace:e.showKeyValueSpace,renderNodeKey:u,renderNodeValue:p,onNodeClick:k,onBracketsClick:A,onIconClick:C,onSelectedChange:_,onValueChange:y,style:e.itemHeight&&e.itemHeight!==20?{lineHeight:"".concat(e.itemHeight,"px")}:{}},null)});return(0,r.createVNode)("div",{ref:i,class:{"vjs-tree":!0,"is-virtual":e.virtual,dark:e.theme==="dark"},onScroll:e.virtual?$:void 0,style:e.showLineNumber?P({paddingLeft:"".concat(12*Number(f.value.length.toString().length),"px")},e.style):e.style},[e.virtual?(0,r.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(e.height,"px")}},[(0,r.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(g.value.length*e.itemHeight,"px")}},[(0,r.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(c.translateY,"px)")}},[w])])]):w])}}});var Qe=ke.Z;const Re={key:0,class:"my-6 w-full text-sm text-white"},Ye={class:"flex h-min w-full flex-1 flex-col justify-center overflow-auto"},We={class:"relative flex flex-grow items-center justify-start gap-2 whitespace-nowrap px-3 text-xs line-clamp-1 w-available"},Ze={class:"relative flex flex-grow items-center justify-start gap-2 whitespace-nowrap px-3 text-xs line-clamp-1 w-available"},Je={class:"relative flex flex-grow items-center justify-start gap-2 whitespace-nowrap px-3 text-xs line-clamp-1 w-available"},Xe={class:"relative flex flex-grow flex-col items-start justify-start gap-4 overflow-clip px-3 text-xs line-clamp-1 w-available max-h-[60vh] whitespace-break-spaces"},et=W({__name:"LogModal",props:{open:{type:Boolean,required:!0},close:{type:Function,required:!0},id:{type:String,required:!0},name:{type:String,required:!0},data:{type:Object,required:!0}},setup(e){const n=e,{t:l}=Oe(),a=ge(()=>{if(n.data)try{return JSON.parse(be(n.data.message))}catch{return n.data.message}});return(i,f)=>{const m=z("Button");return T(),U(Ke,{close:e.close,open:!0,maxWidth:"max-w-7xl max-h-[80vh]",title:""},{actions:V(()=>[j(m,{id:"no",onClick:e.close,type:"button",color:"text-auto-alpha-11",variant:"text"},{default:V(()=>[ye(b(O(l)("Close")),1)]),_:1},8,["onClick"])]),default:V(()=>[e.data?(T(),F("div",Re,[s("div",Ye,[s("div",We,[s("span",null,b(i.$t("Time"))+":",1),s("span",null,b(O(we)(e.data.time)),1)]),s("div",Ze,[s("span",null,b(i.$t("Type"))+":",1),s("span",{class:"h-5 w-20 rounded-full px-2 text-center leading-5",style:ce(`background: ${e.data.color}`)},b(e.data.type),5)]),s("div",Je,[s("span",null,b(i.$t("Level"))+":",1),s("span",null,b(e.data.level),1)]),s("div",Xe,[s("span",null,b(i.$t("Message"))+":",1),j(Te,{static:!1},{default:V(()=>[j(O(Qe),{class:"h-fit",data:a.value},null,8,["data"])]),_:1})])])])):ne("",!0)]),_:1},8,["close"])}}}),tt={class:"flex flex-col gap-2 overflow-auto py-2 max-h-[60vh]"},nt={class:"-mb-2 flex flex-grow items-center justify-start gap-3 rounded-md px-2.5"},lt={class:"text-center text-xs font-semibold uppercase"},at=["onClick"],ot={class:"text-center text-xs font-semibold uppercase"},rt=["onclick"],st=W({__name:"LogTypeSelector",props:Le({refetch:{type:Function,required:!0},logTypes:{type:Array,required:!0}},{selectedTypes:{type:Array,required:!1,default:()=>[]},selectedTypesModifiers:{}}),emits:["update:selectedTypes"],setup(e){const n=D(!1),l=Be(e,"selectedTypes"),a=e;I(n,m=>{a.logTypes&&console.log("checkboxState",m)}),I(a,()=>{l.value&&(n.value=X(l.value,a.logTypes),a.refetch())}),xe(()=>{a.logTypes});const i=m=>{l.value.some(c=>c.name==m.name)?l.value=l.value.filter(c=>c.name!=m.name):l.value=[...l.value,m]},f=m=>{if(!a.logTypes)return;const c=a.logTypes.filter(g=>g.type===m.type);c.every(g=>l.value.some(d=>d.name===g.name))?l.value=l.value.filter(g=>!c.some(d=>d.name===g.name)):l.value=[...l.value,...c]};return(m,c)=>{const g=z("Checkbox");return T(),U(le,{class:"relative flex items-center justify-center gap-2 rounded-lg transition-colors duration-300 hover:bg-auto-5/6"},{button:V(()=>[j(ae,{className:"w-6",icon:"chevronDown"})]),default:V(()=>{var d;return[s("div",tt,[s("div",nt,[j(g,{modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=v=>n.value=v),label:"All"},null,8,["modelValue"]),s("p",lt,b(m.$t("All")),1)]),(T(!0),F(q,null,G(O(Pe)(((d=e.logTypes)==null?void 0:d.filter(v=>v.type!="spacer"))??[],"type"),v=>{var N,$,_;return T(),F(q,null,[s("div",{class:"relative mt-2 -mb-1 flex items-center justify-start gap-2 self-stretch px-2.5",onClick:()=>f(v[0])},[j(g,{modelValue:O(X)((N=l.value)==null?void 0:N.filter(k=>k.type==v[0].type),v),color:O(X)(($=l.value)==null?void 0:$.filter(k=>k.type==v[0].type),v)==!0?((_=v[0])==null?void 0:_.color)+"44":""},null,8,["modelValue","color"]),s("p",ot,b(v[0].type),1),c[1]||(c[1]=s("div",{class:"flex-grow h-px bg-[#e2f0fd]/[0.08]"},null,-1))],8,at),(T(!0),F(q,null,G(v,k=>{var B,A;return T(),F("button",{class:"flex flex-grow items-center justify-start gap-3 rounded-md px-2.5",onclick:()=>i(k)},[j(g,{modelValue:(B=l.value)==null?void 0:B.some(C=>C.name==k.name),color:(A=l.value)!=null&&A.some(C=>C.name==k.name)?k.color+"44":""},null,8,["modelValue","color"]),s("span",{style:ce(`background: ${k.color}44`),class:"flex-grow text-sm font-medium text-[#eeecec] rounded-full px-2 w-32 h-5 leading-5 text-center"},b(k.display_name),5)],8,rt)}),256))],64)}),256))])]}),_:1})}}}),ct={class:"mx-2 flex flex-col overflow-auto rounded-lg outline outline-1 min-w-available min-h-available divide-y divide-auto-12/8 h-inherit outline-auto-alpha-5 max-h-[78vh] min-h-[78vh]"},it={class:"flex flex-grow-0 items-start justify-start self-stretch rounded-tl-lg rounded-tr-lg w-available"},ut={class:"flex w-full flex-1 gap-4 text-xs font-medium bg-auto-2/10"},dt={class:"relative flex h-11 items-center justify-between gap-3 self-stretch p-3 group/tableButton w-[150px] min-w-[150px]"},pt={class:"flex w-full flex-col items-start justify-between py-2 bg-auto-1"},ft=["onClick"],ht={class:"relative flex h-11 items-center justify-between gap-3 self-stretch p-3 group/tableButton w-[120px] min-w-[120px]"},mt={class:"relative flex h-11 items-center justify-between gap-3 self-stretch p-3 group/tableButton w-[120px] min-w-[120px]"},vt={class:"flex w-full flex-col items-start justify-between py-2 bg-auto-1"},yt=["onClick"],gt={class:"relative flex h-11 items-center justify-between gap-3 self-stretch p-3 group/tableButton w-available"},bt={class:"relative flex h-11 w-20 items-center justify-between gap-3 self-stretch p-3 group/tableButton min-w-20"},wt={class:"overflow-auto divide-y divide-auto-12/5 h-available"},xt={class:"flex h-12 w-full flex-1 justify-center gap-4 odd:bg-white/[0.04]"},kt={class:"relative flex flex-grow items-center justify-start whitespace-nowrap px-3 text-xs line-clamp-1 w-[150px] min-w-[150px]"},Ct={class:"relative flex flex-grow items-center justify-center whitespace-nowrap text-xs line-clamp-1 w-[120px] min-w-[120px]"},jt={class:"relative flex flex-grow items-center justify-start whitespace-nowrap px-3 text-xs line-clamp-1 w-[120px] min-w-[120px]"},Nt=["onClick"],Lt=W({__name:"Desktop",setup(e){const n=D([]),l=D([]),a=D([]),i=D(50),f=D([]),m=D(""),c=$e(m,500),{data:g,refetch:d}=ee({path:"/dashboard/logs",queryKey:["logs"],refetchInterval:5*60*1e3,data:{limit:i,types:l,levels:a,filter:c}});I(g,t=>{t&&(f.value=t)});const{data:v}=ee({path:"/dashboard/logs/types"}),{data:N}=ee({path:"/dashboard/logs/levels"});I(i,()=>{d()}),I(c,()=>{d()}),I(N,t=>{t&&(a.value=t)}),I(n,t=>{t&&(l.value=t.map(o=>o.name),d())}),Ae(Ie,"NewLog",t=>{a.value.includes(t.level)&&(f.value=f.value.slice(0,f.value.length-1),f.value=[t,...f.value])}),xe(()=>{!g.value||!N.value||!n.value||(f.value=g.value,a.value=N.value,d())});const _=D(null),k=D(!1),B=t=>{console.log(t),_.value=t,k.value=!0},A=t=>{t.stopPropagation(),_.value=null,k.value=!1},C=()=>{Ee().delete("/dashboard/logs").catch(()=>{alert("you'd think this would actually do something huh ðŸ˜‹")}).then(()=>{f.value=[]})},y=t=>{a.value.some(o=>o==t)?a.value=a.value.filter(o=>o!=t):a.value.push(t),d()};return(t,o)=>{const u=z("Checkbox"),p=z("InputText"),w=z("Button");return T(),U(O(Fe),null,{default:V(()=>[j(O(De),{fullscreen:!0},{default:V(()=>[j(Me,{gridStyle:4,description:"",title:"Logs"},{cta:V(()=>o[2]||(o[2]=[])),default:V(()=>{var x,L,M;return[s("table",ct,[s("thead",it,[s("tr",ut,[s("th",dt,[s("span",null,b(t.$t("Limit"))+" ("+b(i.value)+")",1),j(le,{className:"relative flex items-center justify-center gap-2 rounded-lg transition-colors duration-300 hover:bg-auto-5/6",translate:"translate-x-1/4"},{button:V(()=>[j(ae,{className:"w-6",icon:"chevronDown"})]),default:V(()=>[s("div",pt,[(T(),F(q,null,G([5,10,20,50,100,500,1e3,2e3],h=>s("button",{class:"flex flex-grow items-center justify-start gap-3 rounded-md px-2.5",onClick:S=>i.value=h},[j(u,{modelValue:i.value==h,label:h},null,8,["modelValue","label"]),s("span",null,b(h),1)],8,ft)),64))])]),_:1})]),s("th",ht,[s("span",null,b(t.$t("Type")),1),O(v)?(T(),U(st,{key:0,logTypes:O(v),selectedTypes:n.value,"onUpdate:selectedTypes":o[0]||(o[0]=h=>n.value=h),refetch:O(d)},null,8,["logTypes","selectedTypes","refetch"])):ne("",!0)]),s("th",mt,[s("span",null,b(t.$t("Level")),1),j(le,{class:"relative flex items-center justify-center gap-2 rounded-lg transition-colors duration-300 hover:bg-auto-5/6"},{button:V(()=>[j(ae,{className:"w-6",icon:"chevronDown"})]),default:V(()=>[s("div",vt,[(T(!0),F(q,null,G(O(N),h=>{var S;return T(),F("button",{class:"flex flex-grow items-center justify-start gap-3 rounded-md px-2.5",onClick:()=>y(h)},[j(u,{modelValue:(S=a.value)==null?void 0:S.includes(h),label:h},null,8,["modelValue","label"]),s("span",null,b(h),1)],8,yt)}),256))])]),_:1})]),s("th",gt,[s("span",null,b(t.$t("Message")),1),j(p,{id:"filter",modelValue:m.value,"onUpdate:modelValue":o[1]||(o[1]=h=>m.value=h),variant:"filled",size:"small",class:"mr-auto ml-4 min-w-40",name:"",placeholder:"Filter..."},null,8,["modelValue"])]),s("th",bt,[j(w,{id:"clear",className:"!py-1 !h-8",color:"theme",title:"Clear logs",variant:"text",onClick:C},{default:V(()=>[s("span",null,b(t.$t("clear")),1)]),_:1})])])]),s("tbody",wt,[(T(!0),F(q,null,G(f.value??[],h=>{var S,H;return T(),F("tr",xt,[s("td",kt,b(O(we)(h.time)),1),s("td",Ct,[s("div",{style:ce(`background: ${h.color}55`),class:"h-5 w-min rounded-full px-2 text-center leading-5"},b((H=(S=O(v))==null?void 0:S.find(E=>E.name==h.type))==null?void 0:H.display_name),5)]),s("td",jt,b(h.level),1),s("td",{class:"relative flex flex-grow cursor-pointer items-center justify-start whitespace-nowrap px-3 text-xs line-clamp-1 w-available",onClick:()=>B(h)},b(O(be)(h.message)),9,Nt)])}),256))])]),(x=_.value)!=null&&x.level?(T(),U(et,{key:0,id:(L=_.value)==null?void 0:L.level,close:A,data:_.value,name:(M=_.value)==null?void 0:M.level,open:!0},null,8,["id","data","name"])):ne("",!0)]}),_:1})]),_:1})]),_:1})}}});export{Lt as default};
//# sourceMappingURL=Desktop-WLuxCm36.js.map
