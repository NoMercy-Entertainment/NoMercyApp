import"./useBaseQuery-BF4AeGAb.js";import{n as T}from"./useInfiniteServerClient-prY1d_ri.js";import"./useQueryClient-DvEXGR3z.js";import{$a as $,$s as r,As as s,Da as m,Dc as y,Do as V,Ec as t,Is as F,Ms as l,Oo as z,Os as L,Pi as O,Rs as X,X as g,Xs as k,Zs as j,_s as q,ai as A,cr as G,i as C,js as b,ks as K,pc as _,so as U,sr as w,tc as E,uc as M,ws as i,xo as Z,yc as u}from"./index-H5TKJIZK.js";import"./musicPlaylists-DwD7huyJ.js";import"./contextMenuItems-g9SlXaVD.js";import"./_plugin-vue_export-helper-Qq1ciMp2.js";import"./AppLogoSquare-DMiw3kfV.js";import"./TMDBImage-DxiiXIEu.js";import"./MoooomIcon-lmHBzkux.js";import"./dist-CgnV5duW.js";import{t as H}from"./ScrollContainer-lfgf6MzQ.js";import"./CardIndicator-Dcik04k5.js";import{t as J}from"./NMCard-C_HO3mLM.js";import{t as Q}from"./NotFound-D2n4_HL5.js";import{t as W}from"./PersonCard-BRiF1xK6.js";import{n as Y,t as ee}from"./EmptyCard-CX35EcjF.js";import"./NoResultImage-CS4FfxqG.js";q();V();var te="grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 2xl:grid-cols-4 3xl:grid-cols-5 4xl:grid-cols-5 5xl:grid-cols-9 tv:grid-cols-6",ae="grid-cols-2 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-7 3xl:grid-cols-9 4xl:grid-cols-10 5xl:grid-cols-[repeat(14,minmax(0,1fr))] tv:grid-cols-6",re=X({__name:"Desktop",setup(oe){const d=z(),{data:o,fetchNextPage:f,hasNextPage:v,isError:D}=T({queryKey:["libraries",d?.params.id??d.name],limit:20,keepForever:!0});k(()=>{A(),w(null),G(null),document.dispatchEvent(new Event("sidebar")),setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},1e3)}),M(o,a=>{a&&setTimeout(()=>{document.dispatchEvent(new Event("indexer"))},1e3)});const N=L(()=>{const a=o.value?.pages?.[0]?.data?.[0];return a&&O.value&&a.media_type!=="person"&&a.media_type!=="genres"});j(()=>{stop(),w(null)});const B=u(),P=u();k(()=>{P.value=d.params.id??d.name,v.value&&(o?.value?.pages?.length??0)<10&&f(),document.addEventListener("scrollToDiv",a=>{B.value?.scrollTo({top:a.detail.top-100,behavior:"smooth"})})}),Z(()=>{document.dispatchEvent(new Event("indexer"))}),M(o,a=>{a&&v.value&&a?.pages?.length<10&&f()});const I=u(),S=u();function c(a,x){I.value=x,S.value.show(a)}return(a,x)=>(r(),s(t(U),null,{default:_(()=>[F(t($),{fullscreen:!0},{default:_(()=>[t(D)&&!t(o)?.pages?(r(),s(Q,{key:0})):(r(),s(H,{key:1,id:t(C).currentRoute.value.fullPath,"auto-hide":!0,static:!0},{default:_(()=>[(r(),l("div",{key:t(C).currentRoute.value.params?.id,class:y([{"pb-24":t(m)&&!t(g),"pb-40":t(m)&&t(g),"children:pb-4 sm:children:pb-3":!t(m)&&t(g)},"z-0 flex flex-col gap-4 rounded-3xl border-0 p-4 w-available scrollbar-none border-surface-3 transform-gpu will-change-auto"])},[K("div",{class:y(`grid w-full gap-4 scroll-smooth music-showing:pb-0 whitespace-pre ${N.value?te:ae}`)},[(r(!0),l(i,null,E(t(o)?.pages??[],(h,R)=>(r(),l(i,{key:R},[h.data.length>0?(r(!0),l(i,{key:0},E(h.data??[],(e,p)=>(r(),l(i,null,[e?.media_type==="tv"||e?.media_type==="movie"||e?.media_type==="collection"||e?.media_type==="specials"?(r(),s(J,{key:e.id,data:e,index:p,onContextMenu:n=>c(n,e)},null,8,["data","index","onContextMenu"])):e?.media_type==="person"?(r(),s(W,{key:`${e.id}_person`,data:e,index:p,onContextMenu:n=>c(n,e)},null,8,["data","index","onContextMenu"])):e?.media_type==="genres"?(r(),s(Y,{key:`${e.id}_genres`,data:e,index:p,onContextMenu:n=>c(n,e)},null,8,["data","index","onContextMenu"])):b("",!0)],64))),256)):t(o)?.pages?.[0]?.data?.length===0?(r(),s(ee,{key:1})):b("",!0)],64))),128))],2)],2))]),_:1},8,["id"]))]),_:1})]),_:1}))}}),be=re;export{be as default};
