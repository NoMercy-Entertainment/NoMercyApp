{"version":3,"file":"Desktop-CsxTgvK-.js","sources":["../../src/views/Music/Artist/components/TrackRow.vue","../../src/views/Music/Artist/components/ProfileCard.vue","../../src/views/Music/Artist/components/FeaturedCard.vue","../../src/views/Music/Artist/components/Home.vue","../../src/components/Carousel/MusicCarousel.vue","../../src/views/Music/Artist/components/About.vue","../../src/views/Music/Artist/components/Tabs.vue","../../src/views/Music/Artist/components/Header.vue","../../src/views/Music/Artist/Desktop.vue"],"sourcesContent":["<script lang=\"ts\" setup>\nimport { PropType } from 'vue';\nimport { useRoute } from 'vue-router';\n\nimport type { PlaylistItem } from '@/types/musicPlayer';\n\nimport { audioPlayer, currentSong, isPlaying, musicSize, setCurrentPlaylist } from '@/store/audioPlayer';\n\nimport DropdownMenu from '@/Layout/Desktop/components/Menus/DropdownMenu.vue';\n\nimport MoooomIcon from '@/components/Images/icons/MoooomIcon.vue';\nimport EqSpinner from '@/components/Images/EqSpinner.vue';\nimport CoverImage from '@/components/MusicPlayer/components/CoverImage.vue';\nimport MediaLikeButton from '@/components/Buttons/MediaLikeButton.vue';\nimport BannerButton from '@/components/Buttons/BannerButton.vue';\nimport TrackLinks from '@/views/Music/List/components/TrackLinks.vue';\nimport { isAlbumRoute } from '@/store/routeState';\nimport { onTrackRowRightClick } from '@/store/contextMenuItems';\nimport PlayerIcon from \"@/components/Images/icons/PlayerIcon.vue\";\n\nconst props = defineProps({\n  data: {\n    type: Object as PropType<PlaylistItem>,\n    required: true,\n  },\n  index: {\n    type: Number as PropType<number>,\n    required: true,\n  },\n  displayList: {\n    type: Array as PropType<PlaylistItem[] | undefined>,\n    required: true,\n  },\n});\n\nconst router = useRoute();\nconst setCurrentList = () => {\n  setCurrentPlaylist(router.fullPath);\n};\n\nconst handleClick = () => {\n  if (!currentSong.value) {\n    setCurrentList();\n  }\n\n  audioPlayer.playTrack(props.data, props.displayList);\n};\n\n</script>\n\n<template>\n  <button tabindex=\"0\" @click=\"handleClick()\" @contextmenu=\"onTrackRowRightClick($event, data)\"\n    :data-track-id=\"data?.id\" data-target=\"track\"\n    class=\"grid justify-start items-center self-stretch pr-3 sm:px-3 rounded-lg hover:bg-slate-lightA-6 dark:hover:bg-slate-darkA-6 text-auto-12 group/track text-sm font-medium py-2 z-0 group/track home-grid gap-2\">\n\n    <span class=\"flex w-10 justify-center text-center min-w-10\">\n      <span v-if=\"currentSong?.id != data.id\" class=\"group-focus-visible/track:sm:hidden group-hover/track:sm:hidden\">\n        {{ index + 1 }}\n      </span>\n      <EqSpinner v-if=\"currentSong?.id == data.id\" :playing=\"isPlaying\"\n        class=\"hidden group-focus-visible/track:sm:!hidden group-hover/track:sm:!hidden\"\n        color=\"rgb(var(--color-focus))\" />\n\n      <PlayerIcon v-if=\"currentSong?.id == data.id && isPlaying\"\n        class=\"hidden h-6 w-6 group-focus-visible/track:sm:block group-hover/track:sm:block\" icon=\"nmPause\" />\n      <PlayerIcon v-else class=\"hidden h-6 w-6 group-focus-visible/track:sm:block group-hover/track:sm:block\"\n        icon=\"nmPlay\" />\n\n    </span>\n\n    <span class=\"flex h-12 items-center gap-2 overflow-hidden w-available sm:gap-4\">\n      <CoverImage v-if=\"isAlbumRoute\" :data=\"data\" :size=\"100\"\n        className=\"relative hidden h-12 w-12 overflow-hidden min-w-[3rem] sm:block\" loading=\"eager\" />\n      <span class=\"flex h-full flex-col justify-evenly overflow-clip w-inherit\">\n        <span class=\"flex h-5 flex-nowrap overflow-clip text-left font-bold line-clamp-1 w-inherit\">\n          {{ data.name }}\n        </span>\n        <span :data-size=\"musicSize\"\n          class=\"inline-flex h-5 w-fit gap-1 overflow-hidden whitespace-nowrap text-auto-9 line-clamp-1 text-2xs hover:animate-pause\"\n          @click=\"e => e.stopPropagation()\">\n\n          <TrackLinks v-if=\"data\" :id=\"data.id\" :data=\"data.artist_track\"\n            :onclick=\"(e: MouseEvent) => e.stopPropagation()\" data-target=\"artist\" type=\"artists\" />\n        </span>\n      </span>\n    </span>\n\n    <template v-if=\"data\">\n      <span v-for=\"item in data.album_track\" :key=\"item.id\"\n        class=\"max-w-sm items-center overflow-clip pr-2 line-clamp-2 h-inherit w-inherit\"\n        @click=\"e => e.stopPropagation()\">\n        <RouterLink :to=\"item?.link\"\n          class=\"flex items-center gap-1 whitespace-nowrap text-xs font-semibold line-clamp-1 hover:underline focus:underline dark:font-medium\"\n          data-target=\"album\" tabindex=\"0\">\n          <span class=\"flex whitespace-nowrap\">\n            {{ item.name }}\n          </span>\n        </RouterLink>\n      </span>\n    </template>\n    <span class=\"flex items-center justify-between gap-2 text-end\" @click=\"e => e.stopPropagation()\">\n      <MediaLikeButton :key=\"data.id\" :data=\"data\" class=\"hidden sm:flex\" color=\"var(--color-focus)\" />\n      <span class=\"mr-4 monospace sm:mr-0\">\n        {{ data.duration }}\n      </span>\n    </span>\n\n    <DropdownMenu direction=\"down\">\n      <template v-slot:button>\n        <BannerButton class=\"mx-3\" title=\"\">\n          <MoooomIcon className=\"relative h-5 w-5\" icon=\"menuDotsVertical\" />\n        </BannerButton>\n      </template>\n      Hellooo\n    </DropdownMenu>\n  </button>\n</template>\n","<script setup lang=\"ts\">\nimport { onMounted, onUnmounted, type PropType } from 'vue';\n\nimport type { ArtistResponse } from \"@/types/api/music/artist\";\n\nimport { limitSentenceByCharacters } from \"@/lib/stringArray\";\n\nimport CoverImage from \"@/components/MusicPlayer/components/CoverImage.vue\";\nimport { setColorPalette } from '@/store/ui';\n\nconst props = defineProps({\n  data: {\n    type: Object as PropType<ArtistResponse>,\n    required: true,\n  },\n});\n\nonMounted(() => {\n  if (props.data?.color_palette) {\n    setColorPalette(props.data?.color_palette?.cover);\n  }\n});\n\nonUnmounted(() => {\n  setColorPalette(null);\n});\n\n</script>\n\n<template>\n  <div class=\"flex w-full flex-col items-start justify-start gap-4\">\n    <div v-if=\"data.cover\" class=\"flex flex-col items-start justify-start self-stretch overflow-clip rounded-lg\">\n      <CoverImage :data=\"data\" :size=\"500\" class=\"aspect-square h-auto w-full\" />\n    </div>\n    <div class=\"w-full whitespace-pre-line font-semibold leading-normal text-auto-12\">\n      {{ data.disambiguation ?? data.description ? limitSentenceByCharacters(data.description!, 150) : '' }}\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { computed, type PropType } from \"vue\";\n\nimport type { ArtistResponse } from \"@/types/api/music/artist\";\nimport type { PlaylistItem } from \"@/types/musicPlayer\";\n\nimport CoverImage from \"@/components/MusicPlayer/components/CoverImage.vue\";\nimport { Artist } from \"@/types/api/music/artist\";\n\nconst props = defineProps({\n\tdata: {\n\t\ttype: Object as PropType<ArtistResponse>,\n\t\trequired: true,\n\t}\n});\n\n\nconst artists = computed(() => {\n\tconst artists: any = {}\n\n\tprops.data?.tracks?.forEach((track: PlaylistItem) => {\n\t\ttrack.artist_track?.forEach((artist) => {\n\t\t\tif (artist.id == props.data.id || !artist.cover) return;\n\t\t\tartists[artist.id as any] = {\n\t\t\t\tid: artist.id,\n\t\t\t\tname: artist.name,\n\t\t\t\tcover: artist.cover,\n\t\t\t};\n\t\t});\n\t});\n\n\treturn Object.values(artists) as Artist[];\n});\n\n</script>\n\n<template>\n\t<div v-if=\"artists.length > 0\" class=\"flex w-full flex-col items-start justify-start gap-4\">\n\t\t<div class=\"text-xl font-bold leading-loose text-auto-11\">\n\t\t\t{{ $t('Featured Artists') }}\n\t\t</div>\n\t\t<div class=\"grid grid-cols-2 gap-4\">\n\n\t\t\t<template v-for=\"artist in artists as Artist[]\" :key=\"artist.id\">\n\t\t\t\t<RouterLink :to=\"artist.link\"\n\t\t\t\t\tclass=\"inline-flex items-center justify-start gap-4 underline-offset-4 hover:underline\">\n\t\t\t\t\t<div class=\"flex h-16 w-16 items-center justify-center rounded px-px py-px\">\n\t\t\t\t\t\t<CoverImage :data=\"artist\" :size=\"60\" class=\"h-14 w-14 rounded-lg\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"flex items-center justify-start gap-2.5\">\n\t\t\t\t\t\t<div class=\"text-sm font-semibold text-auto-8 text-balance line-clamp-2\">\n\t\t\t\t\t\t\t{{ artist.name }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</RouterLink>\n\t\t\t</template>\n\t\t</div>\n\t</div>\n</template>\n","<script setup lang=\"ts\">\nimport { PropType } from \"vue\";\n\nimport type { ArtistResponse } from \"@/types/api/music/artist\";\n\nimport TrackCard from \"./TrackCard.vue\";\nimport Tab from \"./Tab.vue\";\nimport TabFrame from \"./TabFrame.vue\";\n\ndefineProps({\n\tdata: {\n\t\ttype: Object as PropType<ArtistResponse>,\n\t\trequired: true,\n\t},\n\tdisplayType: {\n\t\ttype: String as PropType<'list' | 'card'>,\n\t\trequired: true,\n\t\tdefault: 'list',\n\t},\n\tactiveTab: {\n\t\ttype: String,\n\t\trequired: true,\n\t}\n});\n\nconst tabs = [\n\t{\n\t\tname: 'list',\n\t},\n\t{\n\t\tname: 'card',\n\t},\n]\n\n\n</script>\n\n<template>\n\t<div class=\"flex flex-1 basis-0 items-start justify-start gap-8 self-stretch p-8\">\n\t\t<TabFrame :data=\"data\" :activeTab=\"activeTab\">\n\t\t\t<Tab :isActive=\"displayType === tabs[0].name\">\n\t\t\t\t<TrackCard title=\"Your most played\" :data=\"data.favorite_tracks ?? []\" />\n\t\t\t\t<TrackCard title=\"All songs\" :data=\"data.tracks ?? []\" />\n\t\t\t</Tab>\n\t\t\t<Tab :isActive=\"displayType === tabs[1].name\">\n\n\t\t\t</Tab>\n\t\t</TabFrame>\n\t</div>\n</template>\n","<script setup lang=\"ts\">\nimport { PropType } from 'vue';\nimport { SwiperSlide } from 'swiper/vue';\n\nimport type { HomeDataItem, MusicHomeResponseItem } from '@/types/api/music/index.d';\n\nimport Carousel from '@/components/Carousel/Carousel.vue';\nimport MusicCard from '@/components/Cards/MusicCard.vue';\n\ndefineProps({\n  data: {\n    type: Object as PropType<MusicHomeResponseItem<HomeDataItem>> | undefined,\n    required: true,\n  },\n  index: {\n    type: Number,\n    required: false,\n    default: 0,\n  },\n  limitCardCountBy: {\n    type: Number,\n    required: false,\n  },\n});\n\nconst handleClick = (item: HomeDataItem) => {\n  setTimeout(() => {\n    if (item.color_palette) {\n      //setLogoColorFromPalette(item.color_palette.poster);\n      //setColorPalette(item.color_palette);\n    }\n  }, 50);\n};\n\n</script>\n\n<template>\n  <Carousel :title=\"data.title\" :index=\"index\" v-if=\"data.items?.length > 0\" :limitCardCountBy=\"limitCardCountBy\"\n    :disableAutoAspect=\"true\">\n\n    <template v-slot:link v-if=\"data.moreLink\">\n      <RouterLink :to=\"data.moreLink\" class=\"mr-auto ml-4 font-medium underline underline-offset-4\">\n        see more\n      </RouterLink>\n    </template>\n\n    <swiper-slide v-for=\"item in data.items\" class=\"flex py-1\" :key=\"item?.id\" :virtualIndex=\"index\">\n\n      <MusicCard v-if=\"item?.id\" :data=\"item\" class=\"\" :id=\"`item-${item?.name}-${item?.id}`\"\n        :onclick=\"() => handleClick(item)\" />\n    </swiper-slide>\n  </Carousel>\n</template>\n","<script lang=\"ts\" setup>\nimport { computed, type PropType } from 'vue';\n\nimport type { ArtistResponse } from '@/types/api/music/artist';\nimport type { Artist } from '@/types/api/music/artist';\nimport type { HomeDataItem, MusicHomeResponseItem } from '@/types/api/music';\nimport type { PlaylistItem } from '@/types/musicPlayer';\n\nimport MusicCarousel from '@/components/Carousel/MusicCarousel.vue';\nimport TabFrame from '@/views/Music/Artist/components/TabFrame.vue';\nimport GenresCard from '@/views/Music/Artist/components/GenresCard.vue';\n\nconst props = defineProps({\n  data: {\n    type: Object as PropType<ArtistResponse>,\n    required: true,\n  },\n  activeTab: {\n    type: String,\n    required: true,\n  }\n});\n\nconst artists = computed(() => {\n  const artists: any = {};\n\n  props.data?.tracks?.forEach((track: PlaylistItem) => {\n    track.artist_track?.forEach((artist) => {\n      if (artist.id == props.data.id || !artist.cover) return;\n      artists[artist.id as any] = artist;\n    });\n  });\n\n  return Object.values(artists) as Artist[];\n});\n\nconst artistCarousel = computed(() => {\n\n  return [{\n    title: 'Featuring artists',\n    moreLink: '',\n    children: artists.value as unknown as any,\n  }];\n});\n\nconst transformToBionic = (content: string) => {\n  if (!content) return;\n\n  const words = content.split(' ');\n  const newWords = words.map((word: string) => {\n    const newWord = [...word];\n    const diff = newWord.length % 2;\n    let idx = newWord.length / 2;\n\n    if (diff) {\n      idx = Math.ceil(idx);\n    }\n\n    newWord.splice(idx, 0, '</span>');\n    newWord.unshift('<span class=\"bionic\">');\n\n    return newWord.join('');\n  });\n\n  return newWords.join(' ');\n};\n\n</script>\n\n<template>\n  <div v-if=\"activeTab\"\n    class=\"flex flex-1 basis-0 items-start justify-start self-stretch overflow-clip px-8 py-8 w-available\">\n    <TabFrame :data=\"data\" :activeTab=\"activeTab\">\n      <div class=\"flex flex-col gap-2 overflow-clip w-available max-w-[75ch]\">\n        <!--\t\t\t\t<div v-for=\"line in transformToBionic(data.description ?? overview ?? '')?.split('\\n') ?? []\"-->\n        <div v-for=\"line in (data.description ?? '')?.split('\\n') ?? []\" :key=\"line\" class=\"flex flex-col gap-1\">\n          <template v-for=\"sentence in line.split('\\n')\" :key=\"sentence\">\n            <span class=\"bionic-text !text-auto-6 font-semibold !text-base\" v-html=\"sentence\" />\n          </template>\n        </div>\n      </div>\n\n      <GenresCard :data=\"data\" />\n\n      <div class=\"max-w-available\">\n        <template v-for=\"carousel in artistCarousel ?? []\" :key=\"carousel.title\">\n          <MusicCarousel :data=\"carousel as unknown as MusicHomeResponseItem<HomeDataItem>\" class=\"-mx-3\"\n            :limitCardCountBy=\"2\" />\n        </template>\n      </div>\n    </TabFrame>\n  </div>\n</template>\n","<script setup lang=\"ts\">\n\nimport { type PropType, ref } from 'vue';\n\nconst props = defineProps({\n  tabs: {\n    type: Array as PropType<{ name: string }[]>,\n    required: true,\n  },\n});\n\nconst activeTab = ref(props.tabs[0].name);\n\nconst setTab = (value: number) => {\n  activeTab.value = props.tabs[value].name;\n};\n\n</script>\n\n<template>\n  <div class=\"z-0 flex shrink grow basis-0 flex-col items-start justify-start self-stretch\">\n    <div class=\"sticky -top-1 z-10 h-14 w-full border-b border-auto-12/6 bg-auto-1\">\n\n      <nav class=\"absolute left-4 inline-flex flex-col items-start justify-start gap-2 top-[15px]\">\n        <ul class=\"inline-flex items-start justify-start gap-4\">\n          <li v-for=\"(tab, index) in tabs\" :key=\"tab.name\" @click=\"setTab(index)\"\n            :class=\"`px-1 pb-4 ${activeTab == tab.name ? 'border-b-2' : ''} empty:hidden transition-transform duration-100 border-focus justify-center items-center gap-2 flex cursor-pointer`\">\n            <div v-if=\"tab?.name\"\n              :class=\"`${activeTab == tab.name ? 'text-focus' : ''} text-base font-semibold leading-normal`\">\n              {{ $t(tab.name) }}\n            </div>\n          </li>\n        </ul>\n      </nav>\n\n      <slot :activeTab=\"activeTab\" name=\"extra\" />\n    </div>\n\n    <slot :activeTab=\"activeTab\" class=\"z-0\" />\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted, PropType, ref } from \"vue\";\nimport { useRoute } from 'vue-router';\n\nimport type { ArtistResponse } from \"@/types/api/music/artist\";\n\nimport { calculateDuration } from \"@/lib/dateTime\";\nimport { stringFormat } from \"@/lib/stringArray\";\nimport { setColorPalette } from '@/store/ui';\n\nimport { currentServer } from '@/store/currentServer';\nimport { audioPlayer, currentPlaylist, currentSong, isPlaying, setCurrentPlaylist } from '@/store/audioPlayer';\nimport { isSongRoute } from '@/store/routeState';\n\nimport MoooomIcon from \"@/components/Images/icons/MoooomIcon.vue\";\nimport BannerButton from \"@/components/Buttons/BannerButton.vue\";\nimport MediaLikeButton from '@/components/Buttons/MediaLikeButton.vue';\n\nconst route = useRoute();\n\nconst props = defineProps({\n\tdata: {\n\t\ttype: Object as PropType<ArtistResponse>,\n\t\trequired: true,\n\t}\n});\n\nconst duration = ref<string | undefined>('');\n\nonMounted(() => {\n\tduration.value = calculateDuration(props.data);\n});\n\nconst backdrop = computed(() => {\n\tlet image = props.data?.images\n\t\t?.toSorted((a, b) => b.voteCount - a.voteCount)\n\t\t?.find(image => image.type === 'banner');\n\tif (!image) {\n\t\timage = props.data?.images\n\t\t\t?.toSorted((a, b) => b.voteCount - a.voteCount)\n\t\t\t?.find(image => image.type === 'background');\n\t}\n\tif (!image) return;\n\treturn currentServer.value?.serverBaseUrl + '' + image?.src;\n});\n\n// const logo = computed(() => {\n//     const image = props.data?.images?.find(image => image.type === 'hdLogo');\n//     if (!image) return;\n//     return serverLocation.value?.serverBaseUrl + '' + image?.src;\n// });\n\nconst isCurrentPlaylist = computed(() => {\n\treturn currentPlaylist.value === route.fullPath;\n});\n\nconst setCurrentList = () => {\n\tsetCurrentPlaylist(route.fullPath);\n};\n\nconst handlePlay = () => {\n\n\tif (props.data?.tracks?.[0]) {\n\t\tif (isCurrentPlaylist.value) {\n\t\t\tif (isPlaying.value) {\n\t\t\t\taudioPlayer.pause();\n\t\t\t} else {\n\t\t\t\taudioPlayer.play();\n\t\t\t}\n\t\t} else {\n\t\t\taudioPlayer.setQueue([]);\n\t\t\taudioPlayer.setBackLog([]);\n\n\t\t\tconst song = props.data.tracks.find(track => track.id == currentSong.value?.id);\n\n\t\t\tif (currentSong.value?.id && song) {\n\t\t\t\taudioPlayer.playTrack(song, props.data?.tracks ?? []);\n\t\t\t} else {\n\t\t\t\taudioPlayer.playTrack(props.data?.tracks?.[0], props.data?.tracks ?? []);\n\t\t\t}\n\n\t\t\tsetCurrentList();\n\t\t}\n\t}\n};\n\n\n</script>\n\n<template>\n\n\t<div class=\"relative -mx-2 flex flex-shrink-0 flex-grow-0 items-end justify-between self-stretch overflow-hidden bg-cover bg-start bg-no-repeat object-cover p-9 w-available !h-[306px]\"\n\t\t:class=\"backdrop ? 'h-[425px]' : 'h-[200px]'\" :style=\"backdrop\n\t\t\t? `background-image: url('${backdrop}')`\n\t\t\t: `background-image: linear-gradient(180deg, rgb(var(--color-focus)) 0%, rgb(var(--color-focus)) 100%)`\n\t\t\t\">\n\t\t<div class=\"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-black via-black/60\">\n\t\t</div>\n\t\t<div class=\"flex flex-shrink-0 flex-grow-0 items-end justify-start gap-4 w-[710px]\">\n\t\t\t<div class=\"relative flex flex-grow flex-col items-start justify-start gap-4\">\n\t\t\t\t<!--                <div class=\"flex h-full h-screen max-h-40 w-full max-w-md flex-grow\" v-if=\"logo\">-->\n\t\t\t\t<!--                    <img-->\n\t\t\t\t<!--                        v-if=\"logo\"-->\n\t\t\t\t<!--                        alt=\"logo\"-->\n\t\t\t\t<!--                        :src=\"logo\"-->\n\t\t\t\t<!--                        class=\"relative mr-4 h-auto w-auto justify-start self-start bg-contain bg-center bg-no-repeat px-4 py-4 -translate-x-[0%] -translate-y-[5%]\"-->\n\t\t\t\t<!--                        type=\"logo\"/>-->\n\t\t\t\t<!--                </div>-->\n\t\t\t\t<!--                <p v-else class=\"flex-shrink-0 flex-grow-0 self-stretch text-5xl font-bold w-[710px]\">-->\n\t\t\t\t<!--                    {{ data.name }}-->\n\t\t\t\t<!--                </p>-->\n\t\t\t\t<p class=\"flex-shrink-0 flex-grow-0 self-stretch text-5xl font-bold text-white w-[710px]\">\n\t\t\t\t\t{{ data.name }}\n\t\t\t\t</p>\n\t\t\t\t<div class=\"relative flex flex-shrink-0 flex-grow-0 items-center justify-start gap-2.5\">\n\t\t\t\t\t<p class=\"flex-shrink-0 flex-grow-0 text-sm text-white\" v-if=\"data.playlists?.length\">\n\t\t\t\t\t\t<span>{{ stringFormat('Appears in {0} Playlists', data.playlists?.length ?? 0) }}</span>\n\t\t\t\t\t\t<svg width=\"3\" height=\"4\" viewBox=\"0 0 3 4\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tclass=\"flex-shrink-0 flex-grow-0\" preserveAspectRatio=\"xMidYMid meet\">\n\t\t\t\t\t\t\t<circle cx=\"1.5\" cy=\"2\" r=\"1.5\" fill=\"#9BA1A6\"></circle>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"flex-shrink-0 flex-grow-0 text-sm text-white\">\n\t\t\t\t\t\t{{ data.tracks?.length }}\n\t\t\t\t\t\t{{ data.tracks?.length == 1 ? $t('song') : $t('songs') }}\n\t\t\t\t\t</p>\n\t\t\t\t\t<svg width=\"3\" height=\"4\" viewBox=\"0 0 3 4\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\tclass=\"flex-shrink-0 flex-grow-0\" preserveAspectRatio=\"xMidYMid meet\">\n\t\t\t\t\t\t<circle cx=\"1.5\" cy=\"2\" r=\"1.5\" fill=\"#9BA1A6\"></circle>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<p class=\"flex-shrink-0 flex-grow-0 text-sm text-white\">\n\t\t\t\t\t\t{{ duration }}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"flex flex-shrink-0 flex-grow-0 items-center justify-start gap-2\">\n\t\t\t<BannerButton title=\"\" :onclick=\"handlePlay\">\n\t\t\t\t<MoooomIcon v-if=\"isPlaying\" icon=\"pause\" className=\"relative h-5 w-5 text-white\" />\n\t\t\t\t<MoooomIcon v-else icon=\"play\" className=\"relative h-5 w-5 text-white\" />\n\t\t\t</BannerButton>\n\t\t\t<!--\t\t\t<BannerButton title=\"\">-->\n\t\t\t<!--\t\t\t\t<MoooomIcon icon=\"shuffle\" className=\"relative h-5 w-5 text-white\"/>-->\n\t\t\t<!--\t\t\t</BannerButton>-->\n\t\t\t<MediaLikeButton v-if=\"data && !isSongRoute\" :data=\"data\" color=\"var(--color-focus)\" className=\"h-5 w-5\" />\n\t\t\t<!--\t\t\t<BannerButton title=\"\">-->\n\t\t\t<!--\t\t\t\t<MoooomIcon icon=\"addCircle\" className=\"relative h-5 w-5 text-white\"/>-->\n\t\t\t<!--\t\t\t</BannerButton>-->\n\t\t\t<!--\t\t\t<BannerButton title=\"\">-->\n\t\t\t<!--\t\t\t\t<MoooomIcon icon=\"download\" className=\"relative h-5 w-5 text-white\"/>-->\n\t\t\t<!--\t\t\t</BannerButton>-->\n\t\t\t<!--\t\t\t<BannerButton title=\"\">-->\n\t\t\t<!--\t\t\t\t<MoooomIcon icon=\"shareSquare\" className=\"relative h-5 w-5 text-white\"/>-->\n\t\t\t<!--\t\t\t</BannerButton>-->\n\t\t\t<!--\t\t\t<BannerButton title=\"\">-->\n\t\t\t<!--\t\t\t\t<MoooomIcon icon=\"currentPlaylist\" className=\"relative h-5 w-5 text-white\"/>-->\n\t\t\t<!--\t\t\t</BannerButton>-->\n\t\t\t<!--\t\t\t<BannerButton title=\"\">-->\n\t\t\t<!--\t\t\t\t<MoooomIcon icon=\"searchMagnifyingGlass\" className=\"relative h-5 w-5 text-white\"/>-->\n\t\t\t<!--\t\t\t</BannerButton>-->\n\t\t\t<BannerButton title=\"\">\n\t\t\t\t<MoooomIcon icon=\"menuDotsHorizontal\" className=\"relative h-5 w-5 text-white\" />\n\t\t\t</BannerButton>\n\t\t</div>\n\t</div>\n</template>\n","<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { IonContent, IonPage } from '@ionic/vue';\n\nimport type { ArtistResponse } from '@/types/api/music/artist';\nimport { type PlaylistItem, SortOrder, SortType } from '@/types/musicPlayer';\n\nimport useServerClient from '@/lib/clients/useServerClient';\nimport { setTitle, sortByType } from '@/lib/stringArray';\nimport { setColorPalette, setSortOrder, sortOrder, sortType } from '@/store/ui';\n\nimport ScrollContainer from '@/Layout/Desktop/components/ScrollContainer.vue';\n\nimport BannerButton from '@/components/Buttons/BannerButton.vue';\nimport MoooomIcon from '@/components/Images/icons/MoooomIcon.vue';\nimport Home from './components/Home.vue';\nimport Albums from './components/Albums.vue';\nimport Playlists from './components/Playlists.vue';\nimport About from './components/About.vue';\nimport Tabs from './components/Tabs.vue';\nimport Tab from './components/Tab.vue';\nimport Header from './components/Header.vue';\nimport NotFound from \"@/Layout/Desktop/components/NotFound.vue\";\n\nconst route = useRoute();\n\nconst { data } = useServerClient<ArtistResponse>({\n  path: route.fullPath,\n  keepForever: true,\n});\n\nonMounted(() => {\n  document.dispatchEvent(new Event('sidebar'));\n});\n\nonUnmounted(() => {\n  setColorPalette(null);\n});\n\nconst displayList = ref<PlaylistItem[]>();\nconst filter = ref('');\n\nwatch(sortOrder, (value) => {\n  sort(data.value?.tracks ?? [], sortType.value, value, filter.value);\n});\nwatch(sortType, (value) => {\n  sort(data.value?.tracks ?? [], value, sortOrder.value, filter.value);\n});\nwatch(filter, (value) => {\n  sort(data.value?.tracks ?? [], sortType.value, sortOrder.value, value);\n});\n\nwatch(data, (value) => {\n  setTitle(value?.name ?? null);\n});\n\nconst sort = (songs: PlaylistItem[], sortType: SortType, sortOrder: SortOrder, value: string) => {\n\n  const newList = sortByType<PlaylistItem>(songs ?? [], sortType, sortOrder, setSortOrder);\n\n  if (value == '') {\n    displayList.value = newList;\n  } else {\n    displayList.value = newList?.filter(t =>\n      t.name?.toLowerCase().includes(value?.toLowerCase?.())\n      || t.artist_track?.some(a => a.name.toLowerCase().includes(value?.toLowerCase?.()))\n      || t.album_track?.[0]?.name.toLowerCase().includes(value?.toLowerCase?.())) ?? [];\n  }\n};\n\nconst tabs = computed(() => {\n  return [\n    {\n      name: 'Home',\n    },\n    {\n      name: 'Albums',\n    },\n    {\n      name: 'Featured',\n    },\n    {\n      name: 'Playlists',\n    },\n    {\n      name: 'About',\n    },\n  ].filter(t => {\n    if (t.name == 'Albums' && data.value?.albums?.length == 0) {\n      t.name = '';\n    }\n    if (t.name == 'Playlists' && data.value?.playlists?.length == 0) {\n      t.name = '';\n    }\n    if (t.name == 'Playlists' && data.value?.featured?.length == 0) {\n      t.name = '';\n    }\n    return true;\n  });\n});\n\nconst displayType = ref<'list' | 'card'>('list');\nconst setDisplayType = (type: 'list' | 'card') => {\n  displayType.value = type;\n};\n</script>\n\n<template>\n  <ion-page>\n    <ion-content :fullscreen=\"true\">\n      <NotFound v-if=\"!data\" />\n      <ScrollContainer v-else :autoHide=\"true\" :static=\"true\">\n\n        <div v-if=\"data?.id == route.params.id\"\n          class=\"inline-flex w-full flex-1 flex-col items-start justify-start overflow-clip rounded-2xl bg-auto-2/1\">\n          <Header v-if=\"data\" :data=\"data\" />\n\n          <Tabs :tabs=\"tabs\">\n            <template v-slot:extra=\"{ activeTab }\">\n              <div v-if=\"activeTab === tabs[0].name\"\n                class=\"absolute right-4 inline-flex items-center justify-start top-[9.65px] gap-2.5\">\n                <BannerButton title=\"\" @click=\"setDisplayType('list')\" :isActive=\"displayType == 'list'\">\n                  <MoooomIcon icon=\"bulletList\" className=\"relative h-5 w-5\" />\n                </BannerButton>\n                <BannerButton title=\"\" @click=\"setDisplayType('card')\" :isActive=\"displayType == 'card'\">\n                  <MoooomIcon icon=\"collection\" className=\"relative h-5 w-5\" />\n                </BannerButton>\n              </div>\n            </template>\n\n            <template v-slot:default=\"{ activeTab }\">\n              <Tab :isActive=\"activeTab === tabs[0].name\">\n                <Home :activeTab=\"activeTab\" v-if=\"data\" :data=\"data\" :displayType=\"displayType\" />\n              </Tab>\n              <Tab :isActive=\"activeTab === tabs[1].name\">\n                <Albums v-if=\"data\" :activeTab=\"activeTab\" :data=\"data\" item=\"albums\" />\n              </Tab>\n              <Tab :isActive=\"activeTab === tabs[2].name\">\n                <Albums v-if=\"data\" :activeTab=\"activeTab\" :data=\"data\" item=\"featured\" />\n              </Tab>\n              <Tab :isActive=\"activeTab === tabs[3].name\">\n                <Playlists :activeTab=\"activeTab\" v-if=\"data\" :data=\"data\" />\n              </Tab>\n              <Tab :isActive=\"activeTab === tabs[4].name\">\n                <About :activeTab=\"activeTab\" v-if=\"data\" :data=\"data\" />\n              </Tab>\n            </template>\n          </Tabs>\n        </div>\n      </ScrollContainer>\n    </ion-content>\n  </ion-page>\n</template>\n"],"names":["props","__props","router","useRoute","setCurrentList","setCurrentPlaylist","handleClick","currentSong","audioPlayer","onMounted","_a","setColorPalette","_c","_b","onUnmounted","artists","computed","track","artist","tabs","item","artistCarousel","activeTab","ref","setTab","value","route","duration","calculateDuration","backdrop","image","a","b","_f","_e","_d","_g","currentServer","isCurrentPlaylist","currentPlaylist","handlePlay","isPlaying","song","data","useServerClient","displayList","filter","watch","sortOrder","sort","sortType","setTitle","songs","newList","sortByType","setSortOrder","t","displayType","setDisplayType","type"],"mappings":"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"}