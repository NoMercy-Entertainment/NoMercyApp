import{$ as w,a_ as y,d as k,f as g,aH as b,a9 as C,w as S,c as f,o as l,p as n,z as o,a0 as r,av as j,j as s,s as B,x as c,I as L,am as $,h as T,F as q,q as I,as as N}from"./vue-ionic-9j_oSDCB.js";import{c0 as m,bH as V,cn as z,t as E,co as H,u as p,Q as d,P as O,by as Q,a as D,cp as F,cq as M,cr as P,B as x,r as u}from"./index-LeZxK_z9.js";import{_ as U}from"./ServerCard.vue_vue_type_script_setup_true_lang-ClEpCuZq.js";import{_ as R}from"./NoMercyAvatar.vue_vue_type_script_setup_true_lang-CswGGoXc.js";import{_ as v}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-CHVfvbJh.js";import{r as W}from"./ripperSocket-CMj0E3xa.js";import"./vendor-Dgtccx1h.js";import"./icons-BW5E66pf.js";import"./rxjs-BCp2L9Rn.js";import"./media-C2AqgyMX.js";import"./api-BBofn2cc.js";import"./swiper-D00Cnjmx.js";import"./music-player-CxG_wAnH.js";import"./primevue-BfjCwqou.js";import"./DeviceIcon.vue_vue_type_script_setup_true_lang-Ca34ONRl.js";const A={class:"flex h-full w-full flex-auto flex-col items-center justify-center gap-8 p-8"},G={class:"flex w-full flex-grow flex-col justify-between p-2 min-h-auto"},J={class:"flex justify-between items-center self-stretch flex-grow-0 flex-shrink-0 w-full relative gap-2.5 mb-2"},K={class:"flex justify-start items-center relative gap-2.5",inert:""},X={class:"size-12 my-auto"},Y={class:"w-48 text-base font-semibold text-left text-slate-dark-1 dark:text-slate-light-1"},Z={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},ee={class:"flex-grow-0 flex-shrink-0 opacity-80 text-sm font-medium text-center text-[#e3e3e3]"},_e=w({__name:"Tv",setup(te){const _=y(),i=k();async function h(e){m(e),await D().get("libraries").then(({data:t})=>{F(t.data),M.value=!0,P.value=!0,setTimeout(async()=>{x.value==="/setup/select-servers"?await u.replace({name:"Home"}):await u.replace(x.value)},50)}).catch(async()=>{await u.replace({name:"Server offline"})})}return g(()=>{var e,t,a;m(null),V(),_.removeQueries(),(e=z.value)==null||e.stop(),(t=E.value)==null||t.stop(),(a=W.value)==null||a.stop()}),b(()=>{H()}),C(()=>{setTimeout(()=>{var e,t;(t=(e=i.value)==null?void 0:e.querySelector("button"))==null||t.focus()},100)}),S(i,e=>{setTimeout(()=>{var t;(t=e==null?void 0:e.querySelector("button"))==null||t.focus()},100)}),(e,t)=>(l(),f(r(N),null,{default:n(()=>[o(r(j),{fullscreen:!0},{default:n(()=>[s("div",A,[s("div",G,[s("div",J,[s("div",K,[s("div",X,[o(R,{user:r(p),size:40},null,8,["user"])]),s("p",Y,c(r(p).name),1)]),B(s("button",{tabindex:"0",class:"flex justify-center items-center ml-auto relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]",onClick:t[0]||(t[0]=a=>d.value=!r(d))},[o(v,{icon:"doorOut",class:"text-slate-dark-1 dark:text-slate-light-1"}),s("span",Z,c(e.$t("Exit TV mode")),1)],512),[[L,!r(O)]]),o(r($),{to:"/logout",class:"flex justify-center items-center relative gap-1.5 pl-3 pr-4 py-2.5 h-10 opacity-40 rounded-full border-[1.5px] border-[#c4c7c5]"},{default:n(()=>[o(v,{icon:"doorOut",class:"text-slate-dark-1 dark:text-slate-light-1"}),s("span",ee,c(e.$t("Logout")),1)]),_:1})]),s("div",{ref_key:"serverList",ref:i,class:"tv:children:w-[30%] tv:mt-0 -mt-24 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4"},[(l(!0),T(q,null,I(r(Q),a=>(l(),f(U,{key:a.id,server:a,onclick:()=>h(a)},null,8,["server","onclick"]))),128))],512)])])]),_:1})]),_:1}))}});export{_e as default};
