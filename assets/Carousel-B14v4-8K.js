import{C as _,Ct as g,Dt as w,K as s,R as V,S as d,T as o,Y as h,c as j,j as M,k as C,mt as r,ot as z,w as i,wt as f,x as b}from"./i18n-Rm1NkeNf.js";import{Bi as D,b as k,ia as F,kr as G,v as O}from"./index-DvNhFfKH.js";import{n as R,t as T}from"./swiper-BH8HiUg1.js";import{n as K,t as B}from"./swiper-config-CCx0tajO.js";j();var W={class:"flex w-available flex-1 flex-col gap-2"},Y={class:"relative ml-3 w-full flex flex-shrink-0 flex-grow-1 items-center self-stretch"},H={key:0,class:"mr-2 ml-3 sm:ml-3 my-2 text-white/12 self-stretch flex-grow-0 flex-shrink-0 text-xl font-bold"},J={key:2,class:"flex flex-shrink-0 flex-grow-0 items-start justify-start gap-2 pr-4 ml-auto"},Q=["aria-label"],U=["aria-label","onclick"],X={class:"gap-3 py-1 pr-0 w-available swiper"},Z=M({__name:"Carousel",props:{title:{type:String,required:!1},type:{type:String,required:!1,default:"poster"},index:{type:Number,required:!1,default:0},limitCardCountBy:{type:Number,required:!1},moreLink:{type:String,required:!1},disableAutoAspect:{type:Boolean,required:!1,default:!1},nextId:{type:String,required:!1,default:"next-carousel"},prevId:{type:String,required:!1,default:"prev-carousel"}},setup(n){const l=n,v=r(!1),p=r(!0),t=r(!1),a=r(!1),u=r(),x=r();function S(e,c){e.progress=Math.floor((c*100+1)/100),v.value=!e.isBeginning,p.value=e.progress<1,t.value=e.progress===1,a.value=!e.isLocked}function q(e){e.progress=Math.floor((e.progress*100+1)/100),v.value=!e.isBeginning,p.value=e.progress<1,t.value=e.progress===1,a.value=!e.isLocked}function P(){requestAnimationFrame(()=>{requestAnimationFrame(()=>{x.value?.classList.remove("opacity-0")})})}function $(){u.value?.$el?.swiper?.slideTo(0,300),a.value=!0}function A(){u.value?.$el?.swiper?.slideNext(300)}function I(){u.value?.$el?.swiper?.slidePrev(300)}const m=b(()=>F&&!l.disableAutoAspect),L=b(()=>window.innerWidth<800?24:20),N=b(()=>{const e=B(m.value);if(l.limitCardCountBy)for(const[c,y]of G(B(m.value)))e[c]={...y,slidesPerView:y.slidesPerView-l.limitCardCountBy,slidesPerGroup:y.slidesPerGroup-l.limitCardCountBy};return{...K(m.value),breakpoints:e,lazy:!0,slidesOffsetBefore:L.value}});function E(){document.querySelector(`#${l.nextId}`)?.focus()}return(e,c)=>(s(),o("div",{ref_key:"carouselEl",ref:x,class:"mb-1 flex w-auto flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-2 self-stretch text-left relative opacity-0 transition-opacity duration-150",style:{"content-visibility":"auto","contain-intrinsic-size":"auto 280px"}},[d("div",W,[d("div",Y,[n.title?(s(),o("h3",H,w(e.$t(n.title??"Continue watching")),1)):h(e.$slots,"selector",{key:1},void 0,!0),d("button",{class:"skip-navigation hidden sm:absolute opacity:0 sm:focus-within:opacity-100",onClick:E},w(e.$t("Skip to next carousel")),1),h(e.$slots,"link",{},void 0,!0),g(D)?i("",!0):(s(),o("div",J,[a.value?(s(),o("button",{key:0,"aria-label":e.$t("Previous slide"),class:f(`hidden sm:flex justify-center items-center p-1 rounded-lg bg-surface-5 active:scale-95 hover:bg-surface- transition-transform duration-200 ${v.value?"":"cursor-not-allowed opacity-50"}`),onclick:I,tabindex:"-1"},[C(k,{class:"w-6",icon:"chevronLeft"})],10,Q)):i("",!0),a.value?(s(),o("button",{key:1,"aria-label":t.value?e.$t("Start slide"):e.$t("Next slide"),class:f(`hidden sm:flex justify-center items-center p-1 rounded-lg bg-surface-5 active:scale-95 hover:bg-surface- transition-transform duration-200 ${a.value?"":"cursor-not-allowed opacity-50"}`),onclick:t.value?$:A,tabindex:"-1"},[a.value&&!t.value?(s(),_(k,{key:0,class:f(`w-6 ${!p.value&&t.value?"opacity-0":""}`),icon:"chevronRight"},null,8,["class"])):i("",!0),a.value&&t.value?(s(),_(k,{key:1,class:f(`w-6 ${t.value?"":"opacity-0"}`),icon:"chevronLeftDouble"},null,8,["class"])):i("",!0)],10,U)):i("",!0)]))]),d("div",X,[C(g(R),V({ref_key:"swiper",ref:u,class:`swiper-${n.title?.replace(/[\s&#]/gu,"-")}`,modules:[g(T)],"data-spatial-container":"row"},N.value,{onProgress:S,onAfterInit:P,onSlideChange:q}),{default:z(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3},16,["class","modules"])])])],512))}}),re=O(Z,[["__scopeId","data-v-f949cc78"]]);export{re as t};
