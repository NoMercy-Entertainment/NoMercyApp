import{At as x,C as _,Dt as c,Et as p,Q as m,S as f,T as l,Y as s,_t as r,c as E,j,k as w,lt as M,w as o,x as g,z}from"./i18n-DXLa9EKW.js";import{Ki as P,b as y,ua as V,v as D}from"./index-CLM6Y7vI.js";import{n as F,t as O}from"./swiper-DkXT2e8s.js";import{n as T,t as K}from"./swiper-config-BqkNjSI4.js";E();var Q={class:"flex w-available flex-1 flex-col gap-2"},R={class:"relative ml-3 w-full flex flex-shrink-0 flex-grow-1 items-center self-stretch"},W={key:0,class:"mr-2 ml-3 sm:ml-3 my-2 text-white/12 self-stretch flex-grow-0 flex-shrink-0 text-xl font-bold"},Y={key:2,class:"flex flex-shrink-0 flex-grow-0 items-start justify-start gap-2 pr-4 ml-auto"},G=["aria-label"],H=["aria-label","onclick"],J={class:"gap-2 py-1 pr-0 w-available swiper"},U=j({__name:"Carousel",props:{title:{type:String,required:!1},type:{type:String,required:!1,default:"poster"},index:{type:Number,required:!1,default:0},limitCardCountBy:{type:Number,required:!1},moreLink:{type:String,required:!1},disableAutoAspect:{type:Boolean,required:!1,default:!1},nextId:{type:String,required:!1,default:"next-carousel"},prevId:{type:String,required:!1,default:"prev-carousel"}},setup(i){const n=i,d=r(!1),v=r(!0),t=r(!1),a=r(!1),u=r(),h=r();function C(e,k){e.progress=Math.floor((k*100+1)/100),d.value=!e.isBeginning,v.value=e.progress<1,t.value=e.progress===1,a.value=!e.isLocked}function S(e){e.progress=Math.floor((e.progress*100+1)/100),d.value=!e.isBeginning,v.value=e.progress<1,t.value=e.progress===1,a.value=!e.isLocked}function B(){requestAnimationFrame(()=>{requestAnimationFrame(()=>{h.value?.classList.remove("opacity-0")})})}function q(){u.value?.$el?.swiper?.slideTo(0,300),a.value=!0}function A(){u.value?.$el?.swiper?.slideNext(300)}function $(){u.value?.$el?.swiper?.slidePrev(300)}const b=g(()=>n.type==="backdrop"?!0:n.disableAutoAspect?!1:V.value),I=g(()=>window.innerWidth<800?24:20),L=g(()=>{const e=K(b.value,n.limitCardCountBy??0);return{...T(b.value),breakpoints:e,lazy:!0,slidesOffsetBefore:I.value}});function N(){document.querySelector(`#${n.nextId}`)?.focus()}return(e,k)=>(s(),l("div",{ref_key:"carouselEl",ref:h,class:"mb-1 flex w-auto flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-2 self-stretch text-left relative opacity-0 transition-opacity duration-150",style:{"content-visibility":"auto","contain-intrinsic-size":"auto 280px"}},[f("div",Q,[f("div",R,[i.title?(s(),l("h3",W,x(e.$t(i.title??"Continue watching")),1)):m(e.$slots,"selector",{key:1},void 0,!0),f("button",{class:"skip-navigation hidden sm:absolute opacity:0 sm:focus-within:opacity-100",onClick:N},x(e.$t("Skip to next carousel")),1),m(e.$slots,"link",{},void 0,!0),p(P)?o("",!0):(s(),l("div",Y,[a.value?(s(),l("button",{key:0,"aria-label":e.$t("Previous slide"),class:c(`hidden sm:flex justify-center items-center p-1 rounded-lg bg-surface-5 active:scale-95 hover:bg-surface- transition-transform duration-200 ${d.value?"":"cursor-not-allowed opacity-50"}`),onclick:$,tabindex:"-1"},[w(y,{class:"w-6",icon:"chevronLeft"})],10,G)):o("",!0),a.value?(s(),l("button",{key:1,"aria-label":t.value?e.$t("Start slide"):e.$t("Next slide"),class:c(`hidden sm:flex justify-center items-center p-1 rounded-lg bg-surface-5 active:scale-95 hover:bg-surface- transition-transform duration-200 ${a.value?"":"cursor-not-allowed opacity-50"}`),onclick:t.value?q:A,tabindex:"-1"},[a.value&&!t.value?(s(),_(y,{key:0,class:c(`w-6 ${!v.value&&t.value?"opacity-0":""}`),icon:"chevronRight"},null,8,["class"])):o("",!0),a.value&&t.value?(s(),_(y,{key:1,class:c(`w-6 ${t.value?"":"opacity-0"}`),icon:"chevronLeftDouble"},null,8,["class"])):o("",!0)],10,H)):o("",!0)]))]),f("div",J,[w(p(F),z({ref_key:"swiper",ref:u,class:`swiper-${i.title?.replace(/[\s&#]/gu,"-")}`,modules:[p(O)],"data-spatial-container":"row"},L.value,{onProgress:C,onAfterInit:B,onSlideChange:S}),{default:M(()=>[m(e.$slots,"default",{},void 0,!0)]),_:3},16,["class","modules"])])])],512))}}),ae=D(U,[["__scopeId","data-v-01d2e269"]]);export{ae as t};
