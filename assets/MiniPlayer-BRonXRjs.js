import{At as b,C as c,Dt as k,Et as e,S as t,T as C,Y as u,_t as d,c as S,j as P,k as h,kt as f,w as v,x as _}from"./i18n-DBb78QAI.js";import"./ionic-DNKsarlx.js";import"./vue-core-CD3ScEG4.js";import"./primevue-CDzFprnl.js";import{Ra as B,Sr as M,W as j,Z as a,_t as z,da as E,g as $,yt as y}from"./index-Dbw70ZKS.js";import{n as D}from"./profileMenu-4kHT9aiQ.js";import"./MusicButton-C9LuPY-w.js";import"./BannerButton-UElmt47M.js";import{t as N}from"./MediaLikeButton-DXh7wU4B.js";import{n as T,r as V,t as W}from"./TrackLinks-C9aI-AJr.js";S();var A={class:"flex flex-grow items-center justify-start gap-2.5 overflow-clip w-[65%]"},F={class:"frosting relative flex w-10 min-w-10 items-start justify-start gap-2 overflow-hidden rounded"},L={class:"w-auto self-stretch text-left text-sm font-medium leading-6 line-clamp-1"},q={class:"children:children:children:children:children:leading-6 w-auto self-stretch text-left text-sm"},I={class:"flex items-center justify-end gap-1"},O={class:"absolute left-0 w-full h-0.5 top-[54px] blur-[1px]"},R=P({__name:"MiniPlayer",setup(X){const w=_(()=>E.value?M(a.value?.color_palette?.cover,20,160):"var(--color-theme-7)"),p=d(null),m=d(null),o=_(()=>m.value?.offsetWidth),l=d("0"),i=d(1);function x(){l.value="0",i.value=1}const{isSwiping:g,lengthX:s}=B(p,{passive:!0,onSwipe(){if(o.value){const n=Math.abs(s.value);i.value=1.1-n/o.value,s.value<0?l.value=`${n}px`:l.value=`-${n}px`}},onSwipeEnd(){o.value&&(s.value<0&&Math.abs(s.value)/o.value>=.5||s.value>100&&Math.abs(s.value)/o.value>=.5)?(l.value="100%",i.value=0,j.stop(),x()):(l.value="0",i.value=1)}});return(n,r)=>!e(D)&&e(a)?(u(),C("div",{key:0,id:"miniPlayer",ref_key:"container",ref:m,style:f(`--color-theme-8: ${w.value}`),class:"flex absolute w-available justify-between items-center self-stretch bottom-0 h-14 overflow-hidden p-2 bg-surface-1 mt-auto z-0",onClick:r[0]||(r[0]=Y=>e(z)())},[r[2]||(r[2]=t("div",{class:"absolute inset-0 h-full w-full bg-gradient-to-b to-black/40 from-focus/40"},null,-1)),t("div",A,[t("div",F,[e(a)?(u(),c($,{key:0,data:e(a),size:100,"class-name":"relative aspect-square h-10 w-10 cursor-pointer overflow-hidden rounded-sm text-focus00 min-w-[2.5rem] min-h-[2.5rem]"},null,8,["data"])):v("",!0)]),t("div",{ref_key:"target",ref:p,class:k([{animated:!e(g)},"relative flex h-full flex-grow flex-col items-start justify-evenly overflow-clip w-inherit"]),style:f({left:l.value,opacity:i.value})},[t("p",L,b(e(a)?.name),1),t("p",q,[e(a)?(u(),c(W,{key:0,id:e(a).id,data:e(a).artist_track,type:"artists"},null,8,["id","data"])):v("",!0)])],6)]),t("div",I,[h(V,{"no-name":""}),(u(),c(N,{key:e(a)?.id+e(a)?.favorite,data:e(a),color:"var(--color-theme-8)"},null,8,["data"])),h(T,{class:"children:h-7 children:w-7"})]),t("div",O,[r[1]||(r[1]=t("div",{class:"absolute w-full h-0.5 left-[-1px] top-[-1px] bg-black/[0.22]"},null,-1)),t("div",{style:f(`width: ${e(y)}%;`),class:"w-0 h-0.5 absolute left-[-1px] top-[-1px] rounded-sm bg-gradient-to-r from-black/5 to-[var(--color-theme-8)] z-10"},null,4),t("div",{style:f(`left: ${e(y)}%;`),class:"w-1 h-0.5 absolute top-[-1px] rounded-sm bg-[#f1EEFE] -translate-x-[2px] z-0"},null,4)])],4)):v("",!0)}}),le=R;export{le as default};
