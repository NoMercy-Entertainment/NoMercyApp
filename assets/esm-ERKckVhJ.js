import{Kn as Ff}from"./index-CymNhKD_.js";var I=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,B=globalThis,Hn="10.11.0";function pt(){return Yn(B),B}function Yn(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||"10.11.0",t[Hn]=t["10.11.0"]||{}}function Kn(e,t,n=B){const r=n.__SENTRY__=n.__SENTRY__||{},i=r[Hn]=r["10.11.0"]||{};return i[e]||(i[e]=t())}var as=["debug","info","warn","error","log","assert","trace"],Bf="Sentry Logger ",Qr={};function Je(e){if(!("console"in B))return e();const t=B.console,n={},r=Object.keys(Qr);r.forEach(i=>{const o=Qr[i];n[i]=t[i],t[i]=o});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function Uf(){us().enabled=!0}function Hf(){us().enabled=!1}function Iu(){return us().enabled}function Wf(...e){cs("log",...e)}function zf(...e){cs("warn",...e)}function jf(...e){cs("error",...e)}function cs(e,...t){I&&Iu()&&Je(()=>{B.console[e](`${Bf}[${e}]:`,...t)})}function us(){return I?Kn("loggerSettings",()=>({enabled:!1})):{enabled:!1}}var g={enable:Uf,disable:Hf,isEnabled:Iu,log:Wf,warn:zf,error:jf},ku=50;var da=/\(error: (.*)\)/,fa=/captureMessage|captureException/;function Cu(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const o=[],s=n.split(`
`);for(let a=r;a<s.length;a++){let c=s[a];c.length>1024&&(c=c.slice(0,1024));const u=da.test(c)?c.replace(da,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const l=d(u);if(l){o.push(l);break}}if(o.length>=ku+i)break}}return $f(o.slice(i))}}function qf(e){return Array.isArray(e)?Cu(...e):e}function $f(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(mr(t).function||"")&&t.pop(),t.reverse(),fa.test(mr(t).function||"")&&(t.pop(),fa.test(mr(t).function||"")&&t.pop()),t.slice(0,ku).map(n=>({...n,filename:n.filename||mr(t).filename,function:n.function||"?"}))}function mr(e){return e[e.length-1]||{}}var zi="<anonymous>";function it(e){try{return!e||typeof e!="function"?zi:e.name||zi}catch{return zi}}function vo(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}var Dr={},pa={};function Ct(e,t){Dr[e]=Dr[e]||[],Dr[e].push(t)}function Rt(e,t){if(!pa[e]){pa[e]=!0;try{t()}catch(n){I&&g.error(`Error while instrumenting ${e}`,n)}}}function Fe(e,t){const n=e&&Dr[e];if(n)for(const r of n)try{r(t)}catch(i){I&&g.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${it(r)}
Error:`,i)}}var ji=null;function Ru(e){const t="error";Ct(t,e),Rt(t,Gf)}function Gf(){ji=B.onerror,B.onerror=function(e,t,n,r,i){return Fe("error",{column:r,error:i,line:n,msg:e,url:t}),ji?ji.apply(this,arguments):!1},B.onerror.__SENTRY_INSTRUMENTED__=!0}var qi=null;function xu(e){const t="unhandledrejection";Ct(t,e),Rt(t,Vf)}function Vf(){qi=B.onunhandledrejection,B.onunhandledrejection=function(e){return Fe("unhandledrejection",e),qi?qi.apply(this,arguments):!0},B.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var Mu=Object.prototype.toString;function Et(e){switch(Mu.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return st(e,Error)}}function In(e,t){return Mu.call(e)===`[object ${t}]`}function Au(e){return In(e,"ErrorEvent")}function ha(e){return In(e,"DOMError")}function Yf(e){return In(e,"DOMException")}function je(e){return In(e,"String")}function wi(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function cn(e){return e===null||wi(e)||typeof e!="object"&&typeof e!="function"}function ot(e){return In(e,"Object")}function Ti(e){return typeof Event<"u"&&st(e,Event)}function Kf(e){return typeof Element<"u"&&st(e,Element)}function Xf(e){return In(e,"RegExp")}function Xn(e){return!!(e?.then&&typeof e.then=="function")}function Jf(e){return ot(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function st(e,t){try{return e instanceof t}catch{return!1}}function Nu(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Ou(e){return typeof Request<"u"&&st(e,Request)}var ls=B,Zf=80;function Be(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let o=0,s=0;const a=" > ",c=3;let u;const d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||Zf;for(;n&&o++<r&&(u=Qf(n,d),!(u==="html"||o>1&&s+i.length*c+u.length>=l));)i.push(u),s+=u.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function Qf(e,t){const n=e,r=[];if(!n?.tagName)return"";if(ls.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t?.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i?.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&je(o)){const s=o.split(/\s+/);for(const a of s)r.push(`.${a}`)}}for(const o of["aria-label","type","name","title","alt"]){const s=n.getAttribute(o);s&&r.push(`[${o}="${s}"]`)}return r.join("")}function $t(){try{return ls.document.location.href}catch{return""}}function Lu(e){if(!ls.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function un(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function $i(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let i=Math.max(t-60,0);i<5&&(i=0);let o=Math.min(i+140,r);return o>r-5&&(o=r),o===r&&(i=Math.max(o-140,0)),n=n.slice(i,o),i>0&&(n=`'{snip} ${n}`),o<r&&(n+=" {snip}"),n}function ei(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{Nu(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Pr(e,t,n=!1){return je(e)?Xf(t)?t.test(e):je(t)?n?e===t:e.includes(t):!1:!1}function qe(e,t=[],n=!1){return t.some(r=>Pr(e,r,n))}function Te(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const i=n(r);typeof i=="function"&&Du(i,r);try{e[t]=i}catch{I&&g.log(`Failed to replace method "${t}" in object`,e)}}function ke(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{I&&g.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Du(e,t){try{e.prototype=t.prototype=t.prototype||{},ke(e,"__sentry_original__",t)}catch{}}function ds(e){return e.__sentry_original__}function Pu(e){if(Et(e))return{message:e.message,name:e.name,stack:e.stack,...ga(e)};if(Ti(e)){const t={type:e.type,target:ma(e.target),currentTarget:ma(e.currentTarget),...ga(e)};return typeof CustomEvent<"u"&&st(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function ma(e){try{return Kf(e)?Be(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function ga(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function ep(e,t=40){const n=Object.keys(Pu(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return un(r,t);for(let i=n.length;i>0;i--){const o=n.slice(0,i).join(", ");if(!(o.length>t))return i===n.length?o:un(o,t)}return""}function tp(){const e=B;return e.crypto||e.msCrypto}function Ie(e=tp()){let t=()=>Math.random()*16;try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{const n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return"10000000100040008000100000000000".replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function Fu(e){return e.exception?.values?.[0]}function Nt(e){const{message:t,event_id:n}=e;if(t)return t;const r=Fu(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function So(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function at(e,t){const n=Fu(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const o={...i?.data,...t.data};n.mechanism.data=o}}function np(e,t,n=5){if(t.lineno===void 0)return;const r=e.length,i=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,i-n),i).map(o=>$i(o,0)),t.context_line=$i(e[Math.min(r-1,i)],t.colno||0),t.post_context=e.slice(Math.min(i+1,r),i+1+n).map(o=>$i(o,0))}function _a(e){if(rp(e))return!0;try{ke(e,"__sentry_captured__",!0)}catch{}return!1}function rp(e){try{return e.__sentry_captured__}catch{}}var Bu=1e3;function Gt(){return Date.now()/Bu}function ip(){const{performance:e}=B;if(!e?.now||!e.timeOrigin)return Gt;const t=e.timeOrigin;return()=>(t+e.now())/Bu}var ya;function ue(){return(ya??(ya=ip()))()}var Gi;function op(){const{performance:e}=B;if(!e?.now)return[void 0,"none"];const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=i<t,s=e.timing?.navigationStart,a=typeof s=="number"?Math.abs(s+n-r):t;return o||a<t?i<=a?[e.timeOrigin,"timeOrigin"]:[s,"navigationStart"]:[r,"dateNow"]}function Ce(){return Gi||(Gi=op()),Gi[0]}function sp(e){const t=ue(),n={sid:Ie(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>cp(n)};return e&&ln(n,e),n}function ln(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ue(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Ie()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function ap(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),ln(e,n)}function cp(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function Jn(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=Jn(r[i],t[i],n-1));return r}function ct(){return Ie()}function Zn(){return Ie().substring(16)}var bo="_sentrySpan";function Ht(e,t){t?ke(e,bo,t):delete e[bo]}function Wn(e){return e[bo]}var up=100,Wt=class Eo{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ct(),sampleRand:Math.random()}}clone(){const t=new Eo;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Ht(t,Wn(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&ln(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,{tags:r,extra:i,user:o,contexts:s,level:a,fingerprint:c=[],propagationContext:u}=(n instanceof Eo?n.getScopeData():ot(n)?t:void 0)||{};return this._tags={...this._tags,...r},this._extra={...this._extra,...i},this._contexts={...this._contexts,...s},o&&Object.keys(o).length&&(this._user=o),a&&(this._level=a),c.length&&(this._fingerprint=c),u&&(this._propagationContext=u),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Ht(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ct(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:up;if(r<=0)return this;const i={timestamp:Gt(),...t,message:t.message?un(t.message,2048):t.message};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Wn(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Jn(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n?.event_id||Ie();if(!this._client)return I&&g.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r?.event_id||Ie();if(!this._client)return I&&g.warn("No client configured on scope - will not capture message!"),i;const o=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:o,...r,event_id:i},this),i}captureEvent(t,n){const r=n?.event_id||Ie();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(I&&g.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function lp(){return Kn("defaultCurrentScope",()=>new Wt)}function dp(){return Kn("defaultIsolationScope",()=>new Wt)}var fp=class{constructor(e,t){let n;e?n=e:n=new Wt;let r;t?r=t:r=new Wt,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(r){throw this._popScope(),r}return Xn(n)?n.then(r=>(this._popScope(),r),r=>{throw this._popScope(),r}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function dn(){const e=Yn(pt());return e.stack=e.stack||new fp(lp(),dp())}function pp(e){return dn().withScope(e)}function hp(e,t){const n=dn();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function va(e){return dn().withScope(()=>e(dn().getIsolationScope()))}function mp(){return{withIsolationScope:va,withScope:pp,withSetScope:hp,withSetIsolationScope:(e,t)=>va(t),getCurrentScope:()=>dn().getScope(),getIsolationScope:()=>dn().getIsolationScope()}}function xt(e){const t=Yn(e);return t.acs?t.acs:mp()}function j(){return xt(pt()).getCurrentScope()}function ye(){return xt(pt()).getIsolationScope()}function Ii(){return Kn("globalScope",()=>new Wt)}function Ve(...e){const t=xt(pt());if(e.length===2){const[n,r]=e;return n?t.withSetScope(n,r):t.withScope(r)}return t.withScope(e[0])}function WI(...e){const t=xt(pt());if(e.length===2){const[n,r]=e;return n?t.withSetIsolationScope(n,r):t.withIsolationScope(r)}return t.withIsolationScope(e[0])}function x(){return j().getClient()}function Uu(e){const{traceId:t,parentSpanId:n,propagationSpanId:r}=e.getPropagationContext(),i={trace_id:t,span_id:r||Zn()};return n&&(i.parent_span_id=n),i}var xe="sentry.source",gp="sentry.sample_rate",_p="sentry.previous_trace_sample_rate",$e="sentry.op",ce="sentry.origin",fs="sentry.idle_span_finish_reason",Qn="sentry.measurement_unit",er="sentry.measurement_value",wo="sentry.custom_span_name",Hu="sentry.profile_id",tr="sentry.exclusive_time";var yp="sentry.link.type";function vp(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function ti(e,t){e.setAttribute("http.response.status_code",t);const n=vp(t);n.message!=="unknown_error"&&e.setStatus(n)}var Wu="_sentryScope",zu="_sentryIsolationScope";function Sp(e,t,n){e&&(ke(e,zu,n),ke(e,Wu,t))}function ni(e){return{scope:e[Wu],isolationScope:e[zu]}}var ju="sentry-",bp=/^sentry-/;function ps(e){const t=Ep(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,o])=>{if(i.match(bp)){const s=i.slice(7);r[s]=o}return r},{});if(Object.keys(n).length>0)return n}function qu(e){if(e)return wp(Object.entries(e).reduce((t,[n,r])=>(r&&(t[`${ju}${n}`]=r),t),{}))}function Ep(e){if(!(!e||!je(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=Sa(n);return Object.entries(r).forEach(([i,o])=>{t[i]=o}),t},{}):Sa(e)}function Sa(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function wp(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const o=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=i===0?o:`${t},${o}`;return s.length>8192?(I&&g.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}var Tp=/^o(\d+)\./,Ip=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function kp(e){return e==="http"||e==="https"}function Vt(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${s}`}function $u(e){const t=Ip.exec(e);if(!t){Je(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",o="",s="",a=""]=t.slice(1);let c="",u=a;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const l=u.match(/^\d+/);l&&(u=l[0])}return Gu({host:o,pass:i,path:c,projectId:u,port:s,protocol:n,publicKey:r})}function Gu(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Cp(e){if(!I)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(i=>e[i]?!1:(g.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:n.match(/^\d+$/)?kp(r)?t&&isNaN(parseInt(t,10))?(g.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(g.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(g.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Rp(e){return e.match(Tp)?.[1]}function Vu(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=Rp(n)),r}function Yu(e){const t=typeof e=="string"?$u(e):Gu(e);if(!(!t||!Cp(t)))return t}function zt(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}var Ku=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Xu(e){if(!e)return;const t=e.match(Ku);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Ju(e,t){const n=Xu(e),r=ps(t);if(!n?.traceId)return{traceId:ct(),sampleRand:Math.random()};const i=xp(n,r);r&&(r.sample_rand=i.toString());const{traceId:o,parentSpanId:s,parentSampled:a}=n;return{traceId:o,parentSpanId:s,sampled:a,dsc:r||{},sampleRand:i}}function Zu(e=ct(),t=Zn(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function xp(e,t){const n=zt(t?.sample_rand);if(n!==void 0)return n;const r=zt(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}function Mp(e,t){const n=Vu(e);return t&&n&&t!==n?(g.log(`Won't continue trace because org IDs don't match (incoming baggage: ${t}, SDK options: ${n})`),!1):e.getOptions().strictTraceContinuation&&(t&&!n||!t&&n)?(g.log(`Starting a new trace because strict trace continuation is enabled but one org ID is missing (incoming baggage: ${t}, Sentry client: ${n})`),!1):!0}var ba=!1;function Ap(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:o,status:s,origin:a,links:c}=W(e);return{parent_span_id:o,span_id:t,trace_id:n,data:r,op:i,status:s,origin:a,links:c}}function Qu(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:W(e).parent_span_id,o=ni(e).scope;return{parent_span_id:i,span_id:r?o?.getPropagationContext().propagationSpanId||Zn():t,trace_id:n}}function Np(e){const{traceId:t,spanId:n}=e.spanContext();return Zu(t,n,Yt(e))}function el(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...i},attributes:o})=>({span_id:t,trace_id:n,sampled:r===1,attributes:o,...i}))}function Ft(e){return typeof e=="number"?Ea(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Ea(e.getTime()):ue()}function Ea(e){return e>9999999999?e/1e3:e}function W(e){if(Lp(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(Op(e)){const{attributes:r,startTime:i,name:o,endTime:s,status:a,links:c}=e;return{span_id:t,trace_id:n,data:r,description:o,parent_span_id:"parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0,start_timestamp:Ft(i),timestamp:Ft(s)||void 0,status:tl(a),op:r[$e],origin:r[ce],links:el(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Op(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Lp(e){return typeof e.getSpanJSON=="function"}function Yt(e){const{traceFlags:t}=e.spanContext();return t===1}function tl(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var Bt="_sentryChildSpans",To="_sentryRootSpan";function nl(e,t){ke(t,To,e[To]||e),e[Bt]?e[Bt].add(t):ke(e,Bt,new Set([t]))}function Dp(e,t){e[Bt]&&e[Bt].delete(t)}function Fr(e){const t=new Set;function n(r){if(!t.has(r)&&Yt(r)){t.add(r);const i=r[Bt]?Array.from(r[Bt]):[];for(const o of i)n(o)}}return n(e),Array.from(t)}function _e(e){return e[To]||e}function ge(){const e=xt(pt());return e.getActiveSpan?e.getActiveSpan():Wn(j())}function Io(){ba||(Je(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),ba=!0)}function zI(e,t){e.updateName(t),e.setAttributes({[xe]:"custom",[wo]:t})}var wa=!1;function Pp(){if(wa)return;function e(){const t=ge(),n=t&&_e(t);if(n){const r="internal_error";I&&g.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:2,message:r})}}e.tag="sentry_tracingErrorCallback",wa=!0,Ru(e),xu(e)}function ut(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||x()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}var Fp="production",rl="_frozenDsc";function Br(e,t){ke(e,rl,t)}function il(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i={environment:n.environment||"production",release:n.release,public_key:r,trace_id:e,org_id:Vu(t)};return t.emit("createDsc",i),i}function hs(e,t){const n=t.getPropagationContext();return n.dsc||il(n.traceId,e)}function Ge(e){const t=x();if(!t)return{};const n=_e(e),r=W(n),i=r.data,o=n.spanContext().traceState,s=o?.get("sentry.sample_rate")??i["sentry.sample_rate"]??i["sentry.previous_trace_sample_rate"];function a(h){return(typeof s=="number"||typeof s=="string")&&(h.sample_rate=`${s}`),h}const c=n[rl];if(c)return a(c);const u=o?.get("sentry.dsc"),d=u&&ps(u);if(d)return a(d);const l=il(e.spanContext().traceId,t),f=i[xe],p=r.description;return f!=="url"&&p&&(l.transaction=p),ut()&&(l.sampled=String(Yt(n)),l.sample_rand=o?.get("sentry.sample_rand")??ni(n).scope?.getPropagationContext().sampleRand.toString()),a(l),t.emit("createDsc",l,n),l}function jI(e){return qu(Ge(e))}var lt=class{constructor(e={}){this._traceId=e.traceId||ct(),this._spanId=e.spanId||Zn()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}};function Oe(e,t=100,n=1/0){try{return ko("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function ol(e,t=3,n=100*1024){const r=Oe(e,t);return Wp(r)>n?ol(e,t-1,n):r}function ko(e,t,n=1/0,r=1/0,i=zp()){const[o,s]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=Bp(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(o(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{return ko("",u.toJSON(),c-1,r,i)}catch{}const d=Array.isArray(t)?[]:{};let l=0;const f=Pu(t);for(const p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(l>=r){d[p]="[MaxProperties ~]";break}const h=f[p];d[p]=ko(p,h,c-1,r,i),l++}return s(t),d}function Bp(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Nu(t))return"[VueViewModel]";if(Jf(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${it(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=Up(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Up(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function Hp(e){return~-encodeURI(e).split(/%..|./).length}function Wp(e){return Hp(JSON.stringify(e))}function zp(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function ht(e,t=[]){return[e,t]}function jp(e,t){const[n,r]=e;return[n,[...r,t]]}function jt(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function Ta(e,t){return jt(e,(n,r)=>t.includes(r))}function ri(e){const t=Yn(B);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function qp(e){const t=Yn(B);return t.decodePolyfill?t.decodePolyfill(e):new TextDecoder().decode(e)}function ii(e){const[t,n]=e;let r=JSON.stringify(t);function i(o){typeof r=="string"?r=typeof o=="string"?r+o:[ri(r),o]:r.push(typeof o=="string"?ri(o):o)}for(const o of n){const[s,a]=o;if(i(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(Oe(a))}i(c)}}return typeof r=="string"?r:$p(r)}function $p(e){const t=e.reduce((i,o)=>i+o.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function Gp(e){let t=typeof e=="string"?ri(e):e;function n(s){const a=t.subarray(0,s);return t=t.subarray(s+1),a}function r(){let s=t.indexOf(10);return s<0&&(s=t.length),JSON.parse(qp(n(s)))}const i=r(),o=[];for(;t.length;){const s=r(),a=typeof s.length=="number"?s.length:void 0;o.push([s,a?n(a):r()])}return[i,o]}function Vp(e){return[{type:"span"},e]}function Yp(e){const t=typeof e.data=="string"?ri(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}var Kp={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Ia(e){return Kp[e]}function ms(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function sl(e,t,n,r){const i=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Vt(r)},...i&&{trace:i}}}function Co(e,t){if(!t?.length||!e.description)return!1;for(const n of t){if(Jp(n)){if(Pr(e.description,n))return!0;continue}if(!n.name&&!n.op)continue;const r=n.name?Pr(e.description,n.name):!0,i=n.op?e.op&&Pr(e.op,n.op):!0;if(r&&i)return!0}return!1}function Xp(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const i of e)i.parent_span_id===r&&(i.parent_span_id=n)}function Jp(e){return typeof e=="string"||e instanceof RegExp}function Zp(e,t){if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...e.sdk?.integrations||[],...t.integrations||[]],packages:[...e.sdk?.packages||[],...t.packages||[]],settings:e.sdk?.settings||t.settings?{...e.sdk?.settings,...t.settings}:void 0},e}function Qp(e,t,n,r){const i=ms(n);return ht({sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Vt(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}function eh(e,t,n,r){const i=ms(n),o=e.type&&e.type!=="replay_event"?e.type:"event";Zp(e,n?.sdk);const s=sl(e,i,r,t);return delete e.sdkProcessingMetadata,ht(s,[[{type:o},e]])}function th(e,t){function n(p){return!!p.trace_id&&!!p.public_key}const r=Ge(e[0]),i=t?.getDsn(),o=t?.getOptions().tunnel,s={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!o&&i&&{dsn:Vt(i)}},{beforeSendSpan:a,ignoreSpans:c}=t?.getOptions()||{},u=c?.length?e.filter(p=>!Co(W(p),c)):e,d=e.length-u.length;d&&t?.recordDroppedEvent("before_send","span",d);const l=a?p=>{const h=W(p),m=a(h);return m||(Io(),h)}:W,f=[];for(const p of u){const h=l(p);h&&f.push(Vp(h))}return ht(s,f)}function nh(e){if(!I)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=W(e),{spanId:i}=e.spanContext(),o=Yt(e),s=_e(e),a=s===e,c=`[Tracing] Starting ${o?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:d,description:l}=W(s);u.push(`root ID: ${s.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}g.log(`${c}
  ${u.join(`
  `)}`)}function rh(e){if(!I)return;const{description:t="< unknown name >",op:n="< unknown op >"}=W(e),{spanId:r}=e.spanContext(),i=`[Tracing] Finishing "${n}" ${_e(e)===e?"root ":""}span "${t}" with ID ${r}`;g.log(i)}function ih(e,t,n,r=ge()){const i=r&&_e(r);i&&(I&&g.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[er]:t,[Qn]:n}))}function ka(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[Qn],o=r[er];typeof i=="string"&&typeof o=="number"&&(t[n.name]={value:o,unit:i})}),t}var Ca=1e3,ki=class{constructor(e={}){this._traceId=e.traceId||ct(),this._spanId=e.spanId||Zn(),this._startTime=e.startTimestamp||ue(),this._links=e.links,this._attributes={},this.setAttributes({[ce]:"manual",[$e]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,t){}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?1:0}}setAttribute(e,t){return t===void 0?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach(t=>this.setAttribute(t,e[t])),this}updateStartTime(e){this._startTime=Ft(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(xe,"custom"),this}end(e){this._endTime||(this._endTime=Ft(e),rh(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[$e],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:tl(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[ce],profile_id:this._attributes[Hu],exclusive_time:this._attributes[tr],measurements:ka(this._events),is_segment:this._isStandaloneSpan&&_e(this)===this||void 0,segment_id:this._isStandaloneSpan?_e(this).spanContext().spanId:void 0,links:el(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){I&&g.log("[Tracing] Adding an event to span:",e);const r=Ra(t)?t:n||ue(),i=Ra(t)?{}:t||{},o={name:e,time:Ft(r),attributes:i};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=x();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===_e(this)))return;if(this._isStandaloneSpan){this._sampled?sh(th([this],e)):(I&&g.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}const t=this._convertSpanToTransaction();t&&(ni(this).scope||j()).captureEvent(t)}_convertSpanToTransaction(){if(!xa(W(this)))return;this._name||(I&&g.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:t}=ni(this),n=e?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const r=Fr(this).filter(a=>a!==this&&!oh(a)).map(a=>W(a)).filter(xa),i=this._attributes[xe];delete this._attributes[wo],r.forEach(a=>{delete a.data[wo]});const o={contexts:{trace:Ap(this)},spans:r.length>Ca?r.sort((a,c)=>a.start_timestamp-c.start_timestamp).slice(0,Ca):r,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,dynamicSamplingContext:Ge(this)},request:n,...i&&{transaction_info:{source:i}}},s=ka(this._events);return s&&Object.keys(s).length&&(I&&g.log("[Measurements] Adding measurements to transaction event",JSON.stringify(s,void 0,2)),o.measurements=s),o}};function Ra(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function xa(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function oh(e){return e instanceof ki&&e.isStandaloneSpan()}function sh(e){const t=x();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function al(e,t,n=()=>{}){let r;try{r=e()}catch(i){throw t(i),n(),i}return ah(r,t,n)}function ah(e,t,n){return Xn(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function ch(e,t,n){if(!ut(e))return[!1];let r,i;typeof e.tracesSampler=="function"?(i=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?i=t.parentSampled:typeof e.tracesSampleRate<"u"&&(i=e.tracesSampleRate,r=!0);const o=zt(i);if(o===void 0)return I&&g.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),[!1];if(!o)return I&&g.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o,r];const s=n<o;return s||I&&g.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[s,o,r]}var oi="__SENTRY_SUPPRESS_TRACING__";function gs(e,t){const n=nr();if(n.startSpan)return n.startSpan(e,t);const r=ys(e),{forceTransaction:i,parentSpan:o,scope:s}=e,a=s?.clone();return Ve(a,()=>cl(o)(()=>{const c=j(),u=vs(c,o),d=e.onlyIfParent&&!u?new lt:_s({parentSpan:u,spanArguments:r,forceTransaction:i,scope:c});return Ht(c,d),al(()=>t(d),()=>{const{status:l}=W(d);d.isRecording()&&(!l||l==="ok")&&d.setStatus({code:2,message:"internal_error"})},()=>{d.end()})}))}function qI(e,t){const n=nr();if(n.startSpanManual)return n.startSpanManual(e,t);const r=ys(e),{forceTransaction:i,parentSpan:o,scope:s}=e,a=s?.clone();return Ve(a,()=>cl(o)(()=>{const c=j(),u=vs(c,o),d=e.onlyIfParent&&!u?new lt:_s({parentSpan:u,spanArguments:r,forceTransaction:i,scope:c});return Ht(c,d),al(()=>t(d,()=>d.end()),()=>{const{status:l}=W(d);d.isRecording()&&(!l||l==="ok")&&d.setStatus({code:2,message:"internal_error"})})}))}function Tt(e){const t=nr();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=ys(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?o=>Ve(e.scope,o):i!==void 0?o=>Ci(i,o):o=>o())(()=>{const o=j(),s=vs(o,i);return e.onlyIfParent&&!s?new lt:_s({parentSpan:s,spanArguments:n,forceTransaction:r,scope:o})})}var $I=(e,t)=>{const n=xt(pt());if(n.continueTrace)return n.continueTrace(e,t);const{sentryTrace:r,baggage:i}=e,o=x(),s=ps(i);return o&&!Mp(o,s?.org_id)?lh(t):Ve(a=>{const c=Ju(r,i);return a.setPropagationContext(c),t()})};function Ci(e,t){const n=nr();return n.withActiveSpan?n.withActiveSpan(e,t):Ve(r=>(Ht(r,e||void 0),t(r)))}function uh(e){const t=nr();return t.suppressTracing?t.suppressTracing(e):Ve(n=>{n.setSDKProcessingMetadata({[oi]:!0});const r=e();return n.setSDKProcessingMetadata({[oi]:void 0}),r})}function lh(e){return Ve(t=>(t.setPropagationContext({traceId:ct(),sampleRand:Math.random()}),I&&g.log(`Starting a new trace with id ${t.getPropagationContext().traceId}`),Ci(null,e)))}function _s({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!ut()){const s=new lt;return(n||!e)&&Br(s,{sampled:"false",sample_rate:"0",transaction:t.name,...Ge(s)}),s}const i=ye();let o;if(e&&!n)o=dh(e,r,t),nl(e,o);else if(e){const s=Ge(e),{traceId:a,spanId:c}=e.spanContext(),u=Yt(e);o=Ma({traceId:a,parentSpanId:c,...t},r,u),Br(o,s)}else{const{traceId:s,dsc:a,parentSpanId:c,sampled:u}={...i.getPropagationContext(),...r.getPropagationContext()};o=Ma({traceId:s,parentSpanId:c,...t},r,u),a&&Br(o,a)}return nh(o),Sp(o,r,i),o}function ys(e){const t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const n={...t};return n.startTimestamp=Ft(e.startTime),delete n.startTime,n}return t}function nr(){return xt(pt())}function Ma(e,t,n){const r=x(),i=r?.getOptions()||{},{name:o=""}=e,s={spanAttributes:{...e.attributes},spanName:o,parentSampled:n};r?.emit("beforeSampling",s,{decision:!1});const a=s.parentSampled??n,c=s.spanAttributes,u=t.getPropagationContext(),[d,l,f]=t.getScopeData().sdkProcessingMetadata[oi]?[!1]:ch(i,{name:o,parentSampled:a,attributes:c,parentSampleRate:zt(u.dsc?.sample_rate)},u.sampleRand),p=new ki({...e,attributes:{[xe]:"custom",[gp]:l!==void 0&&f?l:void 0,...c},sampled:d});return!d&&r&&(I&&g.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",p),p}function dh(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),o=t.getScopeData().sdkProcessingMetadata[oi]?!1:Yt(e),s=o?new ki({...n,parentSpanId:r,traceId:i,sampled:o}):new lt({traceId:i});nl(e,s);const a=x();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}function vs(e,t){if(t)return t;if(t===null)return;const n=Wn(e);if(!n)return;const r=x();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?_e(n):n}function cl(e){return e!==void 0?t=>Ci(e,t):t=>t()}var Ur={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},fh="heartbeatFailed",ph="idleTimeout",hh="finalTimeout",mh="externalFinish";function ul(e,t={}){const n=new Map;let r=!1,i,o=mh,s=!t.disableAutoFinish;const a=[],{idleTimeout:c=Ur.idleTimeout,finalTimeout:u=Ur.finalTimeout,childSpanTimeout:d=Ur.childSpanTimeout,beforeSpanEnd:l}=t,f=x();if(!f||!ut()){const y=new lt;return Br(y,{sample_rate:"0",sampled:"false",...Ge(y)}),y}const p=j(),h=ge(),m=gh(e);m.end=new Proxy(m.end,{apply(y,w,H){if(l&&l(m),w instanceof lt)return;const[S,...k]=H,O=Ft(S||ue()),T=Fr(m).filter(E=>E!==m);if(!T.length)return N(O),Reflect.apply(y,w,[O,...k]);const M=T.map(E=>W(E).timestamp).filter(E=>!!E),K=M.length?Math.max(...M):void 0,A=W(m).start_timestamp,q=Math.min(A?A+u/1e3:1/0,Math.max(A||-1/0,Math.min(O,K||1/0)));return N(q),Reflect.apply(y,w,[q,...k])}});function v(){i&&(clearTimeout(i),i=void 0)}function _(y){v(),i=setTimeout(()=>{!r&&n.size===0&&s&&(o=ph,m.end(y))},c)}function b(y){i=setTimeout(()=>{!r&&s&&(o=fh,m.end(y))},d)}function C(y){v(),n.set(y,!0),b(ue()+d/1e3)}function R(y){n.has(y)&&n.delete(y),n.size===0&&_(ue()+c/1e3)}function N(y){r=!0,n.clear(),a.forEach(O=>O()),Ht(p,h);const w=W(m),{start_timestamp:H}=w;if(!H)return;w.data["sentry.idle_span_finish_reason"]||m.setAttribute(fs,o),g.log(`[Tracing] Idle span "${w.op}" finished`);const S=Fr(m).filter(O=>O!==m);let k=0;S.forEach(O=>{O.isRecording()&&(O.setStatus({code:2,message:"cancelled"}),O.end(y),I&&g.log("[Tracing] Cancelling span since span ended early",JSON.stringify(O,void 0,2)));const{timestamp:T=0,start_timestamp:M=0}=W(O),K=M<=y,A=(u+c)/1e3,q=T-M<=A;if(I){const E=JSON.stringify(O,void 0,2);K?q||g.log("[Tracing] Discarding span since it finished after idle span final timeout",E):g.log("[Tracing] Discarding span since it happened after idle span was finished",E)}(!q||!K)&&(Dp(m,O),k++)}),k>0&&m.setAttribute("sentry.idle_span_discarded_spans",k)}return a.push(f.on("spanStart",y=>{r||y===m||W(y).timestamp||y instanceof ki&&y.isStandaloneSpan()||Fr(m).includes(y)&&C(y.spanContext().spanId)})),a.push(f.on("spanEnd",y=>{r||R(y.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",y=>{y===m&&(s=!0,_(),n.size&&b())})),t.disableAutoFinish||_(),setTimeout(()=>{r||(m.setStatus({code:2,message:"deadline_exceeded"}),o=hh,m.end())},u),m}function gh(e){const t=Tt(e);return Ht(j(),t),I&&g.log("[Tracing] Started span is an idle span"),t}var Vi=0,Aa=1,Na=2;function dt(e){return new rr(t=>{t(e)})}function si(e){return new rr((t,n)=>{n(e)})}var rr=class Ro{constructor(t){this._state=Vi,this._handlers=[],this._runExecutor(t)}then(t,n){return new Ro((r,i)=>{this._handlers.push([!1,o=>{if(!t)r(o);else try{r(t(o))}catch(s){i(s)}},o=>{if(!n)i(o);else try{r(n(o))}catch(s){i(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Ro((n,r)=>{let i,o;return this.then(s=>{o=!1,i=s,t&&t()},s=>{o=!0,i=s,t&&t()}).then(()=>{if(o){r(i);return}n(i)})})}_executeHandlers(){if(this._state===Vi)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Aa&&n[1](this._value),this._state===Na&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(o,s)=>{if(this._state===Vi){if(Xn(s)){s.then(r,i);return}this._state=o,this._value=s,this._executeHandlers()}},r=o=>{n(Aa,o)},i=o=>{n(Na,o)};try{t(r,i)}catch(o){i(o)}}};function xo(e,t,n,r=0){return new rr((i,o)=>{const s=e[r];if(t===null||typeof s!="function")i(t);else{const a=s({...t},n);I&&s.id&&a===null&&g.log(`Event processor "${s.id}" dropped event`),Xn(a)?a.then(c=>xo(e,c,n,r+1).then(i)).then(null,o):xo(e,a,n,r+1).then(i).then(null,o)}})}function _h(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:o}=t;yh(e,t),r&&bh(e,r),Eh(e,n),vh(e,i),Sh(e,o)}function ai(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:f,transactionName:p,span:h}=t;gr(e,"extra",n),gr(e,"tags",r),gr(e,"user",i),gr(e,"contexts",o),e.sdkProcessingMetadata=Jn(e.sdkProcessingMetadata,a,2),s&&(e.level=s),p&&(e.transactionName=p),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...f}}function gr(e,t,n){e[t]=Jn(e[t],n,1)}function yh(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(i).length&&(e.user={...i,...e.user}),Object.keys(o).length&&(e.contexts={...o,...e.contexts}),s&&(e.level=s),a&&e.type!=="transaction"&&(e.transaction=a)}function vh(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Sh(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function bh(e,t){e.contexts={trace:Qu(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Ge(t),...e.sdkProcessingMetadata};const n=W(_e(t)).description;n&&!e.transaction&&e.type==="transaction"&&(e.transaction=n)}function Eh(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}var _r,Oa,yr;function ll(e){const t=B._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return yr&&n.length===Oa||(Oa=n.length,yr=n.reduce((r,i)=>{_r||(_r={});const o=_r[i];if(o)r[o[0]]=o[1];else{const s=e(i);for(let a=s.length-1;a>=0;a--){const c=s[a]?.filename,u=t[i];if(c&&u){r[c]=u,_r[i]=[c,u];break}}}return r},{})),yr}function wh(e,t){const n=ll(e);if(!n)return[];const r=[];for(const i of t)i&&n[i]&&r.push({type:"sourcemap",code_file:i,debug_id:n[i]});return r}function dl(e,t,n,r,i,o){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Ie(),timestamp:t.timestamp||Gt()},u=n.integrations||e.integrations.map(h=>h.name);Th(c,e),Ch(c,u),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&Ih(c,e.stackParser);const d=xh(r,n.captureContext);n.mechanism&&at(c,n.mechanism);const l=i?i.getEventProcessors():[],f=Ii().getScopeData();o&&ai(f,o.getScopeData()),d&&ai(f,d.getScopeData());const p=[...n.attachments||[],...f.attachments];return p.length&&(n.attachments=p),_h(c,f),xo([...l,...f.eventProcessors],c,n).then(h=>(h&&kh(h),typeof s=="number"&&s>0?Rh(h,s,a):h))}function Th(e,t){const{environment:n,release:r,dist:i,maxValueLength:o=250}=t;e.environment=e.environment||n||"production",!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i);const s=e.request;s?.url&&(s.url=un(s.url,o))}function Ih(e,t){const n=ll(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(i=>{i.filename&&(i.debug_id=n[i.filename])})})}function kh(e){const t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function Ch(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function Rh(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Oe(i.data,t,n)}}))},...e.user&&{user:Oe(e.user,t,n)},...e.contexts&&{contexts:Oe(e.contexts,t,n)},...e.extra&&{extra:Oe(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Oe(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:Oe(i.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=Oe(e.contexts.flags,3,n)),r}function xh(e,t){if(!t)return e;const n=e?e.clone():new Wt;return n.update(t),n}function Mh(e){if(e)return Ah(e)?{captureContext:e}:Oh(e)?{captureContext:e}:e}function Ah(e){return e instanceof Wt||typeof e=="function"}var Nh=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function Oh(e){return Object.keys(e).some(t=>Nh.includes(t))}function It(e,t){return j().captureException(e,Mh(t))}function Mo(e,t){const n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return j().captureMessage(e,n,r)}function Ri(e,t){return j().captureEvent(e,t)}function Lh(e,t){ye().setContext(e,t)}function GI(e){ye().setExtras(e)}function VI(e,t){ye().setExtra(e,t)}function YI(e){ye().setTags(e)}function KI(e,t){ye().setTag(e,t)}function XI(e){ye().setUser(e)}function Dh(){return ye().lastEventId()}async function JI(e){const t=x();return t?t.flush(e):(I&&g.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function ZI(e){const t=x();return t?t.close(e):(I&&g.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function QI(){return!!x()}function Ph(){const e=x();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function Fh(e){ye().addEventProcessor(e)}function La(e){const t=ye(),n=j(),{userAgent:r}=B.navigator||{},i=sp({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),o=t.getSession();return o?.status==="ok"&&ln(o,{status:"exited"}),fl(),t.setSession(i),i}function fl(){const e=ye(),t=j().getSession()||e.getSession();t&&ap(t),pl(),e.setSession()}function pl(){const e=ye(),t=x(),n=e.getSession();n&&t&&t.captureSession(n)}function Da(e=!1){if(e){fl();return}pl()}var Bh="7";function hl(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Uh(e){return`${hl(e)}${e.projectId}/envelope/`}function Hh(e,t){const n={sentry_version:Bh};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function ml(e,t,n){return t||`${Uh(e)}?${Hh(e,n)}`}function Wh(e,t){const n=Yu(e);if(!n)return"";const r=`${hl(n)}embed/error-page/`;let i=`dsn=${Vt(n)}`;for(const o in t)if(o!=="dsn"&&o!=="onClose")if(o==="user"){const s=t.user;if(!s)continue;s.name&&(i+=`&name=${encodeURIComponent(s.name)}`),s.email&&(i+=`&email=${encodeURIComponent(s.email)}`)}else i+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${r}?${i}`}var Pa=[];function zh(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function jh(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(i=>{i.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const i=n(t);r=Array.isArray(i)?i:[i]}else r=t;return zh(r)}function qh(e,t){const n={};return t.forEach(r=>{r&&gl(e,r,n)}),n}function Fa(e,t){for(const n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function gl(e,t,n){if(n[t.name]){I&&g.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Pa.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Pa.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,o)=>r(i,o,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((o,s)=>r(o,s,e),{id:t.name});e.addEventProcessor(i)}I&&g.log(`Integration installed: ${t.name}`)}function Ba(e){const t=x();if(!t){I&&g.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function $h(e,t,n){const r=[{type:"client_report"},{timestamp:n||Gt(),discarded_events:e}];return ht(t?{dsn:t}:{},[r])}function _l(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function Gh(e){const{trace_id:t,parent_span_id:n,span_id:r,status:i,origin:o,data:s,op:a}=e.contexts?.trace??{};return{data:s??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:t??"",origin:o,profile_id:s?.[Hu],exclusive_time:s?.[tr],measurements:e.measurements,is_segment:!0}}function Vh(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{"sentry.profile_id":e.profile_id},...e.exclusive_time&&{"sentry.exclusive_time":e.exclusive_time}}}},measurements:e.measurements}}var Ua="Not capturing exception because it's already been captured.",Ha="Discarded session because of missing or non-string release",yl=Symbol.for("SentryInternalError"),vl=Symbol.for("SentryDoNotSendEventError");function Hr(e){return{message:e,[yl]:!0}}function Yi(e){return{message:e,[vl]:!0}}function Wa(e){return!!e&&typeof e=="object"&&yl in e}function za(e){return!!e&&typeof e=="object"&&vl in e}var Yh=class{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Yu(e.dsn):I&&g.warn("No DSN provided, client will not send events."),this._dsn){const t=ml(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){const r=Ie();if(_a(e))return I&&g.log(Ua),r;const i={event_id:r,...t};return this._process(this.eventFromException(e,i).then(o=>this._captureEvent(o,i,n))),i.event_id}captureMessage(e,t,n,r){const i={event_id:Ie(),...n},o=wi(e)?e:String(e),s=cn(e)?this.eventFromMessage(o,t,i):this.eventFromException(e,i);return this._process(s.then(a=>this._captureEvent(a,i,r))),i.event_id}captureEvent(e,t,n){const r=Ie();if(t?.originalException&&_a(t.originalException))return I&&g.log(Ua),r;const i={event_id:r,...t},o=e.sdkProcessingMetadata||{},s=o.capturedSpanScope,a=o.capturedSpanIsolationScope;return this._process(this._captureEvent(e,i,s||n,a)),i.event_id}captureSession(e){this.sendSession(e),ln(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>t.flush(e).then(r=>n&&r))):dt(!0)}close(e){return this.flush(e).then(t=>(this.getOptions().enabled=!1,this.emit("close"),t))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];gl(this,e,this._integrations),t||Fa(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=eh(e,this._dsn,this._options._metadata,this._options.tunnel);for(const i of t.attachments||[])n=jp(n,Yp(i));const r=this.sendEnvelope(n);r&&r.then(i=>this.emit("afterSendEvent",e,i),null)}sendSession(e){const{release:t,environment:n=Fp}=this._options;if("aggregates"in e){const i=e.attrs||{};if(!i.release&&!t){I&&g.warn(Ha);return}i.release=i.release||t,i.environment=i.environment||n,e.attrs=i}else{if(!e.release&&!t){I&&g.warn(Ha);return}e.release=e.release||t,e.environment=e.environment||n}this.emit("beforeSendSession",e);const r=Qp(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,t,n=1){if(this._options.sendClientReports){const r=`${e}:${t}`;I&&g.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(e,t){const n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{const r=n.indexOf(t);r>-1&&n.splice(r,1)}}emit(e,...t){const n=this._hooks[e];n&&n.forEach(r=>r(...t))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,t=>(I&&g.error("Error while sending envelope:",t),t)):(I&&g.error("Transport disabled"),dt({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=qh(this,e),Fa(this,e)}_updateSessionFromEvent(e,t){let n=t.level==="fatal",r=!1;const i=t.exception?.values;if(i){r=!0;for(const s of i)if(s.mechanism?.handled===!1){n=!0;break}}const o=e.status==="ok";(o&&e.errors===0||o&&n)&&(ln(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new rr(t=>{let n=0;const r=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),t(!0)):(n+=r,e&&n>=e&&(clearInterval(i),t(!1)))},r)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,t,n,r){const i=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o?.length&&(t.integrations=o),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),dl(i,e,t,n,this,r).then(s=>(s===null||(this.emit("postprocessEvent",s,t),s.contexts={trace:Uu(n),...s.contexts},s.sdkProcessingMetadata={dynamicSamplingContext:hs(this,n),...s.sdkProcessingMetadata}),s))}_captureEvent(e,t={},n=j(),r=ye()){return I&&Ao(e)&&g.log(`Captured error event \`${_l(e)[0]||"<unknown>"}\``),this._processEvent(e,t,n,r).then(i=>i.event_id,i=>{I&&(za(i)?g.log(i.message):Wa(i)?g.warn(i.message):g.warn(i))})}_processEvent(e,t,n,r){const i=this.getOptions(),{sampleRate:o}=i,s=Sl(e),a=Ao(e),c=e.type||"error",u=`before send for type \`${c}\``,d=typeof o>"u"?void 0:zt(o);if(a&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error"),si(Yi(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const l=c==="replay_event"?"replay":c;return this._prepareEvent(e,t,n,r).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",l),Yi("An event processor returned `null`, will not send event.");return t.data&&t.data.__sentry__===!0?f:Kh(Xh(this,i,f,t),u)}).then(f=>{if(f===null){if(this.recordDroppedEvent("before_send",l),s){const m=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",m)}throw Yi(`${u} returned \`null\`, will not send event.`)}const p=n.getSession()||r.getSession();if(a&&p&&this._updateSessionFromEvent(p,f),s){const m=(f.sdkProcessingMetadata?.spanCountBeforeProcessing||0)-(f.spans?f.spans.length:0);m>0&&this.recordDroppedEvent("before_send","span",m)}const h=f.transaction_info;if(s&&h&&f.transaction!==e.transaction){const m="custom";f.transaction_info={...h,source:m}}return this.sendEvent(f,t),f}).then(null,f=>{throw za(f)||Wa(f)?f:(this.captureException(f,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:f}),Hr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(e){this._numProcessing++,e.then(t=>(this._numProcessing--,t),t=>(this._numProcessing--,t))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([t,n])=>{const[r,i]=t.split(":");return{reason:r,category:i,quantity:n}})}_flushOutcomes(){I&&g.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){I&&g.log("No outcomes to send");return}if(!this._dsn){I&&g.log("No dsn provided, will not send outcomes");return}I&&g.log("Sending outcomes:",e);const t=$h(e,this._options.tunnel&&Vt(this._dsn));this.sendEnvelope(t)}};function Kh(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Xn(e))return e.then(r=>{if(!ot(r)&&r!==null)throw Hr(n);return r},r=>{throw Hr(`${t} rejected with ${r}`)});if(!ot(e)&&e!==null)throw Hr(n);return e}function Xh(e,t,n,r){const{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:s,ignoreSpans:a}=t;let c=n;if(Ao(c)&&i)return i(c,r);if(Sl(c)){if(s||a){const u=Gh(c);if(a?.length&&Co(u,a))return null;if(s){const d=s(u);d?c=Jn(n,Vh(d)):Io()}if(c.spans){const d=[],l=c.spans;for(const p of l){if(a?.length&&Co(p,a)){Xp(l,p);continue}if(s){const h=s(p);h?d.push(h):(Io(),d.push(p))}else d.push(p)}const f=c.spans.length-d.length;f&&e.recordDroppedEvent("before_send","span",f),c.spans=d}}if(o){if(c.spans){const u=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return o(c,r)}}return c}function Ao(e){return e.type===void 0}function Sl(e){return e.type==="transaction"}function Jh(e,t){return t?Ve(t,()=>{const n=ge(),r=n?Qu(n):Uu(t);return[n?Ge(n):hs(e,t),r]}):[void 0,void 0]}var Zh={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function Qh(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function em(e,t,n,r){const i={};return t?.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(i.dsn=Vt(r)),ht(i,[Qh(e)])}var tm=100;function nm(e){switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}function et(e,t,n,r=!0){n&&(!e[t]||r)&&(e[t]=n)}function rm(e,t){const n=Ss(),r=bl(e);r===void 0?n.set(e,[t]):(n.set(e,[...r,t]),r.length>=tm&&Wr(e,r))}function No(e,t=x(),n=j(),r=rm){if(!t){I&&g.warn("No client available to capture log.");return}const{release:i,environment:o,enableLogs:s=!1,beforeSendLog:a}=t.getOptions();if(!s){I&&g.warn("logging option not enabled, log will not be captured.");return}const[,c]=Jh(t,n),u={...e.attributes},{user:{id:d,email:l,username:f}}=im(n);et(u,"user.id",d,!1),et(u,"user.email",l,!1),et(u,"user.name",f,!1),et(u,"sentry.release",i),et(u,"sentry.environment",o);const{name:p,version:h}=t.getSdkMetadata()?.sdk??{};et(u,"sentry.sdk.name",p),et(u,"sentry.sdk.version",h),et(u,"sentry.replay_id",t.getIntegrationByName("Replay")?.getReplayId());const m=e.message;if(wi(m)){const{__sentry_template_string__:y,__sentry_template_values__:w=[]}=m;w?.length&&(u["sentry.message.template"]=y),w.forEach((H,S)=>{u[`sentry.message.parameter.${S}`]=H})}et(u,"sentry.trace.parent_span_id",Wn(n)?.spanContext().spanId);const v={...e,attributes:u};t.emit("beforeCaptureLog",v);const _=a?Je(()=>a(v)):v;if(!_){t.recordDroppedEvent("before_send","log_item",1),I&&g.warn("beforeSendLog returned null, log will not be captured.");return}const{level:b,message:C,attributes:R={},severityNumber:N}=_;r(t,{timestamp:ue(),level:b,body:C,trace_id:c?.trace_id,severity_number:N??Zh[b],attributes:Object.keys(R).reduce((y,w)=>(y[w]=nm(R[w]),y),{})}),t.emit("afterCaptureLog",_)}function Wr(e,t){const n=t??bl(e)??[];if(n.length===0)return;const r=e.getOptions(),i=em(n,r._metadata,r.tunnel,e.getDsn());Ss().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(i)}function bl(e){return Ss().get(e)}function im(e){const t=Ii().getScopeData();return ai(t,ye().getScopeData()),ai(t,e.getScopeData()),t}function Ss(){return Kn("clientToLogBufferMap",()=>new WeakMap)}function om(e,t){t.debug===!0&&(I?g.enable():Je(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),j().update(t.initialScope);const n=new e(t);return sm(n),n.init(),n}function sm(e){j().setClient(e)}var El=Symbol.for("SentryBufferFullError");function am(e){const t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]||Promise.resolve(void 0)}function i(s){if(!n())return si(El);const a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function o(s){return new rr((a,c)=>{let u=t.length;if(!u)return a(!0);const d=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(l=>{dt(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:i,drain:o}}var cm=60*1e3;function wl(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?cm:r-t}function um(e,t){return e[t]||e.all||0}function Tl(e,t,n=Date.now()){return um(e,t)>n}function Il(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},o=n?.["x-sentry-rate-limits"],s=n?.["retry-after"];if(o)for(const a of o.trim().split(",")){const[c,u,,,d]=a.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)i.all=r+f;else for(const p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(i[p]=r+f):i[p]=r+f}else s?i.all=r+wl(s,r):t===429&&(i.all=r+60*1e3);return i}function lm(e,t,n=am(e.bufferSize||64)){let r={};const i=s=>n.drain(s);function o(s){const a=[];if(jt(s,(l,f)=>{const p=Ia(f);Tl(r,p)?e.recordDroppedEvent("ratelimit_backoff",p):a.push(l)}),a.length===0)return dt({});const c=ht(s[0],a),u=l=>{jt(c,(f,p)=>{e.recordDroppedEvent(l,Ia(p))})},d=()=>t({body:ii(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&I&&g.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=Il(r,l),l),l=>{throw u("network_error"),I&&g.error("Encountered error running transport request:",l),l});return n.add(d).then(l=>l,l=>{if(l===El)return I&&g.error("Skipped sending event because buffer is full."),u("queue_overflow"),dt({});throw l})}return{send:o,flush:i}}var Ki=5e3,dm=36e5;function fm(e){function t(...n){I&&g.log("[Offline]:",...n)}return n=>{const r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");const i=n.createStore(n);let o=Ki,s;function a(l,f,p){return Ta(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,f,p):!0}function c(l){s&&clearTimeout(s),s=setTimeout(async()=>{s=void 0;const f=await i.shift();f&&(t("Attempting to send previously queued event"),f[0].sent_at=new Date().toISOString(),d(f,!0).catch(p=>{t("Failed to retry sending",p)}))},l),typeof s!="number"&&s.unref&&s.unref()}function u(){s||(c(o),o=Math.min(o*2,dm))}async function d(l,f=!1){if(!f&&Ta(l,["replay_event","replay_recording"]))return await i.push(l),c(100),{};try{if(n.shouldSend&&await n.shouldSend(l)===!1)throw new Error("Envelope not sent because `shouldSend` callback returned false");const p=await r.send(l);let h=100;if(p){if(p.headers?.["retry-after"])h=wl(p.headers["retry-after"]);else if(p.headers?.["x-sentry-rate-limits"])h=6e4;else if((p.statusCode||0)>=400)return p}return c(h),o=Ki,p}catch(p){if(await a(l,p,o))return f?await i.unshift(l):await i.push(l),u(),t("Error sending. Event queued.",p),{};throw p}}return n.flushAtStartup&&u(),{send:d,flush:l=>(l===void 0&&(o=Ki,c(100)),r.flush(l))}}}function kl(e,t){let n;return jt(e,(r,i)=>(t.includes(i)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function pm(e,t){return n=>{const r=e(n);return{...r,send:async i=>{const o=kl(i,["event","transaction","profile","replay_event"]);return o&&(o.release=t),r.send(i)}}}}function hm(e,t){return ht(t?{...e[0],dsn:t}:e[0],e[1])}function e1(e,t){return n=>{const r=e(n),i=new Map;function o(c,u){const d=u?`${c}:${u}`:c;let l=i.get(d);if(!l){const f=$u(c);if(!f)return;const p=ml(f,n.tunnel);l=u?pm(e,u)({...n,url:p}):e({...n,url:p}),i.set(d,l)}return[c,l]}async function s(c){function u(f){return kl(c,f?.length?f:["event"])}const d=t({envelope:c,getEvent:u}).map(f=>typeof f=="string"?o(f,void 0):o(f.dsn,f.release)).filter(f=>!!f),l=d.length?d:[["",r]];return(await Promise.all(l.map(([f,p])=>p.send(hm(c,f)))))[0]}async function a(c){const u=[...i.values(),r];return(await Promise.all(u.map(d=>d.flush(c)))).every(d=>d)}return{send:s,flush:a}}}var mm="thismessage:/";function bs(e){return"isRelative"in e}function Es(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=t??(n?mm:void 0);try{if("canParse"in URL&&!URL.canParse(e,r))return;const i=new URL(e,r);return n?{isRelative:n,pathname:i.pathname,search:i.search,hash:i.hash}:i}catch{}}function gm(e){if(bs(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Ut(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Cl(e){return e.split(/[?#]/,1)[0]}function Rl(e,t){const n=t?.getDsn(),r=t?.getOptions().tunnel;return ym(e,n)||_m(e,r)}function _m(e,t){return t?ja(e)===ja(t):!1}function ym(e,t){const n=Es(e);return!n||bs(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function ja(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function vm(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}var Sm=vm;function bm(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function xl(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:Hn})),version:Hn}),e._metadata=i}function Ml(e={}){const t=e.client||x();if(!Ph()||!t)return{};const n=xt(pt());if(n.getTraceData)return n.getTraceData(e);const r=e.scope||j(),i=e.span||ge(),o=i?Np(i):Em(r),s=qu(i?Ge(i):hs(t,r));if(!Ku.test(o))return g.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const a={"sentry-trace":o,baggage:s};if(e.propagateTraceparent){const c=wm(o);c&&(a.traceparent=c)}return a}function Em(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Zu(t,r,n)}function wm(e){const{traceId:t,parentSpanId:n,parentSampled:r}=Xu(e)||{};if(!(!t||!n))return`00-${t}-${n}-${r?"01":"00"}`}function Tm(e,t,n){let r,i,o;const s=n?.maxWait?Math.max(n.maxWait,t):0,a=n?.setTimeoutImpl||setTimeout;function c(){return u(),r=e(),r}function u(){i!==void 0&&clearTimeout(i),o!==void 0&&clearTimeout(o),i=o=void 0}function d(){return i!==void 0||o!==void 0?c():r}function l(){return i&&clearTimeout(i),i=a(c,t),s&&o===void 0&&(o=a(c,s)),r}return l.cancel=u,l.flush=d,l}var Im=100;function Xe(e,t){const n=x(),r=ye();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=Im}=n.getOptions();if(o<=0)return;const s={timestamp:Gt(),...e},a=i?Je(()=>i(s,t)):s;a!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,o))}var qa,km="FunctionToString",$a=new WeakMap,Cm=()=>({name:km,setupOnce(){qa=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=ds(this),n=$a.has(x())&&t!==void 0?t:this;return qa.apply(n,e)}}catch{}},setup(e){$a.set(e,!0)}}),Rm=Cm,xm=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],Mm="EventFilters",Am=(e={})=>{let t;return{name:Mm,setup(n){t=Ga(e,n.getOptions())},processEvent(n,r,i){return t||(t=Ga(e,i.getOptions())),Om(n,t)?null:n}}},Nm=(e={})=>({...Am(e),name:"InboundFilters"});function Ga(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:xm],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function Om(e,t){if(e.type){if(e.type==="transaction"&&Dm(e,t.ignoreTransactions))return I&&g.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Nt(e)}`),!0}else{if(Lm(e,t.ignoreErrors))return I&&g.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Nt(e)}`),!0;if(Um(e))return I&&g.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Nt(e)}`),!0;if(Pm(e,t.denyUrls))return I&&g.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Nt(e)}.
Url: ${ci(e)}`),!0;if(!Fm(e,t.allowUrls))return I&&g.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Nt(e)}.
Url: ${ci(e)}`),!0}return!1}function Lm(e,t){return t?.length?_l(e).some(n=>qe(n,t)):!1}function Dm(e,t){if(!t?.length)return!1;const n=e.transaction;return n?qe(n,t):!1}function Pm(e,t){if(!t?.length)return!1;const n=ci(e);return n?qe(n,t):!1}function Fm(e,t){if(!t?.length)return!0;const n=ci(e);return n?qe(n,t):!0}function Bm(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function ci(e){try{const t=[...e.exception?.values??[]].reverse().find(n=>n.mechanism?.parent_id===void 0&&n.stacktrace?.frames?.length)?.stacktrace?.frames;return t?Bm(t):null}catch{return I&&g.error(`Cannot extract url for event ${Nt(e)}`),null}}function Um(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function Hm(e,t,n,r,i,o){if(!i.exception?.values||!o||!st(o.originalException,Error))return;const s=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;s&&(i.exception.values=Oo(e,t,r,o.originalException,n,i.exception.values,s,0))}function Oo(e,t,n,r,i,o,s,a){if(o.length>=n+1)return o;let c=[...o];if(st(r[i],Error)){Va(s,a);const u=e(t,r[i]),d=c.length;Ya(u,i,d,a),c=Oo(e,t,n,r[i],i,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(st(u,Error)){Va(s,a);const l=e(t,u),f=c.length;Ya(l,`errors[${d}]`,f,a),c=Oo(e,t,n,u,i,[l,...c],l,f)}}),c}function Va(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Ya(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}var Al=new Map,Ka=new Set;function Wm(e){if(B._sentryModuleMetadata)for(const t of Object.keys(B._sentryModuleMetadata)){const n=B._sentryModuleMetadata[t];if(Ka.has(t))continue;Ka.add(t);const r=e(t);for(const i of r.reverse())if(i.filename){Al.set(i.filename,n);break}}}function zm(e,t){return Wm(e),Al.get(t)}function Nl(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;const i=zm(e,r.filename);i&&(r.module_metadata=i)}})}catch{}}function Ol(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}var t1=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{jt(t,(n,r)=>{if(r==="event"){const i=Array.isArray(n)?n[1]:void 0;i&&(Ol(i),n[1]=i)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;const n=e.getOptions().stackParser;Nl(n,t)})}});function ws(e){const t="console";Ct(t,e),Rt(t,jm)}function jm(){"console"in B&&as.forEach(function(e){e in B.console&&Te(B.console,e,function(t){return Qr[e]=t,function(...n){Fe("console",{args:n,level:e}),Qr[e]?.apply(B.console,n)}})})}function Ts(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}var qm="CaptureConsole",$m=(e={})=>{const t=e.levels||as,n=e.handled??!0;return{name:qm,setup(r){"console"in B&&ws(({args:i,level:o})=>{x()!==r||!t.includes(o)||Gm(i,o,n)})}}},n1=$m;function Gm(e,t,n){const r={level:Ts(t),extra:{arguments:e}};Ve(i=>{if(i.addEventProcessor(s=>(s.logger="console",at(s,{handled:n,type:"console"}),s)),t==="assert"){if(!e[0]){const s=`Assertion failed: ${ei(e.slice(1)," ")||"console.assert"}`;i.setExtra("arguments",e.slice(1)),Mo(s,r)}return}const o=e.find(s=>s instanceof Error);if(o){It(o,r);return}Mo(ei(e," "),r)})}var Vm="Dedupe",Ym=()=>{let e;return{name:Vm,processEvent(t){if(t.type)return t;try{if(Xm(t,e))return I&&g.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},Km=Ym;function Xm(e,t){return t?!!(Jm(e,t)||Zm(e,t)):!1}function Jm(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Dl(e,t)||!Ll(e,t))}function Zm(e,t){const n=Xa(t),r=Xa(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Dl(e,t)||!Ll(e,t))}function Ll(e,t){let n=vo(e),r=vo(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const o=r[i],s=n[i];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0}function Dl(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Xa(e){return e.exception?.values?.[0]}var Qm="ExtraErrorData",eg=(e={})=>{const{depth:t=3,captureErrorCause:n=!0}=e;return{name:Qm,processEvent(r,i,o){const{maxValueLength:s=250}=o.getOptions();return tg(r,i,t,n,s)}}},r1=eg;function tg(e,t={},n,r,i){if(!t.originalException||!Et(t.originalException))return e;const o=t.originalException.name||t.originalException.constructor.name,s=Pl(t.originalException,r,i);if(s){const a={...e.contexts},c=Oe(s,n);return ot(c)&&(ke(c,"__sentry_skip_normalization__",!0),a[o]=c),{...e,contexts:a}}return e}function Pl(e,t,n){try{const r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],i={};for(const o of Object.keys(e)){if(r.indexOf(o)!==-1)continue;const s=e[o];i[o]=Et(s)||typeof s=="string"?un(`${s}`,n):s}if(t&&e.cause!==void 0&&(Et(e.cause)?i.cause={[e.cause.name||e.cause.constructor.name]:Pl(e.cause,!1,n)}:i.cause=e.cause),typeof e.toJSON=="function"){const o=e.toJSON();for(const s of Object.keys(o)){const a=o[s];i[s]=Et(a)?a.toString():a}}return i}catch(r){I&&g.error("Unable to extract extra data from the Error object:",r)}return null}function ng(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const i=e[r];i==="."?e.splice(r,1):i===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;)e.unshift("..");return e}var rg=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function ig(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=rg.exec(t);return n?n.slice(1):[]}function Ja(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const i=r>=0?e[r]:"/";i&&(t=`${i}/${t}`,n=i.charAt(0)==="/")}return t=ng(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function Za(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function og(e,t){e=Ja(e).slice(1),t=Ja(t).slice(1);const n=Za(e.split("/")),r=Za(t.split("/")),i=Math.min(n.length,r.length);let o=i;for(let a=0;a<i;a++)if(n[a]!==r[a]){o=a;break}let s=[];for(let a=o;a<n.length;a++)s.push("..");return s=s.concat(r.slice(o)),s.join("/")}function sg(e,t){let n=ig(e)[2]||"";return t&&n.slice(t.length*-1)===t&&(n=n.slice(0,n.length-t.length)),n}var ag="RewriteFrames",i1=(e={})=>{const t=e.root,n=e.prefix||"app:///",r="window"in B&&!!B.window,i=e.iteratee||cg({isBrowser:r,root:t,prefix:n});function o(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:s(c.stacktrace)}}))}}}catch{return a}}function s(a){return{...a,frames:a?.frames?.map(c=>i(c))}}return{name:ag,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=o(c)),c}}};function cg({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;const i=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),o=/^\//.test(r.filename);if(e){if(t){const s=r.filename;s.indexOf(t)===0&&(r.filename=s.replace(t,n))}}else if(i||o){const s=i?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename;r.filename=`${n}${t?og(t,s):sg(s)}`}return r}}var ug=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],lg=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],dg={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},Fl=["select","insert","upsert","update","delete"];function xi(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch{}}function Mi(e){try{return e.__SENTRY_INSTRUMENTED__}catch{return!1}}function fg(e,t={}){switch(e){case"GET":return"select";case"POST":return t.Prefer?.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}function pg(e,t){if(t===""||t==="*")return"select(*)";if(e==="select")return`select(${t})`;if(e==="or"||e.endsWith(".or"))return`${e}${t}`;const[n,...r]=t.split(".");let i;return n?.startsWith("fts")?i="textSearch":n?.startsWith("plfts")?i="textSearch[plain]":n?.startsWith("phfts")?i="textSearch[phrase]":n?.startsWith("wfts")?i="textSearch[websearch]":i=n&&dg[n]||"filter",`${i}(${e}, ${r.join(".")})`}function Qa(e,t=!1){return new Proxy(e,{apply(n,r,i){return gs({name:`auth ${t?"(admin) ":""}${e.name}`,attributes:{[ce]:"auto.db.supabase",[$e]:"db","db.system":"postgresql","db.operation":`auth.${t?"admin.":""}${e.name}`}},o=>Reflect.apply(n,r,i).then(s=>(s&&typeof s=="object"&&"error"in s&&s.error?(o.setStatus({code:2}),It(s.error,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}})):o.setStatus({code:1}),o.end(),s)).catch(s=>{throw o.setStatus({code:2}),o.end(),It(s,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}}),s}).then(...i))}})}function hg(e){const t=e.auth;if(!(!t||Mi(e.auth))){for(const n of ug){const r=t[n];r&&typeof e.auth[n]=="function"&&(e.auth[n]=Qa(r))}for(const n of lg){const r=t.admin[n];r&&typeof e.auth.admin[n]=="function"&&(e.auth.admin[n]=Qa(r,!0))}xi(e.auth)}}function mg(e){Mi(e.prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(t,n,r){const i=Reflect.apply(t,n,r),o=i.constructor;return _g(o),i}}),xi(e.prototype.from))}function gg(e){Mi(e.prototype.then)||(e.prototype.then=new Proxy(e.prototype.then,{apply(t,n,r){const i=Fl,o=n,s=fg(o.method,o.headers);if(!i.includes(s)||!o?.url?.pathname||typeof o.url.pathname!="string")return Reflect.apply(t,n,r);const a=o.url.pathname.split("/"),c=a.length>0?a[a.length-1]:"",u=[];for(const[p,h]of o.url.searchParams.entries())u.push(pg(p,h));const d=Object.create(null);if(ot(o.body))for(const[p,h]of Object.entries(o.body))d[p]=h;const l=`${s==="select"?"":`${s}${d?"(...) ":""}`}${u.join(" ")} from(${c})`,f={"db.table":c,"db.schema":o.schema,"db.url":o.url.origin,"db.sdk":o.headers["X-Client-Info"],"db.system":"postgresql","db.operation":s,[ce]:"auto.db.supabase",[$e]:"db"};return u.length&&(f["db.query"]=u),Object.keys(d).length&&(f["db.body"]=d),gs({name:l,attributes:f},p=>Reflect.apply(t,n,[]).then(h=>{if(p&&(h&&typeof h=="object"&&"status"in h&&ti(p,h.status||500),p.end()),h.error){const _=new Error(h.error.message);h.error.code&&(_.code=h.error.code),h.error.details&&(_.details=h.error.details);const b={};u.length&&(b.query=u),Object.keys(d).length&&(b.body=d),It(_,C=>(C.addEventProcessor(R=>(at(R,{handled:!1,type:"auto.db.supabase.postgres"}),R)),C.setContext("supabase",b),C))}const m={type:"supabase",category:`db.${s}`,message:l},v={};return u.length&&(v.query=u),Object.keys(d).length&&(v.body=d),Object.keys(v).length&&(m.data=v),Xe(m),h},h=>{throw p&&(ti(p,500),p.end()),h}).then(...r))}}),xi(e.prototype.then))}function _g(e){for(const t of Fl)Mi(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(n,r,i){const o=Reflect.apply(n,r,i),s=o.constructor;return I&&g.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),gg(s),o}}),xi(e.prototype[t]))}var yg=e=>{if(!e){I&&g.warn("Supabase integration was not installed because no Supabase client was provided.");return}mg(e.constructor===Function?e:e.constructor),hg(e)},vg="Supabase",Sg=e=>({setupOnce(){yg(e)},name:vg}),o1=e=>Sg(e.supabaseClient),bg=10,Eg="ZodErrors";function wg(e){return Et(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function Tg(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function Ig(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function kg(e){const t=new Set;for(const r of e.issues){const i=Ig(r.path);i.length>0&&t.add(i)}const n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){const i=e.issues[0];i!==void 0&&"expected"in i&&typeof i.expected=="string"&&(r=i.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${un(n.join(", "),100)}`}function Cg(e,t=!1,n,r){if(!n.exception?.values||!r.originalException||!wg(r.originalException)||r.originalException.issues.length===0)return n;try{const i=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(Tg);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:i})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:kg(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":i.slice(0,e)}}}catch(i){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:i instanceof Error?`${i.name}: ${i.message}
${i.stack}`:"unknown"}}}}}var Rg=(e={})=>{const t=e.limit??bg;return{name:Eg,processEvent(n,r){return Cg(t,e.saveZodIssuesAsAttachment,n,r)}}},s1=Rg,a1=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{jt(n,(r,i)=>{if(i==="event"){const o=Array.isArray(r)?r[1]:void 0;o&&(Ol(o),r[1]=o)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;const r=t.getOptions().stackParser;Nl(r,n)})},processEvent(t){const n=xg(t);if(n&&n[e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every"](r=>!r.some(i=>e.filterKeys.includes(i)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}return t}});function xg(e){const t=vo(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(ec)).map(r=>r.slice(ec.length)):[])}var ec="_sentryBundlerPluginAppKey:";var vr="flag.evaluation.";function ir(e){const t=j().getScopeData().contexts.flags,n=t?t.values:[];return n.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...n]}),e}function fn(e,t,n=100){const r=j().getScopeData().contexts;r.flags||(r.flags={values:[]});const i=r.flags.values;Mg(i,e,t,n)}function Mg(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){I&&g.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}const i=e.findIndex(o=>o.flag===t);i!==-1&&e.splice(i,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}function pn(e,t,n=10){if(typeof t!="boolean")return;const r=ge();if(!r)return;const i=W(r).data;if(`${vr}${e}`in i){r.setAttribute(`${vr}${e}`,t);return}Object.keys(i).filter(o=>o.startsWith(vr)).length<n&&r.setAttribute(`${vr}${e}`,t)}var c1=()=>({name:"FeatureFlags",processEvent(e,t,n){return ir(e)},addFeatureFlag(e,t){fn(e,t),pn(e,t)}});function Ag(e,t,n,r,i){if(!e.fetchData)return;const{method:o,url:s}=e.fetchData,a=ut()&&t(s);if(e.endTimestamp&&a){const p=e.fetchData.__span;if(!p)return;const h=r[p];h&&(Og(h,e),delete r[p]);return}const{spanOrigin:c="auto.http.browser",propagateTraceparent:u=!1}=typeof i=="object"?i:{spanOrigin:i},d=!!ge(),l=a&&d?Tt(Dg(s,o,c)):new lt;if(e.fetchData.__span=l.spanContext().spanId,r[l.spanContext().spanId]=l,n(e.fetchData.url)){const p=e.args[0],h=e.args[1]||{},m=Ng(p,h,ut()&&d?l:void 0,u);m&&(e.args[1]=h,h.headers=m)}const f=x();if(f){const p={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};f.emit("beforeOutgoingRequestSpan",l,p)}return l}function Ng(e,t,n,r){const i=Ml({span:n,propagateTraceparent:r}),o=i["sentry-trace"],s=i.baggage,a=i.traceparent;if(!o)return;const c=t.headers||(Ou(e)?e.headers:void 0);if(c)if(Lg(c)){const u=new Headers(c);if(u.get("sentry-trace")||u.set("sentry-trace",o),r&&a&&!u.get("traceparent")&&u.set("traceparent",a),s){const d=u.get("baggage");d?Sr(d)||u.set("baggage",`${d},${s}`):u.set("baggage",s)}return u}else if(Array.isArray(c)){const u=[...c];c.find(l=>l[0]==="sentry-trace")||u.push(["sentry-trace",o]),r&&a&&!c.find(l=>l[0]==="traceparent")&&u.push(["traceparent",a]);const d=c.find(l=>l[0]==="baggage"&&Sr(l[1]));return s&&!d&&u.push(["baggage",s]),u}else{const u="sentry-trace"in c?c["sentry-trace"]:void 0,d="traceparent"in c?c.traceparent:void 0,l="baggage"in c?c.baggage:void 0,f=l?Array.isArray(l)?[...l]:[l]:[],p=l&&(Array.isArray(l)?l.find(m=>Sr(m)):Sr(l));s&&!p&&f.push(s);const h={...c,"sentry-trace":u??o,baggage:f.length>0?f.join(","):void 0};return r&&a&&!d&&(h.traceparent=a),h}else return{...i}}function Og(e,t){if(t.response){ti(e,t.response.status);const n=t.response?.headers?.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}function Sr(e){return e.split(",").some(t=>t.trim().startsWith(ju))}function Lg(e){return typeof Headers<"u"&&st(e,Headers)}function Dg(e,t,n){const r=Es(e);return{name:r?`${t} ${gm(r)}`:t,attributes:Pg(e,r,t,n)}}function Pg(e,t,n,r){const i={url:e,type:"fetch","http.method":n,[ce]:r,[$e]:"http.client"};return t&&(bs(t)||(i["http.url"]=t.href,i["server.address"]=t.host),t.search&&(i["http.query"]=t.search),t.hash&&(i["http.fragment"]=t.hash)),i}function Fg(e,t={},n=j()){const{message:r,name:i,email:o,url:s,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:{contact_email:o,name:i,message:r,url:s,source:a,associated_event_id:c}},type:"feedback",level:"info",tags:u},l=n?.getClient()||x();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}var Bg="ConsoleLogs",tc={[ce]:"auto.console.logging"},Ug=(e={})=>{const t=e.levels||as;return{name:Bg,setup(n){const{enableLogs:r,normalizeDepth:i=3,normalizeMaxBreadth:o=1e3}=n.getOptions();if(!r){I&&g.warn("`enableLogs` is not enabled, ConsoleLogs integration disabled");return}ws(({args:s,level:a})=>{if(x()!==n||!t.includes(a))return;if(a==="assert"){if(!s[0]){const u=s.slice(1);No({level:"error",message:u.length>0?`Assertion failed: ${nc(u,i,o)}`:"Assertion failed",attributes:tc})}return}const c=a==="log";No({level:c?"info":a,message:nc(s,i,o),severityNumber:c?10:void 0,attributes:tc})})}}},u1=Ug;function nc(e,t,n){return"util"in B&&typeof B.util.format=="function"?B.util.format(...e):Hg(e,t,n)}function Hg(e,t,n){return e.map(r=>cn(r)?String(r):JSON.stringify(Oe(r,t,n))).join(" ")}function Bl(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}var hn=B;function Wg(){return"history"in hn&&!!hn.history}function zg(){if(!("fetch"in hn))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Lo(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Ul(){if(typeof EdgeRuntime=="string")return!0;if(!zg())return!1;if(Lo(hn.fetch))return!0;let e=!1;const t=hn.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=Lo(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){I&&g.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function jg(){return"ReportingObserver"in hn}function Is(e,t){const n="fetch";Ct(n,e),Rt(n,()=>Hl(void 0,t))}function qg(e){const t="fetch-body-resolved";Ct(t,e),Rt(t,()=>Hl(Gg))}function Hl(e,t=!1){t&&!Ul()||Te(B,"fetch",function(n){return function(...r){const i=new Error,{method:o,url:s}=Vg(r),a={args:r,fetchData:{method:o,url:s},startTimestamp:ue()*1e3,virtualError:i,headers:Yg(r)};return e||Fe("fetch",{...a}),n.apply(B,r).then(async c=>(e?e(c):Fe("fetch",{...a,endTimestamp:ue()*1e3,response:c}),c),c=>{if(Fe("fetch",{...a,endTimestamp:ue()*1e3,error:c}),Et(c)&&c.stack===void 0&&(c.stack=i.stack,ke(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function $g(e,t){if(e?.body){const n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let o=!0;for(;o;){let s;try{s=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(s),a&&(t(),o=!1)}catch{o=!1}finally{clearTimeout(s)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function Gg(e){let t;try{t=e.clone()}catch{return}$g(t,()=>{Fe("fetch-body-resolved",{endTimestamp:ue()*1e3,response:e})})}function Do(e,t){return!!e&&typeof e=="object"&&!!e[t]}function rc(e){return typeof e=="string"?e:e?Do(e,"url")?e.url:e.toString?e.toString():"":""}function Vg(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:rc(n),method:Do(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:rc(t),method:Do(t,"method")?String(t.method).toUpperCase():"GET"}}function Yg(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(Ou(t))return new Headers(t.headers)}catch{}}function Kg(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Xg(){return"npm"}function Jg(){return!Kg()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Po(){return typeof window<"u"&&(!Jg()||Zg())}function Zg(){return B.process?.type==="renderer"}var ze=B,ne=ze.document,On=ze.navigator,Wl="Report a Bug",Qg="Cancel",e_="Send Bug Report",t_="Confirm",n_="Report a Bug",r_="your.email@example.org",i_="Email",o_="What's the bug? What did you expect?",s_="Description",a_="Your Name",c_="Name",u_="Thank you for your report!",l_="(required)",d_="Add a screenshot",f_="Remove screenshot",p_="Highlight",h_="Hide",m_="Remove",g_="widget",__="api",y_=5e3,v_=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");const n=x();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&j().setTags(e.tags);const r=Fg({source:__,url:$t(),...e},t);return new Promise((i,o)=>{const s=setTimeout(()=>o("Unable to determine if Feedback was correctly sent."),3e4),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(s),a(),u?.statusCode&&u.statusCode>=200&&u.statusCode<300?i(r):u?.statusCode===403?o("Unable to send feedback. This could be because this domain is not in your list of allowed domains."):o("Unable to send feedback. This could be because of network issues, or because you are using an ad-blocker.")})})},zr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function S_(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(On.userAgent)||/Macintosh/i.test(On.userAgent)&&On.maxTouchPoints&&On.maxTouchPoints>1||!isSecureContext)}function br(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen?.(),e.onFormOpen?.()},onFormClose:()=>{t.onFormClose?.(),e.onFormClose?.()},onSubmitSuccess:(n,r)=>{t.onSubmitSuccess?.(n,r),e.onSubmitSuccess?.(n,r)},onSubmitError:n=>{t.onSubmitError?.(n),e.onSubmitError?.(n)},onFormSubmitted:()=>{t.onFormSubmitted?.(),e.onFormSubmitted?.()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function b_(e){const t=ne.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function De(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}var Xt=20,E_="http://www.w3.org/2000/svg";function w_(){const e=a=>ze.document.createElementNS(E_,a),t=De(e("svg"),{width:`${Xt}`,height:`${Xt}`,viewBox:`0 0 ${Xt} ${Xt}`,fill:"var(--actor-color, var(--foreground))"}),n=De(e("g"),{clipPath:"url(#clip0_57_80)"}),r=De(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const i=e("defs"),o=De(e("clipPath"),{id:"clip0_57_80"}),s=De(e("rect"),{width:`${Xt}`,height:`${Xt}`,fill:"white"});return o.appendChild(s),i.appendChild(o),t.appendChild(i).appendChild(o).appendChild(s),t}function T_({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){const i=ne.createElement("button");if(i.type="button",i.className="widget__actor",i.ariaHidden="false",i.ariaLabel=t||e||Wl,i.appendChild(w_()),e){const s=ne.createElement("span");s.appendChild(ne.createTextNode(e)),i.appendChild(s)}const o=b_(r);return{el:i,appendToDom(){n.appendChild(o),n.appendChild(i)},removeFromDom(){i.remove(),o.remove()},show(){i.ariaHidden="false"},hide(){i.ariaHidden="true"}}}var zl="rgba(88, 74, 192, 1)",I_={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:zl,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},ic={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:zl,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function oc(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function k_({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){const i=ne.createElement("style");return i.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${oc(e==="dark"?{...ic,...t}:{...I_,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${oc({...ic,...t})}
  }
}`:""}
}
`,r&&i.setAttribute("nonce",r),i}var jl=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:i="sentry-feedback",autoInject:o=!0,showBranding:s=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:f={email:"email",name:"username"},tags:p,styleNonce:h,scriptNonce:m,colorScheme:v="system",themeLight:_={},themeDark:b={},addScreenshotButtonLabel:C=d_,cancelButtonLabel:R=Qg,confirmButtonLabel:N=t_,emailLabel:y=i_,emailPlaceholder:w=r_,formTitle:H=n_,isRequiredLabel:S=l_,messageLabel:k=s_,messagePlaceholder:O=o_,nameLabel:T=c_,namePlaceholder:M=a_,removeScreenshotButtonLabel:K=f_,submitButtonLabel:A=e_,successMessageText:q=u_,triggerLabel:E=Wl,triggerAriaLabel:Z="",highlightToolText:L=p_,hideToolText:$=h_,removeHighlightText:ae=m_,onFormOpen:fe,onFormClose:Me,onSubmitSuccess:Ae,onSubmitError:mt,onFormSubmitted:Mt}={})=>{const Ze={id:i,autoInject:o,showBranding:s,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:f,tags:p,styleNonce:h,scriptNonce:m,colorScheme:v,themeDark:b,themeLight:_,triggerLabel:E,triggerAriaLabel:Z,cancelButtonLabel:R,submitButtonLabel:A,confirmButtonLabel:N,formTitle:H,emailLabel:y,emailPlaceholder:w,messageLabel:k,messagePlaceholder:O,nameLabel:T,namePlaceholder:M,successMessageText:q,isRequiredLabel:S,addScreenshotButtonLabel:C,removeScreenshotButtonLabel:K,highlightToolText:L,hideToolText:$,removeHighlightText:ae,onFormClose:Me,onFormOpen:fe,onSubmitError:mt,onSubmitSuccess:Ae,onFormSubmitted:Mt};let Ue=null,gt=[];const _t=te=>{if(!Ue){const le=ne.createElement("div");le.id=String(te.id),ne.body.appendChild(le),Ue=le.attachShadow({mode:"open"}),Ue.appendChild(k_(te))}return Ue},xn=async te=>{const le=te.enableScreenshot&&S_();let Pe,ve;try{Pe=(t?t():await e("feedbackModalIntegration",m))(),Ba(Pe)}catch{throw zr&&g.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{const Qe=le?n?n():await e("feedbackScreenshotIntegration",m):void 0;Qe&&(ve=Qe(),Ba(ve))}catch{zr&&g.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}const be=Pe.createDialog({options:{...te,onFormClose:()=>{be?.close(),te.onFormClose?.()},onFormSubmitted:()=>{be?.close(),te.onFormSubmitted?.()}},screenshotIntegration:ve,sendFeedback:v_,shadow:_t(te)});return be},hr=(te,le={})=>{const Pe=br(Ze,le),ve=typeof te=="string"?ne.querySelector(te):typeof te.addEventListener=="function"?te:null;if(!ve)throw zr&&g.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let be=null;const Qe=async()=>{be||(be=await xn({...Pe,onFormSubmitted:()=>{be?.removeFromDom(),Pe.onFormSubmitted?.()}})),be.appendToDom(),be.open()};ve.addEventListener("click",Qe);const X=()=>{gt=gt.filter(Ne=>Ne!==X),be?.removeFromDom(),be=null,ve.removeEventListener("click",Qe)};return gt.push(X),X},Mn=(te={})=>{const le=br(Ze,te),Pe=_t(le),ve=T_({triggerLabel:le.triggerLabel,triggerAriaLabel:le.triggerAriaLabel,shadow:Pe,styleNonce:h});return hr(ve.el,{...le,onFormOpen(){ve.hide()},onFormClose(){ve.show()},onFormSubmitted(){ve.show()}}),ve};return{name:"Feedback",setupOnce(){!Po()||!Ze.autoInject||(ne.readyState==="loading"?ne.addEventListener("DOMContentLoaded",()=>Mn().appendToDom()):Mn().appendToDom())},attachTo:hr,createWidget(te={}){const le=Mn(br(Ze,te));return le.appendToDom(),le},async createForm(te={}){return xn(br(Ze,te))},remove(){Ue&&(Ue.parentElement?.remove(),Ue=null),gt.forEach(te=>te()),gt=[]}}};function l1(){return x()?.getIntegrationByName("Feedback")}var Ai,ie,ql,Ot,sc,$l,Fo,zn={},ks=[],C_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Cs=Array.isArray;function bt(e,t){for(var n in t)e[n]=t[n];return e}function Gl(e){var t=e.parentNode;t&&t.removeChild(e)}function V(e,t,n){var r,i,o,s={};for(o in t)o=="key"?r=t[o]:o=="ref"?i=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?Ai.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)s[o]===void 0&&(s[o]=e.defaultProps[o]);return jr(e,s,r,i,null)}function jr(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++ql,__i:-1,__u:0};return i==null&&ie.vnode!=null&&ie.vnode(o),o}function or(e){return e.children}function qr(e,t){this.props=e,this.context=t}function mn(e,t){if(t==null)return e.__?mn(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?mn(e):null}function R_(e,t,n){var r,i=e.__v,o=i.__e,s=e.__P;if(s)return(r=bt({},i)).__v=i.__v+1,ie.vnode&&ie.vnode(r),Rs(s,r,i,e.__n,s.ownerSVGElement!==void 0,32&i.__u?[o]:null,t,o??mn(i),!!(32&i.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=o&&Vl(r),r}function Vl(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Vl(e)}}function ac(e){(!e.__d&&(e.__d=!0)&&Ot.push(e)&&!ui.__r++||sc!==ie.debounceRendering)&&((sc=ie.debounceRendering)||$l)(ui)}function ui(){var e,t,n,r=[],i=[];for(Ot.sort(Fo);e=Ot.shift();)e.__d&&(n=Ot.length,t=R_(e,r,i)||t,n===0||Ot.length>n?(Bo(r,t,i),i.length=r.length=0,t=void 0,Ot.sort(Fo)):t&&ie.__c&&ie.__c(t,ks));t&&Bo(r,t,i),ui.__r=0}function Yl(e,t,n,r,i,o,s,a,c,u,d){var l,f,p,h,m,v=r&&r.__k||ks,_=t.length;for(n.__d=c,x_(n,t,v),c=n.__d,l=0;l<_;l++)(p=n.__k[l])!=null&&typeof p!="boolean"&&typeof p!="function"&&(f=p.__i===-1?zn:v[p.__i]||zn,p.__i=l,Rs(e,p,f,i,o,s,a,c,u,d),h=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&xs(f.ref,null,p),d.push(p.ref,p.__c||h,p)),m==null&&h!=null&&(m=h),65536&p.__u||f.__k===p.__k?c=Kl(p,c,e):typeof p.type=="function"&&p.__d!==void 0?c=p.__d:h&&(c=h.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=m}function x_(e,t,n){var r,i,o,s,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(i=e.__k[r]=(i=t[r])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?jr(null,i,null,null,i):Cs(i)?jr(or,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?jr(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=e,i.__b=e.__b+1,a=M_(i,n,s=r+l,d),i.__i=a,o=null,a!==-1&&(d--,(o=n[a])&&(o.__u|=131072)),o==null||o.__v===null?(a==-1&&l--,typeof i.type!="function"&&(i.__u|=65536)):a!==s&&(a===s+1?l++:a>s?d>c-s?l+=a-s:l--:l=a<s&&a==s-1?a-s:0,a!==r+l&&(i.__u|=65536))):(o=n[r])&&o.key==null&&o.__e&&(o.__e==e.__d&&(e.__d=mn(o)),Uo(o,o,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(o=n[r])!=null&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=mn(o)),Uo(o,o))}function Kl(e,t,n){var r,i;if(typeof e.type=="function"){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=Kl(r[i],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function M_(e,t,n,r){var i=e.key,o=e.type,s=n-1,a=n+1,c=t[n];if(c===null||c&&i==c.key&&o===c.type)return n;if(r>(c!=null&&!(131072&c.__u)?1:0))for(;s>=0||a<t.length;){if(s>=0){if((c=t[s])&&!(131072&c.__u)&&i==c.key&&o===c.type)return s;s--}if(a<t.length){if((c=t[a])&&!(131072&c.__u)&&i==c.key&&o===c.type)return a;a++}}return-1}function cc(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||C_.test(t)?n:n+"px"}function Er(e,t,n,r,i){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||cc(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||cc(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?lc:uc,o)):e.removeEventListener(t,o?lc:uc,o);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function uc(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(ie.event?ie.event(e):e)}}function lc(e){if(this.l)return this.l[e.type+!0](ie.event?ie.event(e):e)}function Rs(e,t,n,r,i,o,s,a,c,u){var d,l,f,p,h,m,v,_,b,C,R,N,y,w,H,S=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),o=[a=t.__e=n.__e]),(d=ie.__b)&&d(t);e:if(typeof S=="function")try{if(_=t.props,b=(d=S.contextType)&&r[d.__c],C=d?b?b.props.value:d.__:r,n.__c?v=(l=t.__c=n.__c).__=l.__E:("prototype"in S&&S.prototype.render?t.__c=l=new S(_,C):(t.__c=l=new qr(_,C),l.constructor=S,l.render=N_),b&&b.sub(l),l.props=_,l.state||(l.state={}),l.context=C,l.__n=r,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s??=l.state,S.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=bt({},l.__s)),bt(l.__s,S.getDerivedStateFromProps(_,l.__s))),p=l.props,h=l.state,l.__v=t,f)S.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(S.getDerivedStateFromProps==null&&_!==p&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(_,C),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(_,l.__s,C)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=_,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(k){k&&(k.__=t)}),R=0;R<l._sb.length;R++)l.__h.push(l._sb[R]);l._sb=[],l.__h.length&&s.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(_,l.__s,C),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(p,h,m)})}if(l.context=C,l.props=_,l.__P=e,l.__e=!1,N=ie.__r,y=0,"prototype"in S&&S.prototype.render){for(l.state=l.__s,l.__d=!1,N&&N(t),d=l.render(l.props,l.state,l.context),w=0;w<l._sb.length;w++)l.__h.push(l._sb[w]);l._sb=[]}else do l.__d=!1,N&&N(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++y<25);l.state=l.__s,l.getChildContext!=null&&(r=bt(bt({},r),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(m=l.getSnapshotBeforeUpdate(p,h)),Yl(e,Cs(H=d!=null&&d.type===or&&d.key==null?d.props.children:d)?H:[H],t,n,r,i,o,s,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&s.push(l),v&&(l.__E=l.__=null)}catch(k){t.__v=null,c||o!=null?(t.__e=a,t.__u|=c?160:32,o[o.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),ie.__e(k,t,n)}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=A_(n.__e,t,n,r,i,o,s,c,u);(d=ie.diffed)&&d(t)}function Bo(e,t,n){for(var r=0;r<n.length;r++)xs(n[r],n[++r],n[++r]);ie.__c&&ie.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(o){o.call(i)})}catch(o){ie.__e(o,i.__v)}})}function A_(e,t,n,r,i,o,s,a,c){var u,d,l,f,p,h,m,v=n.props,_=t.props,b=t.type;if(b==="svg"&&(i=!0),o!=null){for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!b&&(b?p.localName===b:p.nodeType===3)){e=p,o[u]=null;break}}if(e==null){if(b===null)return document.createTextNode(_);e=i?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,_.is&&_),o=null,a=!1}if(b===null)v===_||a&&e.data===_||(e.data=_);else{if(o=o&&Ai.call(e.childNodes),v=n.props||zn,!a&&o!=null)for(v={},u=0;u<e.attributes.length;u++)v[(p=e.attributes[u]).name]=p.value;for(u in v)p=v[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=p:u==="key"||u in _||Er(e,u,null,p,i));for(u in _)p=_[u],u=="children"?f=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?h=p:u=="checked"?m=p:u==="key"||a&&typeof p!="function"||v[u]===p||Er(e,u,p,v[u],i);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),Yl(e,Cs(f)?f:[f],t,n,r,i&&b!=="foreignObject",o,s,o?o[0]:n.__k&&mn(n,0),a,c),o!=null)for(u=o.length;u--;)o[u]!=null&&Gl(o[u]);a||(u="value",h!==void 0&&(h!==e[u]||b==="progress"&&!h||b==="option"&&h!==v[u])&&Er(e,u,h,v[u],!1),u="checked",m!==void 0&&m!==e[u]&&Er(e,u,m,v[u],!1))}return e}function xs(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){ie.__e(r,n)}}function Uo(e,t,n){var r,i;if(ie.unmount&&ie.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||xs(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){ie.__e(o,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&Uo(r[i],t,n||typeof e.type!="function");n||e.__e==null||Gl(e.__e),e.__=e.__e=e.__d=void 0}function N_(e,t,n){return this.constructor(e,n)}function O_(e,t,n){var r,i,o,s;ie.__&&ie.__(e,t),i=(r=!1)?null:t.__k,o=[],s=[],Rs(t,e=t.__k=V(or,null,[e]),i||zn,zn,t.ownerSVGElement!==void 0,i?null:t.firstChild?Ai.call(t.childNodes):null,o,i?i.__e:t.firstChild,r,s),e.__d=void 0,Bo(o,e,s)}Ai=ks.slice,ie={__e:function(e,t,n,r){for(var i,o,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(a){e=a}throw e}},ql=0,qr.prototype.setState=function(e,t){var n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=bt({},this.state);typeof e=="function"&&(e=e(bt({},n),this.props)),e&&bt(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),ac(this))},qr.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ac(this))},qr.prototype.render=or,Ot=[],$l=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Fo=function(e,t){return e.__v.__b-t.__v.__b},ui.__r=0;var ft,re,Xi,dc,gn=0,Xl=[],$r=[],de=ie,fc=de.__b,pc=de.__r,hc=de.diffed,mc=de.__c,gc=de.unmount,_c=de.__;function Kt(e,t){de.__h&&de.__h(re,e,gn||t),gn=0;var n=re.__H||(re.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:$r}),n.__[e]}function Lt(e){return gn=1,Jl(Ql,e)}function Jl(e,t,n){var r=Kt(ft++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Ql(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=re,!re.u)){var i=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!o||o.call(this,a,c,u);var l=!1;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!o||o.call(this,a,c,u))};re.u=!0;var o=re.shouldComponentUpdate,s=re.componentWillUpdate;re.componentWillUpdate=function(a,c,u){if(this.__e){var d=o;o=void 0,i(a,c,u),o=d}s&&s.call(this,a,c,u)},re.shouldComponentUpdate=i}return r.__N||r.__}function L_(e,t){var n=Kt(ft++,3);!de.__s&&Ms(n.__H,t)&&(n.__=e,n.i=t,re.__H.__h.push(n))}function Zl(e,t){var n=Kt(ft++,4);!de.__s&&Ms(n.__H,t)&&(n.__=e,n.i=t,re.__h.push(n))}function D_(e){return gn=5,sr(function(){return{current:e}},[])}function P_(e,t,n){gn=6,Zl(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function sr(e,t){var n=Kt(ft++,7);return Ms(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function an(e,t){return gn=8,sr(function(){return e},t)}function F_(e){var t=re.context[e.__c],n=Kt(ft++,9);return n.c=e,t?(n.__??(n.__=!0,t.sub(re)),t.props.value):e.__}function B_(e,t){de.useDebugValue&&de.useDebugValue(t?t(e):e)}function U_(e){var t=Kt(ft++,10),n=Lt();return t.__=e,re.componentDidCatch||(re.componentDidCatch=function(r,i){t.__&&t.__(r,i),n[1](r)}),[n[0],function(){n[1](void 0)}]}function H_(){var e=Kt(ft++,11);if(!e.__){for(var t=re.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function W_(){for(var e;e=Xl.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Gr),e.__H.__h.forEach(Ho),e.__H.__h=[]}catch(t){e.__H.__h=[],de.__e(t,e.__v)}}de.__b=function(e){re=null,fc&&fc(e)},de.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),_c&&_c(e,t)},de.__r=function(e){pc&&pc(e),ft=0;var t=(re=e.__c).__H;t&&(Xi===re?(t.__h=[],re.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=$r,n.__N=n.i=void 0})):(t.__h.forEach(Gr),t.__h.forEach(Ho),t.__h=[],ft=0)),Xi=re},de.diffed=function(e){hc&&hc(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Xl.push(t)!==1&&dc===de.requestAnimationFrame||((dc=de.requestAnimationFrame)||z_)(W_)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==$r&&(n.__=n.__V),n.i=void 0,n.__V=$r})),Xi=re=null},de.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Gr),n.__h=n.__h.filter(function(r){return!r.__||Ho(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],de.__e(r,n.__v)}}),mc&&mc(e,t)},de.unmount=function(e){gc&&gc(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Gr(r)}catch(i){t=i}}),n.__H=void 0,t&&de.__e(t,n.__v))};var yc=typeof requestAnimationFrame=="function";function z_(e){var t,n=function(){clearTimeout(r),yc&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);yc&&(t=requestAnimationFrame(n))}function Gr(e){var t=re,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),re=t}function Ho(e){var t=re;e.__c=e.__(),re=t}function Ms(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Ql(e,t){return typeof t=="function"?t(e):t}var j_=Object.defineProperty({__proto__:null,useCallback:an,useContext:F_,useDebugValue:B_,useEffect:L_,useErrorBoundary:U_,useId:H_,useImperativeHandle:P_,useLayoutEffect:Zl,useMemo:sr,useReducer:Jl,useRef:D_,useState:Lt},Symbol.toStringTag,{value:"Module"}),q_="http://www.w3.org/2000/svg";function $_(){const e=r=>ne.createElementNS(q_,r),t=De(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=De(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function G_({options:e}){const t=sr(()=>({__html:$_().outerHTML}),[]);return V("h2",{class:"dialog__header"},V("span",{class:"dialog__title"},e.formTitle),e.showBranding?V("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function V_(e,t){const n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function Ji(e,t){const n=e.get(t);return typeof n=="string"?n.trim():""}function Y_({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:i,onSubmitSuccess:o,onSubmitError:s,showEmail:a,showName:c,screenshotInput:u}){const{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:f,cancelButtonLabel:p,emailLabel:h,emailPlaceholder:m,isEmailRequired:v,isNameRequired:_,messageLabel:b,messagePlaceholder:C,nameLabel:R,namePlaceholder:N,submitButtonLabel:y,isRequiredLabel:w}=e,[H,S]=Lt(!1),[k,O]=Lt(null),[T,M]=Lt(!1),K=u?.input,[A,q]=Lt(null),E=an(L=>{q(L),M(!1)},[]),Z=an(L=>{const $=V_(L,{emailLabel:h,isEmailRequired:v,isNameRequired:_,messageLabel:b,nameLabel:R});return $.length>0?O(`Please enter in the following required fields: ${$.join(", ")}`):O(null),$.length===0},[h,v,_,b,R]);return V("form",{class:"form",onSubmit:an(async L=>{S(!0);try{if(L.preventDefault(),!(L.target instanceof HTMLFormElement))return;const $=new FormData(L.target),ae=await(u&&T?u.value():void 0),fe={name:Ji($,"name"),email:Ji($,"email"),message:Ji($,"message"),attachments:ae?[ae]:void 0};if(!Z(fe))return;try{o(fe,await i({name:fe.name,email:fe.email,message:fe.message,source:g_,tags:d},{attachments:fe.attachments}))}catch(Me){zr&&g.error(Me),O(Me),s(Me)}}finally{S(!1)}},[u&&T,o,s])},K&&T?V(K,{onError:E}):null,V("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:H},V("div",{class:"form__top"},k?V("div",{class:"form__error-container"},k):null,c?V("label",{for:"name",class:"form__label"},V(Zi,{label:R,isRequiredLabel:w,isRequired:_}),V("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:N,required:_,type:"text"})):V("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?V("label",{for:"email",class:"form__label"},V(Zi,{label:h,isRequiredLabel:w,isRequired:v}),V("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:m,required:v,type:"email"})):V("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),V("label",{for:"message",class:"form__label"},V(Zi,{label:b,isRequiredLabel:w,isRequired:!0}),V("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:C,required:!0,rows:5})),K?V("label",{for:"screenshot",class:"form__label"},V("button",{class:"btn btn--default",disabled:H,type:"button",onClick:()=>{q(null),M(L=>!L)}},T?f:l),A?V("div",{class:"form__error-container"},A.message):null):null),V("div",{class:"btn-group"},V("button",{class:"btn btn--primary",disabled:H,type:"submit"},y),V("button",{class:"btn btn--default",disabled:H,type:"button",onClick:r},p))))}function Zi({label:e,isRequired:t,isRequiredLabel:n}){return V("span",{class:"form__label__text"},e,t&&V("span",{class:"form__label__text--required"},n))}var wr=16,vc=17,K_="http://www.w3.org/2000/svg";function X_(){const e=c=>ze.document.createElementNS(K_,c),t=De(e("svg"),{width:`${wr}`,height:`${vc}`,viewBox:`0 0 ${wr} ${vc}`,fill:"inherit"}),n=De(e("g"),{clipPath:"url(#clip0_57_156)"}),r=De(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),i=De(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(i,r);const o=e("defs"),s=De(e("clipPath"),{id:"clip0_57_156"}),a=De(e("rect"),{width:`${wr}`,height:`${wr}`,fill:"white",transform:"translate(0 0.5)"});return s.appendChild(a),o.appendChild(s),t.appendChild(o).appendChild(s).appendChild(a),t}function J_({open:e,onFormSubmitted:t,...n}){const r=n.options,i=sr(()=>({__html:X_().outerHTML}),[]),[o,s]=Lt(null),a=an(()=>{o&&(clearTimeout(o),s(null)),t()},[o]),c=an((u,d)=>{n.onSubmitSuccess(u,d),s(setTimeout(()=>{t(),s(null)},y_))},[t]);return V(or,null,o?V("div",{class:"success__position",onClick:a},V("div",{class:"success__content"},r.successMessageText,V("span",{class:"success__icon",dangerouslySetInnerHTML:i}))):V("dialog",{class:"dialog",onClick:r.onFormClose,open:e},V("div",{class:"dialog__position"},V("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},V(G_,{options:r}),V(Y_,{...n,onSubmitSuccess:c})))))}var Z_=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,Q_=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,ey=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,ty=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,ny=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function ry(e){const t=ne.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${Z_}
${Q_}
${ey}
${ty}
${ny}
`,e&&t.setAttribute("nonce",e),t}function iy(){const e=j().getUser(),t=ye().getUser(),n=Ii().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}var oy=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{const i=r,o=e.useSentryUser,s=iy(),a=ne.createElement("div"),c=ry(e.styleNonce);let u="";const d={get el(){return a},appendToDom(){!i.contains(c)&&!i.contains(a)&&(i.appendChild(c),i.appendChild(a))},removeFromDom(){a.remove(),c.remove(),ne.body.style.overflow=u},open(){f(!0),e.onFormOpen?.(),x()?.emit("openFeedbackWidget"),u=ne.body.style.overflow,ne.body.style.overflow="hidden"},close(){f(!1),ne.body.style.overflow=u}},l=t?.createInput({h:V,hooks:j_,dialog:d,options:e}),f=p=>{O_(V(J_,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:o&&s?.[o.name]||"",defaultEmail:o&&s?.[o.email]||"",onFormClose:()=>{f(!1),e.onFormClose?.()},onSubmit:n,onSubmitSuccess:(h,m)=>{f(!1),e.onSubmitSuccess?.(h,m)},onSubmitError:h=>{e.onSubmitError?.(h)},onFormSubmitted:()=>{e.onFormSubmitted?.()},open:p}),a)};return d}});function sy({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}function ay(e){const t=ne.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,e&&t.setAttribute("nonce",e),t}function cy({h:e}){return function({action:n,setAction:r,options:i}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:`editor__tool ${n==="highlight"?"editor__tool--active":""}`,onClick:()=>{r(n==="highlight"?"":"highlight")}},i.highlightToolText),e("button",{type:"button",class:`editor__tool ${n==="hide"?"editor__tool--active":""}`,onClick:()=>{r(n==="hide"?"":"hide")}},i.hideToolText)))}}function uy({hooks:e}){function t(){const[n,r]=e.useState(ze.devicePixelRatio??1);return e.useEffect(()=>{const i=()=>{r(ze.devicePixelRatio)},o=matchMedia(`(resolution: ${ze.devicePixelRatio}dppx)`);return o.addEventListener("change",i),()=>{o.removeEventListener("change",i)}},[]),n}return function({onBeforeScreenshot:r,onScreenshot:i,onAfterScreenshot:o,onError:s}){const a=t();e.useEffect(()=>{(async()=>{r();const u=await On.mediaDevices.getDisplayMedia({video:{width:ze.innerWidth*a,height:ze.innerHeight*a},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),d=ne.createElement("video");await new Promise((l,f)=>{d.srcObject=u,d.onloadedmetadata=()=>{i(d,a),u.getTracks().forEach(p=>p.stop()),l()},d.play().catch(f)}),o()})().catch(s)},[])}}function ly(e,t,n){switch(e.type){case"highlight":t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break;case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h);break}}function yt(e,t,n){if(!e)return;const r=e.getContext("2d",t);r&&n(e,r)}function Qi(e,t){yt(e,{alpha:!0},(n,r)=>{r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height)})}function eo(e,t,n){yt(e,{alpha:!0},(r,i)=>{n.length&&(i.fillStyle="rgba(0, 0, 0, 0.25)",i.fillRect(0,0,r.width,r.height)),n.forEach(o=>{ly(o,i,t)})})}function dy({h:e,hooks:t,outputBuffer:n,dialog:r,options:i}){const o=uy({hooks:t}),s=cy({h:e}),a=sy({h:e}),c={__html:ay(i.styleNonce).innerText},u=r.el.style,d=({screenshot:l})=>{const[f,p]=t.useState("highlight"),[h,m]=t.useState([]),v=t.useRef(null),_=t.useRef(null),b=t.useRef(null),C=t.useRef(null),[R,N]=t.useState(1),y=t.useMemo(()=>{const T=ne.getElementById(i.id);if(!T)return"white";const M=getComputedStyle(T);return M.getPropertyValue("--button-primary-background")||M.getPropertyValue("--accent-background")},[i.id]);t.useLayoutEffect(()=>{const T=()=>{const M=v.current;M&&(yt(l.canvas,{alpha:!1},K=>{N(Math.min(M.clientWidth/K.width,M.clientHeight/K.height))}),(M.clientHeight===0||M.clientWidth===0)&&setTimeout(T,0))};return T(),ze.addEventListener("resize",T),()=>{ze.removeEventListener("resize",T)}},[l]);const w=t.useCallback((T,M)=>{yt(T,{alpha:!0},(K,A)=>{A.scale(M,M),K.width=l.canvas.width,K.height=l.canvas.height})},[l]);t.useEffect(()=>{w(_.current,l.dpi),Qi(_.current,l.canvas)},[l]),t.useEffect(()=>{w(b.current,l.dpi),yt(b.current,{alpha:!0},(T,M)=>{M.clearRect(0,0,T.width,T.height)}),eo(b.current,y,h)},[h,y]),t.useEffect(()=>{w(n,l.dpi),Qi(n,l.canvas),yt(ne.createElement("canvas"),{alpha:!0},(T,M)=>{M.scale(l.dpi,l.dpi),T.width=l.canvas.width,T.height=l.canvas.height,eo(T,y,h),Qi(n,T)})},[h,l,y]);const H=T=>{if(!f||!C.current)return;const M=C.current.getBoundingClientRect(),K={type:f,x:T.offsetX/R,y:T.offsetY/R},A=(Z,L)=>{const $=(L.clientX-M.x)/R,ae=(L.clientY-M.y)/R;return{type:Z.type,x:Math.min(Z.x,$),y:Math.min(Z.y,ae),w:Math.abs($-Z.x),h:Math.abs(ae-Z.y)}},q=Z=>{yt(b.current,{alpha:!0},(L,$)=>{$.clearRect(0,0,L.width,L.height)}),eo(b.current,y,[...h,A(K,Z)])},E=Z=>{const L=A(K,Z);L.w*R>=1&&L.h*R>=1&&m($=>[...$,L]),ne.removeEventListener("mousemove",q),ne.removeEventListener("mouseup",E)};ne.addEventListener("mousemove",q),ne.addEventListener("mouseup",E)},S=t.useCallback(T=>M=>{M.preventDefault(),M.stopPropagation(),m(K=>{const A=[...K];return A.splice(T,1),A})},[]),k={width:`${l.canvas.width*R}px`,height:`${l.canvas.height*R}px`},O=T=>{T.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:i.styleNonce,dangerouslySetInnerHTML:c}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:v},e("canvas",{ref:_,id:"background",style:k}),e("canvas",{ref:b,id:"foreground",style:k}),e("div",{ref:C,onMouseDown:H,style:k},h.map((T,M)=>e("div",{key:M,class:"editor__rect",style:{top:`${T.y*R}px`,left:`${T.x*R}px`,width:`${T.w*R}px`,height:`${T.h*R}px`}},e("button",{"aria-label":i.removeHighlightText,onClick:S(M),onMouseDown:O,onMouseUp:O,type:"button"},e(a,null))))))),e(s,{options:i,action:f,setAction:p}))};return function({onError:f}){const[p,h]=t.useState();return o({onBeforeScreenshot:t.useCallback(()=>{u.display="none"},[]),onScreenshot:t.useCallback((m,v)=>{yt(ne.createElement("canvas"),{alpha:!1},(_,b)=>{b.scale(v,v),_.width=m.videoWidth,_.height=m.videoHeight,b.drawImage(m,0,0,_.width,_.height),h({canvas:_,dpi:v})}),n.width=m.videoWidth,n.height=m.videoHeight},[]),onAfterScreenshot:t.useCallback(()=>{u.display="block"},[]),onError:t.useCallback(m=>{u.display="block",f(m)},[])}),p?e(d,{screenshot:p}):e("div",null)}}var fy=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{const i=ne.createElement("canvas");return{input:dy({h:e,hooks:t,outputBuffer:i,dialog:n,options:r}),value:async()=>{const o=await new Promise(s=>{i.toBlob(s,"image/png")});if(o)return{data:new Uint8Array(await o.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}),D=B,Wo=0;function ed(){return Wo>0}function py(){Wo++,setTimeout(()=>{Wo--})}function _n(e,t={}){function n(i){return typeof i=="function"}if(!n(e))return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(ds(e))return e}catch{return e}const r=function(...i){try{const o=i.map(s=>_n(s,t));return e.apply(this,o)}catch(o){throw py(),Ve(s=>{s.addEventProcessor(a=>(t.mechanism&&(So(a,void 0,void 0),at(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),It(o)}),o}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}Du(r,e),ke(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function As(){const e=$t(),{referrer:t}=D.document||{},{userAgent:n}=D.navigator||{};return{url:e,headers:{...t&&{Referer:t},...n&&{"User-Agent":n}}}}var hy={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},Sc=D;async function my(e,t){const n=hy[e],r=Sc.Sentry=Sc.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);const i=r[e];if(typeof i=="function"&&!("_isShim"in i))return i;const o=gy(n),s=D.document.createElement("script");s.src=o,s.crossOrigin="anonymous",s.referrerPolicy="strict-origin",t&&s.setAttribute("nonce",t);const a=new Promise((l,f)=>{s.addEventListener("load",()=>l()),s.addEventListener("error",f)}),c=D.document.currentScript,u=D.document.body||D.document.head||c?.parentElement;if(u)u.appendChild(s);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}const d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d}function gy(e){const t=x()?.getOptions()?.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${Hn}/${e}.min.js`,t).toString()}var d1=jl({lazyLoadIntegration:my}),f1=jl({getModalIntegration:()=>oy,getScreenshotIntegration:()=>fy}),p1=Ff({debug:()=>yy,error:()=>by,fatal:()=>Ey,fmt:()=>Sm,info:()=>vy,trace:()=>_y,warn:()=>Sy},1);function kn(e,t,n,r){No({level:e,message:t,attributes:n,severityNumber:r})}function _y(e,t){kn("trace",e,t)}function yy(e,t){kn("debug",e,t)}function vy(e,t){kn("info",e,t)}function Sy(e,t){kn("warn",e,t)}function by(e,t){kn("error",e,t)}function Ey(e,t){kn("fatal",e,t)}function Ns(e,t){const n=Os(e,t),r={type:Cy(t),value:Ry(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function wy(e,t,n,r){const i=x()?.getOptions().normalizeDepth,o=Oy(t),s={__serialized__:ol(t,i)};if(o)return{exception:{values:[Ns(e,o)]},extra:s};const a={exception:{values:[{type:Ti(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Ay(t,{isUnhandledRejection:r})}]},extra:s};if(n){const c=Os(e,n);c.length&&(a.exception.values[0].stacktrace={frames:c})}return a}function to(e,t){return{exception:{values:[Ns(e,t)]}}}function Os(e,t){const n=t.stacktrace||t.stack||"",r=Iy(t),i=ky(t);try{return e(n,r,i)}catch{}return[]}var Ty=/Minified React error #\d+;/i;function Iy(e){return e&&Ty.test(e.message)?1:0}function ky(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function td(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Cy(e){const t=e?.name;return!t&&td(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function Ry(e){const t=e?.message;return td(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function xy(e,t,n,r){const i=Ls(e,t,n?.syntheticException||void 0,r);return at(i),i.level="error",n?.event_id&&(i.event_id=n.event_id),dt(i)}function My(e,t,n="info",r,i){const o=zo(e,t,r?.syntheticException||void 0,i);return o.level=n,r?.event_id&&(o.event_id=r.event_id),dt(o)}function Ls(e,t,n,r,i){let o;if(Au(t)&&t.error)return to(e,t.error);if(ha(t)||Yf(t)){const s=t;if("stack"in t)o=to(e,t);else{const a=s.name||(ha(s)?"DOMError":"DOMException"),c=s.message?`${a}: ${s.message}`:a;o=zo(e,c,n,r),So(o,c)}return"code"in s&&(o.tags={...o.tags,"DOMException.code":`${s.code}`}),o}return Et(t)?to(e,t):ot(t)||Ti(t)?(o=wy(e,t,n,i),at(o,{synthetic:!0}),o):(o=zo(e,t,n,r),So(o,`${t}`,void 0),at(o,{synthetic:!0}),o)}function zo(e,t,n,r){const i={};if(r&&n){const o=Os(e,n);o.length&&(i.exception={values:[{value:t,stacktrace:{frames:o}}]}),at(i,{synthetic:!0})}if(wi(t)){const{__sentry_template_string__:o,__sentry_template_values__:s}=t;return i.logentry={message:o,params:s},i}return i.message=t,i}function Ay(e,{isUnhandledRejection:t}){const n=ep(e),r=t?"promise rejection":"exception";return Au(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Ti(e)?`Event \`${Ny(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Ny(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function Oy(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}var Ly=5e3,Dy=class extends Yh{constructor(e){const t=Py(e);xl(t,"browser",["browser"],D.SENTRY_SDK_SOURCE||Xg()),t._metadata?.sdk&&(t._metadata.sdk.settings={infer_ip:t.sendDefaultPii?"auto":"never",...t._metadata.sdk.settings}),super(t);const{sendDefaultPii:n,sendClientReports:r,enableLogs:i}=this._options;D.document&&(r||i)&&D.document.addEventListener("visibilitychange",()=>{D.document.visibilityState==="hidden"&&(r&&this._flushOutcomes(),i&&Wr(this))}),i&&(this.on("flush",()=>{Wr(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{Wr(this)},Ly)})),n&&this.on("beforeSendSession",bm)}eventFromException(e,t){return xy(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return My(this._options.stackParser,e,t,n,this._options.attachStacktrace)}_prepareEvent(e,t,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n,r)}};function Py(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:D.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}var yn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,z=B,Fy=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",ar=(e,t,n,r)=>{let i,o;return s=>{t.value>=0&&(s||r)&&(o=t.value-(i??0),(o||i===void 0)&&(i=t.value,t.delta=o,t.rating=Fy(t.value,n),e(t)))}},By=()=>`v5-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`,cr=(e=!0)=>{const t=z.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Cn=()=>cr()?.activationStart??0,ur=(e,t=-1)=>{const n=cr();let r="navigate";return n&&(z.document?.prerendering||Cn()>0?r="prerender":z.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:By(),navigationType:r}},no=new WeakMap;function Ds(e,t){return no.get(e)||no.set(e,new t),no.get(e)}var Uy=class jo{constructor(){jo.prototype.__init.call(this),jo.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}},Rn=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},Ps=e=>{let t=!1;return()=>{t||(e(),t=!0)}},Ln=-1,Hy=()=>z.document?.visibilityState==="hidden"&&!z.document?.prerendering?0:1/0,li=e=>{z.document.visibilityState==="hidden"&&Ln>-1&&(Ln=e.type==="visibilitychange"?e.timeStamp:0,zy())},Wy=()=>{addEventListener("visibilitychange",li,!0),addEventListener("prerenderingchange",li,!0)},zy=()=>{removeEventListener("visibilitychange",li,!0),removeEventListener("prerenderingchange",li,!0)},Fs=()=>{if(z.document&&Ln<0){const e=Cn();Ln=(z.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(t=>t.name==="hidden"&&t.startTime>e)[0]?.startTime)??Hy(),Wy()}return{get firstHiddenTime(){return Ln}}},Ni=e=>{z.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},jy=[1800,3e3],qy=(e,t={})=>{Ni(()=>{const n=Fs(),r=ur("FCP");let i;const s=Rn("paint",a=>{for(const c of a)c.name==="first-contentful-paint"&&(s.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Cn(),0),r.entries.push(c),i(!0)))});s&&(i=ar(e,r,jy,t.reportAllChanges))})},$y=[.1,.25],Gy=(e,t={})=>{qy(Ps(()=>{const n=ur("CLS",0);let r;const i=Ds(t,Uy),o=a=>{for(const c of a)i._processEntry(c);i._sessionValue>n.value&&(n.value=i._sessionValue,n.entries=i._sessionEntries,r())},s=Rn("layout-shift",o);s&&(r=ar(e,n,$y,t.reportAllChanges),z.document?.addEventListener("visibilitychange",()=>{z.document?.visibilityState==="hidden"&&(o(s.takeRecords()),r(!0))}),z?.setTimeout?.(r))}))},nd=0,ro=1/0,Tr=0,Vy=e=>{e.forEach(t=>{t.interactionId&&(ro=Math.min(ro,t.interactionId),Tr=Math.max(Tr,t.interactionId),nd=Tr?(Tr-ro)/7+1:0)})},qo,rd=()=>qo?nd:performance.interactionCount||0,Yy=()=>{"interactionCount"in performance||qo||(qo=Rn("event",Vy,{type:"event",buffered:!0,durationThreshold:0}))},io=10,id=0,Ky=()=>rd()-id,Xy=class $o{constructor(){$o.prototype.__init.call(this),$o.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){id=rd(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(Ky()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<io||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((i,o)=>o._latency-i._latency),this._longestInteractionList.length>io){const i=this._longestInteractionList.splice(io);for(const o of i)this._longestInteractionMap.delete(o.id)}this._onAfterProcessingINPCandidate?.(r)}}},Bs=e=>{const t=n=>{(n.type==="pagehide"||z.document?.visibilityState==="hidden")&&e(n)};z.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},od=e=>{const t=z.requestIdleCallback||z.setTimeout;z.document?.visibilityState==="hidden"?e():(e=Ps(e),t(e),Bs(e))},Jy=[200,500],Zy=40,Qy=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&Ni(()=>{Yy();const n=ur("INP");let r;const i=Ds(t,Xy),o=a=>{od(()=>{for(const u of a)i._processEntry(u);const c=i._estimateP98LongestInteraction();c&&c._latency!==n.value&&(n.value=c._latency,n.entries=c.entries,r())})},s=Rn("event",o,{durationThreshold:t.durationThreshold??Zy});r=ar(e,n,Jy,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),Bs(()=>{o(s.takeRecords()),r(!0)}))})},ev=class{_processEntry(e){this._onBeforeProcessingEntry?.(e)}},tv=[2500,4e3],nv=(e,t={})=>{Ni(()=>{const n=Fs(),r=ur("LCP");let i;const o=Ds(t,ev),s=c=>{t.reportAllChanges||(c=c.slice(-1));for(const u of c)o._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-Cn(),0),r.entries=[u],i())},a=Rn("largest-contentful-paint",s);if(a){i=ar(e,r,tv,t.reportAllChanges);const c=Ps(()=>{s(a.takeRecords()),a.disconnect(),i(!0)});for(const u of["keydown","click","visibilitychange"])z.document&&addEventListener(u,()=>od(c),{capture:!0,once:!0})}})},rv=[800,1800],Go=e=>{z.document?.prerendering?Ni(()=>Go(e)):z.document?.readyState!=="complete"?addEventListener("load",()=>Go(e),!0):setTimeout(e)},iv=(e,t={})=>{const n=ur("TTFB"),r=ar(e,n,rv,t.reportAllChanges);Go(()=>{const i=cr();i&&(n.value=Math.max(i.responseStart-Cn(),0),n.entries=[i],r(!0))})},Dn={},di={},sd,ad,cd,ud;function Us(e,t=!1){return Oi("cls",e,sv,sd,t)}function Hs(e,t=!1){return Oi("lcp",e,av,ad,t)}function ov(e){return Oi("ttfb",e,cv,cd)}function ld(e){return Oi("inp",e,uv,ud)}function qt(e,t){return dd(e,t),di[e]||(lv(e),di[e]=!0),fd(e,t)}function lr(e,t){const n=Dn[e];if(n?.length)for(const r of n)try{r(t)}catch(i){yn&&g.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${it(r)}
Error:`,i)}}function sv(){return Gy(e=>{lr("cls",{metric:e}),sd=e},{reportAllChanges:!0})}function av(){return nv(e=>{lr("lcp",{metric:e}),ad=e},{reportAllChanges:!0})}function cv(){return iv(e=>{lr("ttfb",{metric:e}),cd=e})}function uv(){return Qy(e=>{lr("inp",{metric:e}),ud=e})}function Oi(e,t,n,r,i=!1){dd(e,t);let o;return di[e]||(o=n(),di[e]=!0),r&&t({metric:r}),fd(e,t,i?o:void 0)}function lv(e){const t={};e==="event"&&(t.durationThreshold=0),Rn(e,n=>{lr(e,{entries:n})},t)}function dd(e,t){Dn[e]=Dn[e]||[],Dn[e].push(t)}function fd(e,t,n){return()=>{n&&n();const r=Dn[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function dv(e){return"duration"in e}function oo(e){return typeof e=="number"&&isFinite(e)}function kt(e,t,n,{...r}){const i=W(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Ci(e,()=>{const o=Tt({startTime:t,...r});return o&&o.end(n),o})}function Ws(e){const t=x();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:o}=e,{release:s,environment:a,sendDefaultPii:c}=t.getOptions(),u=t.getIntegrationByName("Replay")?.getReplayId(),d=j(),l=d.getUser(),f=l!==void 0?l.email||l.id||l.ip_address:void 0;let p;try{p=d.getScopeData().contexts.profile.profile_id}catch{}return Tt({name:n,attributes:{release:s,environment:a,user:f||void 0,profile_id:p||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":z.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...i},startTime:o,experimental:{standalone:!0}})}function Li(){return z.addEventListener&&z.performance}function he(e){return e/1e3}function pd(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function hd(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function md(e,t){let n,r=!1;function i(a){!r&&n&&t(a,n),r=!0}Bs(()=>{i("pagehide")});const o=e.on("beforeStartNavigationSpan",(a,c)=>{c?.isRedirect||(i("navigation"),bc(o,s))}),s=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,bc(s)})}function bc(...e){e.forEach(t=>t&&setTimeout(t,0))}function fv(e){let t=0,n;if(!hd("layout-shift"))return;const r=Us(({metric:i})=>{const o=i.entries[i.entries.length-1];o&&(t=i.value,n=o)},!0);md(e,(i,o)=>{pv(t,n,o,i),r()})}function pv(e,t,n,r){yn&&g.log(`Sending CLS span (${e})`);const i=he((Ce()||0)+(t?.startTime||0)),o=j().getScopeData().transactionName,s=t?Be(t.sources[0]?.node):"Layout shift",a={[ce]:"auto.http.browser.cls",[$e]:"ui.webvital.cls",[tr]:t?.duration||0,"sentry.pageload.span_id":n,"sentry.report_event":r};t?.sources&&t.sources.forEach((u,d)=>{a[`cls.source.${d+1}`]=Be(u.node)});const c=Ws({name:s,transaction:o,attributes:a,startTime:i});c&&(c.addEvent("cls",{[Qn]:"",[er]:e}),c.end(i))}function hv(e){let t=0,n;if(!hd("largest-contentful-paint"))return;const r=Hs(({metric:i})=>{const o=i.entries[i.entries.length-1];o&&(t=i.value,n=o)},!0);md(e,(i,o)=>{mv(t,n,o,i),r()})}function mv(e,t,n,r){yn&&g.log(`Sending LCP span (${e})`);const i=he((Ce()||0)+(t?.startTime||0)),o=j().getScopeData().transactionName,s=t?Be(t.element):"Largest contentful paint",a={[ce]:"auto.http.browser.lcp",[$e]:"ui.webvital.lcp",[tr]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=Be(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url.trim().slice(0,200)),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));const c=Ws({name:s,transaction:o,attributes:a,startTime:i});c&&(c.addEvent("lcp",{[Qn]:"millisecond",[er]:e}),c.end(i))}var gv=2147483647,Ec=0,We={},Re,fi;function _v({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=Li();if(r&&Ce()){r.mark&&z.performance.mark("sentry-tracing-init");const i=t?hv(n):Ev(),o=wv(),s=e?fv(n):bv();return()=>{i?.(),o(),s?.()}}return()=>{}}function yv(){qt("longtask",({entries:e})=>{const t=ge();if(!t)return;const{op:n,start_timestamp:r}=W(t);for(const i of e){const o=he(Ce()+i.startTime),s=he(i.duration);n==="navigation"&&r&&o<r||kt(t,o,o+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[ce]:"auto.ui.browser.metrics"}})}})}function vv(){new PerformanceObserver(e=>{const t=ge();if(t)for(const n of e.getEntries()){if(!n.scripts[0])continue;const r=he(Ce()+n.startTime),{start_timestamp:i,op:o}=W(t);if(o==="navigation"&&i&&r<i)continue;const s=he(n.duration),a={[ce]:"auto.ui.browser.metrics"},{invoker:c,invokerType:u,sourceURL:d,sourceFunctionName:l,sourceCharPosition:f}=n.scripts[0];a["browser.script.invoker"]=c,a["browser.script.invoker_type"]=u,d&&(a["code.filepath"]=d),l&&(a["code.function"]=l),f!==-1&&(a["browser.script.source_char_position"]=f),kt(t,r,r+s,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:a})}}).observe({type:"long-animation-frame",buffered:!0})}function Sv(){qt("event",({entries:e})=>{const t=ge();if(t){for(const n of e)if(n.name==="click"){const r=he(Ce()+n.startTime),i=he(n.duration),o={name:Be(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[ce]:"auto.ui.browser.metrics"}},s=Lu(n.target);s&&(o.attributes["ui.component_name"]=s),kt(t,r,r+i,o)}}})}function bv(){return Us(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(We.cls={value:e.value,unit:""},fi=t)},!0)}function Ev(){return Hs(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(We.lcp={value:e.value,unit:"millisecond"},Re=t)},!0)}function wv(){return ov(({metric:e})=>{e.entries[e.entries.length-1]&&(We.ttfb={value:e.value,unit:"millisecond"})})}function Tv(e,t){const n=Li(),r=Ce();if(!n?.getEntries||!r)return;const i=he(r),o=n.getEntries(),{op:s,start_timestamp:a}=W(e);o.slice(Ec).forEach(c=>{const u=he(c.startTime),d=he(Math.max(0,c.duration));if(!(s==="navigation"&&a&&i+u<a))switch(c.entryType){case"navigation":Cv(e,c,i);break;case"mark":case"paint":case"measure":{Iv(e,c,u,d,i,t.ignorePerformanceApiSpans);const l=Fs(),f=c.startTime<l.firstHiddenTime;c.name==="first-paint"&&f&&(We.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&f&&(We.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":Mv(e,c,c.name,u,d,i,t.ignoreResourceSpans);break}}),Ec=Math.max(o.length-1,0),Av(e),s==="pageload"&&(Ov(We),t.recordClsOnPageloadSpan||delete We.cls,t.recordLcpOnPageloadSpan||delete We.lcp,Object.entries(We).forEach(([c,u])=>{ih(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",i),e.setAttribute("performance.activationStart",Cn()),Nv(e,t)),Re=void 0,fi=void 0,We={}}function Iv(e,t,n,r,i,o){if(["mark","measure"].includes(t.entryType)&&qe(t.name,o))return;const s=cr(!1),a=he(s?s.requestStart:0),c=i+Math.max(n,a),u=i+n,d=u+r,l={[ce]:"auto.resource.browser.metrics"};c!==u&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=c),kv(l,t),c<=d&&kt(e,c,d,{name:t.name,op:t.entryType,attributes:l})}function kv(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,i]of Object.entries(n))if(i&&cn(i))e[`sentry.browser.measure.detail.${r}`]=i;else if(i!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(i)}catch{}return}if(cn(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function Cv(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Ir(e,t,r,n)}),Ir(e,t,"secureConnection",n,"TLS/SSL"),Ir(e,t,"fetch",n,"cache"),Ir(e,t,"domainLookup",n,"DNS"),xv(e,t,n)}function Ir(e,t,n,r,i=n){const o=t[Rv(n)],s=t[`${n}Start`];!s||!o||kt(e,r+he(s),r+he(o),{op:`browser.${i}`,name:t.name,attributes:{[ce]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function Rv(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function xv(e,t,n){const r=n+he(t.requestStart),i=n+he(t.responseEnd),o=n+he(t.responseStart);t.responseEnd&&(kt(e,r,i,{op:"browser.request",name:t.name,attributes:{[ce]:"auto.ui.browser.metrics"}}),kt(e,o,i,{op:"browser.response",name:t.name,attributes:{[ce]:"auto.ui.browser.metrics"}}))}function Mv(e,t,n,r,i,o,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(s?.includes(a))return;const c=Ut(n),u={[ce]:"auto.resource.browser.metrics"};so(u,t,"transferSize","http.response_transfer_size"),so(u,t,"encodedBodySize","http.response_content_length"),so(u,t,"decodedBodySize","http.decoded_response_content_length");const d=t.deliveryType;d!=null&&(u["http.response_delivery_type"]=d);const l=t.renderBlockingStatus;if(l&&(u["resource.render_blocking_status"]=l),c.protocol&&(u["url.scheme"]=c.protocol.split(":").pop()),c.host&&(u["server.address"]=c.host),u["url.same_origin"]=n.includes(z.location.origin),t.nextHopProtocol!=null){const{name:p,version:h}=pd(t.nextHopProtocol);u["network.protocol.name"]=p,u["network.protocol.version"]=h}const f=o+r;kt(e,f,f+i,{name:n.replace(z.location.origin,""),op:a,attributes:u})}function Av(e){const t=z.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),oo(n.rtt)&&(We["connection.rtt"]={value:n.rtt,unit:"millisecond"})),oo(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),oo(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function Nv(e,t){Re&&t.recordLcpOnPageloadSpan&&(Re.element&&e.setAttribute("lcp.element",Be(Re.element)),Re.id&&e.setAttribute("lcp.id",Re.id),Re.url&&e.setAttribute("lcp.url",Re.url.trim().slice(0,200)),Re.loadTime!=null&&e.setAttribute("lcp.loadTime",Re.loadTime),Re.renderTime!=null&&e.setAttribute("lcp.renderTime",Re.renderTime),e.setAttribute("lcp.size",Re.size)),fi?.sources&&t.recordClsOnPageloadSpan&&fi.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,Be(n.node)))}function so(e,t,n,r){const i=t[n];i!=null&&i<gv&&(e[r]=i)}function Ov(e){const t=cr(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function Lv(){return Li()&&Ce()?qt("element",Dv):()=>{}}var Dv=({entries:e})=>{const t=ge(),n=t?_e(t):void 0,r=n?W(n).description:j().getScopeData().transactionName;e.forEach(i=>{const o=i;if(!o.identifier)return;const s=o.name,a=o.renderTime,c=o.loadTime,[u,d]=c?[he(c),"load-time"]:a?[he(a),"render-time"]:[ue(),"entry-emission"],l=s==="image-paint"?he(Math.max(0,(a??0)-(c??0))):0,f={[ce]:"auto.ui.browser.elementtiming",[$e]:"ui.elementtiming",[xe]:"component","sentry.span_start_time_source":d,"sentry.transaction_name":r,"element.id":o.id,"element.type":o.element?.tagName?.toLowerCase()||"unknown","element.size":o.naturalWidth&&o.naturalHeight?`${o.naturalWidth}x${o.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":o.url||void 0,"element.identifier":o.identifier,"element.paint_type":s};gs({name:`element[${o.identifier}]`,attributes:f,startTime:u,onlyIfParent:!0},p=>{p.end(u+l)})})},Pv=1e3,wc,Vo,Yo;function gd(e){const t="dom";Ct(t,e),Rt(t,Fv)}function Fv(){if(!z.document)return;const e=Fe.bind(null,"dom"),t=Tc(e,!0);z.document.addEventListener("click",t,!1),z.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=z[n]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(Te(r,"addEventListener",function(i){return function(o,s,a){if(o==="click"||o=="keypress")try{const c=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},u=c[o]=c[o]||{refCount:0};if(!u.handler){const d=Tc(e);u.handler=d,i.call(this,o,d,a)}u.refCount++}catch{}return i.call(this,o,s,a)}}),Te(r,"removeEventListener",function(i){return function(o,s,a){if(o==="click"||o=="keypress")try{const c=this.__sentry_instrumentation_handlers__||{},u=c[o];u&&(u.refCount--,u.refCount<=0&&(i.call(this,o,u.handler,a),u.handler=void 0,delete c[o]),Object.keys(c).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,s,a)}}))})}function Bv(e){if(e.type!==Vo)return!1;try{if(!e.target||e.target._sentryId!==Yo)return!1}catch{}return!0}function Uv(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function Tc(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=Hv(n);if(Uv(n.type,r))return;ke(n,"_sentryCaptured",!0),r&&!r._sentryId&&ke(r,"_sentryId",Ie());const i=n.type==="keypress"?"input":n.type;Bv(n)||(e({event:n,name:i,global:t}),Vo=n.type,Yo=r?r._sentryId:void 0),clearTimeout(wc),wc=z.setTimeout(()=>{Yo=void 0,Vo=void 0},Pv)}}function Hv(e){try{return e.target}catch{return null}}var kr;function Di(e){const t="history";Ct(t,e),Rt(t,Wv)}function Wv(){if(z.addEventListener("popstate",()=>{const t=z.location.href,n=kr;kr=t,n!==t&&Fe("history",{from:n,to:t})}),!Wg())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const i=kr,o=zv(String(r));if(kr=o,i===o)return t.apply(this,n);Fe("history",{from:i,to:o})}return t.apply(this,n)}}Te(z.history,"pushState",e),Te(z.history,"replaceState",e)}function zv(e){try{return new URL(e,z.location.origin).toString()}catch{return e}}var Vr={};function zs(e){const t=Vr[e];if(t)return t;let n=z[e];if(Lo(n))return Vr[e]=n.bind(z);const r=z.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const o=i.contentWindow;o?.[e]&&(n=o[e]),r.head.removeChild(i)}catch(i){yn&&g.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(Vr[e]=n.bind(z))}function Ic(e){Vr[e]=void 0}function dr(...e){return zs("setTimeout")(...e)}var nt="__sentry_xhr_v3__";function js(e){const t="xhr";Ct(t,e),Rt(t,jv)}function jv(){if(!z.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=new Error,o=ue()*1e3,s=je(r[0])?r[0].toUpperCase():void 0,a=qv(r[1]);if(!s||!a)return t.apply(n,r);n[nt]={method:s,url:a,request_headers:{}},s==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[nt];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}Fe("xhr",{endTimestamp:ue()*1e3,startTimestamp:o,xhr:n,virtualError:i})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){const[f,p]=l,h=d[nt];return h&&je(f)&&je(p)&&(h.request_headers[f.toLowerCase()]=p),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[nt];return i&&(r[0]!==void 0&&(i.body=r[0]),Fe("xhr",{startTimestamp:ue()*1e3,xhr:n})),t.apply(n,r)}})}function qv(e){if(je(e))return e;try{return e.toString()}catch{}}function _d(e){return new URLSearchParams(e).toString()}function pi(e,t=g){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[_d(e)];if(!e)return[void 0]}catch(n){return yn&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return yn&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function qs(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}var ao=[],Yr=new Map,$v=60;function Gv(){if(Li()&&Ce()){const e=Vv();return()=>{e()}}return()=>{}}var kc={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Vv(){return ld(Yv)}var Yv=({metric:e})=>{if(e.value==null)return;const t=he(e.value);if(t>$v)return;const n=e.entries.find(l=>l.duration===e.value&&kc[l.name]);if(!n)return;const{interactionId:r}=n,i=kc[n.name],o=he(Ce()+n.startTime),s=ge(),a=s?_e(s):void 0,c=(r!=null?Yr.get(r):void 0)||a,u=c?W(c).description:j().getScopeData().transactionName,d=Ws({name:Be(n.target),transaction:u,attributes:{[ce]:"auto.http.browser.inp",[$e]:`ui.interaction.${i}`,[tr]:n.duration},startTime:o});d&&(d.addEvent("inp",{[Qn]:"millisecond",[er]:e.value}),d.end(o+t))};function Kv(){const e=({entries:t})=>{const n=ge(),r=n&&_e(n);t.forEach(i=>{if(!dv(i)||!r)return;const o=i.interactionId;if(o!=null&&!Yr.has(o)){if(ao.length>10){const s=ao.shift();Yr.delete(s)}ao.push(o),Yr.set(o,r)}})};qt("event",e),qt("first-input",e)}function yd(e,t=zs("fetch")){let n=0,r=0;function i(o){const s=o.body.length;n+=s,r++;const a={body:o.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Ic("fetch"),si("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=s,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Ic("fetch"),n-=s,r--,si(c)}}return lm(e,i)}var Xv=10,Jv=20,Zv=30,Qv=40,eS=50;function vn(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?"?":t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}var tS=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,nS=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,rS=/\((\S*)(?::(\d+))(?::(\d+))\)/,iS=/at (.+?) ?\(data:(.+?),/,oS=e=>{const t=e.match(iS);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=tS.exec(e);if(n){const[,i,o,s]=n;return vn(i,"?",+o,+s)}const r=nS.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const s=rS.exec(r[2]);s&&(r[2]=s[1],r[3]=s[2],r[4]=s[3])}const[i,o]=vd(r[1]||"?",r[2]);return vn(o,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},sS=[Zv,oS],aS=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,cS=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,uS=e=>{const t=aS.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=cS.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let n=t[3],r=t[1]||"?";return[r,n]=vd(r,n),vn(n,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},lS=[eS,uS],dS=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,fS=e=>{const t=dS.exec(e);return t?vn(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0},h1=[Qv,fS],pS=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,hS=e=>{const t=pS.exec(e);return t?vn(t[2],t[3]||"?",+t[1]):void 0},m1=[Xv,hS],mS=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,gS=e=>{const t=mS.exec(e);return t?vn(t[5],t[3]||t[4]||"?",+t[1],+t[2]):void 0},g1=[Jv,gS],_S=[sS,lS],yS=Cu(..._S),vd=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:"?",n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function _1(e,{metadata:t,tunnel:n,dsn:r}){return ht({event_id:e.event_id,sent_at:new Date().toISOString(),...t?.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Vt(r)}},[vS(e)])}function vS(e){return[{type:"user_report"},e]}var Y=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Cr=1024,SS="Breadcrumbs",bS=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:SS,setup(n){t.console&&ws(IS(n)),t.dom&&gd(TS(n,t.dom)),t.xhr&&js(kS(n)),t.fetch&&Is(CS(n)),t.history&&Di(RS(n)),t.sentry&&n.on("beforeSendEvent",wS(n))}}},ES=bS;function wS(e){return function(n){x()===e&&Xe({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Nt(n)},{event:n})}}function TS(e,t){return function(r){if(x()!==e)return;let i,o,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Cr&&(Y&&g.warn(`\`dom.maxStringLength\` cannot exceed ${Cr}, but a value of ${a} was configured. Sentry will use ${Cr} instead.`),a=Cr),typeof s=="string"&&(s=[s]);try{const u=r.event,d=xS(u)?u.target:u;i=Be(d,{keyAttrs:s,maxStringLength:a}),o=Lu(d)}catch{i="<unknown>"}if(i.length===0)return;const c={category:`ui.${r.name}`,message:i};o&&(c.data={"ui.component_name":o}),Xe(c,{event:r.event,name:r.name,global:r.global})}}function IS(e){return function(n){if(x()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:Ts(n.level),message:ei(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${ei(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Xe(r,{input:n.args,level:n.level})}}function kS(e){return function(n){if(x()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,o=n.xhr[nt];if(!r||!i||!o)return;const{method:s,url:a,status_code:c,body:u}=o,d={method:s,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:i},f={category:"xhr",data:d,type:"http",level:Bl(c)};e.emit("beforeOutgoingRequestBreadcrumb",f,l),Xe(f,l)}}function CS(e){return function(n){if(x()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const o=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i},a={category:"fetch",data:o,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,s),Xe(a,s)}else{const o=n.response,s={...n.fetchData,status_code:o?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,o?.status;const a={input:n.args,response:o,startTimestamp:r,endTimestamp:i},c={category:"fetch",data:s,type:"http",level:Bl(s.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),Xe(c,a)}}}function RS(e){return function(n){if(x()!==e)return;let r=n.from,i=n.to;const o=Ut(D.location.href);let s=r?Ut(r):void 0;const a=Ut(i);s?.path||(s=o),o.protocol===a.protocol&&o.host===a.host&&(i=a.relative),o.protocol===s.protocol&&o.host===s.host&&(r=s.relative),Xe({category:"navigation",data:{from:r,to:i}})}}function xS(e){return!!e&&!!e.target}var MS=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],AS="BrowserApiErrors",NS=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:AS,setupOnce(){t.setTimeout&&Te(D,"setTimeout",Cc),t.setInterval&&Te(D,"setInterval",Cc),t.requestAnimationFrame&&Te(D,"requestAnimationFrame",LS),t.XMLHttpRequest&&"XMLHttpRequest"in D&&Te(XMLHttpRequest.prototype,"send",DS);const n=t.eventTarget;n&&(Array.isArray(n)?n:MS).forEach(r=>PS(r,t))}}},OS=NS;function Cc(e){return function(...t){const n=t[0];return t[0]=_n(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${it(e)}`}}),e.apply(this,t)}}function LS(e){return function(t){return e.apply(this,[_n(t,{mechanism:{data:{handler:it(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function DS(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&Te(n,r,function(i){const o={mechanism:{data:{handler:it(i)},handled:!1,type:`auto.browser.browserapierrors.xhr.${r}`}},s=ds(i);return s&&(o.mechanism.data.handler=it(s)),_n(i,o)})}),e.apply(this,t)}}function PS(e,t){const n=D[e]?.prototype;n?.hasOwnProperty?.("addEventListener")&&(Te(n,"addEventListener",function(r){return function(i,o,s){try{FS(o)&&(o.handleEvent=_n(o.handleEvent,{mechanism:{data:{handler:it(o),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&BS(this,i,o),r.apply(this,[i,_n(o,{mechanism:{data:{handler:it(o),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),s])}}),Te(n,"removeEventListener",function(r){return function(i,o,s){try{const a=o.__sentry_wrapped__;a&&r.call(this,i,a,s)}catch{}return r.call(this,i,o,s)}}))}function FS(e){return typeof e.handleEvent=="function"}function BS(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}var US=()=>({name:"BrowserSession",setupOnce(){if(typeof D.document>"u"){Y&&g.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}La({ignoreDuration:!0}),Da(),Di(({from:e,to:t})=>{e!==void 0&&e!==t&&(La({ignoreDuration:!0}),Da())})}}),HS="GlobalHandlers",WS=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:HS,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(jS(n),Rc("onerror")),t.onunhandledrejection&&(qS(n),Rc("onunhandledrejection"))}}},zS=WS;function jS(e){Ru(t=>{const{stackParser:n,attachStacktrace:r}=Sd();if(x()!==e||ed())return;const{msg:i,url:o,line:s,column:a,error:c}=t,u=VS(Ls(n,c||i,void 0,r,!1),o,s,a);u.level="error",Ri(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function qS(e){xu(t=>{const{stackParser:n,attachStacktrace:r}=Sd();if(x()!==e||ed())return;const i=$S(t),o=cn(i)?GS(i):Ls(n,i,void 0,r,!0);o.level="error",Ri(o,{originalException:i,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function $S(e){if(cn(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function GS(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function VS(e,t,n,r){const i=e.exception=e.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=YS(t)??$t();return c.length===0&&c.push({colno:u,filename:l,function:"?",in_app:!0,lineno:d}),e}function Rc(e){Y&&g.log(`Global Handler attached: ${e}`)}function Sd(){return x()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function YS(e){if(!(!je(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/);return`<data:${t?t[1]:"text/javascript"}${e.includes("base64,")?",base64":""}>`}return e.slice(0,1024)}}var KS=()=>({name:"HttpContext",preprocessEvent(e){if(!D.navigator&&!D.location&&!D.document)return;const t=As(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}}),XS="cause",JS=5,ZS="LinkedErrors",QS=(e={})=>{const t=e.limit||JS,n=e.key||XS;return{name:ZS,preprocessEvent(r,i,o){Hm(Ns,o.getOptions().stackParser,n,t,r,i)}}},eb=QS;function tb(){return nb()?(Y&&Je(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function nb(){if(typeof D.window>"u")return!1;const e=D;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;const t=$t();return!(D===D.top&&["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"].some(n=>t.startsWith(`${n}://`)))}function bd(e){return[Nm(),Rm(),OS(),ES(),zS(),eb(),Km(),KS(),US()]}function rb(e={}){const t=!e.skipBrowserExtensionCheck&&tb();return om(Dy,{...e,enabled:t?!1:e.enabled,stackParser:qf(e.stackParser||yS),integrations:jh({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?bd():e.defaultIntegrations}),transport:e.transport||yd})}function y1(){}function v1(e){e()}function S1(e={}){const t=D.document,n=t?.head||t?.body;if(!n){Y&&g.error("[showReportDialog] Global document not defined");return}const r=j(),i=x()?.getDsn();if(!i){Y&&g.error("[showReportDialog] DSN not configured");return}const o={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||Dh()},s=D.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=Wh(i,o);const{onLoad:a,onClose:c}=o;if(a&&(s.onload=a),c){const u=d=>{if(d.data==="__sentry_reportdialog_closed__")try{c()}finally{D.removeEventListener("message",u)}};D.addEventListener("message",u)}n.appendChild(s)}var ib=B,ob="ReportingObserver",xc=new WeakMap,sb=(e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(r){if(xc.has(x()))for(const i of r)Ve(o=>{o.setExtra("url",i.url);const s=`ReportingObserver [${i.type}]`;let a="No details available";if(i.body){const c={};for(const u in i.body)c[u]=i.body[u];if(o.setExtra("body",c),i.type==="crash"){const u=i.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=i.body.message||a}Mo(`${s}: ${a}`)})}return{name:ob,setupOnce(){jg()&&new ib.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){xc.set(r,!0)}}},b1=sb,ab="HttpClient",cb=(e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:ab,setup(n){gb(n,t),_b(n,t)}}},E1=cb;function ub(e,t,n,r,i){if(wd(e,n.status,n.url)){const o=yb(t,r);let s,a,c,u;Id()&&([s,c]=Mc("Cookie",o),[a,u]=Mc("Set-Cookie",n)),Ri(Td({url:o.url,method:o.method,status:n.status,requestHeaders:s,responseHeaders:a,requestCookies:c,responseCookies:u,error:i,type:"fetch"}))}}function Mc(e,t){const n=fb(t.headers);let r;try{const i=n[e]||n[e.toLowerCase()]||void 0;i&&(r=Ed(i))}catch{}return[n,r]}function lb(e,t,n,r,i){if(wd(e,t.status,t.responseURL)){let o,s,a;if(Id()){try{const c=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;c&&(s=Ed(c))}catch{}try{a=pb(t)}catch{}o=r}Ri(Td({url:t.responseURL,method:n,status:t.status,requestHeaders:o,responseHeaders:a,responseCookies:s,error:i,type:"xhr"}))}}function db(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function Ed(e){return e.split("; ").reduce((t,n)=>{const[r,i]=n.split("=");return r&&i&&(t[r]=i),t},{})}function fb(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function pb(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[i,o]=r.split(": ");return i&&o&&(n[i]=o),n},{}):{}}function hb(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function mb(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function gb(e,t){Ul()&&Is(n=>{if(x()!==e)return;const{response:r,args:i,error:o,virtualError:s}=n,[a,c]=i;r&&ub(t,a,r,c,o||s)},!1)}function _b(e,t){"XMLHttpRequest"in B&&js(n=>{if(x()!==e)return;const{error:r,virtualError:i}=n,o=n.xhr,s=o[nt];if(!s)return;const{method:a,request_headers:c}=s;try{lb(t,o,a,c,r||i)}catch(u){Y&&g.warn("Error while extracting response event form XHR response",u)}})}function wd(e,t,n){return mb(e.failedRequestStatusCodes,t)&&hb(e.failedRequestTargets,n)&&!Rl(n,x())}function Td(e){const t=x(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,i=`HTTP Client Error with status code: ${e.status}`,o={message:i,exception:{values:[{type:"Error",value:i,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:db(e.responseHeaders)}}};return at(o,{type:`auto.http.client.${e.type}`,handled:!1}),o}function yb(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function Id(){const e=x();return e?!!e.getOptions().sendDefaultPii:!1}var co=B,vb=7,Sb="ContextLines",bb=(e={})=>{const t=e.frameContextLines!=null?e.frameContextLines:vb;return{name:Sb,processEvent(n){return Eb(n,t)}}},w1=bb;function Eb(e,t){const n=co.document,r=co.location&&Cl(co.location.href);if(!n||!r)return e;const i=e.exception?.values;if(!i?.length)return e;const o=n.documentElement.innerHTML;if(!o)return e;const s=["<!DOCTYPE html>","<html>",...o.split(`
`),"</html>"];return i.forEach(a=>{const c=a.stacktrace;c?.frames&&(c.frames=c.frames.map(u=>wb(u,s,r,t)))}),e}function wb(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||np(t,e,r),e}var Tb="GraphQLClient",Ib=e=>({name:Tb,setup(t){kb(t,e),Cb(t,e)}});function kb(e,t){e.on("beforeOutgoingRequestSpan",(n,r)=>{const i=W(n).data||{};if(i["sentry.op"]!=="http.client")return;const o=i["url.full"]||i["http.url"],s=i["http.request.method"]||i["http.method"];if(!je(o)||!je(s))return;const{endpoints:a}=t,c=qe(o,a),u=Cd(r);if(c&&u){const d=Rd(u);if(d){const l=kd(d);n.updateName(`${s} ${o} (${l})`),n.setAttribute("graphql.document",u)}}})}function Cb(e,t){e.on("beforeOutgoingRequestBreadcrumb",(n,r)=>{const{category:i,type:o,data:s}=n;if(o==="http"&&(i==="fetch"||i==="xhr")){const a=s?.url,{endpoints:c}=t,u=qe(a,c),d=Cd(r);if(u&&s&&d){const l=Rd(d);if(!s.graphql&&l){const f=kd(l);s["graphql.document"]=l.query,s["graphql.operation"]=f}}}})}function kd(e){const{query:t,operationName:n}=e,{operationName:r=n,operationType:i}=Rb(t);return r?`${i} ${r}`:`${i}`}function Cd(e){const t="xhr"in e;let n;if(t){const r=e.xhr[nt];n=r&&pi(r.body)[0]}else n=pi(qs(e.input))[0];return n}function Rb(e){const t=/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/,n=/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/,r=e.match(t);if(r)return{operationType:r[1],operationName:r[2]};const i=e.match(n);return i?{operationType:i[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}function Rd(e){let t;try{const n=JSON.parse(e);n.query&&(t=n)}finally{return t}}var T1=Ib,se=B,$s="sentryReplaySession",xb="replay_event",Gs="Unable to send Replay",Mb=3e5,Ab=9e5,Nb=5e3,Ob=5500,Lb=6e4,Db=5e3,Pb=3,Ac=15e4,Rr=5e3,Fb=3e3,Bb=300,Vs=2e7,Ub=4999,Hb=15e3,Nc=36e5,Wb=Object.defineProperty,zb=(e,t,n)=>t in e?Wb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oc=(e,t,n)=>zb(e,typeof t!="symbol"?t+"":t,n),me=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(me||{});function jb(e){return e.nodeType===e.ELEMENT_NODE}function Pn(e){return e?.host?.shadowRoot===e}function Fn(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function qb(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function $b(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function hi(e){try{const t=e.rules||e.cssRules;return t?qb(Array.from(t,xd).join("")):null}catch{return null}}function Gb(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,i=r[n],o=r.getPropertyPriority(i);t+=`${i}:${r.getPropertyValue(i)}${o?" !important":""};`}return`${e.selectorText} { ${t} }`}function xd(e){let t;if(Yb(e))try{t=hi(e.styleSheet)||$b(e)}catch{}else if(Kb(e)){let n=e.cssText;const r=e.selectorText.includes(":"),i=typeof e.style.all=="string"&&e.style.all;if(i&&(n=Gb(e)),r&&(n=Vb(n)),r||i)return n}return t||e.cssText}function Vb(e){return e.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")}function Yb(e){return"styleSheet"in e}function Kb(e){return"selectorText"in e}var Md=class{constructor(){Oc(this,"idNodeMap",new Map),Oc(this,"nodeMetaMap",new WeakMap)}getId(e){return e?this.getMeta(e)?.id??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const r=this.nodeMetaMap.get(n);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function Xb(){return new Md}function Pi({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function jn({isMasked:e,element:t,value:n,maskInputFn:r}){let i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i}function Sn(e){return e.toLowerCase()}function Ko(e){return e.toUpperCase()}var Lc="__rrweb_original__";function Jb(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let i=0;i<e.height;i+=n){const o=t.getImageData,s=Lc in o?o[Lc]:o;if(new Uint32Array(s.call(t,r,i,Math.min(n,e.width-r),Math.min(n,e.height-i)).data.buffer).some(a=>a!==0))return!1}return!0}function Ys(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Sn(t):null}function mi(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function Ad(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}return n.pathname.match(/\.([0-9a-z]+)(?:$)/i)?.[1]??null}var Dc={};function Nd(e){const t=Dc[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const o=i.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(i)}catch{}return Dc[e]=r.bind(window)}function Xo(...e){return Nd("setTimeout")(...e)}function Od(...e){return Nd("clearTimeout")(...e)}function Ld(e){try{return e.contentDocument}catch{}}var Zb=1,Qb=new RegExp("[^a-z0-9-_:]"),qn=-2;function Ks(){return Zb++}function eE(e){if(e instanceof HTMLFormElement)return"form";const t=Sn(e.tagName);return Qb.test(t)?"div":t}function tE(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Jt,Pc,nE=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,rE=/^(?:[a-z+]+:)?\/\//i,iE=/^www\..*/i,oE=/^(data:)([^,]*),(.*)/i;function gi(e,t){return(e||"").replace(nE,(n,r,i,o,s,a)=>{const c=i||s||a,u=r||o||"";if(!c)return n;if(rE.test(c)||iE.test(c))return`url(${u}${c}${u})`;if(oE.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${tE(t)+c}${u})`;const d=t.split("/"),l=c.split("/");d.pop();for(const f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}var sE=/^[^ \t\n\r\u000c]+/,aE=/^[, \t\n\r\u000c]+/;function cE(e,t){if(t.trim()==="")return t;let n=0;function r(o){let s;const a=o.exec(t.substring(n));return a?(s=a[0],n+=s.length,s):""}const i=[];for(;r(aE),!(n>=t.length);){let o=r(sE);if(o.slice(-1)===",")o=tn(e,o.substring(0,o.length-1)),i.push(o);else{let s="";o=tn(e,o);let a=!1;for(;;){const c=t.charAt(n);if(c===""){i.push((o+s).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,i.push((o+s).trim());break}else c==="("&&(a=!0);s+=c,n+=1}}}return i.join(", ")}var Fc=new WeakMap;function tn(e,t){return!t||t.trim()===""?t:Fi(e,t)}function uE(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Fi(e,t){let n=Fc.get(e);if(n||(n=e.createElement("a"),Fc.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Dd(e,t,n,r,i,o){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?tn(e,r):n==="srcset"?cE(e,r):n==="style"?gi(r,Fi(e)):t==="object"&&n==="data"?tn(e,r):typeof o=="function"?o(n,r,i):r)}function Pd(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function lE(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let i=e.classList.length;i--;){const o=e.classList[i];if(t.test(o))return!0}if(n)return e.matches(n)}catch{}return!1}function dE(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Dt(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Dt(e.parentNode,t,n,r+1)}function nn(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(dE(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function bn(e,t,n,r,i,o){try{const s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(s===null)return!1;if(s.tagName==="INPUT"){const u=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(o){if(c=Dt(s,nn(r,i)),c<0)return!0;a=Dt(s,nn(t,n),c>=0?c:1/0)}else{if(a=Dt(s,nn(t,n)),a<0)return!1;c=Dt(s,nn(r,i),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!o}catch{}return!!o}function fE(e,t,n){const r=e.contentWindow;if(!r)return;let i=!1,o;try{o=r.document.readyState}catch{return}if(o!=="complete"){const a=Xo(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{Od(a),i=!0,t()});return}const s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return Xo(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function pE(e,t,n){let r=!1,i;try{i=e.sheet}catch{return}if(i)return;const o=Xo(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Od(o),r=!0,t()})}function hE(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:h={},maskTextFn:m,maskInputFn:v,dataURLOptions:_={},inlineImages:b,recordCanvas:C,keepIframeSrcFn:R,newlyAddedElement:N=!1}=t,y=mE(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:me.Document,childNodes:[],compatMode:e.compatMode}:{type:me.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:me.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:y};case e.ELEMENT_NODE:return _E(e,{doc:n,blockClass:i,blockSelector:o,unblockSelector:s,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:h,maskInputFn:v,dataURLOptions:_,inlineImages:b,recordCanvas:C,keepIframeSrcFn:R,newlyAddedElement:N,rootId:y,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f});case e.TEXT_NODE:return gE(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:m,maskInputOptions:h,maskInputFn:v,rootId:y});case e.CDATA_SECTION_NODE:return{type:me.CDATA,textContent:"",rootId:y};case e.COMMENT_NODE:return{type:me.Comment,textContent:e.textContent||"",rootId:y};default:return!1}}function mE(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function gE(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:o,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const p=l==="STYLE"?!0:void 0,h=l==="SCRIPT"?!0:void 0,m=l==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(f=hi(e.parentNode.sheet))}catch(_){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${_}`,e)}f=gi(f,Fi(t.doc))}h&&(f="SCRIPT_PLACEHOLDER");const v=bn(e,r,o,i,s,n);return!p&&!h&&!m&&f&&v&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),m&&f&&(c.textarea||v)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),l==="OPTION"&&f&&(f=jn({isMasked:bn(e,r,o,i,s,Pi({type:null,tagName:l,maskInputOptions:c})),element:e,value:f,maskInputFn:u})),{type:me.Text,textContent:f||"",isStyle:p,rootId:d}}function _E(e,t){const{doc:n,blockClass:r,blockSelector:i,unblockSelector:o,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:h=!1,rootId:m,maskTextClass:v,unmaskTextClass:_,maskTextSelector:b,unmaskTextSelector:C}=t,R=lE(e,r,i,o),N=eE(e);let y={};const w=e.attributes.length;for(let S=0;S<w;S++){const k=e.attributes[S];k.name&&!Pd(N,k.name,k.value)&&(y[k.name]=Dd(n,N,Sn(k.name),k.value,e,c))}if(N==="link"&&s){const S=Array.from(n.styleSheets).find(O=>O.href===e.href);let k=null;S&&(k=hi(S)),k&&(y.rel=null,y.href=null,y.crossorigin=null,y._cssText=gi(k,S.href))}if(N==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const S=hi(e.sheet);S&&(y._cssText=gi(S,Fi(n)))}if(N==="input"||N==="textarea"||N==="select"||N==="option"){const S=e,k=Ys(S),O=mi(S,Ko(N),k),T=S.checked;if(k!=="submit"&&k!=="button"&&O){const M=bn(S,v,b,_,C,Pi({type:k,tagName:Ko(N),maskInputOptions:a}));y.value=jn({isMasked:M,element:S,value:O,maskInputFn:u})}T&&(y.checked=T)}if(N==="option"&&(e.selected&&!a.select?y.selected=!0:delete y.selected),N==="canvas"&&f){if(e.__context==="2d")Jb(e)||(y.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const S=e.toDataURL(d.type,d.quality),k=n.createElement("canvas");k.width=e.width,k.height=e.height,S!==k.toDataURL(d.type,d.quality)&&(y.rr_dataURL=S)}}if(N==="img"&&l){Jt||(Jt=n.createElement("canvas"),Pc=Jt.getContext("2d"));const S=e,k=S.currentSrc||S.getAttribute("src")||"<unknown-src>",O=S.crossOrigin,T=()=>{S.removeEventListener("load",T);try{Jt.width=S.naturalWidth,Jt.height=S.naturalHeight,Pc.drawImage(S,0,0),y.rr_dataURL=Jt.toDataURL(d.type,d.quality)}catch(M){if(S.crossOrigin!=="anonymous"){S.crossOrigin="anonymous",S.complete&&S.naturalWidth!==0?T():S.addEventListener("load",T);return}else console.warn(`Cannot inline img src=${k}! Error: ${M}`)}S.crossOrigin==="anonymous"&&(O?y.crossOrigin=O:S.removeAttribute("crossorigin"))};S.complete&&S.naturalWidth!==0?T():S.addEventListener("load",T)}if((N==="audio"||N==="video")&&(y.rr_mediaState=e.paused?"paused":"played",y.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(y.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(y.rr_scrollTop=e.scrollTop)),R){const{width:S,height:k}=e.getBoundingClientRect();y={class:y.class,rr_width:`${S}px`,rr_height:`${k}px`}}N==="iframe"&&!p(y.src)&&(!R&&!Ld(e)&&(y.rr_src=y.src),delete y.src);let H;try{customElements.get(N)&&(H=!0)}catch{}return{type:me.Element,tagName:N,attributes:y,childNodes:[],isSVG:uE(e)||void 0,needBlock:R,rootId:m,isCustom:H}}function oe(e){return e==null?"":e.toLowerCase()}function yE(e,t){if(t.comment&&e.type===me.Comment)return!0;if(e.type===me.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Ad(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(oe(e.attributes.name).match(/^msapplication-tile(image|color)$/)||oe(e.attributes.name)==="application-name"||oe(e.attributes.rel)==="icon"||oe(e.attributes.rel)==="apple-touch-icon"||oe(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&oe(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(oe(e.attributes.property).match(/^(og|twitter|fb):/)||oe(e.attributes.name).match(/^(og|twitter):/)||oe(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(oe(e.attributes.name)==="robots"||oe(e.attributes.name)==="googlebot"||oe(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(oe(e.attributes.name)==="author"||oe(e.attributes.name)==="generator"||oe(e.attributes.name)==="framework"||oe(e.attributes.name)==="publisher"||oe(e.attributes.name)==="progid"||oe(e.attributes.property).match(/^article:/)||oe(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(oe(e.attributes.name)==="google-site-verification"||oe(e.attributes.name)==="yandex-verification"||oe(e.attributes.name)==="csrf-token"||oe(e.attributes.name)==="p:domain_verify"||oe(e.attributes.name)==="verify-v1"||oe(e.attributes.name)==="verification"||oe(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function rn(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:h={},maskAttributeFn:m,maskTextFn:v,maskInputFn:_,slimDOMOptions:b,dataURLOptions:C={},inlineImages:R=!1,recordCanvas:N=!1,onSerialize:y,onIframeLoad:w,iframeLoadTimeout:H=5e3,onBlockedImageLoad:S,onStylesheetLoad:k,stylesheetLoadTimeout:O=5e3,keepIframeSrcFn:T=()=>!1,newlyAddedElement:M=!1}=t;let{preserveWhiteSpace:K=!0}=t;const A=hE(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:v,maskInputFn:_,dataURLOptions:C,inlineImages:R,recordCanvas:N,keepIframeSrcFn:T,newlyAddedElement:M});if(!A)return console.warn(e,"not serialized"),null;let q;r.hasNode(e)?q=r.getId(e):yE(A,b)||!K&&A.type===me.Text&&!A.isStyle&&!A.textContent.replace(/^\s+|\s+$/gm,"").length?q=qn:q=Ks();const E=Object.assign(A,{id:q});if(r.add(e,E),q===qn)return null;y&&y(e);let Z=!f;if(E.type===me.Element){Z=Z&&!E.needBlock;const L=e.shadowRoot;L&&Fn(L)&&(E.isShadowHost=!0)}if((E.type===me.Document||E.type===me.Element)&&Z){b.headWhitespace&&E.type===me.Element&&E.tagName==="head"&&(K=!1);const L={doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:v,maskInputFn:_,slimDOMOptions:b,dataURLOptions:C,inlineImages:R,recordCanvas:N,preserveWhiteSpace:K,onSerialize:y,onIframeLoad:w,iframeLoadTimeout:H,onBlockedImageLoad:S,onStylesheetLoad:k,stylesheetLoadTimeout:O,keepIframeSrcFn:T},$=e.childNodes?Array.from(e.childNodes):[];for(const ae of $){const fe=rn(ae,L);fe&&E.childNodes.push(fe)}if(jb(e)&&e.shadowRoot)for(const ae of Array.from(e.shadowRoot.childNodes)){const fe=rn(ae,L);fe&&(Fn(e.shadowRoot)&&(fe.isShadow=!0),E.childNodes.push(fe))}}if(e.parentNode&&Pn(e.parentNode)&&Fn(e.parentNode)&&(E.isShadow=!0),E.type===me.Element&&E.tagName==="iframe"&&!E.needBlock&&fE(e,()=>{const L=Ld(e);if(L&&w){const $=rn(L,{doc:L,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:v,maskInputFn:_,slimDOMOptions:b,dataURLOptions:C,inlineImages:R,recordCanvas:N,preserveWhiteSpace:K,onSerialize:y,onIframeLoad:w,iframeLoadTimeout:H,onStylesheetLoad:k,stylesheetLoadTimeout:O,keepIframeSrcFn:T});$&&w(e,$)}},H),E.type===me.Element&&E.tagName==="img"&&!e.complete&&E.needBlock){const L=e,$=()=>{if(L.isConnected&&!L.complete&&S)try{const ae=L.getBoundingClientRect();ae.width>0&&ae.height>0&&S(L,E,ae)}catch{}L.removeEventListener("load",$)};L.isConnected&&L.addEventListener("load",$)}return E.type===me.Element&&E.tagName==="link"&&typeof E.attributes.rel=="string"&&(E.attributes.rel==="stylesheet"||E.attributes.rel==="preload"&&typeof E.attributes.href=="string"&&Ad(E.attributes.href)==="css")&&pE(e,()=>{if(k){const L=rn(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:v,maskInputFn:_,slimDOMOptions:b,dataURLOptions:C,inlineImages:R,recordCanvas:N,preserveWhiteSpace:K,onSerialize:y,onIframeLoad:w,iframeLoadTimeout:H,onStylesheetLoad:k,stylesheetLoadTimeout:O,keepIframeSrcFn:T});L&&k(e,L)}},O),E.type===me.Element&&delete E.needBlock,E}function vE(e,t){const{mirror:n=new Md,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:o=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:h=!1,maskAttributeFn:m,maskTextFn:v,maskInputFn:_,slimDOM:b=!1,dataURLOptions:C,preserveWhiteSpace:R,onSerialize:N,onIframeLoad:y,iframeLoadTimeout:w,onBlockedImageLoad:H,onStylesheetLoad:S,stylesheetLoadTimeout:k,keepIframeSrcFn:O=()=>!1}=t||{};return rn(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,maskAllText:s,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:m,maskTextFn:v,maskInputFn:_,slimDOMOptions:b===!0||b==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:b==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:b===!1?{}:b,dataURLOptions:C,inlineImages:f,recordCanvas:p,preserveWhiteSpace:R,onSerialize:N,onIframeLoad:y,iframeLoadTimeout:w,onBlockedImageLoad:H,onStylesheetLoad:S,stylesheetLoadTimeout:k,keepIframeSrcFn:O,newlyAddedElement:!1})}function we(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var Zt=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Bc={map:{},getId(){return console.error(Zt),-1},getNode(){return console.error(Zt),null},removeNodeFromMap(){console.error(Zt)},has(){return console.error(Zt),!1},reset(){console.error(Zt)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Bc=new Proxy(Bc,{get(e,t,n){return t==="map"&&console.error(Zt),Reflect.get(e,t,n)}}));function $n(e,t,n={}){let r=null,i=0;return function(...o){const s=Date.now();!i&&n.leading===!1&&(i=s);const a=t-(s-i),c=this;a<=0||a>t?(r&&(kE(r),r=null),i=s,e.apply(c,o)):!r&&n.trailing!==!1&&(r=Bi(()=>{i=n.leading===!1?0:Date.now(),r=null,e.apply(c,o)},a))}}function Fd(e,t,n,r,i=window){const o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(s){Bi(()=>{n.set.call(this,s)},0),o&&o.set&&o.set.call(this,s)}}),()=>Fd(e,t,o||{},!0)}function Xs(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}var _i=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(_i=()=>new Date().getTime());function Bd(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function Ud(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Hd(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Wd(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Le(e,t,n,r,i){if(!e)return!1;const o=Wd(e);if(!o)return!1;const s=nn(t,n);if(!i){const u=r&&o.matches(r);return s(o)&&!u}const a=Dt(o,s);let c=-1;return a<0?!1:(r&&(c=Dt(o,nn(null,r))),a>-1&&c<0?!0:a<c)}function SE(e,t){return t.getId(e)!==-1}function uo(e,t){return t.getId(e)===qn}function zd(e,t){if(Pn(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?zd(e.parentNode,t):!0:!0}function Jo(e){return!!e.changedTouches}function bE(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function jd(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function qd(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Zo(e){return!!e?.shadowRoot}var EE=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return t===void 0?n=this.id++:n=t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function $d(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function wE(e){let t=e,n;for(;n=$d(t);)t=n;return t}function TE(e){const t=e.ownerDocument;if(!t)return!1;const n=wE(e);return t.contains(n)}function Gd(e){const t=e.ownerDocument;return t?t.contains(e)||TE(e):!1}var Uc={};function Js(e){const t=Uc[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const o=i.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(i)}catch{}return Uc[e]=r.bind(window)}function IE(...e){return Js("requestAnimationFrame")(...e)}function Bi(...e){return Js("setTimeout")(...e)}function kE(...e){return Js("clearTimeout")(...e)}var G=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(G||{}),U=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(U||{}),Ee=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Ee||{}),tt=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(tt||{}),Qt=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Qt||{});function Zs(e){try{return e.contentDocument}catch{}}function CE(e){try{return e.contentWindow}catch{}}function Hc(e){return"__ln"in e}var RE=class{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=t?.next||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Hc(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&Hc(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;t.next===null&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}},Wc=(e,t)=>`${e}@${t}`,xE=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new RE,r=a=>{let c=a,u=qn;for(;u===qn;)c=c&&c.nextSibling,u=c&&this.mirror.getId(c);return u},i=a=>{if(!a.parentNode||!Gd(a))return;const c=Pn(a.parentNode)?this.mirror.getId($d(a)):this.mirror.getId(a.parentNode),u=r(a);if(c===-1||u===-1)return n.addNode(a);const d=rn(a,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:l=>{jd(l,this.mirror)&&!Le(l,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(l),qd(l,this.mirror)&&this.stylesheetManager.trackLinkElement(l),Zo(a)&&this.shadowDomManager.addShadowRoot(a.shadowRoot,this.doc)},onIframeLoad:(l,f)=>{Le(l,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(l,f),l.contentWindow&&this.canvasManager.addWindow(l.contentWindow),this.shadowDomManager.observeAttachShadow(l))},onStylesheetLoad:(l,f)=>{this.stylesheetManager.attachLinkElement(l,f)},onBlockedImageLoad:(l,f,{width:p,height:h})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:f.id,attributes:{style:{width:`${p}px`,height:`${h}px`}}}]})}});d&&(e.push({parentId:c,nextId:u,node:d}),t.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const a of this.movedSet)zc(this.removes,a,this.mirror)&&!this.movedSet.has(a.parentNode)||i(a);for(const a of this.addedSet)!jc(this.droppedSet,a)&&!zc(this.removes,a,this.mirror)||jc(this.movedSet,a)?i(a):this.droppedSet.add(a);let o=null;for(;n.length;){let a=null;if(o){const c=this.mirror.getId(o.value.parentNode),u=r(o.value);c!==-1&&u!==-1&&(a=o)}if(!a){let c=n.tail;for(;c;){const u=c;if(c=c.previous,u){const d=this.mirror.getId(u.value.parentNode);if(r(u.value)===-1)continue;if(d!==-1){a=u;break}else{const l=u.value;if(l.parentNode&&l.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const f=l.parentNode.host;if(this.mirror.getId(f)!==-1){a=u;break}}}}}}if(!a){for(;n.head;)n.removeNode(n.head.value);break}o=a.previous,n.removeNode(a.value),i(a.value)}const s={texts:this.texts.map(a=>({id:this.mirror.getId(a.node),value:a.value})).filter(a=>!t.has(a.id)).filter(a=>this.mirror.has(a.id)),attributes:this.attributes.map(a=>{const{attributes:c}=a;if(typeof c.style=="string"){const u=JSON.stringify(a.styleDiff),d=JSON.stringify(a._unchangedStyles);u.length<c.style.length&&(u+d).split("var(").length===c.style.split("var(").length&&(c.style=a.styleDiff)}return{id:this.mirror.getId(a.node),attributes:c}}).filter(a=>!t.has(a.id)).filter(a=>this.mirror.has(a.id)),removes:this.removes,adds:e};!s.texts.length&&!s.attributes.length&&!s.removes.length&&!s.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))},this.processMutation=e=>{if(!uo(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;!Le(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&t!==e.oldValue&&this.texts.push({value:bn(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,Wd(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const t=e.target;let n=e.attributeName,r=e.target.getAttribute(n);if(n==="value"){const o=Ys(t),s=t.tagName;r=mi(t,s,o);const a=Pi({maskInputOptions:this.maskInputOptions,tagName:s,type:o});r=jn({isMasked:bn(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,a),element:t,value:r,maskInputFn:this.maskInputFn})}if(Le(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===e.oldValue)return;let i=this.attributeMap.get(e.target);if(t.tagName==="IFRAME"&&n==="src"&&!this.keepIframeSrcFn(r))if(!Zs(t))n="rr_src";else return;if(i||(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e.target,i)),n==="type"&&t.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&t.setAttribute("data-rr-is-password","true"),!Pd(t.tagName,n)&&(i.attributes[n]=Dd(this.doc,Sn(t.tagName),Sn(n),r,t,this.maskAttributeFn),n==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");e.oldValue&&o.setAttribute("style",e.oldValue);for(const s of Array.from(t.style)){const a=t.style.getPropertyValue(s),c=t.style.getPropertyPriority(s);a!==o.style.getPropertyValue(s)||c!==o.style.getPropertyPriority(s)?c===""?i.styleDiff[s]=a:i.styleDiff[s]=[a,c]:i._unchangedStyles[s]=[a,c]}for(const s of Array.from(o.style))t.style.getPropertyValue(s)===""&&(i.styleDiff[s]=!1)}break}case"childList":if(Le(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{const n=this.mirror.getId(t),r=Pn(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);Le(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||uo(t,this.mirror)||!SE(t,this.mirror)||(this.addedSet.has(t)?(Qo(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&n===-1||zd(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[Wc(n,r)]?Qo(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:Pn(e.target)&&Fn(e.target)?!0:void 0})),this.mapRemoves.push(t))});break}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(uo(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&n!==-1&&(this.movedMap[Wc(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);Le(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes&&e.childNodes.forEach(n=>this.genAdds(n)),Zo(e)&&e.shadowRoot.childNodes.forEach(n=>{this.processedNodeManager.add(n,this),this.genAdds(n,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function Qo(e,t){e.delete(t),t.childNodes?.forEach(n=>Qo(e,n))}function zc(e,t,n){return e.length===0?!1:ME(e,t,n)}function ME(e,t,n){let r=t.parentNode;for(;r;){const i=n.getId(r);if(e.some(o=>o.id===i))return!0;r=r.parentNode}return!1}function jc(e,t){return e.size===0?!1:Vd(e,t)}function Vd(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:Vd(e,n):!1}var Bn;function AE(e){Bn=e}function NE(){Bn=void 0}var Q=e=>Bn?(...n)=>{try{return e(...n)}catch(r){if(Bn&&Bn(r)===!0)return()=>{};throw r}}:e,on=[];function fr(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Yd(e,t){const n=new xE;on.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const i=window?.Zone?.__symbol__?.("MutationObserver");i&&window[i]&&(r=window[i]);const o=new r(Q(s=>{e.onMutation&&e.onMutation(s)===!1||n.processMutations.bind(n)(s)}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function OE({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const i=typeof t.mousemove=="number"?t.mousemove:50,o=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let s=[],a;const c=$n(Q(l=>{const f=Date.now()-a;e(s.map(p=>(p.timeOffset-=f,p)),l),s=[],a=null}),o),u=Q($n(Q(l=>{const f=fr(l),{clientX:p,clientY:h}=Jo(l)?l.changedTouches[0]:l;a||(a=_i()),s.push({x:p,y:h,id:r.getId(f),timeOffset:_i()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?U.Drag:l instanceof MouseEvent?U.MouseMove:U.TouchMove)}),i,{trailing:!1})),d=[we("mousemove",u,n),we("touchmove",u,n),we("drag",u,n)];return Q(()=>{d.forEach(l=>l())})}function LE({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:s}){if(s.mouseInteraction===!1)return()=>{};const a=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,c=[];let u=null;const d=l=>f=>{const p=fr(f);if(Le(p,r,i,o,!0))return;let h=null,m=l;if("pointerType"in f){switch(f.pointerType){case"mouse":h=tt.Mouse;break;case"touch":h=tt.Touch;break;case"pen":h=tt.Pen;break}h===tt.Touch?Ee[l]===Ee.MouseDown?m="TouchStart":Ee[l]===Ee.MouseUp&&(m="TouchEnd"):tt.Pen}else Jo(f)&&(h=tt.Touch);h!==null?(u=h,(m.startsWith("Touch")&&h===tt.Touch||m.startsWith("Mouse")&&h===tt.Mouse)&&(h=null)):Ee[l]===Ee.Click&&(h=u,u=null);const v=Jo(f)?f.changedTouches[0]:f;if(!v)return;const _=n.getId(p),{clientX:b,clientY:C}=v;Q(e)({type:Ee[m],id:_,x:b,y:C,...h!==null&&{pointerType:h}})};return Object.keys(Ee).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=Sn(l);const p=d(l);if(window.PointerEvent)switch(Ee[l]){case Ee.MouseDown:case Ee.MouseUp:f=f.replace("mouse","pointer");break;case Ee.TouchStart:case Ee.TouchEnd:return}c.push(we(f,p,t))}),Q(()=>{c.forEach(l=>l())})}function Kd({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:s}){return we("scroll",Q($n(Q(a=>{const c=fr(a);if(!c||Le(c,r,i,o,!0))return;const u=n.getId(c);if(c===t&&t.defaultView){const d=Bd(t.defaultView);e({id:u,x:d.left,y:d.top})}else e({id:u,x:c.scrollLeft,y:c.scrollTop})}),s.scroll||100)),t)}function DE({viewportResizeCb:e},{win:t}){let n=-1,r=-1;return we("resize",Q($n(Q(()=>{const i=Ud(),o=Hd();(n!==i||r!==o)&&(e({width:Number(o),height:Number(i)}),n=i,r=o)}),200)),t)}var PE=["INPUT","TEXTAREA","SELECT"],qc=new WeakMap;function FE({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,ignoreClass:s,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:m}){function v(y){let w=fr(y);const H=y.isTrusted,S=w&&Ko(w.tagName);if(S==="OPTION"&&(w=w.parentElement),!w||!S||PE.indexOf(S)<0||Le(w,r,i,o,!0))return;const k=w;if(k.classList.contains(s)||a&&k.matches(a))return;const O=Ys(w);let T=mi(k,S,O),M=!1;const K=Pi({maskInputOptions:c,tagName:S,type:O}),A=bn(w,f,h,p,m,K);(O==="radio"||O==="checkbox")&&(M=w.checked),T=jn({isMasked:A,element:w,value:T,maskInputFn:u}),_(w,l?{text:T,isChecked:M,userTriggered:H}:{text:T,isChecked:M});const q=w.name;O==="radio"&&q&&M&&t.querySelectorAll(`input[type="radio"][name="${q}"]`).forEach(E=>{if(E!==w){const Z=jn({isMasked:A,element:E,value:mi(E,S,O),maskInputFn:u});_(E,l?{text:Z,isChecked:!M,userTriggered:!1}:{text:Z,isChecked:!M})}})}function _(y,w){const H=qc.get(y);if(!H||H.text!==w.text||H.isChecked!==w.isChecked){qc.set(y,w);const S=n.getId(y);Q(e)({...w,id:S})}}const b=(d.input==="last"?["change"]:["input","change"]).map(y=>we(y,Q(v),t)),C=t.defaultView;if(!C)return()=>{b.forEach(y=>y())};const R=C.Object.getOwnPropertyDescriptor(C.HTMLInputElement.prototype,"value"),N=[[C.HTMLInputElement.prototype,"value"],[C.HTMLInputElement.prototype,"checked"],[C.HTMLSelectElement.prototype,"value"],[C.HTMLTextAreaElement.prototype,"value"],[C.HTMLSelectElement.prototype,"selectedIndex"],[C.HTMLOptionElement.prototype,"selected"]];return R&&R.set&&b.push(...N.map(y=>Fd(y[0],y[1],{set(){Q(v)({target:this,isTrusted:!1})}},!1,C))),Q(()=>{b.forEach(y=>y())})}function yi(e){const t=[];function n(r,i){if(xr("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||xr("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||xr("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||xr("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);i.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);i.unshift(o)}return i}return n(e,t)}function vt(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function BE({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:Q((d,l,f)=>{const[p,h]=f,{id:m,styleId:v}=vt(l,t,n.styleMirror);return(m&&m!==-1||v&&v!==-1)&&e({id:m,styleId:v,adds:[{rule:p,index:h}]}),d.apply(l,f)})});const o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:Q((d,l,f)=>{const[p]=f,{id:h,styleId:m}=vt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,removes:[{index:p}]}),d.apply(l,f)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:Q((d,l,f)=>{const[p]=f,{id:h,styleId:m}=vt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replace:p}),d.apply(l,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:Q((d,l,f)=>{const[p]=f,{id:h,styleId:m}=vt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replaceSync:p}),d.apply(l,f)})}));const c={};Mr("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Mr("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Mr("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Mr("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:Q((f,p,h)=>{const[m,v]=h,{id:_,styleId:b}=vt(p.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||b&&b!==-1)&&e({id:_,styleId:b,adds:[{rule:m,index:[...yi(p),v||0]}]}),f.apply(p,h)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:Q((f,p,h)=>{const[m]=h,{id:v,styleId:_}=vt(p.parentStyleSheet,t,n.styleMirror);return(v&&v!==-1||_&&_!==-1)&&e({id:v,styleId:_,removes:[{index:[...yi(p),m]}]}),f.apply(p,h)})})}),Q(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=o,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function Xd({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const i=n.nodeName==="#document"?n.defaultView?.Document:n.ownerDocument?.defaultView?.ShadowRoot,o=i?.prototype?Object.getOwnPropertyDescriptor(i?.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!i||!o?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return o.get?.call(this)},set(s){const a=o.set?.call(this,s);if(r!==null&&r!==-1)try{t.adoptStyleSheets(s,r)}catch{}return a}}),Q(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))}function UE({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const o=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:Q((a,c,u)=>{const[d,l,f]=u;if(n.has(d))return o.apply(c,[d,l,f]);const{id:p,styleId:h}=vt(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(p&&p!==-1||h&&h!==-1)&&e({id:p,styleId:h,set:{property:d,value:l,priority:f},index:yi(c.parentRule)}),a.apply(c,u)})});const s=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:Q((a,c,u)=>{const[d]=u;if(n.has(d))return s.apply(c,[d]);const{id:l,styleId:f}=vt(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(l&&l!==-1||f&&f!==-1)&&e({id:l,styleId:f,remove:{property:d},index:yi(c.parentRule)}),a.apply(c,u)})}),Q(()=>{i.CSSStyleDeclaration.prototype.setProperty=o,i.CSSStyleDeclaration.prototype.removeProperty=s})}function HE({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:o,doc:s}){const a=Q(u=>$n(Q(d=>{const l=fr(d);if(!l||Le(l,t,n,r,!0))return;const{currentTime:f,volume:p,muted:h,playbackRate:m}=l;e({type:u,id:i.getId(l),currentTime:f,volume:p,muted:h,playbackRate:m})}),o.media||500)),c=[we("play",a(Qt.Play),s),we("pause",a(Qt.Pause),s),we("seeked",a(Qt.Seeked),s),we("volumechange",a(Qt.VolumeChange),s),we("ratechange",a(Qt.RateChange),s)];return Q(()=>{c.forEach(u=>u())})}function WE({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,o=n.FontFace;n.FontFace=function(c,u,d){const l=new o(c,u,d);return i.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};const s=Xs(t.fonts,"add",function(a){return function(c){return Bi(Q(()=>{const u=i.get(c);u&&(e(u),i.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=o}),r.push(s),Q(()=>{r.forEach(a=>a())})}function zE(e){const{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,selectionCb:s}=e;let a=!0;const c=Q(()=>{const u=t.getSelection();if(!u||a&&u?.isCollapsed)return;a=u.isCollapsed||!1;const d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){const{startContainer:p,startOffset:h,endContainer:m,endOffset:v}=u.getRangeAt(f);Le(p,r,i,o,!0)||Le(m,r,i,o,!0)||d.push({start:n.getId(p),startOffset:h,end:n.getId(m),endOffset:v})}s({ranges:d})});return c(),we("selectionchange",c)}function jE({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Xs(n.customElements,"define",function(r){return function(i,o,s){try{t({define:{name:i}})}catch{}return r.apply(this,[i,o,s])}})}function qE(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Yd(e,e.doc));const i=OE(e),o=LE(e),s=Kd(e),a=DE(e,{win:n}),c=FE(e),u=HE(e);let d=()=>{},l=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(d=BE(e,{win:n}),l=Xd(e,e.doc),f=UE(e,{win:n}),e.collectFonts&&(p=WE(e)));const h=zE(e),m=jE(e),v=[];for(const _ of e.plugins)v.push(_.observer(_.callback,n,_.options));return Q(()=>{on.forEach(_=>_.reset()),r?.disconnect(),i(),o(),s(),a(),c(),u(),d(),l(),f(),p(),h(),m(),v.forEach(_=>_())})}function xr(e){return typeof window[e]<"u"}function Mr(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var es=class{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const i=n||this.getIdToRemoteIdMap(e),o=r||this.getRemoteIdToIdMap(e);let s=i.get(t);return s||(s=this.generateIdFn(),i.set(t,s),o.set(s,t)),s}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map(i=>this.getId(e,i,n,r))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);if(typeof t!="number")return t;const i=r.get(t);return i||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map(r=>this.getRemoteId(e,r,n))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}},$E=class{constructor(){this.crossOriginIframeMirror=new es(Ks),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},GE=class{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new es(Ks),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new es(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&e.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(e);const n=Zs(e);n&&n.adoptedStyleSheets&&n.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(n.adoptedStyleSheets,this.mirror.getId(n))}handleMessage(e){const t=e;if(t.data.type!=="rrweb"||t.origin!==t.data.origin||!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case G.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:G.IncrementalSnapshot,data:{source:U.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case G.Meta:case G.Load:case G.DomContentLoaded:return!1;case G.Plugin:return t;case G.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case G.IncrementalSnapshot:switch(t.data.source){case U.Mutation:return t.data.adds.forEach(n=>{this.replaceIds(n,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(n.node,e);const r=this.crossOriginIframeRootIdMap.get(e);r&&this.patchRootIdOnNode(n.node,r)}),t.data.removes.forEach(n=>{this.replaceIds(n,e,["parentId","id"])}),t.data.attributes.forEach(n=>{this.replaceIds(n,e,["id"])}),t.data.texts.forEach(n=>{this.replaceIds(n,e,["id"])}),t;case U.Drag:case U.TouchMove:case U.MouseMove:return t.data.positions.forEach(n=>{this.replaceIds(n,e,["id"])}),t;case U.ViewportResize:return!1;case U.MediaInteraction:case U.MouseInteraction:case U.Scroll:case U.CanvasMutation:case U.Input:return this.replaceIds(t.data,e,["id"]),t;case U.StyleSheetRule:case U.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case U.Font:return t;case U.Selection:return t.data.ranges.forEach(n=>{this.replaceIds(n,e,["start","end"])}),t;case U.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),t.data.styles?.forEach(n=>{this.replaceStyleIds(n,e,["styleId"])}),t}}return!1}replace(e,t,n,r){for(const i of r)!Array.isArray(t[i])&&typeof t[i]!="number"||(Array.isArray(t[i])?t[i]=e.getIds(n,t[i]):t[i]=e.getId(n,t[i]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(n=>{this.replaceIdOnNode(n,t)})}patchRootIdOnNode(e,t){e.type!==me.Document&&!e.rootId&&(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(n=>{this.patchRootIdOnNode(n,t)})}},VE=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},YE=class{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!Fn(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);const n=Yd({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(Kd({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),Bi(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(Xd({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){const t=Zs(e),n=CE(e);!t||!n||this.patchAttachShadow(n.Element,t)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(Xs(e.prototype,"attachShadow",function(r){return function(i){const o=r.call(this,i);return this.shadowRoot&&Gd(this)&&n.addShadowRoot(this.shadowRoot,t),o}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}},$c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",KE=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ar=0;Ar<$c.length;Ar++)KE[$c.charCodeAt(Ar)]=Ar;var Gc=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}},XE=class{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new EE,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(e.length===0)return;const n={id:t,styleIds:[]},r=[];for(const i of e){let o;this.styleMirror.has(i)?o=this.styleMirror.getId(i):(o=this.styleMirror.add(i),r.push({styleId:o,rules:Array.from(i.rules||CSSRule,(s,a)=>({rule:xd(s),index:a}))})),n.styleIds.push(o)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}},JE=class{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some(r=>r!==t)}add(e,t){this.active||(this.active=!0,IE(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}},pe,vi;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}var He=Xb();function rt(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:o=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:h=!0,maskAllInputs:m,maskInputOptions:v,slimDOMOptions:_,maskAttributeFn:b,maskInputFn:C,maskTextFn:R,maxCanvasSize:N=null,packFn:y,sampling:w={},dataURLOptions:H={},mousemoveWait:S,recordDOM:k=!0,recordCanvas:O=!1,recordCrossOriginIframes:T=!1,recordAfter:M=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:K=!1,collectFonts:A=!1,inlineImages:q=!1,plugins:E,keepIframeSrcFn:Z=()=>!1,ignoreCSSAttributes:L=new Set([]),errorHandler:$,onMutation:ae,getCanvasManager:fe}=e;AE($);const Me=T?window.parent===window:!0;let Ae=!1;if(!Me)try{window.parent.document&&(Ae=!1)}catch{Ae=!0}if(Me&&!t)throw new Error("emit function is required");if(!Me&&!Ae)return()=>{};S!==void 0&&w.mousemove===void 0&&(w.mousemove=S),He.reset();const mt=m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:v!==void 0?v:{},Mt=_===!0||_==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:_==="all",headMetaDescKeywords:_==="all"}:_||{};bE();let Ze,Ue=0;const gt=X=>{for(const Ne of E||[])Ne.eventProcessor&&(X=Ne.eventProcessor(X));return y&&!Ae&&(X=y(X)),X};pe=(X,Ne)=>{const J=X;if(J.timestamp=_i(),on[0]?.isFrozen()&&J.type!==G.FullSnapshot&&!(J.type===G.IncrementalSnapshot&&J.data.source===U.Mutation)&&on.forEach(Se=>Se.unfreeze()),Me)t?.(gt(J),Ne);else if(Ae){const Se={type:"rrweb",event:gt(J),origin:window.location.origin,isCheckout:Ne};window.parent.postMessage(Se,"*")}if(J.type===G.FullSnapshot)Ze=J,Ue=0;else if(J.type===G.IncrementalSnapshot){if(J.data.source===U.Mutation&&J.data.isAttachIframe)return;Ue++;const Se=r&&Ue>=r,ee=n&&Ze&&J.timestamp-Ze.timestamp>n;(Se||ee)&&Qe(!0)}};const _t=X=>{pe({type:G.IncrementalSnapshot,data:{source:U.Mutation,...X}})},xn=X=>pe({type:G.IncrementalSnapshot,data:{source:U.Scroll,...X}}),hr=X=>pe({type:G.IncrementalSnapshot,data:{source:U.CanvasMutation,...X}}),Mn=X=>pe({type:G.IncrementalSnapshot,data:{source:U.AdoptedStyleSheet,...X}}),te=new XE({mutationCb:_t,adoptedStyleSheetCb:Mn}),le=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new $E:new GE({mirror:He,mutationCb:_t,stylesheetManager:te,recordCrossOriginIframes:T,wrappedEmit:pe});for(const X of E||[])X.getMirror&&X.getMirror({nodeMirror:He,crossOriginIframeMirror:le.crossOriginIframeMirror,crossOriginIframeStyleMirror:le.crossOriginIframeStyleMirror});const Pe=new JE,ve=QE(fe,{mirror:He,win:window,mutationCb:X=>pe({type:G.IncrementalSnapshot,data:{source:U.CanvasMutation,...X}}),recordCanvas:O,blockClass:i,blockSelector:o,unblockSelector:s,maxCanvasSize:N,sampling:w.canvas,dataURLOptions:H,errorHandler:$}),be=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new VE:new YE({mutationCb:_t,scrollCb:xn,bypassOptions:{onMutation:ae,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:mt,dataURLOptions:H,maskAttributeFn:b,maskTextFn:R,maskInputFn:C,recordCanvas:O,inlineImages:q,sampling:w,slimDOMOptions:Mt,iframeManager:le,stylesheetManager:te,canvasManager:ve,keepIframeSrcFn:Z,processedNodeManager:Pe},mirror:He}),Qe=(X=!1)=>{if(!k)return;pe({type:G.Meta,data:{href:window.location.href,width:Hd(),height:Ud()}},X),te.reset(),be.init(),on.forEach(J=>J.lock());const Ne=vE(document,{mirror:He,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskAllInputs:mt,maskAttributeFn:b,maskInputFn:C,maskTextFn:R,slimDOM:Mt,dataURLOptions:H,recordCanvas:O,inlineImages:q,onSerialize:J=>{jd(J,He)&&le.addIframe(J),qd(J,He)&&te.trackLinkElement(J),Zo(J)&&be.addShadowRoot(J.shadowRoot,document)},onIframeLoad:(J,Se)=>{le.attachIframe(J,Se),J.contentWindow&&ve.addWindow(J.contentWindow),be.observeAttachShadow(J)},onStylesheetLoad:(J,Se)=>{te.attachLinkElement(J,Se)},onBlockedImageLoad:(J,Se,{width:ee,height:An})=>{_t({adds:[],removes:[],texts:[],attributes:[{id:Se.id,attributes:{style:{width:`${ee}px`,height:`${An}px`}}}]})},keepIframeSrcFn:Z});if(!Ne)return console.warn("Failed to snapshot the document");pe({type:G.FullSnapshot,data:{node:Ne,initialOffset:Bd(window)}}),on.forEach(J=>J.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&te.adoptStyleSheets(document.adoptedStyleSheets,He.getId(document))};vi=Qe;try{const X=[],Ne=Se=>Q(qE)({onMutation:ae,mutationCb:_t,mousemoveCb:(ee,An)=>pe({type:G.IncrementalSnapshot,data:{source:An,positions:ee}}),mouseInteractionCb:ee=>pe({type:G.IncrementalSnapshot,data:{source:U.MouseInteraction,...ee}}),scrollCb:xn,viewportResizeCb:ee=>pe({type:G.IncrementalSnapshot,data:{source:U.ViewportResize,...ee}}),inputCb:ee=>pe({type:G.IncrementalSnapshot,data:{source:U.Input,...ee}}),mediaInteractionCb:ee=>pe({type:G.IncrementalSnapshot,data:{source:U.MediaInteraction,...ee}}),styleSheetRuleCb:ee=>pe({type:G.IncrementalSnapshot,data:{source:U.StyleSheetRule,...ee}}),styleDeclarationCb:ee=>pe({type:G.IncrementalSnapshot,data:{source:U.StyleDeclaration,...ee}}),canvasMutationCb:hr,fontCb:ee=>pe({type:G.IncrementalSnapshot,data:{source:U.Font,...ee}}),selectionCb:ee=>{pe({type:G.IncrementalSnapshot,data:{source:U.Selection,...ee}})},customElementCb:ee=>{pe({type:G.IncrementalSnapshot,data:{source:U.CustomElement,...ee}})},blockClass:i,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:mt,inlineStylesheet:h,sampling:w,recordDOM:k,recordCanvas:O,inlineImages:q,userTriggeredOnInput:K,collectFonts:A,doc:Se,maskAttributeFn:b,maskInputFn:C,maskTextFn:R,keepIframeSrcFn:Z,blockSelector:o,unblockSelector:s,slimDOMOptions:Mt,dataURLOptions:H,mirror:He,iframeManager:le,stylesheetManager:te,shadowDomManager:be,processedNodeManager:Pe,canvasManager:ve,ignoreCSSAttributes:L,plugins:E?.filter(ee=>ee.observer)?.map(ee=>({observer:ee.observer,options:ee.options,callback:An=>pe({type:G.Plugin,data:{plugin:ee.name,payload:An}})}))||[]},{});le.addLoadListener(Se=>{try{X.push(Ne(Se.contentDocument))}catch(ee){console.warn(ee)}});const J=()=>{Qe(),X.push(Ne(document))};return document.readyState==="interactive"||document.readyState==="complete"?J():(X.push(we("DOMContentLoaded",()=>{pe({type:G.DomContentLoaded,data:{}}),M==="DOMContentLoaded"&&J()})),X.push(we("load",()=>{pe({type:G.Load,data:{}}),M==="load"&&J()},window))),()=>{X.forEach(Se=>Se()),Pe.destroy(),vi=void 0,NE()}}catch(X){console.warn(X)}}function ZE(e){if(!vi)throw new Error("please take full snapshot after start recording");vi(e)}rt.mirror=He;rt.takeFullSnapshot=ZE;function QE(e,t){try{return e?e(t):new Gc}catch{return console.warn("Unable to initialize CanvasManager"),new Gc}}var Vc;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Vc||(Vc={}));var e0=3,t0=5;function Qs(e){return e>9999999999?e:e*1e3}function lo(e){return e>9999999999?e/1e3:e}function pr(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:G.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Oe(t,10,1e3)}}),t.category==="console")))}var n0="button,a";function Jd(e){return e.closest(n0)||e}function Zd(e){const t=Qd(e);return!t||!(t instanceof Element)?t:Jd(t)}function Qd(e){return r0(e)?e.target:e}function r0(e){return typeof e=="object"&&!!e&&"target"in e}var St;function i0(e){return St||(St=[],o0()),St.push(e),()=>{const t=St?St.indexOf(e):-1;t>-1&&St.splice(t,1)}}function o0(){Te(se,"open",function(e){return function(...t){if(St)try{St.forEach(n=>n())}catch{}return e.apply(se,t)}})}var s0=new Set([U.Mutation,U.StyleSheetRule,U.StyleDeclaration,U.AdoptedStyleSheet,U.CanvasMutation,U.Selection,U.MediaInteraction]);function a0(e,t,n){e.handleClick(t,n)}var c0=class{constructor(e,t,n=pr){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scrollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const e=i0(()=>{this._lastMutation=Yc()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(l0(t,this._ignoreSelector)||!d0(e))return;const n={timestamp:lo(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some(r=>r.node===n.node&&Math.abs(r.timestamp-n.timestamp)<1)||(this._clicks.push(n),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=lo(e)}registerScroll(e=Date.now()){this._lastScroll=lo(e)}registerClick(e){const t=Jd(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach(t=>{t.clickCount++})}_getClicks(e){return this._clicks.filter(t=>t.node===e)}_checkClicks(){const e=[],t=Yc();this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)});for(const n of e){const r=this._clicks.indexOf(n);r>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(r,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,i=!n&&!r,{clickCount:o,clickBreadcrumb:s}=e;if(i){const a=Math.min(e.mutationAfter||this._timeout,this._timeout)*1e3,c=a<this._timeout*1e3?"mutation":"timeout",u={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.slowClickDetected",data:{...s.data,url:se.location.href,route:t.getCurrentRoute(),timeAfterClickMs:a,endReason:c,clickCount:o||1}};this._addBreadcrumbEvent(t,u);return}if(o>1){const a={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.multiClick",data:{...s.data,url:se.location.href,route:t.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(t,a)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=dr(()=>this._checkClicks(),1e3)}},u0=["A","BUTTON","INPUT"];function l0(e,t){return!!(!u0.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function d0(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Yc(){return Date.now()/1e3}function f0(e,t){try{if(!p0(t))return;const{source:n}=t.data;if(s0.has(n)&&e.registerMutation(t.timestamp),n===U.Scroll&&e.registerScroll(t.timestamp),h0(t)){const{type:r,id:i}=t.data,o=rt.mirror.getNode(i);o instanceof HTMLElement&&r===Ee.Click&&e.registerClick(o)}}catch{}}function p0(e){return e.type===e0}function h0(e){return e.data.source===U.MouseInteraction}function Ke(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var ea=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(ea||{}),m0=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function g0(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(m0.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var _0=e=>t=>{if(!e.isEnabled())return;const n=y0(t);if(!n)return;const r=t.name==="click",i=r?t.event:void 0;r&&e.clickDetector&&i?.target&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&a0(e.clickDetector,n,Zd(t.event)),pr(e,n)};function ef(e,t){const n=rt.mirror.getId(e),r=n&&rt.mirror.getNode(n),i=r&&rt.mirror.getMeta(r),o=i&&S0(i)?i:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(s=>s.type===ea.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:g0(o.attributes)}}:{}}}function y0(e){const{target:t,message:n}=v0(e);return Ke({category:`ui.${e.name}`,...ef(t,n)})}function v0(e){const t=e.name==="click";let n,r=null;try{r=t?Zd(e.event):Qd(e.event),n=Be(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function S0(e){return e.type===ea.Element}function b0(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=E0(t);n&&pr(e,n)}function E0(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:o,target:s}=e;if(!s||w0(s)||!o)return null;const a=t||r||i,c=o.length===1;if(!a&&c)return null;const u=Be(s,{maxStringLength:200})||"<unknown>";return Ke({category:"ui.keyDown",message:u,data:{...ef(s,u).data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:o}})}function w0(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var T0={resource:x0,paint:C0,navigation:R0};function fo(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function I0(e){return e.map(k0).filter(Boolean)}function k0(e){const t=T0[e.entryType];return t?t(e):null}function En(e){return((Ce()||se.performance.timeOrigin)+e)/1e3}function C0(e){const{duration:t,entryType:n,name:r,startTime:i}=e,o=En(i);return{type:n,name:r,start:o,end:o+t,data:void 0}}function R0(e){const{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:o,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:p,transferSize:h,type:m}=e;return i===0?null:{type:`${t}.${m}`,start:En(p),end:En(o),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:s,duration:i,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:o,redirectCount:f}}}function x0(e){const{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:o,decodedBodySize:s,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:En(o),end:En(i),name:r,data:{size:u,statusCode:c,decodedBodySize:s,encodedBodySize:a}}}function M0(e){const t=e.entries[e.entries.length-1];return ta(e,"largest-contentful-paint",t?.element?[t.element]:void 0)}function A0(e){return e.sources!==void 0}function N0(e){const t=[],n=[];for(const r of e.entries)if(A0(r)){const i=[];for(const o of r.sources)if(o.node){n.push(o.node);const s=rt.mirror.getId(o.node);s&&i.push(s)}t.push({value:r.value,nodeIds:i.length?i:void 0})}return ta(e,"cumulative-layout-shift",n,t)}function O0(e){const t=e.entries[e.entries.length-1];return ta(e,"interaction-to-next-paint",t?.target?[t.target]:void 0)}function ta(e,t,n,r){const i=e.value,o=e.rating,s=En(i);return{type:"web-vital",name:t,start:s,end:s,data:{value:i,size:i,rating:o,nodeIds:n?n.map(a=>rt.mirror.getId(a)):void 0,attributions:r}}}function L0(e){function t(i){e.performanceEntries.includes(i)||e.performanceEntries.push(i)}function n({entries:i}){i.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(i=>{r.push(qt(i,n))}),r.push(Hs(fo(M0,e)),Us(fo(N0,e)),ld(fo(O0,e))),()=>{r.forEach(i=>i())}}var P=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,D0='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function P0(){const e=new Blob([D0]);return URL.createObjectURL(e)}var Kc=["log","warn","error"],Kr="[Replay] ";function po(e,t="info"){Xe({category:"console",data:{logger:"replay"},level:t,message:`${Kr}${e}`},{level:t})}function F0(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return P?(Kc.forEach(r=>{n[r]=(...i)=>{g[r](Kr,...i),t&&po(i.join(""),Ts(r))}}),n.exception=(r,...i)=>{i.length&&n.error&&n.error(...i),g.error(Kr,r),e?It(r):t&&po(r,"error")},n.infoTick=(...r)=>{g.log(Kr,...r),t&&setTimeout(()=>po(r[0]),0)}):Kc.forEach(r=>{n[r]=()=>{}}),n}var F=F0(),na=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Vs}.`)}},tf=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>Vs)throw new na;this.events.push(e)}finish(){return new Promise(e=>{const t=this.events;this.clear(),e(JSON.stringify(t))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map(t=>t.timestamp).sort()[0];return e?Qs(e):null}},B0=class{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,t)=>{this._worker.addEventListener("message",({data:n})=>{n.success?e():t()},{once:!0}),this._worker.addEventListener("error",n=>{t(n)},{once:!0})}),this._ensureReadyPromise)}destroy(){P&&F.log("Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise((r,i)=>{const o=({data:s})=>{const a=s;if(a.method===e&&a.id===n){if(this._worker.removeEventListener("message",o),!a.success){P&&F.error("Error in compression worker: ",a.response),i(new Error("Error in compression worker"));return}r(a.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:n,method:e,arg:t})})}_getAndIncrementId(){return this._id++}},U0=class{constructor(e){this._worker=new B0(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const t=Qs(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);const n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>Vs?Promise.reject(new na):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{P&&F.exception(e,'Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}},H0=class{constructor(e){this._fallback=new tf,this._compression=new U0(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){P&&F.exception(e,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:t,waitForCheckout:n}=this._fallback,r=[];for(const i of e)r.push(this._compression.addEvent(i));this._compression.hasCheckout=t,this._compression.waitForCheckout=n,this._used=this._compression;try{await Promise.all(r),this._fallback.clear()}catch(i){P&&F.exception(i,"Failed to add events when switching buffers.")}}};function W0({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=z0(t);if(n)return n}return P&&F.log("Using simple buffer"),new tf}function z0(e){try{const t=e||j0();return t?(P&&F.log(`Using compression worker${e?` from ${e}`:""}`),new H0(new Worker(t))):void 0}catch(t){P&&F.exception(t,"Failed to create compression worker")}}function j0(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?P0():""}function ra(){try{return"sessionStorage"in se&&!!se.sessionStorage}catch{return!1}}function q0(e){$0(),e.session=void 0}function $0(){if(ra())try{se.sessionStorage.removeItem($s)}catch{}}function nf(e){return e===void 0?!1:Math.random()<e}function ia(e){if(ra())try{se.sessionStorage.setItem($s,JSON.stringify(e))}catch{}}function rf(e){const t=Date.now();return{id:e.id||Ie(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function G0(e,t){return nf(e)?"session":t?"buffer":!1}function Xc({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const i=rf({sampled:G0(e,t),previousSessionId:r});return n&&ia(i),i}function V0(){if(!ra())return null;try{const e=se.sessionStorage.getItem($s);if(!e)return null;const t=JSON.parse(e);return P&&F.infoTick("Loading existing session"),rf(t)}catch{return null}}function ts(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function of(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return ts(e.started,t,r)||ts(e.lastActivity,n,r)}function sf(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!of(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function ho({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const i=r.stickySession&&V0();return i?sf(i,{sessionIdleExpire:e,maxReplayDuration:t})?(P&&F.infoTick("Session in sessionStorage is expired, creating new one..."),Xc(r,{previousSessionId:i.id})):i:(P&&F.infoTick("Creating new session"),Xc(r,{previousSessionId:n}))}function Y0(e){return e.type===G.Custom}function oa(e,t,n){return cf(e,t)?(af(e,t,n),!0):!1}function K0(e,t,n){return cf(e,t)?af(e,t,n):Promise.resolve(null)}async function af(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const i=e.recordingMode==="buffer";try{n&&i&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const o=X0(t,e.getOptions().beforeAddRecordingEvent);return o?await r.addEvent(o):void 0}catch(o){const s=o&&o instanceof na,a=s?"addEventSizeExceeded":"addEvent";if(s&&i)return r.clear(),r.waitForCheckout=!0,null;e.handleException(o),await e.stop({reason:a});const c=x();c&&c.recordDroppedEvent("internal_sdk_error","replay")}}function cf(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Qs(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(P&&F.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function X0(e,t){try{if(typeof t=="function"&&Y0(e))return t(e)}catch(n){return P&&F.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function sa(e){return!e.type}function ns(e){return e.type==="transaction"}function J0(e){return e.type==="replay_event"}function Jc(e){return e.type==="feedback"}function Z0(e){return(t,n)=>{if(!e.isEnabled()||!sa(t)&&!ns(t))return;const r=n?.statusCode;if(!(!r||r<200||r>=300)){if(ns(t)){Q0(e,t);return}ew(e,t)}}}function Q0(e,t){const n=e.getContext();t.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function ew(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||dr(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(i){e.handleException(i)}})}function tw(e){return t=>{!e.isEnabled()||!sa(t)||nw(e,t)}}function nw(e,t){const n=t.exception?.values?.[0]?.value;typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))&&pr(e,Ke({category:"replay.hydrate-error",data:{url:$t()}}))}function rw(e){const t=x();t&&t.on("beforeAddBreadcrumb",n=>iw(e,n))}function iw(e,t){if(!e.isEnabled()||!uf(t))return;const n=ow(t);n&&pr(e,n)}function ow(e){return!uf(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?sw(e):Ke(e)}function sw(e){const t=e.data?.arguments;if(!Array.isArray(t)||t.length===0)return Ke(e);let n=!1;const r=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>Rr?(n=!0,`${i.slice(0,Rr)}`):i;if(typeof i=="object")try{const o=Oe(i,7);return JSON.stringify(o).length>Rr?(n=!0,`${JSON.stringify(o,null,2).slice(0,Rr)}`):o}catch{}return i});return Ke({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function uf(e){return!!e.category}function aw(e,t){return e.type||!e.exception?.values?.length?!1:!!t.originalException?.__rrweb__}function lf(){const e=j().getPropagationContext().dsc;e&&delete e.replay_id;const t=ge();if(t){const n=Ge(t);delete n.replay_id}}function cw(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:G.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function uw(e,t){return e.recordingMode!=="buffer"||t.message===Gs||!t.exception||t.type?!1:nf(e.getOptions().errorSampleRate)}function lw(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:J0(t)?(delete t.breadcrumbs,t):!sa(t)&&!ns(t)&&!Jc(t)?t:e.checkAndHandleExpiredSession()?Jc(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),cw(e,t),t):aw(t,n)&&!e.getOptions()._experiments.captureExceptions?(P&&F.log("Ignoring error from rrweb internals",t),null):((uw(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(lf(),t),{id:"Replay"})}function Ui(e,t){return t.map(({type:n,start:r,end:i,name:o,data:s})=>{const a=e.throttledAddEvent({type:G.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:i,data:s}}});return typeof a=="string"?Promise.resolve(null):a})}function dw(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function fw(e){return t=>{if(!e.isEnabled())return;const n=dw(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Ui(e,[n]),!1)))}}function pw(e,t){return P&&e.getOptions()._experiments.traceInternals?!1:Rl(t,x())}function df(e,t){e.isEnabled()&&t!==null&&(pw(e,t.name)||e.addUpdate(()=>(Ui(e,[t]),!0)))}function Hi(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=_d(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function ff(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Si(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta};return n.warnings=[...n.warnings||[],t],e._meta=n,e}function pf(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:i,method:o,statusCode:s,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:{method:o,statusCode:s,request:a,response:c}}}function Gn(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function wt(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:i,warnings:o}=hw(n);return r.body=i,o?.length&&(r._meta={warnings:o}),r}function rs(e,t){return Object.entries(e).reduce((n,[r,i])=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=i),n},{})}function hw(e){if(!e||typeof e!="string")return{body:e};const t=e.length>Ac,n=mw(e);if(t){const r=e.slice(0,Ac);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function mw(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function bi(e,t){return qe(gw(e),t)}function gw(e,t=se.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(se.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function _w(e,t,n){try{const r=pf("resource.fetch",await vw(e,t,n));df(n.replay,r)}catch(r){P&&F.exception(r,"Failed to capture fetch breadcrumb")}}function yw(e,t){const{input:n,response:r}=t,i=Hi(n?qs(n):void 0),o=r?ff(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),o!==void 0&&(e.data.response_body_size=o)}async function vw(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r}=t,{url:s,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=bi(s,n.networkDetailAllowUrls)&&!bi(s,n.networkDetailDenyUrls);return{startTimestamp:i,endTimestamp:o,url:s,method:a,statusCode:c,request:l?Sw(n,t.input,u):Gn(u),response:await bw(l,n,t.response,d)}}function Sw({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const i=n?Tw(n,t):{};if(!e)return wt(i,r,void 0);const[o,s]=pi(qs(n),F),a=wt(i,r,o);return s?Si(a,s):a}async function bw(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,i){if(!e&&i!==void 0)return Gn(i);const o=r?hf(r.headers,n):{};if(!r||!t&&i!==void 0)return wt(o,i,void 0);const[s,a]=await ww(r),c=Ew(s,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:o});return a?Si(c,a):c}function Ew(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:i}){try{const o=e?.length&&n===void 0?Hi(e):n;return r?t?wt(i,o,e):wt(i,o,void 0):Gn(o)}catch(o){return P&&F.exception(o,"Failed to serialize response body"),wt(i,n,void 0)}}async function ww(e){const t=Iw(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await kw(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(P&&F.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(P&&F.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function hf(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function Tw(e,t){return e.length===1&&typeof e[0]!="string"?Zc(e[0],t):e.length===2?Zc(e[1],t):{}}function Zc(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?hf(n,t):Array.isArray(n)?{}:rs(n,t):{}}function Iw(e){try{return e.clone()}catch(t){P&&F.exception(t,"Failed to clone response body")}}function kw(e){return new Promise((t,n)=>{const r=dr(()=>n(new Error("Timeout while trying to read response body")),500);Cw(e).then(i=>t(i),i=>n(i)).finally(()=>clearTimeout(r))})}async function Cw(e){return await e.text()}async function Rw(e,t,n){try{const r=pf("resource.xhr",Mw(e,t,n));df(n.replay,r)}catch(r){P&&F.exception(r,"Failed to capture xhr breadcrumb")}}function xw(e,t){const{xhr:n,input:r}=t;if(!n)return;const i=Hi(r),o=n.getResponseHeader("content-length")?ff(n.getResponseHeader("content-length")):Lw(n.response,n.responseType);i!==void 0&&(e.data.request_body_size=i),o!==void 0&&(e.data.response_body_size=o)}function Mw(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r,input:s,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!c)return null;if(!a||!bi(c,n.networkDetailAllowUrls)||bi(c,n.networkDetailDenyUrls))return{startTimestamp:i,endTimestamp:o,url:c,method:u,statusCode:d,request:Gn(l),response:Gn(f)};const p=a[nt],h=p?rs(p.request_headers,n.networkRequestHeaders):{},m=rs(Aw(a),n.networkResponseHeaders),[v,_]=n.networkCaptureBodies?pi(s,F):[void 0],[b,C]=n.networkCaptureBodies?Nw(a):[void 0],R=wt(h,l,v),N=wt(m,f,b);return{startTimestamp:i,endTimestamp:o,url:c,method:u,statusCode:d,request:_?Si(R,_):R,response:C?Si(N,C):N}}function Aw(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[i,o]=r.split(": ");return o&&(n[i.toLowerCase()]=o),n},{}):{}}function Nw(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return Ow(e.response,e.responseType)}catch(n){t.push(n)}return P&&F.warn("Failed to get xhr response body",...t),[void 0]}function Ow(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return P&&F.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return P&&F.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Lw(e,t){try{return Hi(t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e)}catch{return}}function Dw(e){const t=x();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:s}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",(c,u)=>Pw(a,c,u))}catch{}}function Pw(e,t,n){if(t.data)try{Fw(t)&&Uw(n)&&(xw(t,n),Rw(t,n,e)),Bw(t)&&Hw(n)&&(yw(t,n),_w(t,n,e))}catch(r){P&&F.exception(r,"Error when enriching network breadcrumb")}}function Fw(e){return e.category==="xhr"}function Bw(e){return e.category==="fetch"}function Uw(e){return e?.xhr}function Hw(e){return e?.response}function Ww(e){const t=x();gd(_0(e)),Di(fw(e)),rw(e),Dw(e),Fh(lw(e)),t&&(t.on("beforeSendEvent",tw(e)),t.on("afterSendEvent",Z0(e)),t.on("createDsc",n=>{const r=e.getSessionId();r&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(n.replay_id=r)}),t.on("spanStart",n=>{e.lastActiveSpan=n}),t.on("spanEnd",n=>{e.lastActiveSpan=n}),t.on("beforeSendFeedback",async(n,r)=>{const i=e.getSessionId();r?.includeReplay&&e.isEnabled()&&i&&n.contexts?.feedback&&(n.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),n.contexts.feedback.replay_id=i)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function zw(e){try{return Promise.all(Ui(e,[jw(se.performance.memory)]))}catch{return[]}}function jw(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function qw(e,t,n){return Tm(e,t,{...n,setTimeoutImpl:dr})}var Nr=B.navigator;function $w(){return/iPhone|iPad|iPod/i.test(Nr?.userAgent??"")||/Macintosh/i.test(Nr?.userAgent??"")&&Nr?.maxTouchPoints&&Nr?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function Gw(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){P&&F.warn("Received replay event after session expired.");return}const i=r||!t;t=!0,e.clickDetector&&f0(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&i&&e.setInitialState(),!oa(e,n,i))return!0;if(!i)return!1;const o=e.session;if(Yw(e,i),e.recordingMode==="buffer"&&o&&e.eventBuffer){const s=e.eventBuffer.getEarliestTimestamp();s&&(P&&F.log(`Updating session start time to earliest event in buffer to ${new Date(s)}`),o.started=s,e.getOptions().stickySession&&ia(o))}return o?.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function Vw(e){const t=e.getOptions();return{type:G.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function Yw(e,t){!t||!e.session||e.session.segmentId!==0||oa(e,Vw(e),!1)}function Kw(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Xw(e,t,n,r){return ht(sl(e,ms(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function Jw({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function Zw({client:e,scope:t,replayId:n,event:r}){const i={event_id:n,integrations:typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0};e.emit("preprocessEvent",r,i);const o=await dl(e.getOptions(),r,i,t,e,ye());if(!o)return null;e.emit("postprocessEvent",o,i),o.platform=o.platform||"javascript";const{name:s,version:a,settings:c}=e.getSdkMetadata()?.sdk||{};return o.sdk={...o.sdk,name:s||"sentry.javascript.unknown",version:a||"0.0.0",settings:c},o}async function Qw({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:i,session:o}){const s=Jw({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=x(),f=j(),p=l?.getTransport(),h=l?.getDsn();if(!l||!p||!h||!o.sampled)return dt({});const m=await Zw({scope:f,client:l,replayId:t,event:{type:xb,replay_start_timestamp:d/1e3,timestamp:i/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:o.sampled}});if(!m)return l.recordDroppedEvent("event_processor","replay"),P&&F.log("An event processor returned `null`, will not send event."),dt({});delete m.sdkProcessingMetadata;const v=Xw(m,s,h,l.getOptions().tunnel);let _;try{_=await p.send(v)}catch(C){const R=new Error(Gs);try{R.cause=C}catch{}throw R}if(typeof _.statusCode=="number"&&(_.statusCode<200||_.statusCode>=300))throw new mf(_.statusCode);const b=Il({},_);if(Tl(b,"replay"))throw new aa(b);return _}var mf=class extends Error{constructor(e){super(`Transport returned status code ${e}`)}},aa=class extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}};async function gf(e,t={count:0,interval:Db}){const{recordingData:n,onError:r}=e;if(n.length)try{return await Qw(e),!0}catch(i){if(i instanceof mf||i instanceof aa)throw i;if(Lh("Replays",{_retryCount:t.count}),r&&r(i),t.count>=Pb){const o=new Error(`${Gs} - max retries exceeded`);try{o.cause=i}catch{}throw o}return t.interval*=++t.count,new Promise((o,s)=>{dr(async()=>{try{await gf(e,t),o(!0)}catch(a){s(a)}},t.interval)})}}var _f="__THROTTLED",eT="__SKIPPED";function tT(e,t,n){const r=new Map,i=a=>{const c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},o=()=>[...r.values()].reduce((a,c)=>a+c,0);let s=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(i(c),o()>=t){const d=s;return s=!0,d?eT:_f}s=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}var nT=class{constructor({options:e,recordingOptions:t}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:Mb,sessionIdleExpire:Ab},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=qw(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=tT((o,s)=>K0(this,o,s),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),i=n?{threshold:Math.min(Fb,n),timeout:n,scrollTimeout:Bb,ignoreSelector:r?r.join(","):""}:void 0;if(i&&(this.clickDetector=new c0(this,i)),P){const o=e._experiments;F.setConfig({captureExceptions:!!o.captureExceptions,traceInternals:!!o.traceInternals})}this._handleVisibilityChange=()=>{se.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const o=Ke({category:"ui.blur"});this._doChangeToBackgroundTasks(o)},this._handleWindowFocus=()=>{const o=Ke({category:"ui.focus"});this._doChangeToForegroundTasks(o)},this._handleKeyboardEvent=o=>{b0(this,o)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(e){P&&F.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){const{errorSampleRate:t,sessionSampleRate:n}=this._options,r=t<=0&&n<=0;if(this._requiresManualStart=r,!r){if(this._initializeSessionForSampling(e),!this.session){P&&F.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",P&&F.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){P&&F.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){P&&F.log("Buffering is in progress, call `flush()` to save the replay");return}P&&F.infoTick("Starting replay in session mode"),this._updateUserActivity(),this.session=ho({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1}),this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){P&&F.log("Buffering is in progress, call `flush()` to save the replay");return}P&&F.infoTick("Starting replay in buffer mode"),this.session=ho({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0}),this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=rt({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:Lb}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:Gw(this),...$w(),onMutation:this._onMutationHandler.bind(this),...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this.handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this.handleException(e),!1}}async stop({forceFlush:e=!1,reason:t}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{P&&F.log(`Stopping Replay${t?` triggered by ${t}`:""}`),lf(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,q0(this)}catch(n){this.handleException(n)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),P&&F.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),P&&F.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const t=Date.now();P&&F.log("Converting buffer to session"),await this.flushImmediate();const n=this.stopRecording();!e||!n||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const t=e();this.recordingMode==="buffer"||!this._isEnabled||t!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&ts(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const e=`${se.location.pathname}${se.location.hash}${se.location.search}`,t=`${se.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){const n=this._throttledAddEvent(e,t);if(n===_f){const r=Ke({category:"replay.throttled"});this.addUpdate(()=>!oa(this,{type:t0,timestamp:r.timestamp||0,data:{tag:"breadcrumb",payload:r,metric:!0}}))}return n}getCurrentRoute(){const e=this.lastActiveSpan||ge(),t=e&&_e(e),n=(t&&W(t).data||{})[xe];if(!(!t||!n||!["route","custom"].includes(n)))return W(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=W0({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){const t=this._options.errorSampleRate>0;this.session=ho({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t})}_checkSession(){if(!this.session)return!1;const e=this.session;return sf(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(e),!1):!0}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{se.document.addEventListener("visibilitychange",this._handleVisibilityChange),se.addEventListener("blur",this._handleWindowBlur),se.addEventListener("focus",this._handleWindowFocus),se.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Ww(this),this._hasInitializedCoreListeners=!0)}catch(e){this.handleException(e)}this._performanceCleanupCallback=L0(this)}_removeListeners(){try{se.document.removeEventListener("visibilitychange",this._handleVisibilityChange),se.removeEventListener("blur",this._handleWindowBlur),se.removeEventListener("focus",this._handleWindowFocus),se.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this.handleException(e)}}_doChangeToBackgroundTasks(e){this.session&&(of(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush()))}_doChangeToForegroundTasks(e){if(this.session){if(!this.checkAndHandleExpiredSession()){P&&F.log("Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:G.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=I0(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const t=this._context.initialTimestamp/1e3;e=e.filter(n=>n.start>=t)}return Promise.all(Ui(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:t}=this;if(!e||!t||this._requiresManualStart||e.segmentId)return;const n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){P&&F.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await zw(this),!!this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession(),await gf({replayId:e,recordingData:await this.eventBuffer.finish(),segmentId:r,eventContext:n,session:this.session,timestamp:t,onError:i=>this.handleException(i)})}catch(t){this.handleException(t),this.stop({reason:"sendReplay"});const n=x();if(n){const r=t instanceof aa?"ratelimit_backoff":"send_error";n.recordDroppedEvent(r,"replay")}}}async _flush({force:e=!1}={}){if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){P&&F.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,i=n>this._options.maxReplayDuration+5e3;if(r||i){P&&F.log(`Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`),r&&this._debouncedFlush();return}const o=this.eventBuffer;o&&this.session.segmentId===0&&!o.hasCheckout&&P&&F.log("Flushing initial segment without checkout.");const s=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(a){this.handleException(a)}finally{this._flushLock=void 0,s&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&ia(this.session)}_onMutationHandler(e){const{ignoreMutations:t}=this._options._experiments;if(t?.length&&e.some(s=>{const a=Kw(s.target),c=t.join(",");return a?.matches(c)}))return!1;const n=e.length,r=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,o=r&&n>r;if(n>i||o){const s=Ke({category:"replay.mutations",data:{count:n,limit:o}});this._createCustomBreadcrumb(s)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}};function Nn(e,t){return[...e,...t].join(",")}function rT({mask:e,unmask:t,block:n,unblock:r,ignore:i}){return{maskTextSelector:Nn(e,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:Nn(t,[]),blockSelector:Nn(n,[".sentry-block","[data-sentry-block]","base","iframe[srcdoc]:not([src])"]),unblockSelector:Nn(r,[]),ignoreSelector:Nn(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function iT({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:o}){return!r||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?o:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}var Qc='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',oT=["content-length","content-type","accept"],eu=!1,I1=e=>new sT(e),sT=class{constructor({flushMinDelay:e=Nb,flushMaxDelay:t=Ob,minReplayDuration:n=Ub,maxReplayDuration:r=Nc,stickySession:i=!0,useCompression:o=!0,workerUrl:s,_experiments:a={},maskAllText:c=!0,maskAllInputs:u=!0,blockAllMedia:d=!0,mutationBreadcrumbLimit:l=750,mutationLimit:f=1e4,slowClickTimeout:p=7e3,slowClickIgnoreSelectors:h=[],networkDetailAllowUrls:m=[],networkDetailDenyUrls:v=[],networkCaptureBodies:_=!0,networkRequestHeaders:b=[],networkResponseHeaders:C=[],mask:R=[],maskAttributes:N=["title","placeholder","aria-label"],unmask:y=[],block:w=[],unblock:H=[],ignore:S=[],maskFn:k,beforeAddRecordingEvent:O,beforeErrorSampling:T,onError:M}={}){this.name="Replay";const K=rT({mask:R,unmask:y,block:w,unblock:H,ignore:S});if(this._recordingOptions={maskAllInputs:u,maskAllText:c,maskInputOptions:{password:!0},maskTextFn:k,maskInputFn:k,maskAttributeFn:(A,q,E)=>iT({maskAttributes:N,maskAllText:c,privacyOptions:K,key:A,value:q,el:E}),...K,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:A=>{try{A.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!a.recordCrossOriginIframes},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,Hb),maxReplayDuration:Math.min(r,Nc),stickySession:i,useCompression:o,workerUrl:s,blockAllMedia:d,maskAllInputs:u,maskAllText:c,mutationBreadcrumbLimit:l,mutationLimit:f,slowClickTimeout:p,slowClickIgnoreSelectors:h,networkDetailAllowUrls:m,networkDetailDenyUrls:v,networkCaptureBodies:_,networkRequestHeaders:tu(b),networkResponseHeaders:tu(C),beforeAddRecordingEvent:O,beforeErrorSampling:T,onError:M,_experiments:a},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Qc}`:Qc),this._isInitialized&&Po())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return eu}set _isInitialized(e){eu=e}afterAllSetup(e){!Po()||this._replay||(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay?.isEnabled())return this._replay.getSessionId()}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){this._replay=new nT({options:aT(this._initialOptions,e),recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{const t=e.getIntegrationByName("ReplayCanvas");if(!t)return;this._replay._canvas=t.getOptions()}catch{}}};function aT(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},i=zt(n.replaysSessionSampleRate),o=zt(n.replaysOnErrorSampleRate);return i==null&&o==null&&Je(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),i!=null&&(r.sessionSampleRate=i),o!=null&&(r.errorSampleRate=o),r}function tu(e){return[...oT,...e.map(t=>t.toLowerCase())]}function k1(){return x()?.getIntegrationByName("Replay")}var cT=Object.defineProperty,uT=(e,t,n)=>t in e?cT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nu=(e,t,n)=>uT(e,typeof t!="symbol"?t+"":t,n),lT=class{constructor(){nu(this,"idNodeMap",new Map),nu(this,"nodeMetaMap",new WeakMap)}getId(e){return e?this.getMeta(e)?.id??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const r=this.nodeMetaMap.get(n);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function dT(){return new lT}function fT(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function is(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:is(e.parentNode,t,n,r+1)}function ru(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(fT(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}var en=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,iu={map:{},getId(){return console.error(en),-1},getNode(){return console.error(en),null},removeNodeFromMap(){console.error(en)},has(){return console.error(en),!1},reset(){console.error(en)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(iu=new Proxy(iu,{get(e,t,n){return t==="map"&&console.error(en),Reflect.get(e,t,n)}}));function ca(e,t,n,r,i=window){const o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(s){vf(()=>{n.set.call(this,s)},0),o&&o.set&&o.set.call(this,s)}}),()=>ca(e,t,o||{},!0)}function ua(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}Date.now().toString();function pT(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Wi(e,t,n,r,i){if(!e)return!1;const o=pT(e);if(!o)return!1;const s=ru(t,n);if(!i){const u=r&&o.matches(r);return s(o)&&!u}const a=is(o,s);let c=-1;return a<0?!1:(r&&(c=is(o,ru(null,r))),a>-1&&c<0?!0:a<c)}var ou={};function yf(e){const t=ou[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const o=i.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(i)}catch{}return ou[e]=r.bind(window)}function At(...e){return yf("requestAnimationFrame")(...e)}function vf(...e){return yf("setTimeout")(...e)}var wn=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(wn||{}),Xr;function hT(e){Xr=e}var mo=e=>Xr?(...n)=>{try{return e(...n)}catch(r){if(Xr&&Xr(r)===!0)return()=>{};throw r}}:e,sn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mT=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Or=0;Or<sn.length;Or++)mT[sn.charCodeAt(Or)]=Or;var gT=function(e){var t=new Uint8Array(e),n,r=t.length,i="";for(n=0;n<r;n+=3)i+=sn[t[n]>>2],i+=sn[(t[n]&3)<<4|t[n+1]>>4],i+=sn[(t[n+1]&15)<<2|t[n+2]>>6],i+=sn[t[n+2]&63];return r%3===2?i=i.substring(0,i.length-1)+"=":r%3===1&&(i=i.substring(0,i.length-2)+"=="),i},su=new Map;function _T(e,t){let n=su.get(e);return n||(n=new Map,su.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}var Sf=(e,t,n)=>{if(!e||!(Ef(e,t)||typeof e=="object"))return;const r=e.constructor.name,i=_T(n,r);let o=i.indexOf(e);return o===-1&&(o=i.length,i.push(e)),o};function Jr(e,t,n){if(e instanceof Array)return e.map(r=>Jr(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer)return{rr_type:e.constructor.name,base64:gT(e)};if(e instanceof DataView)return{rr_type:e.constructor.name,args:[Jr(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const r=e.constructor.name,{src:i}=e;return{rr_type:r,src:i}}else{if(e instanceof HTMLCanvasElement)return{rr_type:"HTMLImageElement",src:e.toDataURL()};if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[Jr(e.data,t,n),e.width,e.height]};if(Ef(e,t)||typeof e=="object")return{rr_type:e.constructor.name,index:Sf(e,t,n)}}return e}var bf=(e,t,n)=>e.map(r=>Jr(r,t,n)),Ef=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(r=>typeof t[r]=="function").find(r=>e instanceof t[r]);function yT(e,t,n,r,i){const o=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of s)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;const c=ua(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return Wi(this.canvas,n,r,i,!0)||vf(()=>{const l=bf(d,t,this);e(this.canvas,{type:wn["2D"],property:a,args:l})},0),u.apply(this,d)}});o.push(c)}catch{const c=ca(t.CanvasRenderingContext2D.prototype,a,{set(u){e(this.canvas,{type:wn["2D"],property:a,args:[u],setter:!0})}});o.push(c)}return()=>{o.forEach(a=>a())}}function vT(e){return e==="experimental-webgl"?"webgl":e}function au(e,t,n,r,i){const o=[];try{const s=ua(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!Wi(this,t,n,r,!0)){const d=vT(c);if("__context"in this||(this.__context=d),i&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){const l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});o.push(s)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach(s=>s())}}function cu(e,t,n,r,i,o,s,a){const c=[],u=Object.getOwnPropertyNames(e);for(const d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;const l=ua(e,d,function(f){return function(...p){const h=f.apply(this,p);if(Sf(h,a,this),"tagName"in this.canvas&&!Wi(this.canvas,r,i,o,!0)){const m={type:t,property:d,args:bf(p,a,this)};n(this.canvas,m)}return h}});c.push(l)}catch{const l=ca(e,d,{set(f){n(this.canvas,{type:t,property:d,args:[f],setter:!0})}});c.push(l)}return c}function ST(e,t,n,r,i,o){const s=[];return s.push(...cu(t.WebGLRenderingContext.prototype,wn.WebGL,e,n,r,i,o,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(...cu(t.WebGL2RenderingContext.prototype,wn.WebGL2,e,n,r,i,o,t)),()=>{s.forEach(a=>a())}}var bT='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w?.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function ET(){const e=new Blob([bT]);return URL.createObjectURL(e)}var wT=class{constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(s,a)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(s)||this.pendingCanvasMutations.set(s,[]),this.pendingCanvasMutations.get(s).push(a)};const{enableManualSnapshot:t,sampling:n="all",win:r,recordCanvas:i,errorHandler:o}=e;e.sampling=n,this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.options=e,o&&hT(o),(i&&typeof n=="number"||t)&&(this.worker=this.initFPSWorker()),this.addWindow(r),!t&&mo(()=>{i&&n==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),i&&typeof n=="number"&&this.initCanvasFPSObserver()})()}reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(e=>{try{e()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,this.worker?.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(e){const{sampling:t="all",blockClass:n,blockSelector:r,unblockSelector:i,recordCanvas:o,enableManualSnapshot:s}=this.options;if(!this.windowsSet.has(e)){if(s){this.windowsSet.add(e),this.windows.push(new WeakRef(e));return}mo(()=>{if(o&&t==="all"&&this.initCanvasMutationObserver(e,n,r,i),o&&typeof t=="number"){const a=au(e,n,r,i,!0);this.restoreHandlers.push(()=>{a()})}})(),this.windowsSet.add(e),this.windows.push(new WeakRef(e))}}addShadowRoot(e){this.shadowDoms.add(new WeakRef(e))}resetShadowRoots(){this.shadowDoms=new Set}snapshot(e,t){if(t?.skipRequestAnimationFrame){this.takeSnapshot(performance.now(),!0,e);return}At(n=>this.takeSnapshot(n,!0,e))}initFPSWorker(){const e=new Worker(ET());return e.onmessage=t=>{const n=t.data,{id:r}=n;if(this.snapshotInProgressMap.set(r,!1),!("base64"in n))return;const{base64:i,type:o,width:s,height:a}=n;this.mutationCb({id:r,type:wn["2D"],commands:[{property:"clearRect",args:[0,0,s,a]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:i}],type:o}]},0,0,s,a]}]})},e}initCanvasFPSObserver(){let e;if(!this.windows.length&&!this.shadowDoms.size)return;const t=n=>{this.takeSnapshot(n,!1),e=At(t)};e=At(t),this.restoreHandlers.push(()=>{e&&cancelAnimationFrame(e)})}initCanvasMutationObserver(e,t,n,r){const i=au(e,t,n,r,!1),o=yT(this.processMutation.bind(this),e,t,n,r),s=ST(this.processMutation.bind(this),e,t,n,r,this.mirror);this.restoreHandlers.push(()=>{i(),o(),s()})}getCanvasElements(e,t,n){const r=[],i=o=>{o.querySelectorAll("canvas").forEach(s=>{Wi(s,e,t,n,!0)||r.push(s)})};for(const o of this.windows){const s=o.deref();let a;try{a=s&&s.document}catch{}a&&i(a)}for(const o of this.shadowDoms){const s=o.deref();s&&i(s)}return r}takeSnapshot(e,t,n){const{sampling:r,blockClass:i,blockSelector:o,unblockSelector:s,dataURLOptions:a,maxCanvasSize:c}=this.options,u=1e3/(r==="all"?2:r||2);return this.lastSnapshotTime&&e-this.lastSnapshotTime<u?!1:(this.lastSnapshotTime=e,(n?[n]:this.getCanvasElements(i,o,s)).forEach(d=>{const l=this.mirror.getId(d);if(!(!this.mirror.hasNode(d)||!d.width||!d.height||this.snapshotInProgressMap.get(l))){if(this.snapshotInProgressMap.set(l,!0),!t&&["webgl","webgl2"].includes(d.__context)){const f=d.getContext(d.__context);f?.getContextAttributes()?.preserveDrawingBuffer===!1&&f.clear(f.COLOR_BUFFER_BIT)}createImageBitmap(d).then(f=>{this.worker?.postMessage({id:l,bitmap:f,width:d.width,height:d.height,dataURLOptions:a,maxCanvasSize:c},[f])}).catch(f=>{mo(()=>{throw this.snapshotInProgressMap.delete(l),f})()})}}),!0)}startPendingCanvasMutationFlusher(){At(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t,At(e)};At(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((e,t)=>{const n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)}),At(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(e);if(!n||t===-1)return;const r=n.map(o=>{const{type:s,...a}=o;return a}),{type:i}=n[0];this.mutationCb({id:t,type:i,commands:r}),this.pendingCanvasMutations.delete(e)}};try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}dT();var uu;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(uu||(uu={}));var lu={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},TT="ReplayCanvas",Lr=1280,IT=(e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,Lr):Lr,n?Math.min(n,Lr):Lr]};let i;const o=new Promise(s=>i=s);return{name:TT,getOptions(){const{quality:s,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{const d=new wT({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:l=>{try{typeof l=="object"&&(l.__rrweb__=!0)}catch{}}});return i(d),d},...lu[s]||lu.medium}},async snapshot(s,a){(await o).snapshot(s,a)}}},C1=IT;function Ye(e=0){return((Ce()||performance.timeOrigin)+e)/1e3}function kT(e){const t=[];if(e.nextHopProtocol!=null){const{name:n,version:r}=pd(e.nextHopProtocol);t.push(["network.protocol.version",r],["network.protocol.name",n])}return Ce()?[...t,["http.request.redirect_start",Ye(e.redirectStart)],["http.request.fetch_start",Ye(e.fetchStart)],["http.request.domain_lookup_start",Ye(e.domainLookupStart)],["http.request.domain_lookup_end",Ye(e.domainLookupEnd)],["http.request.connect_start",Ye(e.connectStart)],["http.request.secure_connection_start",Ye(e.secureConnectionStart)],["http.request.connection_end",Ye(e.connectEnd)],["http.request.request_start",Ye(e.requestStart)],["http.request.response_start",Ye(e.responseStart)],["http.request.response_end",Ye(e.responseEnd)]]:t}var du=new WeakMap,go=new Map,wf={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function CT(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:o,enableHTTPTimings:s,tracePropagationTargets:a,onRequestSpanStart:c}={...wf,...t},u=typeof o=="function"?o:p=>!0,d=p=>xT(p,a),l={},f=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(p=>(p.type==="transaction"&&p.spans&&p.spans.forEach(h=>{if(h.op==="http.client"){const m=go.get(h.span_id);m&&(h.timestamp=m/1e3,go.delete(h.span_id))}}),p)),i&&qg(p=>{if(p.response){const h=du.get(p.response);h&&p.endTimestamp&&go.set(h,p.endTimestamp)}}),Is(p=>{const h=Ag(p,u,d,l,{propagateTraceparent:f});if(p.response&&p.fetchData.__span&&du.set(p.response,p.fetchData.__span),h){const m=Tf(p.fetchData.url),v=m?Ut(m).host:void 0;h.setAttributes({"http.url":m,"server.address":v}),s&&fu(h),c?.(h,{headers:p.headers})}})),r&&js(p=>{const h=MT(p,u,d,l,f);if(h){s&&fu(h);let m;try{m=new Headers(p.xhr.__sentry_xhr_v3__?.request_headers)}catch{}c?.(h,{headers:m})}})}function RT(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function fu(e){const{url:t}=W(e).data;if(!t||typeof t!="string")return;const n=qt("resource",({entries:r})=>{r.forEach(i=>{RT(i)&&i.name.endsWith(t)&&(kT(i).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function xT(e,t){const n=$t();if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const o=r.origin===i;return t?qe(r.toString(),t)||o&&qe(r.pathname,t):o}else{const r=!!e.match(/^\/(?!\/)/);return t?qe(e,t):r}}function MT(e,t,n,r,i){const o=e.xhr,s=o?.[nt];if(!o||o.__sentry_own_request__||!s)return;const{url:a,method:c}=s,u=ut()&&t(a);if(e.endTimestamp&&u){const v=o.__sentry_xhr_span_id__;if(!v)return;const _=r[v];_&&s.status_code!==void 0&&(ti(_,s.status_code),_.end(),delete r[v]);return}const d=Tf(a),l=Ut(d||a),f=Cl(a),p=!!ge(),h=u&&p?Tt({name:`${c} ${f}`,attributes:{url:a,type:"xhr","http.method":c,"http.url":d,"server.address":l?.host,[ce]:"auto.http.browser",[$e]:"http.client",...l?.search&&{"http.query":l?.search},...l?.hash&&{"http.fragment":l?.hash}}}):new lt;o.__sentry_xhr_span_id__=h.spanContext().spanId,r[o.__sentry_xhr_span_id__]=h,n(a)&&AT(o,ut()&&p?h:void 0,i);const m=x();return m&&m.emit("beforeOutgoingRequestSpan",h,e),h}function AT(e,t,n){const{"sentry-trace":r,baggage:i,traceparent:o}=Ml({span:t,propagateTraceparent:n});r&&NT(e,r,i,o)}function NT(e,t,n,r){const i=e.__sentry_xhr_v3__?.request_headers;if(!(i?.["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!i?.traceparent&&e.setRequestHeader("traceparent",r),n){const o=i?.baggage;(!o||!OT(o))&&e.setRequestHeader("baggage",n)}}catch{}}function OT(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function Tf(e){try{return new URL(e,D.location.origin).href}catch{return}}function LT(){D.document?D.document.addEventListener("visibilitychange",()=>{const e=ge();if(!e)return;const t=_e(e);if(D.document.hidden&&t){const n="cancelled",{op:r,status:i}=W(t);Y&&g.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:2,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Y&&g.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var If="sentry_previous_trace",DT="sentry.previous_trace";function PT(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let i=r?UT():void 0;e.on("spanStart",s=>{if(_e(s)!==s)return;const a=j().getPropagationContext();i=FT(i,s,a),r&&BT(i)});let o=!0;n&&e.on("beforeSampling",s=>{if(!i)return;const a=j(),c=a.getPropagationContext();if(o&&c.parentSpanId){o=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(i.sampleRate),sampled:String(os(i.spanContext))},sampleRand:i.sampleRand}),s.parentSampled=os(i.spanContext),s.parentSampleRate=i.sampleRate,s.spanAttributes={...s.spanAttributes,[_p]:i.sampleRate}})}function FT(e,t,n){const r=W(t);function i(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.["sentry.sample_rate"])}catch{return 0}}const o={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:i(),sampleRand:n.sampleRand};if(!e)return o;const s=e.spanContext;return s.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=3600&&(Y&&g.log(`Adding previous_trace ${s} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:s,attributes:{[yp]:"previous_trace"}}),t.setAttribute(DT,`${s.traceId}-${s.spanId}-${os(s)?1:0}`)),o)}function BT(e){try{D.sessionStorage.setItem(If,JSON.stringify(e))}catch(t){Y&&g.warn("Could not store previous trace in sessionStorage",t)}}function UT(){try{const e=D.sessionStorage?.getItem(If);return JSON.parse(e)}catch{return}}function os(e){return e.traceFlags===1}var HT="BrowserTracing",WT={...Ur,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...wf},pu=(e={})=>{const t={name:void 0,source:void 0},n=D.document,{enableInp:r,enableElementTiming:i,enableLongTask:o,enableLongAnimationFrame:s,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:d,idleTimeout:l,finalTimeout:f,childSpanTimeout:p,markBackgroundSpan:h,traceFetch:m,traceXHR:v,trackFetchStreamPerformance:_,shouldCreateSpanForRequest:b,enableHTTPTimings:C,ignoreResourceSpans:R,ignorePerformanceApiSpans:N,instrumentPageLoad:y,instrumentNavigation:w,detectRedirects:H,linkPreviousTrace:S,consistentTraceSampling:k,onRequestSpanStart:O}={...WT,...e};let T,M;function K(A,q,E=!0){const Z=q.op==="pageload",L=q.name,$=d?d(q):q,ae=$.attributes||{};if(L!==$.name&&(ae[xe]="custom",$.attributes=ae),!E){const Ae=Gt();Tt({...$,startTime:Ae}).end(Ae);return}t.name=$.name,t.source=ae[xe];const fe=ul($,{idleTimeout:l,finalTimeout:f,childSpanTimeout:p,disableAutoFinish:Z,beforeSpanEnd:Ae=>{T?.(),Tv(Ae,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:R,ignorePerformanceApiSpans:N}),mu(A,void 0);const mt=j(),Mt=mt.getPropagationContext();mt.setPropagationContext({...Mt,traceId:fe.spanContext().traceId,sampled:Yt(fe),dsc:Ge(Ae)})}});mu(A,fe);function Me(){n&&["interactive","complete"].includes(n.readyState)&&A.emit("idleSpanEnableAutoFinish",fe)}Z&&n&&(n.addEventListener("readystatechange",()=>{Me()}),Me())}return{name:HT,setup(A){if(Pp(),T=_v({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:A}),r&&Gv(),i&&Lv(),s&&B.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?vv():o&&yv(),a&&Sv(),H&&n){const E=()=>{M=ue()};addEventListener("click",E,{capture:!0}),addEventListener("keydown",E,{capture:!0,passive:!0})}function q(){const E=Vn(A);E&&!W(E).timestamp&&(Y&&g.log(`[Tracing] Finishing current active span with op: ${W(E).op}`),E.setAttribute(fs,"cancelled"),E.end())}A.on("startNavigationSpan",(E,Z)=>{if(x()!==A)return;if(Z?.isRedirect){Y&&g.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),K(A,{op:"navigation.redirect",...E},!1);return}M=void 0,q(),ye().setPropagationContext({traceId:ct(),sampleRand:Math.random()});const L=j();L.setPropagationContext({traceId:ct(),sampleRand:Math.random()}),L.setSDKProcessingMetadata({normalizedRequest:void 0}),K(A,{op:"navigation",...E})}),A.on("startPageLoadSpan",(E,Z={})=>{if(x()!==A)return;q();const L=Ju(Z.sentryTrace||hu("sentry-trace"),Z.baggage||hu("baggage")),$=j();$.setPropagationContext(L),$.setSDKProcessingMetadata({normalizedRequest:As()}),K(A,{op:"pageload",...E})})},afterAllSetup(A){let q=$t();if(S!=="off"&&PT(A,{linkPreviousTrace:S,consistentTraceSampling:k}),D.location){if(y){const E=Ce();zT(A,{name:D.location.pathname,startTime:E?E/1e3:void 0,attributes:{[xe]:"url",[ce]:"auto.pageload.browser"}})}w&&Di(({to:E,from:Z})=>{if(Z===void 0&&q?.indexOf(E)!==-1){q=void 0;return}q=void 0;const L=Es(E),$=Vn(A),ae=$&&H&&qT($,M);kf(A,{name:L?.pathname||D.location.pathname,attributes:{[xe]:"url",[ce]:"auto.navigation.browser"}},{url:E,isRedirect:ae})})}h&&LT(),a&&jT(A,l,f,p,t),r&&Kv(),CT(A,{traceFetch:m,traceXHR:v,trackFetchStreamPerformance:_,tracePropagationTargets:A.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:b,enableHTTPTimings:C,onRequestSpanStart:O})}}};function zT(e,t,n){e.emit("startPageLoadSpan",t,n),j().setTransactionName(t.name);const r=Vn(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function kf(e,t,n){const{url:r,isRedirect:i}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:i}),e.emit("startNavigationSpan",t,{isRedirect:i});const o=j();return o.setTransactionName(t.name),r&&!i&&o.setSDKProcessingMetadata({normalizedRequest:{...As(),url:r}}),Vn(e)}function hu(e){return D.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function jT(e,t,n,r,i){const o=D.document;let s;const a=()=>{const c="ui.action.click",u=Vn(e);if(u){const d=W(u).op;if(["navigation","pageload"].includes(d)){Y&&g.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(fs,"interactionInterrupted"),s.end(),s=void 0),!i.name){Y&&g.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}s=ul({name:i.name,op:c,attributes:{[xe]:i.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};o&&addEventListener("click",a,{capture:!0})}var Cf="_sentry_idleSpan";function Vn(e){return e[Cf]}function mu(e,t){ke(e,Cf,t)}var gu=1.5;function qT(e,t){const n=W(e),r=Gt();return!(r-n.start_timestamp>gu||t&&r-t<=gu)}function Tn(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function $T(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=Tn(n);return i=>r.then(o=>i(o.transaction(t,"readwrite").objectStore(t)))}function la(e){return Tn(e.getAllKeys())}function GT(e,t,n){return e(r=>la(r).then(i=>{if(!(i.length>=n))return r.put(t,Math.max(...i,0)+1),Tn(r.transaction)}))}function VT(e,t,n){return e(r=>la(r).then(i=>{if(!(i.length>=n))return r.put(t,Math.min(...i,0)-1),Tn(r.transaction)}))}function YT(e){return e(t=>la(t).then(n=>{const r=n[0];if(r!=null)return Tn(t.get(r)).then(i=>(t.delete(r),Tn(t.transaction).then(()=>i)))}))}function KT(e){let t;function n(){return t==null&&(t=$T(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{const i=await ii(r);await GT(n(),i,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{const i=await ii(r);await VT(n(),i,e.maxQueueSize||30)}catch{}},shift:async()=>{try{const r=await YT(n());if(r)return Gp(r)}catch{}}}}function XT(e){return t=>{const n=e({...t,createStore:KT});return D.addEventListener("online",async r=>{await n.flush()}),n}}function R1(e=yd){return XT(fm(e))}var _u=1e6,Zr=String(0),JT="main",Ei=D.navigator,Rf="",xf="",Mf="",ss=Ei?.userAgent||"",Af="",ZT=Ei?.language||Ei?.languages?.[0]||"";function QT(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}var yu=Ei?.userAgentData;QT(yu)&&yu.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(Rf=e.platform||"",Mf=e.architecture||"",Af=e.model||"",xf=e.platformVersion||"",e.fullVersionList?.length){const t=e.fullVersionList[e.fullVersionList.length-1];ss=`${t.brand} ${t.version}`}}).catch(e=>{});function eI(e){return!("thread_metadata"in e)}function tI(e){return eI(e)?iI(e):e}function nI(e){const t=e.contexts?.trace?.trace_id;return typeof t=="string"&&t.length!==32&&Y&&g.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function rI(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const i=nI(r),o=tI(n),s=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:ue()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:ue()*1e3;return{event_id:e,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||"production",runtime:{name:"javascript",version:D.navigator.userAgent},os:{name:Rf,version:xf,build_number:ss},device:{locale:ZT,model:Af,manufacturer:ss,architecture:Mf,is_emulator:!1},debug_meta:{images:aI(n.resources)},profile:o,transactions:[{name:r.transaction||"",id:r.event_id||Ie(),trace_id:i,active_thread_id:Zr,relative_start_ns:"0",relative_end_ns:((a-s)*1e6).toFixed(0)}]}}function Nf(e){return W(e).op==="pageload"}function iI(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[Zr]:{name:JT}}},i=e.samples[0];if(!i)return r;const o=i.timestamp,s=Ce(),a=typeof performance.timeOrigin=="number"?performance.timeOrigin:s||0,c=a-(s||a);return e.samples.forEach((u,d)=>{if(u.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[d]={elapsed_since_start_ns:((u.timestamp+c-o)*_u).toFixed(0),stack_id:t,thread_id:Zr};return}let l=e.stacks[u.stackId];const f=[];for(;l;){f.push(l.frameId);const h=e.frames[l.frameId];h&&r.frames[l.frameId]===void 0&&(r.frames[l.frameId]={function:h.name,abs_path:typeof h.resourceId=="number"?e.resources[h.resourceId]:void 0,lineno:h.line,colno:h.column}),l=l.parentId===void 0?void 0:e.stacks[l.parentId]}const p={elapsed_since_start_ns:((u.timestamp+c-o)*_u).toFixed(0),stack_id:n,thread_id:Zr};r.stacks[n]=f,r.samples[d]=p,n++}),r}function oI(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n]);return e}function sI(e){const t=[];return jt(e,(n,r)=>{if(r==="transaction")for(let i=1;i<n.length;i++)n[i]?.contexts?.profile?.profile_id&&t.push(n[i])}),t}function aI(e){const t=x()?.getOptions()?.stackParser;return t?wh(t,e):[]}function cI(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(Y&&g.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(Y&&g.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function uI(e){return e.samples.length<2?(Y&&g.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(Y&&g.log("[Profiling] Discarding profile because it contains no frames"),!1)}var Of=!1,Lf=3e4;function lI(e){return typeof e=="function"}function dI(){const e=D.Profiler;if(!lI(e)){Y&&g.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const t=10,n=Math.floor(Lf/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{Y&&(g.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),g.log("[Profiling] Disabling profiling for current user session.")),Of=!0}}function vu(e){if(Of)return Y&&g.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return Y&&g.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=x()?.getOptions();if(!t)return Y&&g.log("[Profiling] Profiling disabled, no options found."),!1;const n=t.profilesSampleRate;return cI(n)?n?n===!0||Math.random()<n?!0:(Y&&g.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(n)})`),!1):(Y&&g.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(Y&&g.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function fI(e,t,n,r){return uI(n)?rI(e,t,n,r):null}var Pt=new Map;function pI(){return Pt.size}function hI(e){const t=Pt.get(e);return t&&Pt.delete(e),t}function mI(e,t){if(Pt.set(e,t),Pt.size>30){const n=Pt.keys().next().value;Pt.delete(n)}}function Su(e){let t;Nf(e)&&(t=ue()*1e3);const n=dI();if(!n)return;Y&&g.log(`[Profiling] started profiling span: ${W(e).description}`);const r=Ie();j().setContext("profile",{profile_id:r,start_timestamp:t});async function i(){if(e&&n)return n.stop().then(c=>{if(o&&(D.clearTimeout(o),o=void 0),Y&&g.log(`[Profiling] stopped profiling of span: ${W(e).description}`),!c){Y&&g.log(`[Profiling] profiler returned null profile for: ${W(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}mI(r,c)}).catch(c=>{Y&&g.log("[Profiling] error while stopping profiler:",c)})}let o=D.setTimeout(()=>{Y&&g.log("[Profiling] max profile duration elapsed, stopping profiling for:",W(e).description),i()},Lf);const s=e.end.bind(e);function a(){return e?(i().then(()=>{s()},()=>{s()}),e):s()}e.end=a}var gI="BrowserProfiling",_I=()=>({name:gI,setup(e){const t=ge(),n=t&&_e(t);n&&Nf(n)&&vu(n)&&Su(n),e.on("spanStart",r=>{r===_e(r)&&vu(r)&&Su(r)}),e.on("beforeEnvelope",r=>{if(!pI())return;const i=sI(r);if(!i.length)return;const o=[];for(const s of i){const a=s?.contexts,c=a?.profile?.profile_id,u=a?.profile?.start_timestamp;if(typeof c!="string"){Y&&g.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!c){Y&&g.log("[Profiling] cannot find profile for a span without a profile context");continue}a?.profile&&delete a.profile;const d=hI(c);if(!d){Y&&g.log(`[Profiling] Could not retrieve profile for span: ${c}`);continue}const l=fI(c,u,d,s);l&&o.push(l)}oI(r,o)})}}),x1=_I,yI="SpotlightBrowser",vI=(e={})=>{const t=e.sidecarUrl||"http://localhost:8969/stream";return{name:yI,setup:()=>{Y&&g.log("Using Sidecar URL",t)},processEvent:n=>bI(n)?null:n,afterAllSetup:n=>{SI(n,t)}}};function SI(e,t){const n=zs("fetch");let r=0;e.on("beforeEnvelope",i=>{if(r>3){g.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:ii(i),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(o=>{o.status>=200&&o.status<400&&(r=0)},o=>{r++,g.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",o)})})}var M1=vI;function bI(e){return!!(e.type==="transaction"&&e.spans&&e.contexts?.trace&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:t})=>t?.includes("#sentry-spotlight")))}var A1=()=>({name:"LaunchDarkly",processEvent(e,t,n){return ir(e)}});function N1(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{fn(e,t.value),pn(e,t.value)}}}var O1=()=>({name:"OpenFeature",processEvent(e,t,n){return ir(e)}}),L1=class{after(e,t){fn(t.flagKey,t.value),pn(t.flagKey,t.value)}error(e,t,n){fn(e.flagKey,e.defaultValue),pn(e.flagKey,e.defaultValue)}},D1=({featureFlagClientClass:e})=>({name:"Unleash",setupOnce(){const t=e.prototype;Te(t,"isEnabled",EI)},processEvent(t,n,r){return ir(t)}});function EI(e){return function(...t){const n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?(fn(n,r),pn(n,r)):Y&&g.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}var P1=({featureFlagClient:e})=>({name:"Statsig",setup(t){e.on("gate_evaluation",n=>{fn(n.gate.name,n.gate.value),pn(n.gate.name,n.gate.value)})},processEvent(t,n,r){return ir(t)}});async function F1(){const e=x();if(!e)return"no-client-active";if(!e.getDsn())return"no-dsn-configured";try{await uh(()=>fetch("https://o447951.ingest.sentry.io/api/4509632503087104/envelope/?sentry_version=7&sentry_key=c1dfb07d783ad5325c245c1fd3725390&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"}))}catch{return"sentry-unreachable"}}var wI="WebWorker",B1=({worker:e})=>({name:wI,setupOnce:()=>{(Array.isArray(e)?e:[e]).forEach(t=>bu(t))},addWorker:t=>bu(t)});function bu(e){e.addEventListener("message",t=>{TI(t.data)&&(t.stopImmediatePropagation(),Y&&g.log("Sentry debugId web worker message received",t.data),D._sentryDebugIds={...t.data._sentryDebugIds,...D._sentryDebugIds})})}function U1({self:e}){e.postMessage({_sentryMessage:!0,_sentryDebugIds:e._sentryDebugIds??void 0})}function TI(e){return ot(e)&&e._sentryMessage===!0&&"_sentryDebugIds"in e&&(ot(e._sentryDebugIds)||e._sentryDebugIds===void 0)}var Df=["activate","mount"],Pf=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,II=/(?:^|[-_])(\w)/g,kI=e=>e.replace(II,t=>t.toUpperCase()).replace(/[-_]/g,""),CI="<Root>",_o="<Anonymous>",RI=(e,t)=>e.repeat(t),Un=(e,t)=>{if(!e)return _o;if(e.$root===e)return CI;if(!e.$options)return _o;const n=e.$options;let r=n.name||n._componentTag||n.__name;const i=n.__file;if(!r&&i){const o=i.match(/([^/\\]+)\.vue$/);o&&(r=o[1])}return(r?`<${kI(r)}>`:_o)+(i&&t!==!1?` at ${i}`:"")},xI=e=>{if(e&&(e._isVue||e.__isVue)&&e.$parent){const t=[];let n=0;for(;e;){if(t.length>0){const r=t[t.length-1];if(r.constructor===e.constructor){n++,e=e.$parent;continue}else n>0&&(t[t.length-1]=[r,n],n=0)}t.push(e),e=e.$parent}return`

found in

${t.map((r,i)=>`${(i===0?"---> ":RI(" ",5+i*2))+(Array.isArray(r)?`${Un(r[0])}... (${r[1]} recursive calls)`:Un(r))}`).join(`
`)}`}return`

(found in ${Un(e)})`},MI=(e,t)=>{const{errorHandler:n}=e.config;e.config.errorHandler=(r,i,o)=>{const s={componentName:Un(i,!1),lifecycleHook:o,trace:i?xI(i):""};if(t.attachProps&&i&&(i.$options?.propsData?s.propsData=i.$options.propsData:i.$props&&(s.propsData=i.$props)),setTimeout(()=>{It(r,{captureContext:{contexts:{vue:s}},mechanism:{handled:!!n,type:"vue"}})}),typeof n=="function"&&e.config.errorHandler)n.call(e,r,i,o);else throw r}},Eu="ui.vue",AI={activate:["activated","deactivated"],create:["beforeCreate","created"],unmount:["beforeUnmount","unmounted"],destroy:["beforeDestroy","destroyed"],mount:["beforeMount","mounted"],update:["beforeUpdate","updated"]};function yo(e,t,n){e.$_sentryRootComponentSpanTimer&&clearTimeout(e.$_sentryRootComponentSpanTimer),e.$_sentryRootComponentSpanTimer=setTimeout(()=>{e.$root?.$_sentryRootComponentSpan&&(e.$root.$_sentryRootComponentSpan.end(t),e.$root.$_sentryRootComponentSpan=void 0)},n)}function NI(e,t){function n(r){return r.replace(/^<([^\s]*)>(?: at [^\s]*)?$/,"$1")}return e.some(r=>n(t)===n(r))}var OI=(e={})=>{const t=(e.hooks||[]).concat(Df).filter((i,o,s)=>s.indexOf(i)===o),n={},r=e.timeout||2e3;for(const i of t){const o=AI[i];if(!o){Pf&&g.warn(`Unknown hook: ${i}`);continue}for(const s of o)n[s]=function(){const a=this.$root===this;a&&(this.$_sentryRootComponentSpan=this.$_sentryRootComponentSpan||Tt({name:"Application Render",op:`${Eu}.render`,attributes:{"sentry.origin":"auto.ui.vue"},onlyIfParent:!0}),yo(this,ue(),r));const c=Un(this,!1);if(!(a||(Array.isArray(e.trackComponents)?NI(e.trackComponents,c):e.trackComponents))){yo(this,ue(),r);return}this.$_sentryComponentSpans=this.$_sentryComponentSpans||{};const u=s===o[0],d=this.$root?.$_sentryRootComponentSpan||ge();if(u){if(d){const l=this.$_sentryComponentSpans[i];l&&l.end(),this.$_sentryComponentSpans[i]=Tt({name:`Vue ${c}`,op:`${Eu}.${i}`,attributes:{[ce]:"auto.ui.vue"},onlyIfParent:!0})}}else{const l=this.$_sentryComponentSpans[i];if(!l)return;l.end(),yo(this,ue(),r)}}}return n},LI={Vue:B.Vue,attachProps:!0,attachErrorHandler:!0,tracingOptions:{hooks:Df,timeout:2e3,trackComponents:!1}},DI="Vue",PI=(e={})=>({name:DI,setup(t){const n={...LI,...t.getOptions(),...e};if(!n.Vue&&!n.app){Je(()=>{console.warn("[@sentry/vue]: Misconfigured SDK. Vue specific errors will not be captured. Update your `Sentry.init` call with an appropriate config option: `app` (Application Instance - Vue 3) or `Vue` (Vue Constructor - Vue 2).")});return}n.app?(Array.isArray(n.app)?n.app:[n.app]).forEach(r=>wu(r,n)):n.Vue&&wu(n.Vue,n)}}),wu=(e,t)=>{Pf&&e._instance?.isMounted===!0&&Je(()=>{console.warn("[@sentry/vue]: Misconfigured SDK. Vue app is already mounted. Make sure to call `app.mount()` after `Sentry.init()`.")}),t.attachErrorHandler&&MI(e,t),ut(t)&&e.mixin(OI(t.tracingOptions))};function H1(e={}){const t={defaultIntegrations:[...bd(e),PI()],...e};return xl(t,"vue"),rb(t)}function FI(e,t,n){let r=!1;e.onError(i=>It(i,{mechanism:{handled:!1}})),e.beforeEach((i,o,s)=>{const a=r?void 0:BI(),c={};for(const l of Object.keys(i.params))c[`url.path.parameter.${l}`]=i.params[l],c[`params.${l}`]=i.params[l];for(const l of Object.keys(i.query)){const f=i.query[l];f&&(c[`query.${l}`]=f)}let u=i.path,d="url";if(i.name&&t.routeLabel!=="path")u=i.name.toString(),d="custom";else if(i.matched.length>0){const l=i.matched.length-1;u=i.matched[l].path,d="route"}j().setTransactionName(u),t.instrumentPageLoad&&a&&(W(a).data["sentry.source"]!=="custom"&&(a.updateName(u),a.setAttribute(xe,d)),a.setAttributes({...c,[ce]:"auto.pageload.vue"}),r=!0),t.instrumentNavigation&&!a&&n({name:u,op:"navigation",attributes:{...c,[ce]:"auto.navigation.vue",[xe]:d}}),s&&s()})}function BI(){const e=ge(),t=e&&_e(e);if(t)return W(t).op==="pageload"?t:void 0}function W1(e={}){if(!e.router)return pu(e);const t=pu({...e,instrumentNavigation:!1}),{router:n,instrumentNavigation:r=!0,instrumentPageLoad:i=!0,routeLabel:o="name"}=e;return{...t,afterAllSetup(s){t.afterAllSetup(s),FI(n,{routeLabel:o,instrumentNavigation:r,instrumentPageLoad:i},c=>{kf(s,c)})}}}var UI={attachPiniaState:!0,addBreadcrumbs:!0,actionTransformer:e=>e,stateTransformer:e=>e},Tu=(e,t)=>{const n={};try{return Object.keys(e.state.value).forEach(r=>{n[r]=e.state.value[r]}),t?t(n):n}catch{return n}},z1=e=>{const t={...UI,...e};return({store:r,pinia:i})=>{t.attachPiniaState!==!1&&Ii().addEventProcessor((o,s)=>{try{const a=`pinia_state_all_stores_${new Date().toTimeString().split(" ")[0]}.json`;s.attachments?.some(c=>c.filename.startsWith("pinia_state_all_stores_"))||(s.attachments=[...s.attachments||[],{filename:a,data:JSON.stringify(Tu(i,t.stateTransformer))}])}catch{}return o}),r.$onAction(o=>{o.after(()=>{const s=t.actionTransformer(o.name);typeof s<"u"&&s!==null&&t.addBreadcrumbs!==!1&&Xe({category:"pinia.action",message:`Store: ${r.$id} | Action: ${s}`,level:"info"});const a=Tu(i,t.stateTransformer),c=j(),u=c.getScopeData().contexts.state;if(typeof a<"u"&&a!==null){const d=x()?.getOptions()?.normalizeDepth||3,f={...u||{},state:{type:"pinia",value:a}};ke(f,"__sentry_override_normalization_depth__",3+d),c.setContext("state",f)}else c.setContext("state",{...u||{},state:{type:"pinia",value:"undefined"}})})})}};export{Dy as BrowserClient,L1 as OpenFeatureIntegrationHook,Hn as SDK_VERSION,$e as SEMANTIC_ATTRIBUTE_SENTRY_OP,ce as SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,gp as SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,xe as SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,Wt as Scope,D as WINDOW,Xe as addBreadcrumb,Fh as addEventProcessor,Ba as addIntegration,MI as attachErrorHandler,ES as breadcrumbsIntegration,OS as browserApiErrorsIntegration,x1 as browserProfilingIntegration,US as browserSessionIntegration,W1 as browserTracingIntegration,N1 as buildLaunchDarklyFlagUsedHandler,n1 as captureConsoleIntegration,Ri as captureEvent,It as captureException,Fg as captureFeedback,Mo as captureMessage,Da as captureSession,sS as chromeStackLineParser,ZI as close,u1 as consoleLoggingIntegration,w1 as contextLinesIntegration,$I as continueTrace,z1 as createSentryPiniaPlugin,OI as createTracingMixins,lm as createTransport,_1 as createUserFeedbackEnvelope,Km as dedupeIntegration,wf as defaultRequestInstrumentationOptions,_S as defaultStackLineParsers,yS as defaultStackParser,F1 as diagnoseSdkConnectivity,fl as endSession,Am as eventFiltersIntegration,xy as eventFromException,My as eventFromMessage,Ns as exceptionFromError,r1 as extraErrorDataIntegration,c1 as featureFlagsIntegration,d1 as feedbackAsyncIntegration,f1 as feedbackIntegration,f1 as feedbackSyncIntegration,JI as flush,y1 as forceLoad,Rm as functionToStringIntegration,lS as geckoStackLineParser,ge as getActiveSpan,x as getClient,j as getCurrentScope,bd as getDefaultIntegrations,l1 as getFeedback,Ii as getGlobalScope,ye as getIsolationScope,k1 as getReplay,_e as getRootSpan,Fr as getSpanDescendants,vp as getSpanStatusFromHttpCode,Ml as getTraceData,zS as globalHandlersIntegration,T1 as graphqlClientIntegration,E1 as httpClientIntegration,KS as httpContextIntegration,Nm as inboundFiltersIntegration,H1 as init,CT as instrumentOutgoingRequests,yg as instrumentSupabaseClient,Ph as isEnabled,QI as isInitialized,Dh as lastEventId,A1 as launchDarklyIntegration,my as lazyLoadIntegration,eb as linkedErrorsIntegration,p1 as logger,R1 as makeBrowserOfflineTransport,yd as makeFetchTransport,e1 as makeMultiplexedTransport,t1 as moduleMetadataIntegration,v1 as onLoad,O1 as openFeatureIntegration,m1 as opera10StackLineParser,g1 as opera11StackLineParser,vm as parameterize,Pp as registerSpanErrorInstrumentation,U1 as registerWebWorker,C1 as replayCanvasIntegration,I1 as replayIntegration,b1 as reportingObserverIntegration,i1 as rewriteFramesIntegration,v_ as sendFeedback,Lh as setContext,sm as setCurrentClient,VI as setExtra,GI as setExtras,ti as setHttpStatus,ih as setMeasurement,KI as setTag,YI as setTags,XI as setUser,S1 as showReportDialog,jI as spanToBaggageHeader,W as spanToJSON,Np as spanToTraceHeader,M1 as spotlightBrowserIntegration,kf as startBrowserTracingNavigationSpan,zT as startBrowserTracingPageLoadSpan,Tt as startInactiveSpan,lh as startNewTrace,La as startSession,gs as startSpan,qI as startSpanManual,P1 as statsigIntegration,o1 as supabaseIntegration,uh as suppressTracing,a1 as thirdPartyErrorFilterIntegration,D1 as unleashIntegration,zI as updateSpanName,PI as vueIntegration,B1 as webWorkerIntegration,h1 as winjsStackLineParser,Ci as withActiveSpan,WI as withIsolationScope,Ve as withScope,s1 as zodErrorsIntegration};
