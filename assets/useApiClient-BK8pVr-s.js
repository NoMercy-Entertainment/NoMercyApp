import{d,aO as P,R as w}from"./vue-ionic-Cv2or74p.js";import{r as u,bg as f}from"./index-CuFkuKu6.js";import{q as C}from"./useInfiniteServerClient-B2pSj0Pt.js";const Q=e=>{var R;const m=d(((R=u.currentRoute.value.params)==null?void 0:R.letter)||"_"),g=a=>{m.value=a};u.afterEach(()=>{g(u.currentRoute.value.params.letter)});const c=()=>Object.keys((e==null?void 0:e.data)??{}).reduce((a,l)=>(a[l]=w(e==null?void 0:e.data[l].value),a),{}),h=d((e==null?void 0:e.type)??"get");return{...P({...e,queryKey:C(e),enabled:!0,retry:0,refetchOnMount:!0,refetchOnWindowFocus:!1,networkMode:"offlineFirst",staleTime:e!=null&&e.keepForever?1/0:1e3*60*5,queryFn:()=>new Promise((a,l)=>{const v=new AbortController;setTimeout(()=>{let t;return((e==null?void 0:e.path)??u.currentRoute.value.fullPath).includes("undefined")?Promise.reject():(h.value=="get"?t=f().get((e==null?void 0:e.path)??u.currentRoute.value.fullPath,{params:{letter:m.value,...e==null?void 0:e.params,...c()},signal:v.signal}).then(r=>{var y;return((y=r.data)==null?void 0:y.data)??r.data}).catch(l):h.value=="post"?t=f().post((e==null?void 0:e.path)??u.currentRoute.value.fullPath,{letter:u.currentRoute.value.params.letter??void 0,...e==null?void 0:e.data,...c()},{signal:v.signal}).then(({data:r})=>(r==null?void 0:r.data)??r).catch(l):h.value=="put"?t=f().put((e==null?void 0:e.path)??u.currentRoute.value.fullPath,{letter:u.currentRoute.value.params.letter??void 0,...e==null?void 0:e.data,...c()},{signal:v.signal}).then(({data:r})=>(r==null?void 0:r.data)??r).catch(l):h.value=="patch"?t=f().patch((e==null?void 0:e.path)??u.currentRoute.value.fullPath,{letter:u.currentRoute.value.params.letter??void 0,...e==null?void 0:e.data,...c()},{signal:v.signal}).then(({data:r})=>(r==null?void 0:r.data)??r).catch(l):h.value=="delete"&&(t=f().delete((e==null?void 0:e.path)??u.currentRoute.value.fullPath,{letter:u.currentRoute.value.params.letter??void 0,...e==null?void 0:e.data,...c()},{signal:v.signal}).then(({data:r})=>(r==null?void 0:r.data)??r).catch(l)),a(t))},(e==null?void 0:e.delay)??0)})}),setLetter:g}};export{Q as u};
