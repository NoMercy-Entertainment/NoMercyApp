import{B as G,C as f,Ct as n,Dt as y,J as O,K as t,Q,R as N,S as k,T as r,X as z,Y as J,c as K,g as L,j as W,k as w,mt as i,ot as B,w as s,wt as v,x as X}from"./i18n-fABvX7Av.js";import"./ionic-DIYphHxf.js";import"./vue-core-hXf_Oh5G.js";import"./dist-CJipjyJM.js";import{Ar as Y,Bi as H,Ln as g,Qt as M,b as x,ia as U,v as Z}from"./index-BLaXrj-1.js";import{n as ee,r as te,t as ae}from"./swiper-CTbPfcPf.js";import{t as re}from"./nmComponentMap-DdJURGjY.js";import{n as se,t as E}from"./swiper-config-B_j61v5E.js";K();var le=["id","data-next-id","data-previous-id"],oe={class:"flex w-available flex-1 flex-col gap-2 pb-1"},ie={class:"relative ml-2 flex flex-shrink-0 flex-grow-0 items-center self-stretch"},ne={key:0},ue={key:1},ce={class:"leading-none pt-0.5"},de={key:4,class:"flex flex-shrink-0 flex-grow-0 items-start justify-start gap-2 pr-4 ml-auto text-surface-11/12"},fe=["aria-label"],ve=["aria-label","onclick"],me={class:"gap-3 py-1 pr-0 w-available swiper"},pe=W({__name:"NMCarousel",props:{title:{type:String,required:!0},more_link:{type:String,required:!1},more_link_text:{type:String,required:!1,default:"See more"},items:{type:Array,required:!1,default:[]},type:{type:String,required:!1},limitCardCountBy:{type:Number,required:!1},backdropCards:{type:Boolean,required:!1,default:!1},index:{type:Number,required:!0},id:{type:String,required:!0},previous_id:{type:String,required:!1},next_id:{type:String,required:!1}},setup(a){const u=a,_=i(!1),h=i(!0),l=i(!1),o=i(!1),m=i(),S=i(),P=(e,p)=>{e.progress=Math.floor((p*100+1)/100),_.value=!e.isBeginning,h.value=e.progress<1,l.value=e.progress===1,o.value=!e.isLocked},V=e=>{e.progress=Math.floor((e.progress*100+1)/100),e.el?.classList.remove("opacity-0"),_.value=!e.isBeginning,h.value=e.progress<1,l.value=e.progress===1,o.value=!e.isLocked},q=i(),j=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{q.value?.classList.remove("opacity-0")})})},A=()=>{m.value?.$el?.swiper.slideTo(0,300),o.value=!0},R=()=>{m.value?.$el?.swiper.slideNext(300)},D=()=>{m.value?.$el?.swiper.slidePrev(300)},F=window.innerWidth<800?24:20,b=i(),C=X(()=>U.value);G(()=>{if(!u.limitCardCountBy){b.value=E(C.value);return}const e={};for(const[p,c]of Y(E(C.value)))e[p]={...c,slidesPerView:c.slidesPerView-u.limitCardCountBy,slidesPerGroup:c.slidesPerGroup-u.limitCardCountBy};b.value=e});const I=()=>{document.querySelector(`#carousel_${u.next_id} button`)?.focus();const e=document.querySelector(`#carousel_${u.next_id} h3`);!e||!g.value||M(e,g.value,{duration:300,margin:2})},T=()=>{!g.value||!S.value||M(S.value,g.value,{duration:300,margin:2})};return(e,p)=>{const c=z("RouterLink");return a.items?.length?(t(),r("div",{key:0,id:`carousel_${a.id}`,class:v([{"sm:mt-0":!a.previous_id},"mt-2 sm:mt-6 mb-2 flex w-auto flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-2 self-stretch text-left opacity-0 transition-opacity duration-150"]),"data-next-id":`carousel_${a.next_id}`,"data-previous-id":`carousel_${a.previous_id}`,ref_key:"carouselEl",ref:q},[k("div",oe,[k("div",ie,[a.title?(t(),r("h3",{key:0,ref:"title",class:"mr-2 ml-3 sm:ml-3 my-2 text-surface-12/90 self-stretch flex-grow-0 flex-shrink-0 text-xl font-bold"},y(a.title),513)):J(e.$slots,"selector",{key:1},void 0,!0),a.next_id?(t(),r("button",{key:2,class:"skip-navigation hidden sm:flex sm:absolute opacity-0 focus-visible:opacity-100 tv:hidden",onClick:I,onFocus:T},[a.next_id==="continue"?(t(),r("span",ne,y(e.$t("Back to first carousel")),1)):(t(),r("span",ue,y(e.$t("Skip to next carousel")),1))],32)):s("",!0),a.more_link?(t(),f(c,{key:3,to:a.more_link,class:"text-base flex items-center ml-auto sm:ml-4 mr-2 sm:mr-auto"},{default:B(()=>[k("span",ce,y(a.more_link_text),1),w(x,{className:"w-6 mt-1",icon:"chevronRight"})]),_:1},8,["to"])):s("",!0),n(H)?s("",!0):(t(),r("div",de,[o.value?(t(),r("button",{key:0,"aria-label":e.$t("Previous slide"),class:v([{"cursor-not-allowed opacity-50":!_.value},"hidden sm:flex justify-center items-center p-1 rounded-lg bg-surface-5 active:scale-95 hover:bg-surface-6 transition-transform duration-200"]),onclick:D,tabindex:"-1"},[w(x,{class:"w-6",icon:"chevronLeft"})],10,fe)):s("",!0),o.value?(t(),r("button",{key:1,"aria-label":l.value?e.$t("Start slide"):e.$t("Next slide"),class:v([{"cursor-not-allowed opacity-50":!o.value},"hidden sm:flex justify-center items-center p-1 rounded-lg bg-surface-5 active:scale-95 hover:bg-surface-6 transition-transform duration-200"]),onclick:l.value?A:R,tabindex:"-1"},[o.value&&!l.value?(t(),f(x,{key:0,class:v([{"opacity-0":!h.value&&l.value},"w-6"]),icon:"chevronRight"},null,8,["class"])):s("",!0),o.value&&l.value?(t(),f(x,{key:1,class:v([{"opacity-0":!l.value},"w-6"]),icon:"chevronLeftDouble"},null,8,["class"])):s("",!0)],10,ve)):s("",!0)]))]),k("div",me,[w(n(ee),N({ref_key:"swiper",ref:m,breakpoints:b.value,modules:[n(ae)],slidesOffsetBefore:n(F),"data-spatial-container":"row"},n(se)(C.value),{onAfterInit:j,onProgress:P,onSlideChange:V}),{default:B(()=>[(t(!0),r(L,null,O(a.items,(d,$)=>(t(),r(L,{key:d?.id},[d?.id?(t(),f(n(te),{key:0,"virtual-index":$,class:"flex"},{default:B(()=>[(t(),f(Q(n(re)[d.component]),N({key:d.id},{ref_for:!0},d.props),null,16))]),_:2},1032,["virtual-index"])):s("",!0)],64))),128))]),_:1},16,["breakpoints","modules","slidesOffsetBefore"])])])],10,le)):s("",!0)}}}),we=Z(pe,[["__scopeId","data-v-cef65fbd"]]);export{we as default};
