import{l as a,C as d,cK as p,a6 as g,a$ as m,w as v,cL as b,R as y,ah as R}from"./index-4xkagrUD.js";const o=a(!1),f=a("video"),t=a(""),i=a([]),S=d(()=>i.value),V=m(t,700);v(V,e=>{if(e===""){i.value=[];return}o.value=!0;const s=`${y.value?.serverBaseUrl}/api/v1/music/search?query=${e}`;fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R.value?.accessToken}`}}).then(u=>u.json()).then(u=>{i.value=u.data,o.value=!1})});const c=a(""),r=a(!1),n=a([]),_=d(()=>n.value),$=m(c,700),l=a(1);v($,e=>{if(e===""){n.value=[];return}r.value=!1,o.value=!0,l.value=1;const s=`https://api.themoviedb.org/3/search/multi?api_key=${p}&language=${g.language}&query=${e}&page=${l.value}&include_adult=false`;fetch(s).then(u=>u.json()).then(u=>{n.value=u.results,r.value=u.total_pages>1,o.value=!1})});function j(){l.value+=1;const e=`https://api.themoviedb.org/3/search/multi?api_key=${p}&language=${g.language}&query=${$.value}&page=${l.value}&include_adult=false`;fetch(e).then(s=>s.json()).then(s=>{n.value=[...n.value,...s.results],s.results.length===0?r.value=!1:r.value=s.total_pages>l.value})}const T=a(null);b(T,([{isIntersecting:e}],s)=>{e&&j()});const q=a(),h=a("");d(()=>f.value==="video"?_.value:S.value);v(f,e=>{e==="video"?(t.value="",c.value=h.value):(c.value="",t.value=h.value)});v(h,e=>{f.value==="video"?(c.value=e,t.value=""):(c.value="",t.value=e)});export{S as a,f as b,q as c,h as d,j as f,r as h,t as m,o as s,_ as v};
