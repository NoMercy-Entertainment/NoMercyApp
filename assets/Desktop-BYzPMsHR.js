import{bP as ge,I as F,l as A,C as j,G as B,E as be,bM as _e,c5 as je,cp as Ne,d as c,o as l,K as t,s as g,j as h,r as J,n as q,c as D,h as xe,a as n,t as x,F as ye,T as ze,Z as ke,du as Oe,w as X,b1 as Y,bg as ee,aa as te,e9 as ae,a7 as re,f as Fe,bu as Be,a2 as se,a3 as le,b as u,a6 as Le,A as qe,R as oe,e0 as Ke,q as Ve,e1 as We,bh as He,a5 as ne,O as L,dv as $}from"./index-BlsCkKvU.js";import{u as Ue}from"./index-BYwqtu8U.js";import{u as ie}from"./useServerClient-6Bqhc4IC.js";import{_ as z}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-CcyaU_rN.js";import{w as Ge,a as Qe,h as Ze,t as Je,i as V,f as Xe,c as C,b as Z,s as Ye,o as S,l as et,v as tt,N as ue,_ as we,p as at,u as rt,O as st}from"./listbox-DQ7ZNF81.js";import{i as lt,o as T,u as ot,A as W,N as ce}from"./render-C287iPuw.js";import{_ as nt}from"./FloatingBackButton.vue_vue_type_script_setup_true_lang-BgnfoS3j.js";import{_ as de}from"./TMDBImage.vue_vue_type_script_setup_true_lang-BloXBgAN.js";import{M as it}from"./MediaLikeButton-CvBVijIR.js";import{_ as ut,a as ct}from"./SeasonCarousel.vue_vue_type_script_setup_true_lang-Cp1_Je5o.js";import{_ as pe,a as fe}from"./PersonCarousel.vue_vue_type_script_setup_true_lang-DyEgVZPF.js";import{_ as me}from"./MediaCarousel.vue_vue_type_script_setup_true_lang-BpajFcag.js";import{I as K}from"./InfoHeaderItem-dezuOm15.js";import{_ as dt}from"./ContentRating.vue_vue_type_script_setup_true_lang-Cy0wEz59.js";import{_ as N}from"./InfoItem.vue_vue_type_script_setup_true_lang-f1UpYldj.js";import{_ as Ie}from"./ScrollContainer.vue_vue_type_script_setup_true_lang-xwr-mDAl.js";import{_ as pt}from"./NotFound.vue_vue_type_script_setup_true_lang-CBdZ4CtT.js";import{_ as G}from"./BannerButton.vue_vue_type_script_setup_true_lang-gWP_WpiJ.js";import{_ as ft}from"./ShareButton.vue_vue_type_script_setup_true_lang-D6qFsTB8.js";import{_ as mt}from"./Modal.vue_vue_type_script_setup_true_lang-DAN_eoOV.js";import{_ as vt}from"./NMComponent.vue_vue_type_script_setup_true_lang-B_2wEyje.js";import{s as ve}from"./sidebar-CmPAIqr0.js";import{_ as ht}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useQuery-f3S0rg_a.js";import"./useBaseQuery-z80KnmTz.js";import"./useQueryClient-DkDUGw6x.js";import"./useInfiniteServerClient-BSu1htWg.js";import"./AppLogoSquare-BmoFbbIa.js";import"./MusicButton.vue_vue_type_script_setup_true_lang-MnvKLQfc.js";import"./index-BQOVP8rp.js";import"./index-BpH5XZjP.js";import"./index-Cdh1k1pY.js";import"./index-ZhWAdK_X.js";import"./autoSkipPlugin-BrLb25Qa.js";import"./subtitles-octopus-Bdu7PkFC.js";import"./buttons-IwPh3z7u.js";import"./desktopUIPlugin-6g1P5VRl.js";import"./keyHandlerPlugin-BtaNBKEG.js";import"./imageModal-zqT0KAAe.js";import"./swiper-vue-BSkH_9PR.js";import"./Carousel-pQqyupW3.js";import"./swiper-config-BwZTl43y.js";import"./Select.vue_vue_type_script_setup_true_lang-a0VGVaRY.js";import"./PersonCard.vue_vue_type_script_setup_true_lang-COwCpWl9.js";import"./CardIndicator.vue_vue_type_script_setup_true_lang-BHSaBP4Q.js";import"./Shadow-D9AL5vhV.js";import"./routerHelper-C0pjLqtA.js";import"./useMutationState-Bt8wr4OA.js";function gt({container:o,accept:i,walk:e,enabled:v}){ge(()=>{let k=o.value;if(!k||v!==void 0&&!v.value)return;let w=lt(o);if(!w)return;let a=Object.assign(d=>i(d),{acceptNode:i}),m=w.createTreeWalker(k,NodeFilter.SHOW_ELEMENT,a,!1);for(;m.nextNode();)e(m.currentNode)})}var bt=(o=>(o[o.Open=0]="Open",o[o.Closed=1]="Closed",o))(bt||{}),_t=(o=>(o[o.Pointer=0]="Pointer",o[o.Other=1]="Other",o))(_t||{});function xt(o){requestAnimationFrame(()=>requestAnimationFrame(o))}let $e=Symbol("MenuContext");function H(o){let i=je($e,null);if(i===null){let e=new Error(`<${o} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,H),e}return i}let yt=F({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(o,{slots:i,attrs:e}){let v=A(1),k=A(null),w=A(null),a=A([]),m=A(""),d=A(null),M=A(1);function R(r=p=>p){let p=d.value!==null?a.value[d.value]:null,f=st(r(a.value.slice()),I=>T(I.dataRef.domRef)),_=p?f.indexOf(p):null;return _===-1&&(_=null),{items:f,activeItemIndex:_}}let b={menuState:v,buttonRef:k,itemsRef:w,items:a,searchQuery:m,activeItemIndex:d,activationTrigger:M,closeMenu:()=>{v.value=1,d.value=null},openMenu:()=>v.value=0,goToItem(r,p,f){let _=R(),I=Xe(r===C.Specific?{focus:C.Specific,id:p}:{focus:r},{resolveItems:()=>_.items,resolveActiveIndex:()=>_.activeItemIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.disabled});m.value="",d.value=I,M.value=f??1,a.value=_.items},search(r){let p=m.value!==""?0:1;m.value+=r.toLowerCase();let f=(d.value!==null?a.value.slice(d.value+p).concat(a.value.slice(0,d.value+p)):a.value).find(I=>I.dataRef.textValue.startsWith(m.value)&&!I.dataRef.disabled),_=f?a.value.indexOf(f):-1;_===-1||_===d.value||(d.value=_,M.value=1)},clearSearch(){m.value=""},registerItem(r,p){let f=R(_=>[..._,{id:r,dataRef:p}]);a.value=f.items,d.value=f.activeItemIndex,M.value=1},unregisterItem(r){let p=R(f=>{let _=f.findIndex(I=>I.id===r);return _!==-1&&f.splice(_,1),f});a.value=p.items,d.value=p.activeItemIndex,M.value=1}};return Ge([k,w],(r,p)=>{var f;b.closeMenu(),Qe(p,Ze.Loose)||(r.preventDefault(),(f=T(k))==null||f.focus())},j(()=>v.value===0)),Ne($e,b),Je(j(()=>ot(v.value,{0:V.Open,1:V.Closed}))),()=>{let r={open:v.value===0,close:b.closeMenu};return W({ourProps:{},theirProps:o,slot:r,slots:i,attrs:e,name:"Menu"})}}}),Se=F({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(o,{attrs:i,slots:e,expose:v}){var k;let w=(k=o.id)!=null?k:`headlessui-menu-button-${Z()}`,a=H("MenuButton");v({el:a.buttonRef,$el:a.buttonRef});function m(b){switch(b.key){case S.Space:case S.Enter:case S.ArrowDown:b.preventDefault(),b.stopPropagation(),a.openMenu(),B(()=>{var r;(r=T(a.itemsRef))==null||r.focus({preventScroll:!0}),a.goToItem(C.First)});break;case S.ArrowUp:b.preventDefault(),b.stopPropagation(),a.openMenu(),B(()=>{var r;(r=T(a.itemsRef))==null||r.focus({preventScroll:!0}),a.goToItem(C.Last)});break}}function d(b){switch(b.key){case S.Space:b.preventDefault();break}}function M(b){o.disabled||(a.menuState.value===0?(a.closeMenu(),B(()=>{var r;return(r=T(a.buttonRef))==null?void 0:r.focus({preventScroll:!0})})):(b.preventDefault(),a.openMenu(),xt(()=>{var r;return(r=T(a.itemsRef))==null?void 0:r.focus({preventScroll:!0})})))}let R=Ye(j(()=>({as:o.as,type:i.type})),a.buttonRef);return()=>{var b;let r={open:a.menuState.value===0},{...p}=o,f={ref:a.buttonRef,id:w,type:R.value,"aria-haspopup":"menu","aria-controls":(b=T(a.itemsRef))==null?void 0:b.id,"aria-expanded":a.menuState.value===0,onKeydown:m,onKeyup:d,onClick:M};return W({ourProps:f,theirProps:p,slot:r,attrs:i,slots:e,name:"MenuButton"})}}}),kt=F({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(o,{attrs:i,slots:e,expose:v}){var k;let w=(k=o.id)!=null?k:`headlessui-menu-items-${Z()}`,a=H("MenuItems"),m=A(null);v({el:a.itemsRef,$el:a.itemsRef}),gt({container:j(()=>T(a.itemsRef)),enabled:j(()=>a.menuState.value===0),accept(r){return r.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:r.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(r){r.setAttribute("role","none")}});function d(r){var p;switch(m.value&&clearTimeout(m.value),r.key){case S.Space:if(a.searchQuery.value!=="")return r.preventDefault(),r.stopPropagation(),a.search(r.key);case S.Enter:if(r.preventDefault(),r.stopPropagation(),a.activeItemIndex.value!==null){let f=a.items.value[a.activeItemIndex.value];(p=T(f.dataRef.domRef))==null||p.click()}a.closeMenu(),we(T(a.buttonRef));break;case S.ArrowDown:return r.preventDefault(),r.stopPropagation(),a.goToItem(C.Next);case S.ArrowUp:return r.preventDefault(),r.stopPropagation(),a.goToItem(C.Previous);case S.Home:case S.PageUp:return r.preventDefault(),r.stopPropagation(),a.goToItem(C.First);case S.End:case S.PageDown:return r.preventDefault(),r.stopPropagation(),a.goToItem(C.Last);case S.Escape:r.preventDefault(),r.stopPropagation(),a.closeMenu(),B(()=>{var f;return(f=T(a.buttonRef))==null?void 0:f.focus({preventScroll:!0})});break;case S.Tab:r.preventDefault(),r.stopPropagation(),a.closeMenu(),B(()=>tt(T(a.buttonRef),r.shiftKey?ue.Previous:ue.Next));break;default:r.key.length===1&&(a.search(r.key),m.value=setTimeout(()=>a.clearSearch(),350));break}}function M(r){switch(r.key){case S.Space:r.preventDefault();break}}let R=et(),b=j(()=>R!==null?(R.value&V.Open)===V.Open:a.menuState.value===0);return()=>{var r,p;let f={open:a.menuState.value===0},{..._}=o,I={"aria-activedescendant":a.activeItemIndex.value===null||(r=a.items.value[a.activeItemIndex.value])==null?void 0:r.id,"aria-labelledby":(p=T(a.buttonRef))==null?void 0:p.id,id:w,onKeydown:d,onKeyup:M,role:"menu",tabIndex:0,ref:a.itemsRef};return W({ourProps:I,theirProps:_,slot:f,attrs:i,slots:e,features:ce.RenderStrategy|ce.Static,visible:b.value,name:"MenuItems"})}}}),Q=F({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(o,{slots:i,attrs:e,expose:v}){var k;let w=(k=o.id)!=null?k:`headlessui-menu-item-${Z()}`,a=H("MenuItem"),m=A(null);v({el:m,$el:m});let d=j(()=>a.activeItemIndex.value!==null?a.items.value[a.activeItemIndex.value].id===w:!1),M=at(m),R=j(()=>({disabled:o.disabled,get textValue(){return M()},domRef:m}));be(()=>a.registerItem(w,R)),_e(()=>a.unregisterItem(w)),ge(()=>{a.menuState.value===0&&d.value&&a.activationTrigger.value!==0&&B(()=>{var y,O;return(O=(y=T(m))==null?void 0:y.scrollIntoView)==null?void 0:O.call(y,{block:"nearest"})})});function b(y){if(o.disabled)return y.preventDefault();a.closeMenu(),we(T(a.buttonRef))}function r(){if(o.disabled)return a.goToItem(C.Nothing);a.goToItem(C.Specific,w)}let p=rt();function f(y){p.update(y)}function _(y){p.wasMoved(y)&&(o.disabled||d.value||a.goToItem(C.Specific,w,0))}function I(y){p.wasMoved(y)&&(o.disabled||d.value&&a.goToItem(C.Nothing))}return()=>{let{disabled:y,...O}=o,U={active:d.value,disabled:y,close:a.closeMenu};return W({ourProps:{id:w,ref:m,role:"menuitem",tabIndex:y===!0?void 0:-1,"aria-disabled":y===!0?!0:void 0,onClick:b,onFocus:r,onPointerenter:f,onMouseenter:f,onPointermove:_,onMousemove:_,onPointerleave:I,onMouseleave:I},theirProps:{...e,...O},slot:U,attrs:e,slots:i,name:"MenuItem"})}}});const wt={class:"relative flex w-full flex-grow items-center justify-center gap-2 text-base font-semibold"},It={class:"w-full whitespace-nowrap"},he=F({__name:"ListControlHeaderMoreMenu",props:{items:{type:Array,required:!0},className:{type:String,required:!1,default:""}},setup(o){return(i,e)=>(l(),c(t(yt),{as:"div",class:"relative select-none z-[150]"},{default:g(()=>[h(t(Se),{"aria-label":i.$t("more"),class:""},{default:g(()=>[J(i.$slots,"button",{},()=>[h(z,{icon:"menuDotsHorizontal"})])]),_:3},8,["aria-label"]),h(ze,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"scale-95 transform opacity-0","enter-to-class":"scale-100 transform opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"scale-100 transform opacity-100","leave-to-class":"scale-95 transform opacity-0"},{default:g(()=>[h(t(kt),{class:q(["absolute z-10 m-2 ml-8 flex w-min origin-top-right -translate-x-full flex-col gap-2 rounded-lg p-1 shadow-lg bg-slate-light-3 dark:bg-slate-dark-1 border-1 border-auto-2/11",o.className])},{default:g(()=>[J(i.$slots,"default"),(l(!0),D(ye,null,xe(o.items,(v,k)=>(l(),c(t(Q),{key:k,as:"div",class:"flex justify-center items-center self-stretch h-10 relative p-2 gap-3 rounded-sm border border-transparent hover:border-focus/4 active:bg-focus/9 active:border-focus/4 active:hover:border-focus/4 focus:bg-auto-12/2 hover:bg-focus/10 disabled:!bg-focus/2 disabled:!border-focus/2 transition-colors duration-200",onClick:v.onclick},{default:g(()=>[n("span",wt,[h(z,{icon:v.icon,title:v.title},null,8,["icon","title"]),n("span",It,x(i.$t(v.title)),1)])]),_:2},1032,["onClick"]))),128))]),_:3},8,["class"])]),_:3})]),_:3}))}}),$t=F({__name:"MissingEpisodes",props:{open:{type:Boolean,required:!0},close:{type:Function,required:!0}},setup(o){const i=ke(),e=j(()=>{const v=`${i.path}/missing`.split("/");return v[0]="base",v});return(v,k)=>(l(),c(mt,{open:o.open,close:o.close,title:"Missing episodes","max-width":"max-w-7xl"},{default:g(()=>[h(Ie,{"auto-hide":!0,static:!0},{default:g(()=>[h(vt,{path:`${t(i).path}/missing`,options:{queryKey:e.value}},null,8,["path","options"])]),_:1})]),_:1},8,["open","close"]))}}),St={key:0,class:""},Mt={class:"flex flex-col gap-4 overflow-clip rounded-3xl border-0 pb-2 w-available scrollbar-none border-auto-3"},At={class:"flex flex-col relative mx-auto w-full gap-4 rounded-lg p-4 max-w-screen-4xl justify-end min-h-[calc(100vh-6rem)] z-10"},Tt={class:"z-0 flex w-full flex-grow flex-col items-end justify-end gap-2"},Rt={class:"children:absolute relative right-1 bottom-0 col-start-1 col-end-2 flex h-auto w-auto select-none justify-end pb-2 max-w-[20vw] w-available translate-x-[4px] sm:h-40 lg:max-w-[30vw] aspect-[32/9]"},Pt={class:"relative col-start-2 col-end-4 grid flex-shrink-0 flex-grow-0 grid-cols-3 items-start justify-start self-stretch rounded-2xl bg-gradient-to-b p-6 from-slate-light-3/12 via-slate-light-4/12 to-slate-light-4/11 dark:from-slate-dark-2/12 dark:via-slate-dark-2/12 dark:to-slate-dark-2/11 border-auto-5/8 border-1 min-h-[23.5rem]"},Dt={class:"inset-0 grid group-hover/card:grid h-full w-full place-content-center group-focus-visible/card:bg-none group-hover/card:bg-none text-5xl text-transparent transition-transform duration-200 group-focus-visible/card:transitioning group-hover/card:text-auto-12"},Ct={class:"col-start-1 content-center col-end-2 mt-auto bottom-6 left-8 w-full flex-shrink-0 select-none flex-grow-0 text-sm text-slate-lightA-12/70 dark:text-slate-darkA-12/80"},Et={class:"col-start-2 col-end-4 flex w-full flex-grow flex-col items-start justify-start gap-4"},jt={class:"relative flex flex-shrink-0 flex-grow-0 items-center justify-start gap-4 self-stretch"},Nt={class:"flex-grow text-5xl font-bold w-[806px] text-auto-12",style:{"font-size":"clamp(1.25rem, 2.309vw + 0.652rem, 2rem)","line-height":`clamp(
                            1.875rem,
                            2.54vw + 1.218rem,
                            2.75rem
                          )`}},zt={key:0,class:"relative flex flex-shrink-0 flex-grow-0 items-center justify-start gap-4"},Ot={class:"absolute top-3 left-1/2 -translate-x-1/2 grid h-0 w-max flex-shrink-0 flex-grow-0 origin-bottom group-hover/play:grid-cols-1 items-center justify-start duration-200 grid-cols-[0fr] group-hover/play:h-[32.77px] transform-all group-hover/play:top-[-38px] rounded-[5.46px] bg-[#3a3f42] group-hover/play:border border-[#e2f0fd]/[0.08]",style:{"box-shadow":"0 8px 12px -4px rgba(0, 0, 0, 0.08)"}},Ft={class:"overflow-hidden"},Bt={class:"flex-shrink-0 flex-grow-0 py-0 text-center text-xs font-bold px-2.5"},Lt={class:"whitespace-nowrap text-base font-semibold"},qt=["src","alt"],Kt={class:"w-full whitespace-nowrap col-span-4 text-base font-semibold"},Vt={key:2,class:"flex !flex-nowrap relative h-10 z-0 justify-center overflow-clip pointer-events-auto border-none group/button gap-2 p-2.5 items-center rounded-lg sm:bg-slate-lightA-2 dark:sm:bg-slate-darkA-4"},Wt={class:"whitespace-nowrap text-base font-semibold"},Ht=["href"],Ut={class:"w-full whitespace-nowrap"},Gt={key:0,class:"flex flex-shrink-0 items-center justify-start gap-4 self-stretch"},Qt={class:"flex-shrink-0 text-sm font-bold uppercase text-auto-12"},Zt={class:"flex-shrink-0 flex-grow-0 text-sm font-bold uppercase text-auto-12"},Jt={class:"flex-shrink-0 flex-grow-0 text-sm font-bold uppercase text-auto-12"},Xt={class:"flex-shrink-0 flex-grow-0 text-sm font-bold text-auto-12 -ml-0.5"},Yt={key:4,class:"relative overflow-hidden"},ea={key:1,class:"relative flex flex-col items-start justify-start gap-2 self-stretch"},ta={class:"w-full text-lg font-medium text-auto-12 mb-4"},aa={key:0,class:""},ra={class:""},sa=["href"],la={class:"relative grid w-full flex-shrink-0 flex-grow-0 grid-cols-7 items-start justify-start gap-1"},oa={class:"grid-cols-3 text-xs font-bold uppercase text-slate-lightA-12/70 dark:text-slate-darkA-12/80"},na={class:"col-span-6 col-start-3 flex w-full max-w-fit flex-wrap gap-1 self-center xl:col-start-3 2xl:col-start-2 text-slate-lightA-12 dark:text-slate-darkA-12/80 font-semibold"},ia={class:"gap-1 children:whitespace-nowrap text-sm"},ua=["href"],ca={key:0,class:"gap-1 children:whitespace-nowrap text-sm"},da=["href"],pa={key:1,class:"gap-1 children:whitespace-nowrap text-sm"},fa=["href"],ma=F({__name:"Desktop",setup(o){const i=ke(),{data:e,isError:v,error:k}=ie({keepForever:!0,queryKey:["base","info",i.params.id],path:i?.fullPath}),{data:w}=ie({queryKey:["base","info",i.params.id,"available"],path:`${i.fullPath}/available`}),a=A(!1),m=A("loading"),d=A(-1),M=A(null),R=A(null),{t:b}=Ue(),r=Oe(),p=A(!1);function f(){p.value=!0}function _(){p.value=!1}function I(s){if(m.value="loading",!s||s.videos?.length===0||!s.videos?.[d.value]){m.value=!1;return}M.value=s.duration&&new Date(new Date().getTime()+s.duration*60*1e3).toLocaleTimeString(ne.language??"en-US",{hour:"2-digit",minute:"2-digit"}),R.value=setInterval(()=>{M.value=s.duration&&new Date(new Date().getTime()+s.duration*60*1e3).toLocaleTimeString(ne.language??"en-US",{hour:"2-digit",minute:"2-digit"})},1e3),L().head(`trailer/${s.videos[d.value]?.src}`,{withCredentials:!1}).then(()=>{m.value=!0}).catch(()=>{O(),m.value=!1})}X(e,s=>{Y(s?.title??s?.name),s?.backdrop&&ee.value!==s?.backdrop&&te(s?.backdrop),s?.logo&&ae(s?.logo),(s?.color_palette?.backdrop||s?.color_palette?.poster)&&re(s?.color_palette?.poster||s?.color_palette?.backdrop),I(s)}),be(()=>{d.value=0,Y(e?.value?.name),e?.value?.backdrop&&ee.value!==e?.value?.backdrop&&te(e?.value?.backdrop),e?.value?.logo&&ae(e?.value?.logo),(e?.value?.color_palette?.backdrop||e?.value?.color_palette?.poster)&&re(e?.value?.color_palette?.backdrop??e?.value?.color_palette?.poster),I(e?.value)}),_e(()=>{clearInterval(R.value??void 0)});function y(s){if(s?.stopPropagation(),!e?.value?.videos)return;a.value=!a.value;const E=document.querySelector("#main");E&&(E.style.overflow=a.value?"hidden":"auto")}function O(){!e?.value||e?.value?.videos?.length===0||(d.value===e?.value?.videos.length-1?d.value=0:d.value++)}X(d,(s,E)=>{!s||s===E||I(e?.value)});function U(){}function Me(){L().post(`${i.fullPath}/rescan`).then(({data:s})=>{r.add({severity:s.status==="ok"?"success":"error",summary:$("Success"),detail:$(s.message,...s.args),life:5e3})}).catch(()=>{r.add({severity:"error",summary:$("error"),detail:$("An error occurred while rescanning the library folders"),life:5e3})})}function Ae(){L().post(`${i.fullPath}/refresh`).then(({data:s})=>{r.add({severity:s.status==="ok"?"success":"error",summary:$(s.status==="ok"?"Success":"Error"),detail:$(s.message,...s.args),life:5e3})}).catch(()=>{r.add({severity:"error",summary:$("Error"),detail:$("An error occurred while rescanning the library folders"),life:5e3})})}function Te(){L().delete(`${i.fullPath}`).then(({data:s})=>{r.add({severity:s.status==="ok"?"success":"error",summary:$(s.status==="ok"?"Success":"Error"),detail:$(s.message,...s.args),life:5e3})}).catch(()=>{r.add({severity:"error",summary:$("error"),detail:$("An error occurred while rescanning the library folders"),life:5e3})})}function Re(){L().post(`${i.fullPath}/add`).then(({data:s})=>{r.add({severity:s.status==="ok"?"success":"error",summary:$(s.status==="ok"?"Success":"Error"),detail:$(s.message,...s.args),life:5e3})}).catch(()=>{r.add({severity:"error",summary:$("Error"),detail:$("An error occurred while rescanning the library folders"),life:5e3})})}const Pe=j(()=>[{icon:"arrowRefreshHorizontal",onclick:Me,title:"Rescan files",privileged:!0},{icon:"arrowRefreshHorizontal",onclick:Ae,title:"Refresh data",privileged:!0},{icon:"folderAdd",onclick:Re,title:`Add ${e?.value?.media_type==="movie"?"movie":"TV show"}`,privileged:!0},{icon:"folderRemove",onclick:Te,title:`Delete ${e?.value?.media_type==="movie"?"movie":"TV show"}`,privileged:!0},{icon:"searchMagnifyingGlass",onclick:f,title:"Show missing episodes",privileged:!0}]),De=j(()=>({title:e.value?.title??"",text:e.value?.overview??"",url:`https://app.nomercy.tv${i.fullPath}`}));return(s,E)=>{const Ce=Fe("RouterLink");return l(),c(t(He),null,{default:g(()=>[h(t(Be),{fullscreen:!0},{default:g(()=>[t(v)&&!t(e)?(l(),c(pt,{key:0})):(l(),c(Ie,{key:1,"auto-hide":!0,static:!0},{default:g(()=>[n("div",{class:q(["z-0 flex flex-col gap-4 rounded-3xl border-0 w-available scrollbar-none border-auto-3",{"pb-2":t(se)&&t(le),"children:pb-4 sm:children:pb-3":!t(se)&&t(le)}])},[t(v)||t(k)?(l(),D("div",St,[n("p",null,x(t(k)),1)])):u("",!0),n("div",Mt,[h(nt),n("div",At,[E[2]||(E[2]=n("div",{class:"z-0 flex w-full flex-grow flex-col min-h-40"},null,-1)),n("div",Tt,[n("div",Rt,[t(e)?.logo?(l(),c(de,{key:t(e)?.logo,"auto-shadow":!0,path:t(e)?.logo,size:500,shadow:t(Le)(t(e)?.color_palette?.poster),title:t(e)?.title,class:"pointer-events-none relative mx-auto flex h-full w-full select-none place-self-start overflow-hidden p-4","class-name":"relative bottom-0 h-auto w-auto p-4",type:"logo"},null,8,["path","shadow","title"])):u("",!0)]),n("div",Pt,[t(e)?.poster?(l(),D("div",{key:0,class:q(["absolute z-10 col-start-1 content-center col-end-2 h-auto w-full items-start justify-start rounded-lg top-0 -translate-y-[35%] sm:block",{"":t(w)}])},[h(Ce,{to:`/${t(e)?.media_type}/${t(e)?.id}/watch`,"aria-label":s.$t("Play"),class:q(["relative h-available m-auto mx-auto flex-1 flex max-w-[75%] scale-95 cursor-default group/card z-0 transitioning rounded-2xl aspect-poster overflow-clip select-none cover !shadow-none max-h-available",{" 4xl:-mt-10 5xl:-mt-20 6xl:-mt-28 mb-20 6xl:mb-28":t(ve)==="open"," 4xl:-mt-2 5xl:-mt-60 6xl:-mt-28 mb-60 6xl:mb-28":t(ve)!=="open","hover:!scale-100 hover:-translate-y-1":t(w)}]),"data-nav":"true","data-nav-r":"play","data-nav-reset":"true"},{default:g(()=>[(l(),c(de,{key:t(e)?.poster||"poster","auto-shadow":!0,path:t(e)?.poster,"color-palette":t(e)?.color_palette?.poster,size:760,priority:"high",title:t(e)?.title,aspect:"poster","class-name":"pointer-events-none absolute -inset-1 z-20 flex aspect-poster scale-100 select-none items-center place-self-start overflow-hidden rounded-2xl !w-auto !h-auto max-h-available",class:"m-auto !w-full !h-full children:w-auto scale-100 rounded-2xl aspect-poster 5xl:w-inherit flex",type:"image"},null,8,["path","color-palette","title"])),n("span",{class:q(`tv:group-focus-visible/card:bg-black/3 absolute -inset-1 z-20 grid h-auto w-available items-center rounded-lg aspect-poster transition-transform duration-200 opacity-0 [background:radial-gradient(75%_50%_at_50%_50%,_rgba(0,_0,_0,_0.40)_0%,_rgba(0,_0,_0,_0.00)_100%),_rgba(0,_0,_0,_0.09)] mx-auto w-max ${t(w)?"group-hover/card:opacity-100":""}`)},[n("span",Dt,[h(z,{icon:"play","class-name":"w-20 text-slate-lightA-12/70 dark:text-slate-darkA-12/80"})])],2)]),_:1},8,["to","aria-label","class"])],2)):u("",!0),n("p",Ct,x(s.$t("Data provided by The Movie Database(TMDb)"))+". ",1),n("div",Et,[n("div",jt,[n("p",Nt,x(t(e)?.title?.replace(/(: | en de )/,`
`)),1),t(e)?(l(),D("div",zt,[t(w)?(l(),c(G,{key:0,href:`${t(e)?.link}/watch`,title:"Play"},{default:g(()=>[h(z,{icon:"play","class-name":"w-6 text-slate-lightA-12/70  dark:text-slate-darkA-12/80"}),n("div",Ot,[n("div",Ft,[n("p",Bt,x(s.$t("Ends at"))+" "+x(M.value),1)])])]),_:1},8,["href"])):t(e)&&t(e).watch_providers&&t(e).watch_providers.length>0?(l(),c(he,{key:1,items:[],class:"text-slate-lightA-12/70 dark:text-slate-darkA-12/80","class-name":"max-h-80 overflow-y-auto overflow-x-hidden  !ml-0 !-translate-x-1/3"},{button:g(()=>[h(t(Se),{class:"flex flex-nowrap relative w-min active:outline outline-focus focus-visible:outline h-10 z-0 justify-center disabled:opacity-50 disabled:text-auto-300 disabled:hover:!bg-transparent overflow-clip pointer-events-auto border-none focus:border-none active:border-none focus-visible:sm:ring-white focus-visible:sm:ring-2 group/button gap-2 p-2.5 items-center rounded-lg sm:bg-slate-lightA-2 dark:sm:bg-slate-darkA-4 active:sm:bg-slate-lightA-6 focus-visible:sm:bg-slate-lightA-6 hover:sm:bg-slate-lightA-6 dark:sm:active:bg-slate-darkA-6 dark:sm:focus-visible:sm:bg-slate-darkA-6 dark:sm:hover:bg-slate-darkA-6"},{default:g(()=>[n("span",Lt,x(s.$t("Watch options")),1),h(z,{icon:"chevronDown","class-name":"w-6"})]),_:1})]),default:g(()=>[(l(!0),D(ye,null,xe(t(e).watch_providers.toSorted((P,Ee)=>Ee.display_priority-P.display_priority),P=>(l(),c(t(Q),{key:P.id,as:"a",href:P.link,target:"_blank",class:"grid grid-cols-5 w-60 justify-center items-center self-stretch relative p-2 gap-3 rounded-sm border border-transparent hover:border-focus/4 active:bg-focus/9 active:border-focus/4 active:hover:border-focus/4 focus:bg-auto-12/2 hover:bg-focus/10 disabled:!bg-focus/2 disabled:!border-focus/2 transition-colors duration-200"},{default:g(()=>[P?.logo?(l(),D("img",{key:0,src:`https://image.tmdb.org/t/p/w92${P?.logo}`,alt:P?.name,class:"inline h-10 w-10 rounded-sm align-middle col-span-1"},null,8,qt)):u("",!0),n("span",Kt,x(P?.name),1)]),_:2},1032,["href"]))),128))]),_:1})):(l(),D("div",Vt,[n("span",Wt,x(s.$t("Not available")),1),h(z,{icon:"playUnavailable","class-name":"w-6"})])),h(G,{title:"Watch trailer",onClick:E[0]||(E[0]=P=>m.value===!0?y(P):null)},{default:g(()=>[h(z,{icon:"film","class-name":"w-6",style:qe(`color: ${m.value===!0?"rgb(var(--color-green-8))":"rgb(var(--color-red-8))"}`)},null,8,["style"])]),_:1}),h(G,{title:"Mark as watched",onClick:U},{default:g(()=>[h(z,{icon:"check","class-name":"w-6 text-slate-lightA-12/70  dark:text-slate-darkA-12/80"})]),_:1}),h(ft,{"share-data":De.value,class:"!p-0"},null,8,["share-data"]),t(e)?(l(),c(it,{key:3,data:t(e)},null,8,["data"])):u("",!0),h(he,{items:Pe.value.filter(P=>!P.privileged||P.privileged&&(t(oe)?.is_owner||t(oe)?.is_manager)),class:"text-slate-lightA-12/70 dark:text-slate-darkA-12/80"},{default:g(()=>[h(t(Q),{as:"div",class:"flex justify-center items-center self-stretch h-10 relative p-2 gap-3 rounded-sm border border-transparent hover:border-focus/4 active:bg-focus/9 active:border-focus/4 active:hover:border-focus/4 focus:bg-auto-12/2 hover:bg-focus/10 disabled:!bg-focus/2 disabled:!border-focus/2 transition-colors duration-200"},{default:g(()=>[n("a",{target:"_blank",href:`https://www.themoviedb.org/${t(e)?.media_type}/${t(e)?.id}/edit`,class:"relative flex w-full flex-grow items-center justify-center gap-2 text-base font-semibold"},[h(z,{icon:"edit"}),n("span",Ut,x(s.$t("Edit on TMDb")),1)],8,Ht)]),_:1})]),_:1},8,["items"])])):u("",!0)]),t(e)?(l(),D("div",Gt,[t(e)?.year?(l(),c(K,{key:0},{default:g(()=>[n("p",Qt,x(t(e)?.year),1)]),_:1})):u("",!0),t(e)?.number_of_items?(l(),c(K,{key:1},{default:g(()=>[n("p",Zt,x(t(e)?.number_of_items)+" "+x(s.$t("ep"))+". ",1)]),_:1})):u("",!0),t(e)?.duration?(l(),c(K,{key:2},{default:g(()=>[n("p",Jt,x(t(Ke)(t(b),t(e).duration,!0)),1)]),_:1})):u("",!0),t(e)?.voteAverage?(l(),c(K,{key:3},{default:g(()=>[n("p",Xt," ⭐ ️"+x(t(e)?.voteAverage?.toFixed(0))+"/10 ",1)]),_:1})):u("",!0),t(e)?.content_ratings?(l(),D("div",Yt,[h(dt,{size:6,class:"h-full min-!h-[1rem] object-scale-down rounded-lg overflow-clip",ratings:t(e)?.content_ratings},null,8,["ratings"])])):u("",!0)])):u("",!0),t(e)?(l(),D("div",ea,[E[1]||(E[1]=n("div",{class:"h-px bg-auto-12/10"},null,-1)),n("div",ta,[t(e)?.overview?u("",!0):(l(),D("div",aa,[n("span",ra,x(s.$t("We don't have an overview for "))+" "+x(t(e).name)+". "+x(s.$t("Feel free to contribute!")),1),n("a",{href:`https://www.themoviedb.org/${t(i).params?.type}/${t(i).params?.id}/edit`,class:"underline underline-offset-4"},x(s.$t("Contribute to TMDb")),9,sa)])),Ve(" "+x(t(e)?.overview),1)]),t(e)?.genres?(l(),c(N,{key:0,data:t(e),title:"Genres","key-name":"genres",prefix:"genres"},null,8,["data"])):u("",!0),t(e)?.writer?(l(),c(N,{key:1,data:{writer:[t(e)?.writer]},title:"Writer","key-name":"writer",prefix:"person"},null,8,["data"])):u("",!0),t(e)?.creator?(l(),c(N,{key:2,data:{creator:[t(e)?.creator]},title:"Creator","key-name":"creator",prefix:"person"},null,8,["data"])):u("",!0),t(e)?.director?(l(),c(N,{key:3,data:{director:[t(e)?.director]},title:"Director","key-name":"director",prefix:"person"},null,8,["data"])):u("",!0),t(e)?.creators?.length>0?(l(),c(N,{key:4,data:t(e),title:"Creators","key-name":"creators",prefix:"person"},null,8,["data"])):u("",!0),t(e)?.directors?.length>0?(l(),c(N,{key:5,data:t(e),title:"Directors","key-name":"directors",prefix:"person"},null,8,["data"])):u("",!0),t(e)?.writers?.length>0?(l(),c(N,{key:6,data:t(e),title:"Writers","key-name":"writers",prefix:"person"},null,8,["data"])):u("",!0),t(e)?.keywords?.length>0?(l(),c(N,{key:7,data:t(e),title:"Keywords","key-name":"keywords"},null,8,["data"])):u("",!0),t(e)?.networks?.length>0?(l(),c(N,{key:8,data:t(e),title:"Networks","key-name":"networks"},null,8,["data"])):u("",!0),t(e)?.companies?.length>0?(l(),c(N,{key:9,data:t(e),title:"Companies","key-name":"companies"},null,8,["data"])):u("",!0),n("div",la,[n("p",oa,x(s.$t("External links")),1),n("div",na,[n("div",ia,[n("a",{href:`https://themoviedb.org/${t(e)?.media_type}/${t(e)?.id}`,target:"_blank",class:"inline-block underline-offset-4 hover:underline focus-visible:underline"}," TheMovieDb ",8,ua),n("span",null,x(t(e)?.external_ids?.imdb_id||t(e)?.external_ids?.tvdb_id?",":""),1)]),t(e)?.external_ids?.imdb_id?(l(),D("div",ca,[n("a",{href:`https://imdb.com/title/${t(e)?.external_ids?.imdb_id}`,class:"inline-block underline-offset-4 hover:underline focus-visible:underline",target:"_blank"}," IMDb ",8,da),n("span",null,x(t(e)?.external_ids?.tvdb_id?",":""),1)])):u("",!0),t(e)?.external_ids?.tvdb_id?(l(),D("div",pa,[n("a",{href:`https://thetvdb.com/?tab=series&id=${t(e)?.external_ids?.tvdb_id}&lid=eng`,class:"inline-block underline-offset-4 hover:underline focus-visible:underline",target:"_blank"}," TheTvDb ",8,fa)])):u("",!0)])])])):u("",!0)])])])]),t(e)?.seasons&&t(e)?.seasons?.length>0?(l(),c(ut,{key:0,data:t(e)?.seasons,type:"backdrop"},null,8,["data"])):u("",!0),t(e)?.cast&&t(e)?.cast?.length>0?(l(),c(pe,{key:1,data:t(e)?.cast.slice(0,50),title:"Cast"},null,8,["data"])):u("",!0),t(e)?.crew&&t(e)?.crew?.length>0?(l(),c(pe,{key:2,data:t(We)(t(e)?.crew,"profile","id").slice(0,50),title:"Crew"},null,8,["data"])):u("",!0),t(e)?.posters&&t(e)?.posters?.length>0?(l(),c(fe,{key:3,data:t(e)?.posters,title:"Poster",type:"poster"},null,8,["data"])):u("",!0),t(e)?.backdrops&&t(e)?.backdrops?.length>0?(l(),c(fe,{key:4,"color-palette":t(e)?.color_palette?.poster,data:t(e)?.backdrops,title:"Backdrop",type:"backdrop"},null,8,["color-palette","data"])):u("",!0),t(e)?.recommendations&&t(e)?.recommendations?.length>0?(l(),c(me,{key:5,"color-palette":t(e)?.color_palette,data:t(e)?.recommendations,title:"Recommendations",type:"poster"},null,8,["color-palette","data"])):u("",!0),t(e)?.similar&&t(e)?.similar?.length>0?(l(),c(me,{key:6,"color-palette":t(e)?.color_palette,data:t(e)?.similar,title:"Similar",type:"poster"},null,8,["color-palette","data"])):u("",!0)]),t(e)?.videos&&t(e)?.videos?.length>0&&a.value?(l(),c(ct,{key:d.value,"increment-trailer-index":O,index:d.value,open:a.value,title:t(e)?.title??t(e)?.name,toggle:y,videos:t(e)?.videos,class:"inset-0 h-full w-full z-999"},null,8,["index","open","title","videos"])):u("",!0)],2)]),_:1})),h($t,{close:_,open:p.value},null,8,["open"])]),_:1})]),_:1})}}}),ur=ht(ma,[["__scopeId","data-v-5642c87e"]]);export{ur as default};
