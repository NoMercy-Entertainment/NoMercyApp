import{Y as z,ab as B,C as c,j as D,h as g,b as w,Z as s,o as d,i as l,y as r,c as L,l as P,v as k,t as y}from"./vue-ionic-Cv2or74p.js";import{bv as f,n as _}from"./index-BrIoj5aH.js";import{u as S}from"./useServerClient-C4QGS-on.js";import{_ as T}from"./CardShadow.vue_vue_type_script_setup_true_lang-CoZxwqh-.js";import{M}from"./MediaLikeButton-BmMT3hgb.js";import{_ as R}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-Bi-0Ik3i.js";import{_ as V}from"./TMDBImage.vue_vue_type_script_setup_true_lang-LI2h9uSC.js";import{_ as q}from"./ShareButton.vue_vue_type_script_setup_true_lang-B0q5EP2c.js";const I={class:"flex flex-col justify-start items-start w-[280px] absolute left-0 top-0 bg-cover bg-no-repeat bg-center"},E={class:"flex justify-start items-start w-[280px] absolute left-0 top-[348px] gap-4 p-4 z-40"},F={class:"flex-grow w-[100px] text-[15px] font-semibold text-center text-[#151718]"},O={class:"flex-grow w-[100px] text-[15px] font-semibold text-center"},U={class:"flex justify-end items-start w-[280px] absolute left-0 top-0 gap-2 p-4"},W={class:"flex justify-start items-center flex-grow-0 flex-shrink-0 relative overflow-hidden gap-2 p-2 rounded-3xl bg-black/[0.48] border border-black/2 w-10 h-10"},Y={class:"flex justify-start items-center flex-grow-0 flex-shrink-0 relative overflow-hidden gap-2 rounded-3xl bg-black/[0.48] border border-black/2"},Z={class:"flex justify-start items-center flex-grow-0 flex-shrink-0 relative overflow-hidden gap-2 rounded-3xl bg-black/[0.48] border border-black/2"},ae=z({__name:"MobileInfoCard",props:{data:{type:Object,required:!1},toggleTrailer:{type:Function,required:!1}},setup(t){const i=B(),o=t,{data:n}=S({path:`${i==null?void 0:i.fullPath}/available`}),j=c(()=>{var e;return(e=n.value)!=null&&e.available?"Watch":o.data?"Unavailable":"Loading"}),C=c(()=>{var e,a;return((e=o.data)==null?void 0:e.title)??((a=o.data)==null?void 0:a.name)}),$=c(()=>{var e,a;return{title:((e=o.data)==null?void 0:e.title)??"",text:((a=o.data)==null?void 0:a.overview)??"",url:"https://app.nomercy.tv"+i.fullPath}});return(e,a)=>{var p,u,x,h,m,b,v;const N=D("RouterLink");return(p=t.data)!=null&&p.poster||s(f)?(d(),g("div",{key:0,class:y(["frosting flex-grow-0 flex-shrink-0 w-[280px] h-[420px] z-10 absolute left-1/2 -translate-x-1/2 overflow-clip rounded-2xl",{"top-safe-offset-8":s(_),"top-12":!s(_)}])},[l("div",I,[(d(),L(V,{key:s(f)??"poster",autoShadow:!0,path:((u=t.data)==null?void 0:u.poster)??s(f),colorPalette:(h=(x=t.data)==null?void 0:x.color_palette)==null?void 0:h.poster,size:760,priority:"high",title:C.value,aspect:"poster",loading:"eager",className:"pointer-events-none absolute -inset-1 z-20 flex h-auto scale-100 select-none items-center place-self-start overflow-hidden w-available h-available max-h-available",class:"m-auto children:w-full scale-100 max-h-available 5xl:w-inherit",type:"image"},null,8,["path","colorPalette","title"]))]),r(T,{colored:!0}),l("div",E,[r(N,{to:`${(m=t.data)==null?void 0:m.link}/watch`,class:y(["frosting flex justify-start items-center flex-grow h-10 relative overflow-hidden gap-2 px-2 py-4 rounded-3xl bg-white/80",{"opacity-70":!((b=s(n))!=null&&b.available)}]),disabled:!((v=s(n))!=null&&v.available)},{default:P(()=>[l("p",F,k(e.$t(j.value)),1)]),_:1},8,["to","disabled","class"]),t.toggleTrailer?(d(),g("button",{key:0,onClick:a[0]||(a[0]=A=>t.toggleTrailer()),class:"frosting flex justify-start items-center flex-grow h-10 relative overflow-hidden gap-2 px-2 py-4 rounded-3xl text-slate-light-1 bg-slate-light-12"},[l("p",O,k(e.$t(t.data?"Trailer":"loading")),1)])):w("",!0)]),l("div",U,[l("div",W,[r(R,{icon:"check",className:"w-6 text-white"})]),l("div",Y,[r(M,{data:t.data,class:"!p-0 text-white"},null,8,["data"])]),l("div",Z,[r(q,{shareData:$.value,class:"!p-0 text-white"},null,8,["shareData"])])])],2)):w("",!0)}}});export{ae as _};
