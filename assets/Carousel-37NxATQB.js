import{An as l,Bn as d,Bt as o,Gt as k,Lt as y,Rt as f,Sn as V,Tt as z,Un as x,Vt as i,cn as s,dn as h,en as M,qt as j,zn as _,zt as w}from"./index-Dv83kAv_.js";import{d as E}from"./client-D4e5iciK.js";import{h as G}from"./currentServer-CyRP1M2f.js";import{f as T}from"./global-Cl9NRZH-.js";import{t as D}from"./_plugin-vue_export-helper-pDp7unP0.js";import{t as b}from"./MoooomIcon-DnG74F3v.js";import{t as O}from"./swiper-vue-BkqBCy7j.js";import{n as C,r as R,t as U}from"./swiper-element-bundle-DN6wfwb2.js";z();var W={class:"mb-1 flex w-auto flex-shrink-0 flex-grow-0 flex-col items-start justify-start gap-2 self-stretch text-left relative",style:{"content-visibility":"auto","contain-intrinsic-size":"auto 280px"}},F={class:"flex w-available flex-1 flex-col gap-2"},H={class:"relative ml-3 w-full flex flex-shrink-0 flex-grow-1 items-center self-stretch"},J={key:0,class:"mr-2 ml-3 sm:ml-3 my-2 text-white/12 self-stretch flex-grow-0 flex-shrink-0 text-xl font-bold"},K={key:2,class:"flex flex-shrink-0 flex-grow-0 items-start justify-start gap-2 pr-4 ml-auto"},Q=["aria-label"],X=["aria-label","onclick"],Y={class:"gap-3 py-1 pr-0 w-available swiper"},Z=j({__name:"Carousel",props:{title:{type:String,required:!1},type:{type:String,required:!1,default:"poster"},index:{type:Number,required:!1,default:0},limitCardCountBy:{type:Number,required:!1},moreLink:{type:String,required:!1},disableAutoAspect:{type:Boolean,required:!1,default:!1},nextId:{type:String,required:!1,default:"next-carousel"},prevId:{type:String,required:!1,default:"prev-carousel"}},setup(n){const r=n,p=l(!1),v=l(!0),t=l(!1),a=l(!1),u=l();function B(e,c){e.progress=Math.floor((c*100+1)/100),p.value=!e.isBeginning,v.value=e.progress<1,t.value=e.progress===1,a.value=!e.isLocked}function S(e){e.progress=Math.floor((e.progress*100+1)/100),p.value=!e.isBeginning,v.value=e.progress<1,t.value=e.progress===1,a.value=!e.isLocked}function q(e){setTimeout(()=>{e.el?.classList.remove("opacity-0")},150*r.index)}U();function L(){u.value?.$el?.swiper?.slideTo(0,300),a.value=!0}function P(){u.value?.$el?.swiper?.slideNext(300)}function $(){u.value?.$el?.swiper?.slidePrev(300)}const m=y(()=>E&&!r.disableAutoAspect),I=y(()=>window.innerWidth<800?24:20),N=y(()=>{const e=C(m.value);if(r.limitCardCountBy)for(const[c,g]of G(C(m.value)))e[c]={...g,slidesPerView:g.slidesPerView-r.limitCardCountBy,slidesPerGroup:g.slidesPerGroup-r.limitCardCountBy};return{...R(m.value),breakpoints:e,lazy:!0,slidesOffsetBefore:I.value}});function A(){document.querySelector(`#${r.nextId}`)?.focus()}return(e,c)=>(s(),i("div",W,[f("div",F,[f("div",H,[n.title?(s(),i("h3",J,x(e.$t(n.title??"Continue watching")),1)):h(e.$slots,"selector",{key:1},void 0,!0),f("button",{class:"skip-navigation hidden sm:absolute opacity:0 sm:focus-within:opacity-100",onClick:A},x(e.$t("Skip to next carousel")),1),h(e.$slots,"link",{},void 0,!0),_(T)?o("",!0):(s(),i("div",K,[a.value?(s(),i("button",{key:0,"aria-label":e.$t("Previous slide"),class:d(`hidden sm:flex justify-center items-center p-1 rounded-lg bg-surface-5 active:scale-95 hover:bg-surface- transition-transform duration-200 ${p.value?"":"cursor-not-allowed opacity-50"}`),onclick:$,tabindex:"-1"},[k(b,{class:"w-6",icon:"chevronLeft"})],10,Q)):o("",!0),a.value?(s(),i("button",{key:1,"aria-label":t.value?e.$t("Start slide"):e.$t("Next slide"),class:d(`hidden sm:flex justify-center items-center p-1 rounded-lg bg-surface-5 active:scale-95 hover:bg-surface- transition-transform duration-200 ${a.value?"":"cursor-not-allowed opacity-50"}`),onclick:t.value?L:P,tabindex:"-1"},[a.value&&!t.value?(s(),w(b,{key:0,class:d(`w-6 ${!v.value&&t.value?"opacity-0":""}`),icon:"chevronRight"},null,8,["class"])):o("",!0),a.value&&t.value?(s(),w(b,{key:1,class:d(`w-6 ${t.value?"":"opacity-0"}`),icon:"chevronLeftDouble"},null,8,["class"])):o("",!0)],10,X)):o("",!0)]))]),f("div",Y,[k(_(O),M({ref_key:"swiper",ref:u,class:`swiper-${n.title?.replace(/[\s&#]/gu,"-")} opacity-0 transform-gpu`,"data-spatial-container":"row"},N.value,{onProgress:B,onAfterInit:q,onSlideChange:S}),{default:V(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3},16,["class"])])])]))}}),ne=D(Z,[["__scopeId","data-v-71a63790"]]);export{ne as t};
