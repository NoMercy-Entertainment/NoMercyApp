import{$ as Ke,ab as Oe,d as m,w as ze,B as Je,a6 as Qe,a7 as Xe,c as s,o,p as $,z as j,a0 as t,au as Ye,G as Ze,j as p,b as l,h as et,x as Le,b6 as De,ar as tt}from"./vue-ionic-Db_NiJFp.js";import{d as rt}from"./api-BBofn2cc.js";import{bc as at,b8 as He}from"./vendor-Dgtccx1h.js";import{c as ot,ab as st,_ as Ae,f as Pe,aT as Me,bz as Ve,e as Ue,r as lt,ae as it,bA as nt,br as ct,bs as pt}from"./index-dhF1HRpl.js";import{u as dt}from"./useServerClient-CUQzpYwE.js";import{_ as f,a as We,b as Ee}from"./PersonCarousel.vue_vue_type_script_setup_true_lang-BG055aZ3.js";import{_ as Ne}from"./MediaCarousel.vue_vue_type_script_setup_true_lang-DdE3Y34H.js";import{_ as mt}from"./ContentRating.vue_vue_type_script_setup_true_lang-C37TY5cL.js";import{_ as ut,a as ft}from"./SeasonCarousel.vue_vue_type_script_setup_true_lang-BzBQ6pND.js";import{_ as gt,a as S}from"./Collapsible.vue_vue_type_script_setup_true_lang-DN7Xs4Rz.js";import{_ as kt}from"./MobileInfoCard.vue_vue_type_script_setup_true_lang-DKie4WGO.js";import{_ as xt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./media-C2AqgyMX.js";import"./icons-BW5E66pf.js";import"./swiper-D00Cnjmx.js";import"./rxjs-BCp2L9Rn.js";import"./music-player-bBxcOCLu.js";import"./primevue-Bn7Q4nqF.js";import"./useInfiniteServerClient-BLSEFIWT.js";import"./GenrePill.vue_vue_type_script_setup_true_lang-D5fZdTnr.js";import"./OptimizedIcon.vue_vue_type_script_setup_true_lang-DHzcpnxP.js";import"./imageModal-Dkr6ZQXR.js";import"./Carousel-7xeRSGtn.js";import"./swiper-config-Caon8l1d.js";import"./TMDBImage.vue_vue_type_script_setup_true_lang-CsAzdHqa.js";import"./AppLogoSquare-KpTTA6Sb.js";import"./PersonCard.vue_vue_type_script_setup_true_lang-CJcIc2ew.js";import"./CardIndicator.vue_vue_type_script_setup_true_lang-B6hRw-l7.js";import"./autoSkipPlugin-K4aQ-Afv.js";import"./video-player-0apfNqng.js";import"./subtitles-octopus-By2PrHjB.js";import"./buttons-DnucOQvv.js";import"./desktopUIPlugin-kQhtIiaV.js";import"./baseUIPlugin-D2xbq71X.js";import"./sidebar-BIyNFQkG.js";import"./Select.vue_vue_type_script_setup_true_lang-COJR_GFa.js";import"./CardShadow.vue_vue_type_script_setup_true_lang-Bjg-gbXe.js";import"./MediaLikeButton-BECfZa1M.js";import"./MusicButton.vue_vue_type_script_setup_true_lang-BeA2kCzX.js";import"./ShareButton.vue_vue_type_script_setup_true_lang-CFxnFx3Y.js";const ht={class:"flex flex-col justify-start items-center self-stretch flex-grow h-auto gap-4 will-change-auto text-slate-lightA-12/70 dark:text-slate-darkA-12/80 z-0",style:{"box-shadow":"0 2px 2px 0 rgba(0, 0, 0, 0.16)"}},wt={class:"flex bg-slate-light-3 dark:bg-slate-dark-1 flex-col justify-start items-start self-stretch flex-grow-0 flex-shrink-0 gap-3 pt-16 pb-5 will-change-auto w-inherit px-6"},_t=["innerHTML"],yt={key:1,class:"flex justify-start items-center self-stretch flex-grow-0 flex-shrink-0 relative gap-2 flex-wrap"},bt={class:"whitespace-nowrap"},vt={class:"whitespace-nowrap"},Tt=Ke({__name:"Mobile",setup($t){const B=Oe(),Re=m(!1),Fe=m(!1),g=m(!1),C=m("loading"),d=m(-1),z=m(null),Ge=m(null),k=m(),{data:e}=dt({keepForever:!0,path:B==null?void 0:B.fullPath});ze(e,r=>{var a,i,n,c;(i=(a=k.value)==null?void 0:a.$el)==null||i.scrollToTop(window.innerHeight),Re.value=!0,d.value=0,Ae((r==null?void 0:r.title)??(r==null?void 0:r.name)),r!=null&&r.backdrop&&Pe(r==null?void 0:r.backdrop),r!=null&&r.poster&&Me(r==null?void 0:r.poster),r!=null&&r.logo&&Ve(r==null?void 0:r.logo),(n=r==null?void 0:r.color_palette)!=null&&n.poster&&Ue((c=r==null?void 0:r.color_palette)==null?void 0:c.poster),qe(r)});const I=Je(()=>{var r,a;return`${(r=ot.value)==null?void 0:r.serverBaseUrl}/images/original${((a=e.value)==null?void 0:a.backdrop)??st.value}`});Qe(()=>{var r,a,i,n,c,x,h,w,_,y,b,v,T;(a=(r=k.value)==null?void 0:r.$el)==null||a.scrollToTop(window.innerHeight),Ae((i=e==null?void 0:e.value)==null?void 0:i.name),(n=e==null?void 0:e.value)!=null&&n.backdrop&&Pe((c=e==null?void 0:e.value)==null?void 0:c.backdrop),(x=e==null?void 0:e.value)!=null&&x.poster&&Me((h=e==null?void 0:e.value)==null?void 0:h.poster),(w=e==null?void 0:e.value)!=null&&w.logo&&Ve((_=e==null?void 0:e.value)==null?void 0:_.logo),(b=(y=e==null?void 0:e.value)==null?void 0:y.color_palette)!=null&&b.poster&&Ue((T=(v=e==null?void 0:e.value)==null?void 0:v.color_palette)==null?void 0:T.poster)}),Xe(()=>{var r,a;(a=(r=k.value)==null?void 0:r.$el)==null||a.scrollToTop(window.innerHeight)}),lt.afterEach(()=>{setTimeout(()=>{var r,a;(a=(r=k.value)==null?void 0:r.$el)==null||a.scrollToTop(window.innerHeight)},100)});const L=m();ze(Fe,r=>{var a,i;r?(i=(a=L.value)==null?void 0:a.$el)==null||i.classList.remove("line-clamp-3"):setTimeout(()=>{var n,c;(c=(n=L.value)==null?void 0:n.$el)==null||c.classList.add("line-clamp-3")},300)});function D(){var a;if(!((a=e==null?void 0:e.value)!=null&&a.videos))return;g.value=!g.value;const r=document.querySelector("#main");r&&(r.style.overflow=g.value?"hidden":"auto")}function H(){var r,a,i;!(e!=null&&e.value)||((a=(r=e==null?void 0:e.value)==null?void 0:r.videos)==null?void 0:a.length)===0||(d.value===((i=e==null?void 0:e.value)==null?void 0:i.videos.length)-1?d.value=0:d.value++,d.value++)}function qe(r){var a,i,n,c;if(C.value="loading",!r||((a=r.videos)==null?void 0:a.length)===0||!((i=r.videos)!=null&&i[d.value])){C.value=!1;return}z.value=r.duration&&new Date(new Date().getTime()+r.duration*60*1e3).toLocaleTimeString(He.language??"en-US",{hour:"2-digit",minute:"2-digit"}),Ge.value=setInterval(()=>{z.value=r.duration&&new Date(new Date().getTime()+r.duration*60*1e3).toLocaleTimeString(He.language??"en-US",{hour:"2-digit",minute:"2-digit"})},1e3),rt.head(`https://trailer.nomercy.tv/${(n=r.videos[d.value])==null?void 0:n.src}/${(c=r.videos[d.value])==null?void 0:c.src}.webm`,{withCredentials:!1}).then(()=>{C.value=!0}).catch(()=>{H(),C.value=!1})}return(r,a)=>(o(),s(t(tt),null,{default:$(()=>[j(t(Ye),{ref_key:"content",ref:k,fullscreen:!0,style:Ze(`--background-image: ${I.value&&!I.value.includes("null")?`url(${I.value})`:""};`)},{default:$(()=>{var i,n,c,x,h,w,_,y,b,v,T,A,P,M,V,U,W,E,N,R,F,G,q,K,O,J,Q,X,Y,Z,ee,te,re,ae,oe,se,le,ie,ne,ce,pe,de,me,ue,fe,ge,ke,xe,he,we,_e,ye,be,ve,Te,$e,Se,Ce,Be,Ie;return[p("div",ht,[a[3]||(a[3]=p("div",{class:"flex justify-start items-end -mx-4 w-available h-[410px] relative gap-2"},[p("div",{class:"absolute flex flex-col justify-start items-end flex-grow w-available -mx-20 h-[410px] bg-cover bg-top",style:{background:`linear-gradient(
                  0deg,
                  rgba(0, 0, 0, 0.5) 0%,
                  rgba(0, 0, 0, 0.5) 100%
                ),
                var(--background-image) lightgray 50% / cover no-repeat`}}),p("div",{class:"absolute flex flex-col justify-start items-end flex-grow w-available -mx-20 h-[410px] bg-cover dark:bg-black/50"})],-1)),p("div",wt,[p("p",{class:"self-stretch flex-grow-0 flex-shrink-0 w-[351px] text-2xl font-bold text-left z-10",innerHTML:t(it)(((i=t(e))==null?void 0:i.title)||t(nt)||"","text-lg line-clamp-2")},null,8,_t),(n=t(e))!=null&&n.overview?(o(),s(gt,{key:0,text:(c=t(e))==null?void 0:c.overview,"max-lines":3},null,8,["text"])):l("",!0),t(e)?(o(),et("div",yt,[(x=t(e))!=null&&x.year?(o(),s(S,{key:0,title:"",data:(h=t(e))==null?void 0:h.year.toString()},null,8,["data"])):l("",!0),(w=t(e))!=null&&w.content_ratings.length?(o(),s(S,{key:1,title:""},{default:$(()=>{var u;return[j(mt,{size:4,class:"h-full object-scale-down rounded-lg overflow-clip",ratings:(u=t(e))==null?void 0:u.content_ratings},null,8,["ratings"])]}),_:1})):l("",!0),(_=t(e))!=null&&_.have_items?(o(),s(S,{key:2,title:"",data:`${(y=t(e))==null?void 0:y.have_items}/${(b=t(e))==null?void 0:b.number_of_items}`},null,8,["data"])):l("",!0),(v=t(e))!=null&&v.duration?(o(),s(S,{key:3,title:""},{default:$(()=>{var u;return[p("span",bt,Le(t(ct)(t(at),(u=t(e))==null?void 0:u.duration,!0)),1)]}),_:1})):l("",!0),(T=t(e))!=null&&T.voteAverage?(o(),s(S,{key:4,title:""},{default:$(()=>{var u,je;return[p("span",vt,"⭐ ️"+Le((je=(u=t(e))==null?void 0:u.voteAverage)==null?void 0:je.toFixed(0))+"/10",1)]}),_:1})):l("",!0)])):(o(),s(t(De),{key:2,animated:!0,class:"h-6 will-change-auto"})),a[0]||(a[0]=p("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-slate-dark-7/[0.1] dark:bg-slate-dark-11/[0.1]"},null,-1)),(A=t(e))!=null&&A.genres?(o(),s(f,{key:3,data:t(e),title:"Genres","key-name":"genres",prefix:"genres"},null,8,["data"])):(o(),s(t(De),{key:4,animated:!0,class:"h-12 will-change-auto"})),a[1]||(a[1]=p("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-slate-dark-7/[0.1] dark:bg-slate-dark-11/[0.1]"},null,-1)),(P=t(e))!=null&&P.writer?(o(),s(f,{key:5,data:{writer:[(M=t(e))==null?void 0:M.writer]},title:"Writer","key-name":"writer",prefix:"person"},null,8,["data"])):l("",!0),(V=t(e))!=null&&V.creator?(o(),s(f,{key:6,data:{creator:[(U=t(e))==null?void 0:U.creator]},title:"Creator","key-name":"creator",prefix:"person"},null,8,["data"])):l("",!0),(W=t(e))!=null&&W.director?(o(),s(f,{key:7,data:{director:[(E=t(e))==null?void 0:E.director]},title:"Director","key-name":"director",prefix:"person"},null,8,["data"])):l("",!0),(N=t(e))!=null&&N.creators?(o(),s(f,{key:8,data:t(e),title:"Creators","key-name":"creators",prefix:"person"},null,8,["data"])):l("",!0),(R=t(e))!=null&&R.directors?(o(),s(f,{key:9,data:t(e),title:"Directors","key-name":"directors",prefix:"person"},null,8,["data"])):l("",!0),(F=t(e))!=null&&F.writers?(o(),s(f,{key:10,data:t(e),title:"Writers","key-name":"writers",prefix:"person"},null,8,["data"])):l("",!0),(G=t(e))!=null&&G.keywords?(o(),s(f,{key:11,data:t(e),title:"Keywords","key-name":"keywords"},null,8,["data"])):l("",!0),a[2]||(a[2]=p("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-slate-dark-7/[0.1] dark:bg-slate-dark-11/[0.1]"},null,-1)),(q=t(e))!=null&&q.seasons&&((O=(K=t(e))==null?void 0:K.seasons)==null?void 0:O.length)>0?(o(),s(ut,{key:12,data:(J=t(e))==null?void 0:J.seasons,type:"backdrop",class:"-mx-6","limit-card-count-by":0},null,8,["data"])):l("",!0),(Q=t(e))!=null&&Q.cast&&((Y=(X=t(e))==null?void 0:X.cast)==null?void 0:Y.length)>0?(o(),s(We,{key:13,class:"-mx-6",data:(Z=t(e))==null?void 0:Z.cast,title:"Cast"},null,8,["data"])):l("",!0),(ee=t(e))!=null&&ee.crew&&((re=(te=t(e))==null?void 0:te.crew)==null?void 0:re.length)>0?(o(),s(We,{key:14,class:"-mx-6",data:t(pt)((ae=t(e))==null?void 0:ae.crew,"profile","id"),title:"Crew"},null,8,["data"])):l("",!0),(oe=t(e))!=null&&oe.posters&&((le=(se=t(e))==null?void 0:se.posters)==null?void 0:le.length)>0?(o(),s(Ee,{key:15,class:"-mx-6",data:(ie=t(e))==null?void 0:ie.posters,title:"Poster",type:"poster"},null,8,["data"])):l("",!0),(ne=t(e))!=null&&ne.backdrops&&((pe=(ce=t(e))==null?void 0:ce.backdrops)==null?void 0:pe.length)>0?(o(),s(Ee,{key:16,class:"-mx-6","color-palette":(me=(de=t(e))==null?void 0:de.color_palette)==null?void 0:me.poster,data:(ue=t(e))==null?void 0:ue.backdrops,title:"Backdrop",type:"backdrop"},null,8,["color-palette","data"])):l("",!0),(fe=t(e))!=null&&fe.recommendations&&((ke=(ge=t(e))==null?void 0:ge.recommendations)==null?void 0:ke.length)>0?(o(),s(Ne,{key:17,class:"-mx-6","color-palette":(xe=t(e))==null?void 0:xe.color_palette,data:(he=t(e))==null?void 0:he.recommendations,title:"Recommendations",type:"poster"},null,8,["color-palette","data"])):l("",!0),(we=t(e))!=null&&we.similar&&((ye=(_e=t(e))==null?void 0:_e.similar)==null?void 0:ye.length)>0?(o(),s(Ne,{key:18,class:"-mx-6","color-palette":(be=t(e))==null?void 0:be.color_palette,data:(ve=t(e))==null?void 0:ve.similar,title:"Similar",type:"poster"},null,8,["color-palette","data"])):l("",!0)])]),j(kt,{data:t(e),"toggle-trailer":D},null,8,["data"]),(Te=t(e))!=null&&Te.videos&&((Se=($e=t(e))==null?void 0:$e.videos)==null?void 0:Se.length)>0&&g.value?(o(),s(ft,{key:d.value,"increment-trailer-index":H,index:d.value,open:g.value,title:((Ce=t(e))==null?void 0:Ce.title)??((Be=t(e))==null?void 0:Be.name),toggle:D,videos:(Ie=t(e))==null?void 0:Ie.videos,class:"absolute inset-0 h-full w-full z-999"},null,8,["index","open","title","videos"])):l("",!0)]}),_:1},8,["style"])]),_:1}))}}),mr=xt(Tt,[["__scopeId","data-v-435939a5"]]);export{mr as default};
