import{I as t,aC as d,eg as r,J as h,eh as m,az as f,b1 as g,dB as b,ei as i}from"./index-Bfb4eeQA.js";const S=t(""),k=d(()=>v.value),$=r(S,500),v=t([]);h($,a=>{var s,c;const e=`${(s=g.value)==null?void 0:s.serverBaseUrl}/api/v1/music/search?query=${a}`;fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(c=b.value)==null?void 0:c.accessToken}`}}).then(l=>l.json()).then(l=>{v.value=l.data})});const y=t(""),o=t([]),n=t(!1),p=r(y,500),u=t(1);h(p,a=>{u.value=1;const e=`https://api.themoviedb.org/3/search/multi?api_key=${i}&language=en-US&query=${a}&page=${u.value}&include_adult=false`;fetch(e).then(s=>s.json()).then(s=>{o.value=s.results,n.value=s.total_pages>1})});const _=()=>{u.value+=1;const a=`https://api.themoviedb.org/3/search/multi?api_key=${i}&language=en-US&query=${p.value}&page=${u.value}&include_adult=false`;fetch(a).then(e=>e.json()).then(e=>{o.value=[...o.value,...e.results],e.results.length===0?n.value=!1:n.value=e.total_pages>u.value})},V=t(null),{stop:j}=m(V,([{isIntersecting:a}],e)=>{a&&_()});f(()=>{j()});export{y as a,k as b,_ as f,n as h,S as m,o as v};
//# sourceMappingURL=search-Dlx83nf-.js.map
