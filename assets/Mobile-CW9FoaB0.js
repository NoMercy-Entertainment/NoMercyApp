import{$ as V,Cn as W,D as N,H as A,Ht as E,In as x,N as C,Rn as f,Tn as a,U as F,Wn as u,Y as q,Zn as t,cn as k,en as G,er as K,in as O,nn as l,rn as o,tn as i,tr as I,un as Y,x as Z}from"./index-04Sh3wNb.js";import"./dist-CVoPesok.js";import"./esm-BuFVrMo0.js";import"./esm-9iWgK55i.js";import"./esm-cDzTb79E.js";import"./esm-BfF1RlcU.js";import"./dist-B3n7-doU.js";import"./focus-visible-CHAJCf_J.js";import"./index5-B30D6T27.js";import"./client-rtF7IPPI.js";import"./ionic-global--aoJHCDL.js";import"./hardware-back-button-h528z6zo.js";import"./index3-CSo3jo06.js";import"./helpers-CXS86XKs.js";import"./index6-CZ6rqL_0.js";import"./index8-BpkFXja0.js";import"./keyboard-cU79cwdW.js";import"./index2-op38TIl9.js";import"./ios.transition-C8T7q-Bo.js";import"./keyboard2-DETZ41vp.js";import"./md.transition-BqH5iNQr.js";import"./dir-BUtgAzbR.js";import"./basecomponent-Dw-Pzf3B.js";import"./classnames-DtEYS8u9.js";import"./button-Bwdcz6Ds.js";import"./baseicon-pCfUe6Zj.js";import{a as $,b as J,c as S,h as Q,o as H,s as B,t as X}from"./ui-BT6EUdI0.js";import{g as D}from"./client-DMa-uSBE.js";import{b as ee,s as te,t as re,v as L}from"./currentServer-B7-kbkE-.js";import"./config-BOA2pGQM.js";import"./esm-CcKFjObu.js";import"./global-gyhCjh_P.js";import"./esm-BuRgllmc.js";import"./user-C1ciKa7-.js";import{t as ae}from"./serverClient-FHPKIHPu.js";import{t as le}from"./router-C_xBvmya.js";import"./utils-D5DD-7jP.js";import"./useBaseQuery-CNJp2kAB.js";import"./useInfiniteServerClient-By5CuBlL.js";import"./SocketClient-DPmgFkP-.js";import"./useQueryClient-s6ZLwuD6.js";import"./useQuery-C7DDAmeN.js";import"./apiClient-Cw7f36ko.js";import"./notifications-Bi_dU6lP.js";import"./utils-CdenF_Jv.js";import"./bundle-mjs-Xm_uQvzT.js";import"./deviceInfo-Bcw3-ht5.js";import"./helpers-fSCF1qXj.js";import"./auth-DfyD43WY.js";import{t as oe}from"./_plugin-vue_export-helper-B_iOTHZb.js";import"./Select-BLlxAKlI.js";import"./use-text-value-COXJi4Sa.js";import"./render-jaZ14Rbq.js";import"./imageModal-B_AIV_up.js";import"./AppLogoSquare-DJq6h5gt.js";import"./TMDBImage-Dcp6aBnk.js";import"./MoooomIcon-DNWQYuYD.js";import"./dist-iWIfSzlj.js";import{t as ie}from"./useServerClient-CroZbKWw.js";import"./sidebar-0eIlG_n7.js";import"./MusicButton-OKP8kSIv.js";import"./BannerButton-BVJ9NTRE.js";import"./MediaLikeButton-Cg9WrOdx.js";import"./swiper-vue-Dzagr7Ak.js";import"./CardIndicator-B772HJka.js";import"./swiper-element-bundle-D1nMfpgQ.js";import"./CardShadow-IG9Y_heN.js";import{n as M,r as se,t as j}from"./ImageCarousel-iI8p4h9B.js";import"./ShareButton-B9i6bcLG.js";import"./Carousel-DODF1Jwj.js";import"./PersonCard-COl_OvGL.js";import{t as p}from"./InfoItem-B4bLZMnx.js";import{n as g,t as ne}from"./Collapsible-CctacMlY.js";import{t as ue}from"./MobileInfoCard-D91sanm1.js";import{n as pe,t as de}from"./Trailer-C0Uw4g1P.js";import{t as P}from"./MediaCarousel-BgfsacLS.js";import"./VideoPlayer-CsmL19GD.js";import"./buttons-AECXFI2V.js";E();q();var me={class:"flex flex-col justify-start items-center self-stretch flex-grow h-auto gap-4 will-change-auto text-surface-12 z-0",style:{"box-shadow":"0 2px 2px 0 rgba(0, 0, 0, 0.16)"}},ce={class:"flex bg-surface-3 dark:bg-surface-1 flex-col justify-start items-start self-stretch flex-grow-0 flex-shrink-0 gap-3 pt-16 pb-5 will-change-auto w-inherit px-6"},fe=["innerHTML"],ge={key:1,class:"flex justify-start items-center self-stretch flex-grow-0 flex-shrink-0 relative gap-2 flex-wrap"},ve={class:"whitespace-nowrap"},xe={class:"whitespace-nowrap"},ke=Y({__name:"Mobile",setup(he){const z=V(),U=u(!1),R=u(!1),d=u(!1),m=u("loading"),n=u(-1),h=u(null),_=u(null),c=u(),{data:e}=ie({keepForever:!0,path:z?.fullPath});x(e,r=>{c.value?.$el?.scrollToTop(window.innerHeight),U.value=!0,n.value=0,L(r?.title??r?.name),r?.backdrop&&$(r?.backdrop),r?.poster&&S(r?.poster),r?.logo&&B(r?.logo),r?.color_palette?.poster&&H(r?.color_palette?.poster),T(r)});const v=G(()=>`${re.value?.serverBaseUrl}/images/original${e.value?.backdrop??X.value}`);A(()=>{c.value?.$el?.scrollToTop(window.innerHeight),L(e?.value?.name),e?.value?.backdrop&&$(e?.value?.backdrop),e?.value?.poster&&S(e?.value?.poster),e?.value?.logo&&B(e?.value?.logo),e?.value?.color_palette?.poster&&H(e?.value?.color_palette?.poster)}),F(()=>{c.value?.$el?.scrollToTop(window.innerHeight)}),le.afterEach(()=>{setTimeout(()=>{c.value?.$el?.scrollToTop(window.innerHeight)},100)});const w=u();x(R,r=>{r?w.value?.$el?.classList.remove("line-clamp-3"):setTimeout(()=>{w.value?.$el?.classList.add("line-clamp-3")},300)});function y(){if(!e?.value?.videos)return;d.value=!d.value;const r=document.querySelector("#main");r&&(r.style.overflow=d.value?"hidden":"auto")}function b(){!e?.value||e?.value?.videos?.length===0||(n.value===e?.value?.videos.length-1?n.value=0:n.value++)}function T(r){if(m.value="loading",!r||r.videos?.length===0||!r.videos?.[n.value]){m.value=!1;return}h.value=r.duration&&new Date(new Date().getTime()+r.duration*60*1e3).toLocaleTimeString(D.language??"en-US",{hour:"2-digit",minute:"2-digit"}),_.value=setInterval(()=>{h.value=r.duration&&new Date(new Date().getTime()+r.duration*60*1e3).toLocaleTimeString(D.language??"en-US",{hour:"2-digit",minute:"2-digit"})},1e3),ae().head(`trailer/${r.videos[n.value]?.src}`,{withCredentials:!1}).then(()=>{m.value=!0}).catch(()=>{b(),m.value=!1})}return x(n,(r,s)=>{!r||r===s||T(e?.value)}),W(()=>{clearInterval(_.value??void 0)}),(r,s)=>(a(),l(t(N),null,{default:f(()=>[k(t(Z),{ref_key:"content",ref:c,fullscreen:!0,style:K(`--background-image: ${v.value&&!v.value.includes("null")?`url(${v.value})`:""};`)},{default:f(()=>[i("div",me,[s[3]||(s[3]=i("div",{class:"flex justify-start items-end -mx-4 w-available h-[410px] relative gap-2"},[i("div",{class:"absolute flex flex-col justify-start items-end flex-grow w-available -mx-20 h-[410px] bg-cover bg-top",style:{background:`linear-gradient(
                  0deg,
                  rgba(0, 0, 0, 0.5) 0%,
                  rgba(0, 0, 0, 0.5) 100%
                ),
                var(--background-image) lightgray 50% / cover no-repeat`}}),i("div",{class:"absolute flex flex-col justify-start items-end flex-grow w-available -mx-20 h-[410px] bg-cover dark:bg-black/50"})],-1)),i("div",ce,[i("p",{class:"self-stretch flex-grow-0 flex-shrink-0 w-[351px] text-2xl font-bold text-left z-10",innerHTML:t(te)(t(e)?.title||t(Q)||"","text-lg line-clamp-2")},null,8,fe),t(e)?.overview?(a(),l(ne,{key:0,"max-lines":3,text:t(e)?.overview},null,8,["text"])):o("",!0),t(e)?(a(),O("div",ge,[t(e)?.year?(a(),l(g,{key:0,data:t(e)?.year.toString(),title:""},null,8,["data"])):o("",!0),t(e)?.content_ratings.length?(a(),l(g,{key:1,title:""},{default:f(()=>[k(se,{ratings:t(e)?.content_ratings,size:4,class:"h-full object-scale-down rounded-lg overflow-clip"},null,8,["ratings"])]),_:1})):o("",!0),t(e)?.have_items?(a(),l(g,{key:2,data:`${t(e)?.have_items}/${t(e)?.number_of_items}`,title:""},null,8,["data"])):o("",!0),t(e)?.duration?(a(),l(g,{key:3,title:""},{default:f(()=>[i("span",ve,I(t(J)(r.$t,t(e).duration,!0)),1)]),_:1})):o("",!0),t(e)?.voteAverage?(a(),l(g,{key:4,title:""},{default:f(()=>[i("span",xe,"⭐ ️"+I(t(e)?.voteAverage?.toFixed(0))+"/10",1)]),_:1})):o("",!0)])):(a(),l(t(C),{key:2,animated:!0,class:"h-6 will-change-auto"})),s[0]||(s[0]=i("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-surface-7/[0.1] dark:bg-surface-11/[0.1]"},null,-1)),t(e)?.genres?(a(),l(p,{key:3,data:t(e),"key-name":"genres",prefix:"genres",title:"Genres"},null,8,["data"])):(a(),l(t(C),{key:4,animated:!0,class:"h-12 will-change-auto"})),s[1]||(s[1]=i("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-surface-7/[0.1] dark:bg-surface-11/[0.1]"},null,-1)),t(e)?.writer?(a(),l(p,{key:5,data:{writer:[t(e)?.writer]},"key-name":"writer",prefix:"person",title:"Writer"},null,8,["data"])):o("",!0),t(e)?.creator?(a(),l(p,{key:6,data:{creator:[t(e)?.creator]},"key-name":"creator",prefix:"person",title:"Creator"},null,8,["data"])):o("",!0),t(e)?.director?(a(),l(p,{key:7,data:{director:[t(e)?.director]},"key-name":"director",prefix:"person",title:"Director"},null,8,["data"])):o("",!0),t(e)?.creators?(a(),l(p,{key:8,data:t(e),"key-name":"creators",prefix:"person",title:"Creators"},null,8,["data"])):o("",!0),t(e)?.directors?(a(),l(p,{key:9,data:t(e),"key-name":"directors",prefix:"person",title:"Directors"},null,8,["data"])):o("",!0),t(e)?.writers?(a(),l(p,{key:10,data:t(e),"key-name":"writers",prefix:"person",title:"Writers"},null,8,["data"])):o("",!0),t(e)?.keywords?(a(),l(p,{key:11,data:t(e),"key-name":"keywords",title:"Keywords"},null,8,["data"])):o("",!0),s[2]||(s[2]=i("div",{class:"self-stretch flex-grow-0 flex-shrink-0 h-px bg-surface-7/[0.1] dark:bg-surface-11/[0.1]"},null,-1)),t(e)?.seasons&&t(e)?.seasons?.length>0?(a(),l(pe,{key:12,data:t(e)?.seasons,"limit-card-count-by":0,class:"-mx-6",type:"backdrop"},null,8,["data"])):o("",!0),t(e)?.cast&&t(e)?.cast?.length>0?(a(),l(M,{key:13,data:t(e)?.cast,class:"-mx-6",title:"Cast"},null,8,["data"])):o("",!0),t(e)?.crew&&t(e)?.crew?.length>0?(a(),l(M,{key:14,data:t(ee)(t(e)?.crew,"profile","id"),class:"-mx-6",title:"Crew"},null,8,["data"])):o("",!0),t(e)?.posters&&t(e)?.posters?.length>0?(a(),l(j,{key:15,data:t(e)?.posters,class:"-mx-6",title:"Poster",type:"poster"},null,8,["data"])):o("",!0),t(e)?.backdrops&&t(e)?.backdrops?.length>0?(a(),l(j,{key:16,"color-palette":t(e)?.color_palette?.poster,data:t(e)?.backdrops,class:"-mx-6",title:"Backdrop",type:"backdrop"},null,8,["color-palette","data"])):o("",!0),t(e)?.recommendations&&t(e)?.recommendations?.length>0?(a(),l(P,{key:17,"color-palette":t(e)?.color_palette,data:t(e)?.recommendations,class:"-mx-6",title:"Recommendations",type:"poster"},null,8,["color-palette","data"])):o("",!0),t(e)?.similar&&t(e)?.similar?.length>0?(a(),l(P,{key:18,"color-palette":t(e)?.color_palette,data:t(e)?.similar,class:"-mx-6",title:"Similar",type:"poster"},null,8,["color-palette","data"])):o("",!0)])]),k(ue,{data:t(e),"toggle-trailer":y,"trailer-state":m.value},null,8,["data","trailer-state"]),t(e)?.videos&&t(e)?.videos?.length>0&&d.value?(a(),l(de,{key:n.value,"increment-trailer-index":b,index:n.value,open:d.value,title:t(e)?.title??t(e)?.name,toggle:y,videos:t(e)?.videos,class:"inset-0 h-full w-available z-999"},null,8,["index","open","title","videos"])):o("",!0)]),_:1},8,["style"])]),_:1}))}}),Ft=oe(ke,[["__scopeId","data-v-02349b01"]]);export{Ft as default};
