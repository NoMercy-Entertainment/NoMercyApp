import{I as i,M as c,Nn as o,Tt as f}from"./index-BvWvvCYJ.js";import{t as d}from"./currentServer-WcAeFY_n.js";import{t as v}from"./serverClient-BAqmq0Lj.js";import{t as y}from"./useInfiniteServerClient-C-13EaEr.js";import{t as m}from"./useQuery-DwL9nltn.js";f();c();function p(e){return Object.keys(e?.data??{}).reduce((t,n)=>(t[n]=o(e?.data[n].value)??e?.data[n],t),{})}function w(e){const t=i(),n=e?.type??"get";return{...m({...e,queryKey:y(e),enabled:!!d.value?.id&&(e?.enabled??!0),retry:0,refetchOnMount:!0,refetchOnWindowFocus:!1,staleTime:e?.keepForever?1/0:1e3*60*5,queryFn:async({signal:u})=>{if(!d.value?.serverApiUrl)throw new Error("No server URL");const a=e?.path??t.fullPath;if(a.includes("undefined"))throw new Error("Invalid path");const l=p(e),s=v();let r;switch(n){case"get":r=await s.get(a,{params:{letter:t.query?.letter,...l},signal:u});break;case"post":r=await s.post(a,{letter:t.query?.letter??void 0,...l},{signal:u});break;case"put":r=await s.put(a,{letter:t.query?.letter??void 0,...l},{signal:u});break;case"patch":r=await s.patch(a,{letter:t.query?.letter??void 0,...l},{signal:u});break;case"delete":r=await s.delete(a,{letter:t.query?.letter??void 0,...l},{signal:u});break;default:r=await s.get(a,{params:{letter:t.query?.letter,...l},signal:u})}return r.data?.data??r.data}})}}var C=w;export{C as t};
