import{Un as z}from"./index-CJ3av9Nr.js";var E,T,R,W,D,k,j,$,U,S,F,Q,q,B,I,M,G,X,Z=z({"node_modules/@capacitor/core/dist/index.js":()=>{(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(E||(E={})),T=class extends Error{constructor(e,r,t){super(e),this.message=e,this.code=r,this.data=t}},R=e=>{var r,t;return e?.androidBridge?"android":!((t=(r=e?.webkit)===null||r===void 0?void 0:r.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},W=e=>{const r=e.CapacitorCustomPlatform||null,t=e.Capacitor||{},s=t.Plugins=t.Plugins||{},n=()=>r!==null?r.name:R(e),c=()=>n()!=="web",o=i=>{const a=m.get(i);return!!(a?.platforms.has(n())||d(i))},d=i=>{var a;return(a=t.PluginHeaders)===null||a===void 0?void 0:a.find(P=>P.name===i)},y=i=>e.console.error(i),m=new Map,O=(i,a={})=>{const P=m.get(i);if(P)return console.warn(`Capacitor plugin "${i}" already registered. Cannot register plugins twice.`),P.proxy;const v=n(),p=d(i);let g;const K=async()=>(!g&&v in a?g=typeof a[v]=="function"?g=await a[v]():g=a[v]:r!==null&&!g&&"web"in a&&(g=typeof a.web=="function"?g=await a.web():g=a.web),g),V=(l,u)=>{var h,w;if(p){const b=p?.methods.find(f=>u===f.name);if(b)return b.rtype==="promise"?f=>t.nativePromise(i,u.toString(),f):(f,L)=>t.nativeCallback(i,u.toString(),f,L);if(l)return(h=l[u])===null||h===void 0?void 0:h.bind(l)}else if(l)return(w=l[u])===null||w===void 0?void 0:w.bind(l)},x=l=>{let u;const h=(...w)=>{const b=K().then(f=>{const L=V(f,l);if(L){const C=L(...w);return u=C?.remove,C}});return l==="addListener"&&(b.remove=async()=>u()),b};return h.toString=()=>`${l.toString()}() { [capacitor code] }`,Object.defineProperty(h,"name",{value:l,writable:!1,configurable:!1}),h},_=x("addListener"),H=x("removeListener"),J=(l,u)=>{const h=_({eventName:l},u),w=async()=>{const f=await h;H({eventName:l,callbackId:f},u)},b=new Promise(f=>h.then(()=>f({remove:w})));return b.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await w()},b},A=new Proxy({},{get(l,u){switch(u){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return p?J:_;case"removeListener":return H;default:return x(u)}}});return s[i]=A,m.set(i,{name:i,proxy:A,platforms:new Set([...Object.keys(a),...p?[v]:[]])}),A};return t.convertFileSrc||(t.convertFileSrc=i=>i),t.getPlatform=n,t.handleError=y,t.isNativePlatform=c,t.isPluginAvailable=o,t.registerPlugin=O,t.Exception=T,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},D=e=>e.Capacitor=W(e),k=D(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),j=k.registerPlugin,$=class{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,r){let t=!1;this.listeners[e]||(this.listeners[e]=[],t=!0),this.listeners[e].push(r);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),t&&this.sendRetainedArgumentsForEvent(e);const n=async()=>this.removeListener(e,r);return Promise.resolve({remove:n})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,t){const s=this.listeners[e];if(!s){if(t){let n=this.retainedEventArguments[e];n||(n=[]),n.push(r),this.retainedEventArguments[e]=n}return}s.forEach(n=>n(r))}hasListeners(e){var r;return!!(!((r=this.listeners[e])===null||r===void 0)&&r.length)}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:t=>{this.notifyListeners(r,t)}}}unimplemented(e="not implemented"){return new k.Exception(e,E.Unimplemented)}unavailable(e="not available"){return new k.Exception(e,E.Unavailable)}async removeListener(e,r){const t=this.listeners[e];if(!t)return;const s=t.indexOf(r);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(t=>{this.notifyListeners(e,t)}))}},U=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),S=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent),F=class extends ${async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(t=>{if(t.length<=0)return;let[s,n]=t.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=S(s).trim(),n=S(n).trim(),r[s]=n}),r}async setCookie(e){try{const r=U(e.key),t=U(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,n=(e.path||"/").replace("path=",""),c=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${t||""}${s}; path=${n}; ${c};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}},Q=j("CapacitorCookies",{web:()=>new F}),q=async e=>new Promise((r,t)=>{const s=new FileReader;s.onload=()=>{const n=s.result;r(n.indexOf(",")>=0?n.split(",")[1]:n)},s.onerror=n=>t(n),s.readAsDataURL(e)}),B=(e={})=>{const r=Object.keys(e);return Object.keys(e).map(t=>t.toLocaleLowerCase()).reduce((t,s,n)=>(t[s]=e[r[n]],t),{})},I=(e,r=!0)=>e?Object.entries(e).reduce((t,s)=>{const[n,c]=s;let o,d;return Array.isArray(c)?(d="",c.forEach(y=>{o=r?encodeURIComponent(y):y,d+=`${n}=${o}&`}),d.slice(0,-1)):(o=r?encodeURIComponent(c):c,d=`${n}=${o}`),`${t}&${d}`},"").substr(1):null,M=(e,r={})=>{const t=Object.assign({method:e.method||"GET",headers:e.headers},r),s=B(e.headers)["content-type"]||"";if(typeof e.data=="string")t.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const n=new URLSearchParams;for(const[c,o]of Object.entries(e.data||{}))n.set(c,o);t.body=n.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const n=new FormData;if(e.data instanceof FormData)e.data.forEach((o,d)=>{n.append(d,o)});else for(const o of Object.keys(e.data))n.append(o,e.data[o]);t.body=n;const c=new Headers(t.headers);c.delete("content-type"),t.headers=c}else(s.includes("application/json")||typeof e.data=="object")&&(t.body=JSON.stringify(e.data));return t},G=class extends ${async request(e){const r=M(e,e.webFetchExtra),t=I(e.params,e.shouldEncodeUrlParams),s=t?`${e.url}?${t}`:e.url,n=await fetch(s,r),c=n.headers.get("content-type")||"";let{responseType:o="text"}=n.ok?e:{};c.includes("application/json")&&(o="json");let d,y;switch(o){case"arraybuffer":case"blob":y=await n.blob(),d=await q(y);break;case"json":d=await n.json();break;case"document":case"text":default:d=await n.text()}const m={};return n.headers.forEach((O,i)=>{m[i]=O}),{data:d,headers:m,status:n.status,url:n.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}},X=j("CapacitorHttp",{web:()=>new G})}});export{Z as n,j as r,$ as t};
