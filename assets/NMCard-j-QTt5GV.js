import{$ as z,At as x,C as M,Dt as v,Et as s,S as o,T as u,Y as n,c as _,g as B,j as T,k as m,kt as S,lt as A,w as p,x as f}from"./i18n-DXLa9EKW.js";import{C as N,E as j,Fi as I,Gn as L,Jn as q,Ki as H,Kn as $,S as D,Sr as E,T as F,Zn as P,n as h,oi as R,ua as r}from"./index-CLM6Y7vI.js";import{t as V}from"./CardIndicator-CN-BcQKi.js";_();var K={class:"w-full h-full overflow-clip rounded-md inset-0 absolute"},O={key:0,class:"absolute inset-0 h-full w-full"},G={class:"absolute bottom-0 left-0 h-full max-h-24 w-full max-w-[66%]"},J={key:1,class:"absolute inset-0 h-full w-full"},U={class:"absolute bottom-4 left-4 w-full"},Y=["innerHTML"],Z={key:1,class:"absolute bottom-0 left-0 w-full bg-surface-1/75 z-0 text-left"},Q={class:"overflow-hidden h-[37px] leading-[1.2] text-surface-12 font-medium text-xs px-2 py-1 whitespace-normal break-words"},W={class:"z-10 w-available line-clamp-2 leading-[1.2] text-surface-12 dark:text-slate-1 empty:hidden dark:font-medium font-semibold whitespace-pre-line text-xs"},X=T({__name:"NMCard",props:{data:{type:Object,required:!0},watch:{type:Boolean,required:!1,default:!1},disableAutoAspect:{type:Boolean,required:!1,default:!1},contextMenuItems:{type:Array,required:!1,default:()=>[]}},setup(t){const l=t,y=f(()=>`scroll_${l.data.titleSort?.[0]?.toUpperCase?.()}`),i=f(()=>r.value&&!l.disableAutoAspect),c=f(()=>l.data[r.value?"backdrop":"poster"]),b=f(()=>l.data?.color_palette?.[i.value?"backdrop":"poster"]?E(l.data?.color_palette?.[i.value?"backdrop":"poster"]):"");function g(e){l.contextMenuItems&&(F(N(l.contextMenuItems)),j(l.data),D.value.show(e))}function k(e){l.data?.link&&I(l.data.link)}function w(e){l.data?.link.includes("watch")||setTimeout(()=>{e?.backdrop&&L(e?.backdrop),e?.poster&&q(e.poster),e.title&&P(e.title),e.color_palette&&$(e.color_palette.poster)},30)}return(e,a)=>{const C=z("RouterLink");return t.data?.link?(n(),M(C,{key:0,class:v([{"border-2":!!t.data.deathday,"aspect-backdrop":s(r),"aspect-poster":!s(r)},"group/card frosting flex flex-col h-full items-center focus-outline relative rounded-md select-none shadow-[0px_0px_0_1px_rgb(from_var(--color-theme-8,var(--color-theme-6))_r_g_b/70%)] w-full z-0 bg-surface-50/70 flex-grow-0"]),"data-card":t.data?.link,"data-scroll":y.value,onclick:()=>w(t.data),style:S(b.value?`
       --color-theme-8: ${t.data.deathday?"#fff":b.value};
       contain: layout style paint;
    `:`contain: layout style paint; --focus-theme-8: ${t.data.deathday?"#fff":""}`),to:t.data.link,"no-ring":"",onContextmenu:a[0]||(a[0]=d=>g(d)),onFocusin:a[1]||(a[1]=d=>k(d)),onMouseenter:a[2]||(a[2]=d=>k(d))},{default:A(()=>[o("div",K,[a[5]||(a[5]=o("div",{class:"backdropCard-overlay",inert:""},null,-1)),m(h,{aspect:s(r)?"backdrop":"poster","color-palette":t.data.color_palette?.[s(r)?"backdrop":"poster"],path:c.value,size:s(r)?330:180,title:t.data.title,"class-name":"h-full overflow-clip rounded-md",loading:"lazy"},null,8,["aspect","color-palette","path","size","title"]),i.value?(n(),u(B,{key:0},[t.data.logo?(n(),u("div",O,[a[3]||(a[3]=o("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-surface-12 via-surface-12 dark:from-surface-1 dark:via-surface-1/60"},null,-1)),o("div",G,[m(h,{"color-palette":t.data.color_palette?.logo,path:t.data.logo,size:500,title:t.data.title,class:"w-auto object-contain h-available object-[0_0%] max-h-inherit !duration-700 children:!duration-700","class-name":"mr-auto p-4 !duration-700 children:!duration-700",loading:"lazy",type:"logo"},null,8,["color-palette","path","title"])])])):(n(),u("div",J,[a[4]||(a[4]=o("div",{class:"pointer-events-none absolute inset-0 z-0 mt-auto h-4/5 bg-gradient-to-t from-surface-12 via-surface-12 dark:from-surface-1 dark:via-surface-1/60"},null,-1)),o("div",U,[o("div",{class:"z-10 w-available text-xl font-bold line-clamp-2 leading-[1.2] text-surface-12 dark:text-slate-1 empty:hidden dark:font-medium text-xl font-semibold whitespace-pre-line flex-col flex",innerHTML:s(R)(t.data.title,"text-sm")},null,8,Y)])]))],64)):p("",!0),!i.value&&s(H)?(n(),u("div",Z,[o("div",Q,x(t.data.title),1)])):i.value?p("",!0):(n(),u("div",{key:2,class:v([{"-bottom-20":c.value,"bottom-0":!c.value},"flex flex-col justify-start items-start w-full h-12 z-0 absolute left-0 transition-all duration-200 px-2 py-1 group-hover/card:-bottom-0 text-left"])},[o("div",{class:v([{"opacity-0 group-hover/card:opacity-100":c.value},"absolute -inset-1 z-0 transition-all duration-200 bg-surface-1/80 blur-sm"])},null,2),o("div",W,x(t.data.title),1)],2)),m(V,{data:t.data},null,8,["data"])])]),_:1},8,["class","data-card","data-scroll","onclick","style","to"])):p("",!0)}}}),lt=X;export{lt as t};
