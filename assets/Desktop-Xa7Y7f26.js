import{Y as M,d as F,w as K,f as O,aB as j,c as N,o as Q,l as R,i as V,Z as Y,am as Z,Q as n}from"./vue-ionic-Cb5qD3-A.js";import{g as r}from"./imageModal-CbYSCXCr.js";import{A as q,S as z}from"./videoPlayer-CeNhywZT.js";import"./vendor-CKnYbqeP.js";import{D as E}from"./desktopUIPlugin-BCpDdp4a.js";import{n as G,O as J}from"./video-player-DyK564YX.js";import{j as L,h as W,u as X,r as D}from"./index-Cwse5Pwc.js";import{K as $}from"./keyHandlerPlugin-CDYmwTnX.js";import{u as ee}from"./useServerClient-D1LWN5i4.js";import"./media-C2AqgyMX.js";import"./icons-BW5E66pf.js";import"./api-BBofn2cc.js";import"./swiper-D00Cnjmx.js";import"./buttons-DnucOQvv.js";import"./rxjs-BCp2L9Rn.js";import"./baseUIPlugin-KoDEmXPT.js";import"./subtitles-octopus-By2PrHjB.js";import"./music-player-gfKAgRMD.js";import"./useInfiniteServerClient-Yhn7QFqN.js";const we=M({__name:"Desktop",setup(ae){const{data:t}=ee({enabled:!1}),e=F();function u(o){var i,p,c,m,d,g,f,v,P,y,k,b,w,S,C,_,U,h,x;const s={muted:!1,controls:!1,preload:"auto",debug:!1,autoPlay:!0,playlist:(o==null?void 0:o.filter(a=>!!a.id))??[],controlsTimeout:3e3,doubleClickDelay:300,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2],accessToken:(i=X.value)==null?void 0:i.accessToken,basePath:(p=W.value)==null?void 0:p.serverBaseUrl,forceTvMode:(n("android")||n("ios"))&&!n("mobile"),disableTouchControls:!1,disableMediaControls:"mediaSession"in navigator||n("capacitor"),renderAhead:100,disableAutoPlayback:!1};e.value=G("player1").setup(s),(c=e.value)==null||c.once("back",()=>{D.back()});const I=new E;(m=e.value)==null||m.registerPlugin("desktopUI",I),(d=e.value)==null||d.usePlugin("desktopUI");const T=new q;(g=e.value)==null||g.registerPlugin("autoSkip",T),(f=e.value)==null||f.usePlugin("autoSkip");const A=new $;(v=e.value)==null||v.registerPlugin("keyHandler",A),(P=e.value)==null||P.usePlugin("keyHandler");{const a=new z;(y=e.value)==null||y.registerPlugin("sync",a),(k=e.value)==null||k.usePlugin("sync")}const H=new J;(b=e.value)==null||b.registerPlugin("octopus",H),(w=e.value)==null||w.usePlugin("octopus"),(S=e.value)==null||S.once("play",()=>{var a;(a=e.value)==null||a.enterFullscreen()}),(C=e.value)==null||C.on("playlistComplete",()=>{var a;(a=e.value)==null||a.dispose(),D.back()}),(_=e.value)==null||_.once("back",()=>{}),(U=e.value)==null||U.on("play",()=>{r(!0)}),(h=e.value)==null||h.on("pause",()=>{r(!1)}),(x=e.value)==null||x.on("fullscreen",a=>{var l,B;(B=(l=window.external)==null?void 0:l.sendMessage)==null||B.call(l,a?"enterFullscreen":"exitFullscreen")})}return K(t,o=>{u(o)}),O(()=>{L.stop(),u(t.value)}),j(()=>{var o;(o=e.value)==null||o.dispose(),r(!1)}),(o,s)=>(Q(),N(Y(Z),null,{default:R(()=>s[0]||(s[0]=[V("div",{id:"player1",class:"group nomercyplayer"},null,-1)])),_:1}))}});export{we as default};
