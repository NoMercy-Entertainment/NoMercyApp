import{C as f,G as m,J as l,S as r,T as n,Tt as v,X as d,c as _,g as h,j as w,k as S,kt as k}from"./i18n-Cs-AFcrY.js";import"./ionic-XwZpO7IE.js";import"./vue-core-CKeWI2Kt.js";import{c as y}from"./query-28IwY2wK.js";import{$i as o,F as x,Gn as b,H as g,I as C,Li as B,Ln as i,Mt as L,Wn as M,Zi as u,Zn as j,bn as I,k as e,xn as P,yn as T}from"./index-wg1zTUGt.js";import{t as E}from"./ripperSocket-CkkTYOXI.js";import{t as F}from"./screensaver-DfbvX3zA.js";import{t as G}from"./EmptyBackdrop-DygrGnB3.js";import{t as H}from"./ServerCard-CzYczGCr.js";_();var N={class:"flex h-full w-full flex-auto flex-col items-center justify-center gap-8"},Q={class:"flex w-full flex-grow flex-col justify-between p-2 min-h-auto"},V={class:"mt-16 mb-4 w-full whitespace-pre-line"},Z={class:"relative text-center text-lg font-semibold"},$={class:"tv:children:w-[30%] tv:mt-0 -mt-24 tv:-ml-8 flex children:h-fit w-full flex-auto flex-wrap content-center justify-center gap-2 children:w-[47%] sm:children:w-[22%] sm:gap-4"},q=w({__name:"Mobile",setup(D){const c=y();async function p(a){o(a);try{const{data:t}=await u(5).get("setup/server-info");if(!t.data?.setup_complete){i.value="/setup/post-install",await e.replace({name:"Post Install"});return}}catch{await e.replace({name:"Server offline"});return}await u().get("libraries").then(({data:t})=>{B(t.data),j.value=!0,I.value=!0,setTimeout(async()=>{i.value==="/setup/select-servers"?await e.replace({name:"Home"}):await e.replace(i.value)},50)}).catch(async()=>{await e.replace({name:"Server offline"})})}return m(()=>{o(null),b(null),M(null),x(),C(),T(),F(),c.removeQueries(),g.value?.stop(),L.value?.stop(),E.value?.stop()}),(a,t)=>(l(),n("div",N,[S(G),r("div",Q,[r("div",V,[r("h5",Z,k(a.$t("Choose a server")),1)]),r("div",$,[(l(!0),n(h,null,d(v(P),s=>(l(),f(H,{key:s.id,server:s,onclick:()=>p(s)},null,8,["server","onclick"]))),128))])])]))}}),Y=q;export{Y as default};
