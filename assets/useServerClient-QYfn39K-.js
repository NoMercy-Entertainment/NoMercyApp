import{c as n,xt as c}from"./i18n-DXLa9EKW.js";import{x as o,y as f}from"./vue-core-DBpBuPMK.js";import{a as v}from"./query-DJ5OsBey.js";import{$i as d,Qi as y}from"./index-CLM6Y7vI.js";import{t as m}from"./useInfiniteServerClient-DbihGahL.js";n();f();function p(e){return Object.keys(e?.data??{}).reduce((t,i)=>(t[i]=c(e?.data[i].value)??e?.data[i],t),{})}function w(e){const t=o(),i=e?.type??"get";if(!d.value?.serverApiUrl)throw new Error("No server URL");const a=e?.path??t.fullPath;if(a.includes("undefined"))throw new Error("Invalid path");const u=y();return{...v({...e,queryKey:m(e),enabled:!!d.value?.id&&(e?.enabled??!0),retry:0,refetchOnMount:!0,refetchOnWindowFocus:!1,staleTime:e?.keepForever?1/0:1e3*60*5,queryFn:async({signal:l})=>{const s=p(e);let r;switch(i){case"get":r=await u.get(a,{params:{letter:t.query?.letter,...s},signal:l});break;case"post":r=await u.post(a,{letter:t.query?.letter??void 0,...s},{signal:l});break;case"put":r=await u.put(a,{letter:t.query?.letter??void 0,...s},{signal:l});break;case"patch":r=await u.patch(a,{letter:t.query?.letter??void 0,...s},{signal:l});break;case"delete":r=await u.delete(a,{letter:t.query?.letter??void 0,...s},{signal:l});break;default:r=await u.get(a,{params:{letter:t.query?.letter,...s},signal:l})}return r.data?.data??r.data}})}}var x=w;export{x as t};
