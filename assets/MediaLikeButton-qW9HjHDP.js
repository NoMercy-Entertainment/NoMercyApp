import{I as p,w as v,l as _,d as n,o as u,s as k,j as g,b as h,n as d,O as N}from"./index-DkQngsHe.js";import{_ as b}from"./MusicButton.vue_vue_type_script_setup_true_lang-BSFDDcuJ.js";import{_ as f}from"./OptimizedIcon.vue_vue_type_script_setup_true_lang-BBYVQkaB.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C=p({__name:"MediaLikeButton",props:{data:{type:Object,required:!0},color:{type:String,required:!1,default:"var(--color-green-500)"},className:{type:String,required:!1}},setup(t){var s;const r=t;v(r,e=>{var o;a.value=(o=e.data)==null?void 0:o.favorite});const a=_((s=r.data)==null?void 0:s.favorite);function m(e){var o;e==null||e.stopPropagation(),N().post(`${(o=r.data)==null?void 0:o.link}/like`,{value:!a.value}).then(({data:l})=>{var c,i;a.value=((c=l.args)==null?void 0:c[0])==="liked"||((i=l.args)==null?void 0:i[1])==="liked"})}return(e,o)=>(u(),n(b,{onclick:m,label:"Favorite"},{default:k(()=>[g(f,{icon:"heart",class:d([{heart:a.value,"opacity-0 ":!a.value,className:t.className},"ease-in-out transition-all duration-150"]),style:{"--fill-color":"rgb(var(--color-focus, var(--color-red-8)))",color:"rgb(var(--color-focus, var(--color-red-8)))"}},null,8,["class"]),a.value?h("",!0):(u(),n(f,{key:0,icon:"heart",class:d(["absolute inset-2 transition-all duration-150",{className:t.className}])},null,8,["class"]))]),_:1}))}}),L=y(C,[["__scopeId","data-v-5d4caf37"]]);export{L as M};
