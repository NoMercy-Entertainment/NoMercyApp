import{Fs as k,Gi as x,Ja as _,Ks as v,Ws as j,Yo as C,Ys as i,cn as f,cs as S,gs as B,js as r,ls as h,ms as s,os as c,qa as $,sc as a,ss as t,us as d}from"./index-zK1-WOQT.js";import{t as z}from"./OptimizedIcon-BHUzMN75.js";import{t as I}from"./TMDBImage-BTvZBjXB.js";import{t as W}from"./useServerClient-BWjN3Na1.js";import{t as L}from"./MediaLikeButton-BMj5yK2v.js";import{t as M}from"./CardShadow-yHHSr3Zv.js";import{t as T}from"./ShareButton-CnMD2Dif.js";C();$();var q={class:"flex flex-col justify-start items-start w-[280px] absolute left-0 top-0 bg-cover bg-no-repeat bg-center"},N={class:"flex justify-start items-start w-[280px] absolute left-0 top-[348px] gap-4 p-4 z-40"},D={class:"flex-grow w-[100px] text-[15px] font-semibold text-center text-[#151718]"},R={class:"flex-grow w-[100px] text-[15px] font-semibold text-center"},V={key:1,class:"frosting flex justify-start items-center flex-grow h-10 relative overflow-hidden gap-2 px-2 py-4 rounded-3xl text-surface-12 bg-black/80",disabled:"",title:"Trailer unavailable"},F={class:"flex-grow w-[100px] text-[15px] font-semibold text-center text-red-8"},O={key:2,class:"frosting flex justify-start items-center flex-grow h-10 relative overflow-hidden gap-2 px-2 py-4 rounded-3xl text-surface-12 bg-black/80",disabled:"",title:"Loading trailer..."},P={class:"flex-grow w-[100px] text-[15px] font-semibold text-center text-gray-8"},Y={class:"flex justify-end items-start w-[280px] absolute left-0 top-0 gap-2 p-4 text-surface-12"},E={class:"flex justify-start items-center flex-grow-0 flex-shrink-0 relative overflow-hidden gap-2 p-2 rounded-3xl bg-black/[0.48] border border-black/2 w-10 h-10"},G={class:"flex justify-start items-center flex-grow-0 flex-shrink-0 relative overflow-hidden gap-2 rounded-3xl bg-black/[0.48] border border-black/2"},J={class:"flex justify-start items-center flex-grow-0 flex-shrink-0 relative overflow-hidden gap-2 rounded-3xl bg-black/[0.48] border border-black/2"},K=B({__name:"MobileInfoCard",props:{data:{type:Object,required:!1},trailerState:{required:!1},toggleTrailer:{type:Function,required:!1}},setup(e){const l=e,u=_(),{data:n}=W({path:`${u?.fullPath}/available`}),b=c(()=>n.value?.available?"Watch":l.data?"Unavailable":"Loading"),g=c(()=>l.data?.title??l.data?.name),m=c(()=>({title:l.data?.title??"",text:l.data?.overview??"",url:`https://app.nomercy.tv${u.fullPath}`}));return(o,p)=>{const w=k("RouterLink");return e.data?.poster||a(f)?(r(),d("div",{key:0,class:v([{"top-safe-offset-8":a(x),"top-12":!a(x)},"frosting flex-grow-0 flex-shrink-0 w-[280px] h-[420px] z-10 absolute left-1/2 -translate-x-1/2 overflow-clip rounded-2xl"])},[t("div",q,[(r(),S(I,{key:a(f)??"poster","auto-shadow":!0,"color-palette":e.data?.color_palette?.poster,path:e.data?.poster??a(f),size:760,title:g.value,aspect:"poster",class:"m-auto children:w-full scale-100 max-h-available 5xl:w-inherit","class-name":"pointer-events-none absolute -inset-1 z-20 flex h-auto scale-100 select-none items-center place-self-start overflow-hidden w-available h-available max-h-available",loading:"eager",priority:"high",type:"image"},null,8,["color-palette","path","title"]))]),s(M,{colored:!0}),t("div",N,[s(w,{class:v([{"opacity-70":!a(n)?.available},"frosting flex justify-start items-center flex-grow h-10 relative overflow-hidden gap-2 px-2 py-4 rounded-3xl bg-white/80"]),disabled:!a(n)?.available,to:`${e.data?.link}/watch`},{default:j(()=>[t("p",D,i(o.$t(b.value)),1)]),_:1},8,["class","disabled","to"]),e.trailerState===!0?(r(),d("button",{key:0,class:"frosting flex justify-start items-center flex-grow h-10 relative overflow-hidden gap-2 px-2 py-4 rounded-3xl text-surface-12 bg-black/80",title:"Watch trailer",onClick:p[0]||(p[0]=(...y)=>e.toggleTrailer&&e.toggleTrailer(...y))},[t("p",R,i(o.$t("Watch trailer")),1)])):e.trailerState===!1?(r(),d("button",V,[t("p",F,i(o.$t("Watch trailer")),1)])):e.trailerState==="loading"?(r(),d("button",O,[t("p",P,i(o.$t("Watch trailer")),1)])):h("",!0)]),t("div",Y,[t("div",E,[s(z,{"class-name":"w-6",icon:"check"})]),t("div",G,[s(L,{data:e.data,class:"!p-0"},null,8,["data"])]),t("div",J,[s(T,{"share-data":m.value,class:"!p-0"},null,8,["share-data"])])])],2)):h("",!0)}}}),te=K;export{te as t};
